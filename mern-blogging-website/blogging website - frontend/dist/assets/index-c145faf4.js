var zS=Object.defineProperty;var VS=(t,e,n)=>e in t?zS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ju=(t,e,n)=>(VS(t,typeof e!="symbol"?e+"":e,n),n);function HS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(t,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Yr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vy={exports:{}},Mc={},yy={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=Symbol.for("react.element"),WS=Symbol.for("react.portal"),GS=Symbol.for("react.fragment"),qS=Symbol.for("react.strict_mode"),KS=Symbol.for("react.profiler"),YS=Symbol.for("react.provider"),XS=Symbol.for("react.context"),JS=Symbol.for("react.forward_ref"),QS=Symbol.for("react.suspense"),ZS=Symbol.for("react.memo"),eE=Symbol.for("react.lazy"),Mm=Symbol.iterator;function tE(t){return t===null||typeof t!="object"?null:(t=Mm&&t[Mm]||t["@@iterator"],typeof t=="function"?t:null)}var by={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xy=Object.assign,wy={};function Ms(t,e,n){this.props=t,this.context=e,this.refs=wy,this.updater=n||by}Ms.prototype.isReactComponent={};Ms.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ms.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ky(){}ky.prototype=Ms.prototype;function jh(t,e,n){this.props=t,this.context=e,this.refs=wy,this.updater=n||by}var Lh=jh.prototype=new ky;Lh.constructor=jh;xy(Lh,Ms.prototype);Lh.isPureReactComponent=!0;var Rm=Array.isArray,Sy=Object.prototype.hasOwnProperty,Ah={current:null},Ey={key:!0,ref:!0,__self:!0,__source:!0};function Ty(t,e,n){var r,o={},s=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)Sy.call(e,r)&&!Ey.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:aa,type:t,key:s,ref:i,props:o,_owner:Ah.current}}function nE(t,e){return{$$typeof:aa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Oh(t){return typeof t=="object"&&t!==null&&t.$$typeof===aa}function rE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dm=/\/+/g;function Lu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rE(""+t.key):e.toString(36)}function ol(t,e,n,r,o){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case aa:case WS:i=!0}}if(i)return i=t,o=o(i),t=r===""?"."+Lu(i,0):r,Rm(o)?(n="",t!=null&&(n=t.replace(Dm,"$&/")+"/"),ol(o,e,n,"",function(c){return c})):o!=null&&(Oh(o)&&(o=nE(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Dm,"$&/")+"/")+t)),e.push(o)),1;if(i=0,r=r===""?".":r+":",Rm(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Lu(s,a);i+=ol(s,e,n,l,o)}else if(l=tE(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Lu(s,a++),i+=ol(s,e,n,l,o);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function ja(t,e,n){if(t==null)return t;var r=[],o=0;return ol(t,r,"","",function(s){return e.call(n,s,o++)}),r}function oE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kt={current:null},sl={transition:null},sE={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:sl,ReactCurrentOwner:Ah};ce.Children={map:ja,forEach:function(t,e,n){ja(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ja(t,function(){e++}),e},toArray:function(t){return ja(t,function(e){return e})||[]},only:function(t){if(!Oh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=Ms;ce.Fragment=GS;ce.Profiler=KS;ce.PureComponent=jh;ce.StrictMode=qS;ce.Suspense=QS;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sE;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xy({},t.props),o=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=Ah.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Sy.call(e,l)&&!Ey.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:aa,type:t.type,key:o,ref:s,props:r,_owner:i}};ce.createContext=function(t){return t={$$typeof:XS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:YS,_context:t},t.Consumer=t};ce.createElement=Ty;ce.createFactory=function(t){var e=Ty.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:JS,render:t}};ce.isValidElement=Oh;ce.lazy=function(t){return{$$typeof:eE,_payload:{_status:-1,_result:t},_init:oE}};ce.memo=function(t,e){return{$$typeof:ZS,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=sl.transition;sl.transition={};try{t()}finally{sl.transition=e}};ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ce.useCallback=function(t,e){return kt.current.useCallback(t,e)};ce.useContext=function(t){return kt.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return kt.current.useDeferredValue(t)};ce.useEffect=function(t,e){return kt.current.useEffect(t,e)};ce.useId=function(){return kt.current.useId()};ce.useImperativeHandle=function(t,e,n){return kt.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return kt.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return kt.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return kt.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return kt.current.useReducer(t,e,n)};ce.useRef=function(t){return kt.current.useRef(t)};ce.useState=function(t){return kt.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return kt.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return kt.current.useTransition()};ce.version="18.2.0";yy.exports=ce;var C=yy.exports;const Q=Yr(C),iE=HS({__proto__:null,default:Q},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE=C,lE=Symbol.for("react.element"),cE=Symbol.for("react.fragment"),uE=Object.prototype.hasOwnProperty,dE=aE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fE={key:!0,ref:!0,__self:!0,__source:!0};function Cy(t,e,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)uE.call(e,r)&&!fE.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:lE,type:t,key:s,ref:i,props:o,_owner:dE.current}}Mc.Fragment=cE;Mc.jsx=Cy;Mc.jsxs=Cy;vy.exports=Mc;var f=vy.exports,Fd={},_y={exports:{}},Vt={},Ny={exports:{}},Py={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,M){var R=O.length;O.push(M);e:for(;0<R;){var z=R-1>>>1,V=O[z];if(0<o(V,M))O[z]=M,O[R]=V,R=z;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var M=O[0],R=O.pop();if(R!==M){O[0]=R;e:for(var z=0,V=O.length,te=V>>>1;z<te;){var Y=2*(z+1)-1,pe=O[Y],me=Y+1,Pe=O[me];if(0>o(pe,R))me<V&&0>o(Pe,pe)?(O[z]=Pe,O[me]=R,z=me):(O[z]=pe,O[Y]=R,z=Y);else if(me<V&&0>o(Pe,R))O[z]=Pe,O[me]=R,z=me;else break e}}return M}function o(O,M){var R=O.sortIndex-M.sortIndex;return R!==0?R:O.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],c=[],u=1,d=null,h=3,v=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(O){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=O)r(c),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(c)}}function w(O){if(y=!1,p(O),!g)if(n(l)!==null)g=!0,A(E);else{var M=n(c);M!==null&&D(w,M.startTime-O)}}function E(O,M){g=!1,y&&(y=!1,b(k),k=-1),v=!0;var R=h;try{for(p(M),d=n(l);d!==null&&(!(d.expirationTime>M)||O&&!T());){var z=d.callback;if(typeof z=="function"){d.callback=null,h=d.priorityLevel;var V=z(d.expirationTime<=M);M=t.unstable_now(),typeof V=="function"?d.callback=V:d===n(l)&&r(l),p(M)}else r(l);d=n(l)}if(d!==null)var te=!0;else{var Y=n(c);Y!==null&&D(w,Y.startTime-M),te=!1}return te}finally{d=null,h=R,v=!1}}var N=!1,P=null,k=-1,S=5,_=-1;function T(){return!(t.unstable_now()-_<S)}function I(){if(P!==null){var O=t.unstable_now();_=O;var M=!0;try{M=P(!0,O)}finally{M?j():(N=!1,P=null)}}else N=!1}var j;if(typeof m=="function")j=function(){m(I)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,L=B.port2;B.port1.onmessage=I,j=function(){L.postMessage(null)}}else j=function(){x(I,0)};function A(O){P=O,N||(N=!0,j())}function D(O,M){k=x(function(){O(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||v||(g=!0,A(E))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var R=h;h=M;try{return O()}finally{h=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,M){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var R=h;h=O;try{return M()}finally{h=R}},t.unstable_scheduleCallback=function(O,M,R){var z=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?z+R:z):R=z,O){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=R+V,O={id:u++,callback:M,priorityLevel:O,startTime:R,expirationTime:V,sortIndex:-1},R>z?(O.sortIndex=R,e(c,O),n(l)===null&&O===n(c)&&(y?(b(k),k=-1):y=!0,D(w,R-z))):(O.sortIndex=V,e(l,O),g||v||(g=!0,A(E))),O},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(O){var M=h;return function(){var R=h;h=M;try{return O.apply(this,arguments)}finally{h=R}}}})(Py);Ny.exports=Py;var hE=Ny.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy=C,$t=hE;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jy=new Set,Ai={};function Ro(t,e){Ss(t,e),Ss(t+"Capture",e)}function Ss(t,e){for(Ai[t]=e,t=0;t<e.length;t++)jy.add(e[t])}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ud=Object.prototype.hasOwnProperty,pE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fm={},Um={};function mE(t){return Ud.call(Um,t)?!0:Ud.call(Fm,t)?!1:pE.test(t)?Um[t]=!0:(Fm[t]=!0,!1)}function gE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vE(t,e,n,r){if(e===null||typeof e>"u"||gE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function St(t,e,n,r,o,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lt[t]=new St(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lt[e]=new St(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lt[t]=new St(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lt[t]=new St(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lt[t]=new St(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lt[t]=new St(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lt[t]=new St(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lt[t]=new St(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lt[t]=new St(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bh=/[\-:]([a-z])/g;function Mh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bh,Mh);lt[e]=new St(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bh,Mh);lt[e]=new St(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bh,Mh);lt[e]=new St(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lt[t]=new St(t,1,!1,t.toLowerCase(),null,!1,!1)});lt.xlinkHref=new St("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lt[t]=new St(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rh(t,e,n,r){var o=lt.hasOwnProperty(e)?lt[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vE(e,n,o,r)&&(n=null),r||o===null?mE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var cr=Iy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,La=Symbol.for("react.element"),Yo=Symbol.for("react.portal"),Xo=Symbol.for("react.fragment"),Dh=Symbol.for("react.strict_mode"),$d=Symbol.for("react.profiler"),Ly=Symbol.for("react.provider"),Ay=Symbol.for("react.context"),Fh=Symbol.for("react.forward_ref"),zd=Symbol.for("react.suspense"),Vd=Symbol.for("react.suspense_list"),Uh=Symbol.for("react.memo"),gr=Symbol.for("react.lazy"),Oy=Symbol.for("react.offscreen"),$m=Symbol.iterator;function Ks(t){return t===null||typeof t!="object"?null:(t=$m&&t[$m]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,Au;function ai(t){if(Au===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Au=e&&e[1]||""}return`
`+Au+t}var Ou=!1;function Bu(t,e){if(!t||Ou)return"";Ou=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{Ou=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ai(t):""}function yE(t){switch(t.tag){case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 2:case 15:return t=Bu(t.type,!1),t;case 11:return t=Bu(t.type.render,!1),t;case 1:return t=Bu(t.type,!0),t;default:return""}}function Hd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xo:return"Fragment";case Yo:return"Portal";case $d:return"Profiler";case Dh:return"StrictMode";case zd:return"Suspense";case Vd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ay:return(t.displayName||"Context")+".Consumer";case Ly:return(t._context.displayName||"Context")+".Provider";case Fh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Uh:return e=t.displayName||null,e!==null?e:Hd(t.type)||"Memo";case gr:e=t._payload,t=t._init;try{return Hd(t(e))}catch{}}return null}function bE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hd(e);case 8:return e===Dh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function By(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xE(t){var e=By(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Aa(t){t._valueTracker||(t._valueTracker=xE(t))}function My(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=By(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wd(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ry(t,e){e=e.checked,e!=null&&Rh(t,"checked",e,!1)}function Gd(t,e){Ry(t,e);var n=Hr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qd(t,e.type,n):e.hasOwnProperty("defaultValue")&&qd(t,e.type,Hr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qd(t,e,n){(e!=="number"||jl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var li=Array.isArray;function fs(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hr(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Kd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(li(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hr(n)}}function Dy(t,e){var n=Hr(e.value),r=Hr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Wm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Fy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Fy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Oa,Uy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Oa=Oa||document.createElement("div"),Oa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Oa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Oi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wE=["Webkit","ms","Moz","O"];Object.keys(pi).forEach(function(t){wE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pi[e]=pi[t]})});function $y(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pi.hasOwnProperty(t)&&pi[t]?(""+e).trim():e+"px"}function zy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=$y(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var kE=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xd(t,e){if(e){if(kE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Jd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qd=null;function $h(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zd=null,hs=null,ps=null;function Gm(t){if(t=ua(t)){if(typeof Zd!="function")throw Error(W(280));var e=t.stateNode;e&&(e=$c(e),Zd(t.stateNode,t.type,e))}}function Vy(t){hs?ps?ps.push(t):ps=[t]:hs=t}function Hy(){if(hs){var t=hs,e=ps;if(ps=hs=null,Gm(t),e)for(t=0;t<e.length;t++)Gm(e[t])}}function Wy(t,e){return t(e)}function Gy(){}var Mu=!1;function qy(t,e,n){if(Mu)return t(e,n);Mu=!0;try{return Wy(t,e,n)}finally{Mu=!1,(hs!==null||ps!==null)&&(Gy(),Hy())}}function Bi(t,e){var n=t.stateNode;if(n===null)return null;var r=$c(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var ef=!1;if(er)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){ef=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{ef=!1}function SE(t,e,n,r,o,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var mi=!1,Ll=null,Al=!1,tf=null,EE={onError:function(t){mi=!0,Ll=t}};function TE(t,e,n,r,o,s,i,a,l){mi=!1,Ll=null,SE.apply(EE,arguments)}function CE(t,e,n,r,o,s,i,a,l){if(TE.apply(this,arguments),mi){if(mi){var c=Ll;mi=!1,Ll=null}else throw Error(W(198));Al||(Al=!0,tf=c)}}function Do(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ky(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qm(t){if(Do(t)!==t)throw Error(W(188))}function _E(t){var e=t.alternate;if(!e){if(e=Do(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return qm(o),t;if(s===r)return qm(o),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function Yy(t){return t=_E(t),t!==null?Xy(t):null}function Xy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Xy(t);if(e!==null)return e;t=t.sibling}return null}var Jy=$t.unstable_scheduleCallback,Km=$t.unstable_cancelCallback,NE=$t.unstable_shouldYield,PE=$t.unstable_requestPaint,Ve=$t.unstable_now,IE=$t.unstable_getCurrentPriorityLevel,zh=$t.unstable_ImmediatePriority,Qy=$t.unstable_UserBlockingPriority,Ol=$t.unstable_NormalPriority,jE=$t.unstable_LowPriority,Zy=$t.unstable_IdlePriority,Rc=null,En=null;function LE(t){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Rc,t,void 0,(t.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:BE,AE=Math.log,OE=Math.LN2;function BE(t){return t>>>=0,t===0?32:31-(AE(t)/OE|0)|0}var Ba=64,Ma=4194304;function ci(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,s=t.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=ci(a):(s&=i,s!==0&&(r=ci(s)))}else i=n&~o,i!==0?r=ci(i):s!==0&&(r=ci(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,s=e&-e,o>=s||o===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ln(e),o=1<<n,r|=t[n],e&=~o;return r}function ME(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RE(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var i=31-ln(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=ME(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function nf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eb(){var t=Ba;return Ba<<=1,!(Ba&4194240)&&(Ba=64),t}function Ru(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function la(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ln(e),t[e]=n}function DE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-ln(n),s=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~s}}function Vh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ln(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var ge=0;function tb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nb,Hh,rb,ob,sb,rf=!1,Ra=[],jr=null,Lr=null,Ar=null,Mi=new Map,Ri=new Map,br=[],FE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ym(t,e){switch(t){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":Mi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ri.delete(e.pointerId)}}function Xs(t,e,n,r,o,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},e!==null&&(e=ua(e),e!==null&&Hh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function UE(t,e,n,r,o){switch(e){case"focusin":return jr=Xs(jr,t,e,n,r,o),!0;case"dragenter":return Lr=Xs(Lr,t,e,n,r,o),!0;case"mouseover":return Ar=Xs(Ar,t,e,n,r,o),!0;case"pointerover":var s=o.pointerId;return Mi.set(s,Xs(Mi.get(s)||null,t,e,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Ri.set(s,Xs(Ri.get(s)||null,t,e,n,r,o)),!0}return!1}function ib(t){var e=fo(t.target);if(e!==null){var n=Do(e);if(n!==null){if(e=n.tag,e===13){if(e=Ky(n),e!==null){t.blockedOn=e,sb(t.priority,function(){rb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function il(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=of(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qd=r,n.target.dispatchEvent(r),Qd=null}else return e=ua(n),e!==null&&Hh(e),t.blockedOn=n,!1;e.shift()}return!0}function Xm(t,e,n){il(t)&&n.delete(e)}function $E(){rf=!1,jr!==null&&il(jr)&&(jr=null),Lr!==null&&il(Lr)&&(Lr=null),Ar!==null&&il(Ar)&&(Ar=null),Mi.forEach(Xm),Ri.forEach(Xm)}function Js(t,e){t.blockedOn===e&&(t.blockedOn=null,rf||(rf=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,$E)))}function Di(t){function e(o){return Js(o,t)}if(0<Ra.length){Js(Ra[0],t);for(var n=1;n<Ra.length;n++){var r=Ra[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jr!==null&&Js(jr,t),Lr!==null&&Js(Lr,t),Ar!==null&&Js(Ar,t),Mi.forEach(e),Ri.forEach(e),n=0;n<br.length;n++)r=br[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<br.length&&(n=br[0],n.blockedOn===null);)ib(n),n.blockedOn===null&&br.shift()}var ms=cr.ReactCurrentBatchConfig,Ml=!0;function zE(t,e,n,r){var o=ge,s=ms.transition;ms.transition=null;try{ge=1,Wh(t,e,n,r)}finally{ge=o,ms.transition=s}}function VE(t,e,n,r){var o=ge,s=ms.transition;ms.transition=null;try{ge=4,Wh(t,e,n,r)}finally{ge=o,ms.transition=s}}function Wh(t,e,n,r){if(Ml){var o=of(t,e,n,r);if(o===null)qu(t,e,r,Rl,n),Ym(t,r);else if(UE(o,t,e,n,r))r.stopPropagation();else if(Ym(t,r),e&4&&-1<FE.indexOf(t)){for(;o!==null;){var s=ua(o);if(s!==null&&nb(s),s=of(t,e,n,r),s===null&&qu(t,e,r,Rl,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else qu(t,e,r,null,n)}}var Rl=null;function of(t,e,n,r){if(Rl=null,t=$h(r),t=fo(t),t!==null)if(e=Do(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ky(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rl=t,null}function ab(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IE()){case zh:return 1;case Qy:return 4;case Ol:case jE:return 16;case Zy:return 536870912;default:return 16}default:return 16}}var Cr=null,Gh=null,al=null;function lb(){if(al)return al;var t,e=Gh,n=e.length,r,o="value"in Cr?Cr.value:Cr.textContent,s=o.length;for(t=0;t<n&&e[t]===o[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===o[s-r];r++);return al=o.slice(t,1<r?1-r:void 0)}function ll(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Da(){return!0}function Jm(){return!1}function Ht(t){function e(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Da:Jm,this.isPropagationStopped=Jm,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),e}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qh=Ht(Rs),ca=De({},Rs,{view:0,detail:0}),HE=Ht(ca),Du,Fu,Qs,Dc=De({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qs&&(Qs&&t.type==="mousemove"?(Du=t.screenX-Qs.screenX,Fu=t.screenY-Qs.screenY):Fu=Du=0,Qs=t),Du)},movementY:function(t){return"movementY"in t?t.movementY:Fu}}),Qm=Ht(Dc),WE=De({},Dc,{dataTransfer:0}),GE=Ht(WE),qE=De({},ca,{relatedTarget:0}),Uu=Ht(qE),KE=De({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),YE=Ht(KE),XE=De({},Rs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JE=Ht(XE),QE=De({},Rs,{data:0}),Zm=Ht(QE),ZE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tT[t])?!!e[t]:!1}function Kh(){return nT}var rT=De({},ca,{key:function(t){if(t.key){var e=ZE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ll(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kh,charCode:function(t){return t.type==="keypress"?ll(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ll(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oT=Ht(rT),sT=De({},Dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eg=Ht(sT),iT=De({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kh}),aT=Ht(iT),lT=De({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),cT=Ht(lT),uT=De({},Dc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dT=Ht(uT),fT=[9,13,27,32],Yh=er&&"CompositionEvent"in window,gi=null;er&&"documentMode"in document&&(gi=document.documentMode);var hT=er&&"TextEvent"in window&&!gi,cb=er&&(!Yh||gi&&8<gi&&11>=gi),tg=String.fromCharCode(32),ng=!1;function ub(t,e){switch(t){case"keyup":return fT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function db(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jo=!1;function pT(t,e){switch(t){case"compositionend":return db(e);case"keypress":return e.which!==32?null:(ng=!0,tg);case"textInput":return t=e.data,t===tg&&ng?null:t;default:return null}}function mT(t,e){if(Jo)return t==="compositionend"||!Yh&&ub(t,e)?(t=lb(),al=Gh=Cr=null,Jo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cb&&e.locale!=="ko"?null:e.data;default:return null}}var gT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gT[t.type]:e==="textarea"}function fb(t,e,n,r){Vy(r),e=Dl(e,"onChange"),0<e.length&&(n=new qh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vi=null,Fi=null;function vT(t){Sb(t,0)}function Fc(t){var e=es(t);if(My(e))return t}function yT(t,e){if(t==="change")return e}var hb=!1;if(er){var $u;if(er){var zu="oninput"in document;if(!zu){var og=document.createElement("div");og.setAttribute("oninput","return;"),zu=typeof og.oninput=="function"}$u=zu}else $u=!1;hb=$u&&(!document.documentMode||9<document.documentMode)}function sg(){vi&&(vi.detachEvent("onpropertychange",pb),Fi=vi=null)}function pb(t){if(t.propertyName==="value"&&Fc(Fi)){var e=[];fb(e,Fi,t,$h(t)),qy(vT,e)}}function bT(t,e,n){t==="focusin"?(sg(),vi=e,Fi=n,vi.attachEvent("onpropertychange",pb)):t==="focusout"&&sg()}function xT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fc(Fi)}function wT(t,e){if(t==="click")return Fc(e)}function kT(t,e){if(t==="input"||t==="change")return Fc(e)}function ST(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fn=typeof Object.is=="function"?Object.is:ST;function Ui(t,e){if(fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Ud.call(e,o)||!fn(t[o],e[o]))return!1}return!0}function ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ag(t,e){var n=ig(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ig(n)}}function mb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gb(){for(var t=window,e=jl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jl(t.document)}return e}function Xh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ET(t){var e=gb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mb(n.ownerDocument.documentElement,n)){if(r!==null&&Xh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!t.extend&&s>r&&(o=r,r=s,s=o),o=ag(n,s);var i=ag(n,r);o&&i&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var TT=er&&"documentMode"in document&&11>=document.documentMode,Qo=null,sf=null,yi=null,af=!1;function lg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;af||Qo==null||Qo!==jl(r)||(r=Qo,"selectionStart"in r&&Xh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yi&&Ui(yi,r)||(yi=r,r=Dl(sf,"onSelect"),0<r.length&&(e=new qh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qo)))}function Fa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zo={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionend:Fa("Transition","TransitionEnd")},Vu={},vb={};er&&(vb=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Uc(t){if(Vu[t])return Vu[t];if(!Zo[t])return t;var e=Zo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vb)return Vu[t]=e[n];return t}var yb=Uc("animationend"),bb=Uc("animationiteration"),xb=Uc("animationstart"),wb=Uc("transitionend"),kb=new Map,cg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(t,e){kb.set(t,e),Ro(e,[t])}for(var Hu=0;Hu<cg.length;Hu++){var Wu=cg[Hu],CT=Wu.toLowerCase(),_T=Wu[0].toUpperCase()+Wu.slice(1);Xr(CT,"on"+_T)}Xr(yb,"onAnimationEnd");Xr(bb,"onAnimationIteration");Xr(xb,"onAnimationStart");Xr("dblclick","onDoubleClick");Xr("focusin","onFocus");Xr("focusout","onBlur");Xr(wb,"onTransitionEnd");Ss("onMouseEnter",["mouseout","mouseover"]);Ss("onMouseLeave",["mouseout","mouseover"]);Ss("onPointerEnter",["pointerout","pointerover"]);Ss("onPointerLeave",["pointerout","pointerover"]);Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ui));function ug(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,CE(r,e,void 0,t),t.currentTarget=null}function Sb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;ug(o,a,c),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;ug(o,a,c),s=l}}}if(Al)throw t=tf,Al=!1,tf=null,t}function Te(t,e){var n=e[ff];n===void 0&&(n=e[ff]=new Set);var r=t+"__bubble";n.has(r)||(Eb(e,t,2,!1),n.add(r))}function Gu(t,e,n){var r=0;e&&(r|=4),Eb(n,t,r,e)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function $i(t){if(!t[Ua]){t[Ua]=!0,jy.forEach(function(n){n!=="selectionchange"&&(NT.has(n)||Gu(n,!1,t),Gu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ua]||(e[Ua]=!0,Gu("selectionchange",!1,e))}}function Eb(t,e,n,r){switch(ab(e)){case 1:var o=zE;break;case 4:o=VE;break;default:o=Wh}n=o.bind(null,e,n,t),o=void 0,!ef||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function qu(t,e,n,r,o){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=fo(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}qy(function(){var c=s,u=$h(n),d=[];e:{var h=kb.get(t);if(h!==void 0){var v=qh,g=t;switch(t){case"keypress":if(ll(n)===0)break e;case"keydown":case"keyup":v=oT;break;case"focusin":g="focus",v=Uu;break;case"focusout":g="blur",v=Uu;break;case"beforeblur":case"afterblur":v=Uu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Qm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=GE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=aT;break;case yb:case bb:case xb:v=YE;break;case wb:v=cT;break;case"scroll":v=HE;break;case"wheel":v=dT;break;case"copy":case"cut":case"paste":v=JE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=eg}var y=(e&4)!==0,x=!y&&t==="scroll",b=y?h!==null?h+"Capture":null:h;y=[];for(var m=c,p;m!==null;){p=m;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,b!==null&&(w=Bi(m,b),w!=null&&y.push(zi(m,w,p)))),x)break;m=m.return}0<y.length&&(h=new v(h,g,null,n,u),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",h&&n!==Qd&&(g=n.relatedTarget||n.fromElement)&&(fo(g)||g[tr]))break e;if((v||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,v?(g=n.relatedTarget||n.toElement,v=c,g=g?fo(g):null,g!==null&&(x=Do(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=c),v!==g)){if(y=Qm,w="onMouseLeave",b="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=eg,w="onPointerLeave",b="onPointerEnter",m="pointer"),x=v==null?h:es(v),p=g==null?h:es(g),h=new y(w,m+"leave",v,n,u),h.target=x,h.relatedTarget=p,w=null,fo(u)===c&&(y=new y(b,m+"enter",g,n,u),y.target=p,y.relatedTarget=x,w=y),x=w,v&&g)t:{for(y=v,b=g,m=0,p=y;p;p=Ho(p))m++;for(p=0,w=b;w;w=Ho(w))p++;for(;0<m-p;)y=Ho(y),m--;for(;0<p-m;)b=Ho(b),p--;for(;m--;){if(y===b||b!==null&&y===b.alternate)break t;y=Ho(y),b=Ho(b)}y=null}else y=null;v!==null&&dg(d,h,v,y,!1),g!==null&&x!==null&&dg(d,x,g,y,!0)}}e:{if(h=c?es(c):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var E=yT;else if(rg(h))if(hb)E=kT;else{E=xT;var N=bT}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=wT);if(E&&(E=E(t,c))){fb(d,E,n,u);break e}N&&N(t,h,c),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&qd(h,"number",h.value)}switch(N=c?es(c):window,t){case"focusin":(rg(N)||N.contentEditable==="true")&&(Qo=N,sf=c,yi=null);break;case"focusout":yi=sf=Qo=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,lg(d,n,u);break;case"selectionchange":if(TT)break;case"keydown":case"keyup":lg(d,n,u)}var P;if(Yh)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Jo?ub(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(cb&&n.locale!=="ko"&&(Jo||k!=="onCompositionStart"?k==="onCompositionEnd"&&Jo&&(P=lb()):(Cr=u,Gh="value"in Cr?Cr.value:Cr.textContent,Jo=!0)),N=Dl(c,k),0<N.length&&(k=new Zm(k,t,null,n,u),d.push({event:k,listeners:N}),P?k.data=P:(P=db(n),P!==null&&(k.data=P)))),(P=hT?pT(t,n):mT(t,n))&&(c=Dl(c,"onBeforeInput"),0<c.length&&(u=new Zm("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=P))}Sb(d,e)})}function zi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dl(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Bi(t,n),s!=null&&r.unshift(zi(t,s,o)),s=Bi(t,e),s!=null&&r.push(zi(t,s,o))),t=t.return}return r}function Ho(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dg(t,e,n,r,o){for(var s=e._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=Bi(n,s),l!=null&&i.unshift(zi(n,l,a))):o||(l=Bi(n,s),l!=null&&i.push(zi(n,l,a)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var PT=/\r\n?/g,IT=/\u0000|\uFFFD/g;function fg(t){return(typeof t=="string"?t:""+t).replace(PT,`
`).replace(IT,"")}function $a(t,e,n){if(e=fg(e),fg(t)!==e&&n)throw Error(W(425))}function Fl(){}var lf=null,cf=null;function uf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var df=typeof setTimeout=="function"?setTimeout:void 0,jT=typeof clearTimeout=="function"?clearTimeout:void 0,hg=typeof Promise=="function"?Promise:void 0,LT=typeof queueMicrotask=="function"?queueMicrotask:typeof hg<"u"?function(t){return hg.resolve(null).then(t).catch(AT)}:df;function AT(t){setTimeout(function(){throw t})}function Ku(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Di(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Di(e)}function Or(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ds=Math.random().toString(36).slice(2),wn="__reactFiber$"+Ds,Vi="__reactProps$"+Ds,tr="__reactContainer$"+Ds,ff="__reactEvents$"+Ds,OT="__reactListeners$"+Ds,BT="__reactHandles$"+Ds;function fo(t){var e=t[wn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[tr]||n[wn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pg(t);t!==null;){if(n=t[wn])return n;t=pg(t)}return e}t=n,n=t.parentNode}return null}function ua(t){return t=t[wn]||t[tr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function es(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function $c(t){return t[Vi]||null}var hf=[],ts=-1;function Jr(t){return{current:t}}function Ne(t){0>ts||(t.current=hf[ts],hf[ts]=null,ts--)}function ke(t,e){ts++,hf[ts]=t.current,t.current=e}var Wr={},pt=Jr(Wr),It=Jr(!1),Eo=Wr;function Es(t,e){var n=t.type.contextTypes;if(!n)return Wr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function jt(t){return t=t.childContextTypes,t!=null}function Ul(){Ne(It),Ne(pt)}function mg(t,e,n){if(pt.current!==Wr)throw Error(W(168));ke(pt,e),ke(It,n)}function Tb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(W(108,bE(t)||"Unknown",o));return De({},n,r)}function $l(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wr,Eo=pt.current,ke(pt,t),ke(It,It.current),!0}function gg(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=Tb(t,e,Eo),r.__reactInternalMemoizedMergedChildContext=t,Ne(It),Ne(pt),ke(pt,t)):Ne(It),ke(It,n)}var Dn=null,zc=!1,Yu=!1;function Cb(t){Dn===null?Dn=[t]:Dn.push(t)}function MT(t){zc=!0,Cb(t)}function Qr(){if(!Yu&&Dn!==null){Yu=!0;var t=0,e=ge;try{var n=Dn;for(ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dn=null,zc=!1}catch(o){throw Dn!==null&&(Dn=Dn.slice(t+1)),Jy(zh,Qr),o}finally{ge=e,Yu=!1}}return null}var ns=[],rs=0,zl=null,Vl=0,Kt=[],Yt=0,To=null,$n=1,zn="";function so(t,e){ns[rs++]=Vl,ns[rs++]=zl,zl=t,Vl=e}function _b(t,e,n){Kt[Yt++]=$n,Kt[Yt++]=zn,Kt[Yt++]=To,To=t;var r=$n;t=zn;var o=32-ln(r)-1;r&=~(1<<o),n+=1;var s=32-ln(e)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,$n=1<<32-ln(e)+o|n<<o|r,zn=s+t}else $n=1<<s|n<<o|r,zn=t}function Jh(t){t.return!==null&&(so(t,1),_b(t,1,0))}function Qh(t){for(;t===zl;)zl=ns[--rs],ns[rs]=null,Vl=ns[--rs],ns[rs]=null;for(;t===To;)To=Kt[--Yt],Kt[Yt]=null,zn=Kt[--Yt],Kt[Yt]=null,$n=Kt[--Yt],Kt[Yt]=null}var Ft=null,Dt=null,je=!1,rn=null;function Nb(t,e){var n=Xt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ft=t,Dt=Or(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ft=t,Dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=To!==null?{id:$n,overflow:zn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ft=t,Dt=null,!0):!1;default:return!1}}function pf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mf(t){if(je){var e=Dt;if(e){var n=e;if(!vg(t,e)){if(pf(t))throw Error(W(418));e=Or(n.nextSibling);var r=Ft;e&&vg(t,e)?Nb(r,n):(t.flags=t.flags&-4097|2,je=!1,Ft=t)}}else{if(pf(t))throw Error(W(418));t.flags=t.flags&-4097|2,je=!1,Ft=t}}}function yg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ft=t}function za(t){if(t!==Ft)return!1;if(!je)return yg(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uf(t.type,t.memoizedProps)),e&&(e=Dt)){if(pf(t))throw Pb(),Error(W(418));for(;e;)Nb(t,e),e=Or(e.nextSibling)}if(yg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dt=Or(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dt=null}}else Dt=Ft?Or(t.stateNode.nextSibling):null;return!0}function Pb(){for(var t=Dt;t;)t=Or(t.nextSibling)}function Ts(){Dt=Ft=null,je=!1}function Zh(t){rn===null?rn=[t]:rn.push(t)}var RT=cr.ReactCurrentBatchConfig;function tn(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Hl=Jr(null),Wl=null,os=null,ep=null;function tp(){ep=os=Wl=null}function np(t){var e=Hl.current;Ne(Hl),t._currentValue=e}function gf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gs(t,e){Wl=t,ep=os=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_t=!0),t.firstContext=null)}function Qt(t){var e=t._currentValue;if(ep!==t)if(t={context:t,memoizedValue:e,next:null},os===null){if(Wl===null)throw Error(W(308));os=t,Wl.dependencies={lanes:0,firstContext:t}}else os=os.next=t;return e}var ho=null;function rp(t){ho===null?ho=[t]:ho.push(t)}function Ib(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,rp(e)):(n.next=o.next,o.next=n),e.interleaved=n,nr(t,r)}function nr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vr=!1;function op(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Br(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,nr(t,n)}return o=r.interleaved,o===null?(e.next=e,rp(r)):(e.next=o.next,o.next=e),r.interleaved=e,nr(t,n)}function cl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vh(t,n)}}function bg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=e:s=s.next=e}else o=s=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gl(t,e,n,r){var o=t.updateQueue;vr=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=o.baseState;i=0,u=c=l=null,a=s;do{var h=a.lane,v=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,y=a;switch(h=e,v=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(v,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(v,d,h):g,h==null)break e;d=De({},d,h);break e;case 2:vr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=v,l=d):u=u.next=v,i|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(1);if(u===null&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,e=o.shared.interleaved,e!==null){o=e;do i|=o.lane,o=o.next;while(o!==e)}else s===null&&(o.shared.lanes=0);_o|=i,t.lanes=i,t.memoizedState=d}}function xg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(W(191,o));o.call(r)}}}var Lb=new Iy.Component().refs;function vf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vc={isMounted:function(t){return(t=t._reactInternals)?Do(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xt(),o=Rr(t),s=Jn(r,o);s.payload=e,n!=null&&(s.callback=n),e=Br(t,s,o),e!==null&&(cn(e,t,o,r),cl(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xt(),o=Rr(t),s=Jn(r,o);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Br(t,s,o),e!==null&&(cn(e,t,o,r),cl(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xt(),r=Rr(t),o=Jn(n,r);o.tag=2,e!=null&&(o.callback=e),e=Br(t,o,r),e!==null&&(cn(e,t,r,n),cl(e,t,r))}};function wg(t,e,n,r,o,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,i):e.prototype&&e.prototype.isPureReactComponent?!Ui(n,r)||!Ui(o,s):!0}function Ab(t,e,n){var r=!1,o=Wr,s=e.contextType;return typeof s=="object"&&s!==null?s=Qt(s):(o=jt(e)?Eo:pt.current,r=e.contextTypes,s=(r=r!=null)?Es(t,o):Wr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=s),e}function kg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vc.enqueueReplaceState(e,e.state,null)}function yf(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=Lb,op(t);var s=e.contextType;typeof s=="object"&&s!==null?o.context=Qt(s):(s=jt(e)?Eo:pt.current,o.context=Es(t,s)),o.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(vf(t,e,s,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Vc.enqueueReplaceState(o,o.state,null),Gl(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function Zs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var o=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var a=o.refs;a===Lb&&(a=o.refs={}),i===null?delete a[s]:a[s]=i},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Va(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Sg(t){var e=t._init;return e(t._payload)}function Ob(t){function e(b,m){if(t){var p=b.deletions;p===null?(b.deletions=[m],b.flags|=16):p.push(m)}}function n(b,m){if(!t)return null;for(;m!==null;)e(b,m),m=m.sibling;return null}function r(b,m){for(b=new Map;m!==null;)m.key!==null?b.set(m.key,m):b.set(m.index,m),m=m.sibling;return b}function o(b,m){return b=Dr(b,m),b.index=0,b.sibling=null,b}function s(b,m,p){return b.index=p,t?(p=b.alternate,p!==null?(p=p.index,p<m?(b.flags|=2,m):p):(b.flags|=2,m)):(b.flags|=1048576,m)}function i(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,m,p,w){return m===null||m.tag!==6?(m=nd(p,b.mode,w),m.return=b,m):(m=o(m,p),m.return=b,m)}function l(b,m,p,w){var E=p.type;return E===Xo?u(b,m,p.props.children,w,p.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===gr&&Sg(E)===m.type)?(w=o(m,p.props),w.ref=Zs(b,m,p),w.return=b,w):(w=ml(p.type,p.key,p.props,null,b.mode,w),w.ref=Zs(b,m,p),w.return=b,w)}function c(b,m,p,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=rd(p,b.mode,w),m.return=b,m):(m=o(m,p.children||[]),m.return=b,m)}function u(b,m,p,w,E){return m===null||m.tag!==7?(m=xo(p,b.mode,w,E),m.return=b,m):(m=o(m,p),m.return=b,m)}function d(b,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=nd(""+m,b.mode,p),m.return=b,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case La:return p=ml(m.type,m.key,m.props,null,b.mode,p),p.ref=Zs(b,null,m),p.return=b,p;case Yo:return m=rd(m,b.mode,p),m.return=b,m;case gr:var w=m._init;return d(b,w(m._payload),p)}if(li(m)||Ks(m))return m=xo(m,b.mode,p,null),m.return=b,m;Va(b,m)}return null}function h(b,m,p,w){var E=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return E!==null?null:a(b,m,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case La:return p.key===E?l(b,m,p,w):null;case Yo:return p.key===E?c(b,m,p,w):null;case gr:return E=p._init,h(b,m,E(p._payload),w)}if(li(p)||Ks(p))return E!==null?null:u(b,m,p,w,null);Va(b,p)}return null}function v(b,m,p,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return b=b.get(p)||null,a(m,b,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case La:return b=b.get(w.key===null?p:w.key)||null,l(m,b,w,E);case Yo:return b=b.get(w.key===null?p:w.key)||null,c(m,b,w,E);case gr:var N=w._init;return v(b,m,p,N(w._payload),E)}if(li(w)||Ks(w))return b=b.get(p)||null,u(m,b,w,E,null);Va(m,w)}return null}function g(b,m,p,w){for(var E=null,N=null,P=m,k=m=0,S=null;P!==null&&k<p.length;k++){P.index>k?(S=P,P=null):S=P.sibling;var _=h(b,P,p[k],w);if(_===null){P===null&&(P=S);break}t&&P&&_.alternate===null&&e(b,P),m=s(_,m,k),N===null?E=_:N.sibling=_,N=_,P=S}if(k===p.length)return n(b,P),je&&so(b,k),E;if(P===null){for(;k<p.length;k++)P=d(b,p[k],w),P!==null&&(m=s(P,m,k),N===null?E=P:N.sibling=P,N=P);return je&&so(b,k),E}for(P=r(b,P);k<p.length;k++)S=v(P,b,k,p[k],w),S!==null&&(t&&S.alternate!==null&&P.delete(S.key===null?k:S.key),m=s(S,m,k),N===null?E=S:N.sibling=S,N=S);return t&&P.forEach(function(T){return e(b,T)}),je&&so(b,k),E}function y(b,m,p,w){var E=Ks(p);if(typeof E!="function")throw Error(W(150));if(p=E.call(p),p==null)throw Error(W(151));for(var N=E=null,P=m,k=m=0,S=null,_=p.next();P!==null&&!_.done;k++,_=p.next()){P.index>k?(S=P,P=null):S=P.sibling;var T=h(b,P,_.value,w);if(T===null){P===null&&(P=S);break}t&&P&&T.alternate===null&&e(b,P),m=s(T,m,k),N===null?E=T:N.sibling=T,N=T,P=S}if(_.done)return n(b,P),je&&so(b,k),E;if(P===null){for(;!_.done;k++,_=p.next())_=d(b,_.value,w),_!==null&&(m=s(_,m,k),N===null?E=_:N.sibling=_,N=_);return je&&so(b,k),E}for(P=r(b,P);!_.done;k++,_=p.next())_=v(P,b,k,_.value,w),_!==null&&(t&&_.alternate!==null&&P.delete(_.key===null?k:_.key),m=s(_,m,k),N===null?E=_:N.sibling=_,N=_);return t&&P.forEach(function(I){return e(b,I)}),je&&so(b,k),E}function x(b,m,p,w){if(typeof p=="object"&&p!==null&&p.type===Xo&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case La:e:{for(var E=p.key,N=m;N!==null;){if(N.key===E){if(E=p.type,E===Xo){if(N.tag===7){n(b,N.sibling),m=o(N,p.props.children),m.return=b,b=m;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===gr&&Sg(E)===N.type){n(b,N.sibling),m=o(N,p.props),m.ref=Zs(b,N,p),m.return=b,b=m;break e}n(b,N);break}else e(b,N);N=N.sibling}p.type===Xo?(m=xo(p.props.children,b.mode,w,p.key),m.return=b,b=m):(w=ml(p.type,p.key,p.props,null,b.mode,w),w.ref=Zs(b,m,p),w.return=b,b=w)}return i(b);case Yo:e:{for(N=p.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){n(b,m.sibling),m=o(m,p.children||[]),m.return=b,b=m;break e}else{n(b,m);break}else e(b,m);m=m.sibling}m=rd(p,b.mode,w),m.return=b,b=m}return i(b);case gr:return N=p._init,x(b,m,N(p._payload),w)}if(li(p))return g(b,m,p,w);if(Ks(p))return y(b,m,p,w);Va(b,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(n(b,m.sibling),m=o(m,p),m.return=b,b=m):(n(b,m),m=nd(p,b.mode,w),m.return=b,b=m),i(b)):n(b,m)}return x}var Cs=Ob(!0),Bb=Ob(!1),da={},Tn=Jr(da),Hi=Jr(da),Wi=Jr(da);function po(t){if(t===da)throw Error(W(174));return t}function sp(t,e){switch(ke(Wi,e),ke(Hi,t),ke(Tn,da),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yd(e,t)}Ne(Tn),ke(Tn,e)}function _s(){Ne(Tn),Ne(Hi),Ne(Wi)}function Mb(t){po(Wi.current);var e=po(Tn.current),n=Yd(e,t.type);e!==n&&(ke(Hi,t),ke(Tn,n))}function ip(t){Hi.current===t&&(Ne(Tn),Ne(Hi))}var Ae=Jr(0);function ql(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xu=[];function ap(){for(var t=0;t<Xu.length;t++)Xu[t]._workInProgressVersionPrimary=null;Xu.length=0}var ul=cr.ReactCurrentDispatcher,Ju=cr.ReactCurrentBatchConfig,Co=0,Re=null,Je=null,tt=null,Kl=!1,bi=!1,Gi=0,DT=0;function ct(){throw Error(W(321))}function lp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fn(t[n],e[n]))return!1;return!0}function cp(t,e,n,r,o,s){if(Co=s,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ul.current=t===null||t.memoizedState===null?zT:VT,t=n(r,o),bi){s=0;do{if(bi=!1,Gi=0,25<=s)throw Error(W(301));s+=1,tt=Je=null,e.updateQueue=null,ul.current=HT,t=n(r,o)}while(bi)}if(ul.current=Yl,e=Je!==null&&Je.next!==null,Co=0,tt=Je=Re=null,Kl=!1,e)throw Error(W(300));return t}function up(){var t=Gi!==0;return Gi=0,t}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Re.memoizedState=tt=t:tt=tt.next=t,tt}function Zt(){if(Je===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=tt===null?Re.memoizedState:tt.next;if(e!==null)tt=e,Je=t;else{if(t===null)throw Error(W(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},tt===null?Re.memoizedState=tt=t:tt=tt.next=t}return tt}function qi(t,e){return typeof e=="function"?e(t):e}function Qu(t){var e=Zt(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=Je,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,c=s;do{var u=c.lane;if((Co&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,i=r):l=l.next=d,Re.lanes|=u,_o|=u}c=c.next}while(c!==null&&c!==s);l===null?i=r:l.next=a,fn(r,e.memoizedState)||(_t=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do s=o.lane,Re.lanes|=s,_o|=s,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zu(t){var e=Zt(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,s=e.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=t(s,i.action),i=i.next;while(i!==o);fn(s,e.memoizedState)||(_t=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Rb(){}function Db(t,e){var n=Re,r=Zt(),o=e(),s=!fn(r.memoizedState,o);if(s&&(r.memoizedState=o,_t=!0),r=r.queue,dp($b.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,Ki(9,Ub.bind(null,n,r,o,e),void 0,null),nt===null)throw Error(W(349));Co&30||Fb(n,e,o)}return o}function Fb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ub(t,e,n,r){e.value=n,e.getSnapshot=r,zb(e)&&Vb(t)}function $b(t,e,n){return n(function(){zb(e)&&Vb(t)})}function zb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fn(t,n)}catch{return!0}}function Vb(t){var e=nr(t,1);e!==null&&cn(e,t,1,-1)}function Eg(t){var e=bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:t},e.queue=t,t=t.dispatch=$T.bind(null,Re,t),[e.memoizedState,t]}function Ki(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Hb(){return Zt().memoizedState}function dl(t,e,n,r){var o=bn();Re.flags|=t,o.memoizedState=Ki(1|e,n,void 0,r===void 0?null:r)}function Hc(t,e,n,r){var o=Zt();r=r===void 0?null:r;var s=void 0;if(Je!==null){var i=Je.memoizedState;if(s=i.destroy,r!==null&&lp(r,i.deps)){o.memoizedState=Ki(e,n,s,r);return}}Re.flags|=t,o.memoizedState=Ki(1|e,n,s,r)}function Tg(t,e){return dl(8390656,8,t,e)}function dp(t,e){return Hc(2048,8,t,e)}function Wb(t,e){return Hc(4,2,t,e)}function Gb(t,e){return Hc(4,4,t,e)}function qb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Kb(t,e,n){return n=n!=null?n.concat([t]):null,Hc(4,4,qb.bind(null,e,t),n)}function fp(){}function Yb(t,e){var n=Zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Xb(t,e){var n=Zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Jb(t,e,n){return Co&21?(fn(n,e)||(n=eb(),Re.lanes|=n,_o|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_t=!0),t.memoizedState=n)}function FT(t,e){var n=ge;ge=n!==0&&4>n?n:4,t(!0);var r=Ju.transition;Ju.transition={};try{t(!1),e()}finally{ge=n,Ju.transition=r}}function Qb(){return Zt().memoizedState}function UT(t,e,n){var r=Rr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zb(t))ex(e,n);else if(n=Ib(t,e,n,r),n!==null){var o=xt();cn(n,t,r,o),tx(n,e,r)}}function $T(t,e,n){var r=Rr(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zb(t))ex(e,o);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,fn(a,i)){var l=e.interleaved;l===null?(o.next=o,rp(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=Ib(t,e,o,r),n!==null&&(o=xt(),cn(n,t,r,o),tx(n,e,r))}}function Zb(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function ex(t,e){bi=Kl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vh(t,n)}}var Yl={readContext:Qt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},zT={readContext:Qt,useCallback:function(t,e){return bn().memoizedState=[t,e===void 0?null:e],t},useContext:Qt,useEffect:Tg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,dl(4194308,4,qb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dl(4194308,4,t,e)},useInsertionEffect:function(t,e){return dl(4,2,t,e)},useMemo:function(t,e){var n=bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=bn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=UT.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=bn();return t={current:t},e.memoizedState=t},useState:Eg,useDebugValue:fp,useDeferredValue:function(t){return bn().memoizedState=t},useTransition:function(){var t=Eg(!1),e=t[0];return t=FT.bind(null,t[1]),bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,o=bn();if(je){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),nt===null)throw Error(W(349));Co&30||Fb(r,e,n)}o.memoizedState=n;var s={value:n,getSnapshot:e};return o.queue=s,Tg($b.bind(null,r,s,t),[t]),r.flags|=2048,Ki(9,Ub.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=bn(),e=nt.identifierPrefix;if(je){var n=zn,r=$n;n=(r&~(1<<32-ln(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=DT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VT={readContext:Qt,useCallback:Yb,useContext:Qt,useEffect:dp,useImperativeHandle:Kb,useInsertionEffect:Wb,useLayoutEffect:Gb,useMemo:Xb,useReducer:Qu,useRef:Hb,useState:function(){return Qu(qi)},useDebugValue:fp,useDeferredValue:function(t){var e=Zt();return Jb(e,Je.memoizedState,t)},useTransition:function(){var t=Qu(qi)[0],e=Zt().memoizedState;return[t,e]},useMutableSource:Rb,useSyncExternalStore:Db,useId:Qb,unstable_isNewReconciler:!1},HT={readContext:Qt,useCallback:Yb,useContext:Qt,useEffect:dp,useImperativeHandle:Kb,useInsertionEffect:Wb,useLayoutEffect:Gb,useMemo:Xb,useReducer:Zu,useRef:Hb,useState:function(){return Zu(qi)},useDebugValue:fp,useDeferredValue:function(t){var e=Zt();return Je===null?e.memoizedState=t:Jb(e,Je.memoizedState,t)},useTransition:function(){var t=Zu(qi)[0],e=Zt().memoizedState;return[t,e]},useMutableSource:Rb,useSyncExternalStore:Db,useId:Qb,unstable_isNewReconciler:!1};function Ns(t,e){try{var n="",r=e;do n+=yE(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:o,digest:null}}function ed(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var WT=typeof WeakMap=="function"?WeakMap:Map;function nx(t,e,n){n=Jn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jl||(Jl=!0,Pf=r),bf(t,e)},n}function rx(t,e,n){n=Jn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){bf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){bf(t,e),typeof r!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function Cg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new WT;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=sC.bind(null,t,e,n),e.then(t,t))}function _g(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ng(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jn(-1,1),e.tag=2,Br(n,e,1))),n.lanes|=1),t)}var GT=cr.ReactCurrentOwner,_t=!1;function yt(t,e,n,r){e.child=t===null?Bb(e,null,n,r):Cs(e,t.child,n,r)}function Pg(t,e,n,r,o){n=n.render;var s=e.ref;return gs(e,o),r=cp(t,e,n,r,s,o),n=up(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,rr(t,e,o)):(je&&n&&Jh(e),e.flags|=1,yt(t,e,r,o),e.child)}function Ig(t,e,n,r,o){if(t===null){var s=n.type;return typeof s=="function"&&!xp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ox(t,e,s,r,o)):(t=ml(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ui,n(i,r)&&t.ref===e.ref)return rr(t,e,o)}return e.flags|=1,t=Dr(s,r),t.ref=e.ref,t.return=e,e.child=t}function ox(t,e,n,r,o){if(t!==null){var s=t.memoizedProps;if(Ui(s,r)&&t.ref===e.ref)if(_t=!1,e.pendingProps=r=s,(t.lanes&o)!==0)t.flags&131072&&(_t=!0);else return e.lanes=t.lanes,rr(t,e,o)}return xf(t,e,n,r,o)}function sx(t,e,n){var r=e.pendingProps,o=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(is,Mt),Mt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(is,Mt),Mt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ke(is,Mt),Mt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ke(is,Mt),Mt|=r;return yt(t,e,o,n),e.child}function ix(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xf(t,e,n,r,o){var s=jt(n)?Eo:pt.current;return s=Es(e,s),gs(e,o),n=cp(t,e,n,r,s,o),r=up(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,rr(t,e,o)):(je&&r&&Jh(e),e.flags|=1,yt(t,e,n,o),e.child)}function jg(t,e,n,r,o){if(jt(n)){var s=!0;$l(e)}else s=!1;if(gs(e,o),e.stateNode===null)fl(t,e),Ab(e,n,r),yf(e,n,r,o),r=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Qt(c):(c=jt(n)?Eo:pt.current,c=Es(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&kg(e,i,r,c),vr=!1;var h=e.memoizedState;i.state=h,Gl(e,r,i,o),l=e.memoizedState,a!==r||h!==l||It.current||vr?(typeof u=="function"&&(vf(e,n,u,r),l=e.memoizedState),(a=vr||wg(e,n,a,r,h,l,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,jb(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:tn(e.type,a),i.props=c,d=e.pendingProps,h=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qt(l):(l=jt(n)?Eo:pt.current,l=Es(e,l));var v=n.getDerivedStateFromProps;(u=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||h!==l)&&kg(e,i,r,l),vr=!1,h=e.memoizedState,i.state=h,Gl(e,r,i,o);var g=e.memoizedState;a!==d||h!==g||It.current||vr?(typeof v=="function"&&(vf(e,n,v,r),g=e.memoizedState),(c=vr||wg(e,n,c,r,h,g,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,g,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,g,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),i.props=r,i.state=g,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return wf(t,e,n,r,s,o)}function wf(t,e,n,r,o,s){ix(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return o&&gg(e,n,!1),rr(t,e,s);r=e.stateNode,GT.current=e;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=Cs(e,t.child,null,s),e.child=Cs(e,null,a,s)):yt(t,e,a,s),e.memoizedState=r.state,o&&gg(e,n,!0),e.child}function ax(t){var e=t.stateNode;e.pendingContext?mg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mg(t,e.context,!1),sp(t,e.containerInfo)}function Lg(t,e,n,r,o){return Ts(),Zh(o),e.flags|=256,yt(t,e,n,r),e.child}var kf={dehydrated:null,treeContext:null,retryLane:0};function Sf(t){return{baseLanes:t,cachePool:null,transitions:null}}function lx(t,e,n){var r=e.pendingProps,o=Ae.current,s=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),ke(Ae,o&1),t===null)return mf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,s?(r=e.mode,s=e.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=qc(i,r,0,null),t=xo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Sf(n),e.memoizedState=kf,t):hp(e,i));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return qT(t,e,i,r,a,o,n);if(s){s=r.fallback,i=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Dr(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=Dr(a,s):(s=xo(s,i,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,i=t.child.memoizedState,i=i===null?Sf(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=t.childLanes&~n,e.memoizedState=kf,r}return s=t.child,t=s.sibling,r=Dr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function hp(t,e){return e=qc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ha(t,e,n,r){return r!==null&&Zh(r),Cs(e,t.child,null,n),t=hp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qT(t,e,n,r,o,s,i){if(n)return e.flags&256?(e.flags&=-257,r=ed(Error(W(422))),Ha(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,o=e.mode,r=qc({mode:"visible",children:r.children},o,0,null),s=xo(s,o,i,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Cs(e,t.child,null,i),e.child.memoizedState=Sf(i),e.memoizedState=kf,s);if(!(e.mode&1))return Ha(t,e,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=ed(s,r,void 0),Ha(t,e,i,r)}if(a=(i&t.childLanes)!==0,_t||a){if(r=nt,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,nr(t,o),cn(r,t,o,-1))}return bp(),r=ed(Error(W(421))),Ha(t,e,i,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=iC.bind(null,t),o._reactRetry=e,null):(t=s.treeContext,Dt=Or(o.nextSibling),Ft=e,je=!0,rn=null,t!==null&&(Kt[Yt++]=$n,Kt[Yt++]=zn,Kt[Yt++]=To,$n=t.id,zn=t.overflow,To=e),e=hp(e,r.children),e.flags|=4096,e)}function Ag(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),gf(t.return,e,n)}function td(t,e,n,r,o){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function cx(t,e,n){var r=e.pendingProps,o=r.revealOrder,s=r.tail;if(yt(t,e,r.children,n),r=Ae.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ag(t,n,e);else if(t.tag===19)Ag(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Ae,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&ql(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),td(e,!1,o,n,s);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&ql(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}td(e,!0,n,null,s);break;case"together":td(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function rr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_o|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Dr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Dr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function KT(t,e,n){switch(e.tag){case 3:ax(e),Ts();break;case 5:Mb(e);break;case 1:jt(e.type)&&$l(e);break;case 4:sp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;ke(Hl,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(Ae,Ae.current&1),e.flags|=128,null):n&e.child.childLanes?lx(t,e,n):(ke(Ae,Ae.current&1),t=rr(t,e,n),t!==null?t.sibling:null);ke(Ae,Ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cx(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ke(Ae,Ae.current),r)break;return null;case 22:case 23:return e.lanes=0,sx(t,e,n)}return rr(t,e,n)}var ux,Ef,dx,fx;ux=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ef=function(){};dx=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,po(Tn.current);var s=null;switch(n){case"input":o=Wd(t,o),r=Wd(t,r),s=[];break;case"select":o=De({},o,{value:void 0}),r=De({},r,{value:void 0}),s=[];break;case"textarea":o=Kd(t,o),r=Kd(t,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fl)}Xd(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ai.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ai.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Te("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};fx=function(t,e,n,r){n!==r&&(e.flags|=4)};function ei(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function YT(t,e,n){var r=e.pendingProps;switch(Qh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(e),null;case 1:return jt(e.type)&&Ul(),ut(e),null;case 3:return r=e.stateNode,_s(),Ne(It),Ne(pt),ap(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(za(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rn!==null&&(Lf(rn),rn=null))),Ef(t,e),ut(e),null;case 5:ip(e);var o=po(Wi.current);if(n=e.type,t!==null&&e.stateNode!=null)dx(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return ut(e),null}if(t=po(Tn.current),za(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[wn]=e,r[Vi]=s,t=(e.mode&1)!==0,n){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(o=0;o<ui.length;o++)Te(ui[o],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":zm(r,s),Te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Te("invalid",r);break;case"textarea":Hm(r,s),Te("invalid",r)}Xd(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&$a(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&$a(r.textContent,a,t),o=["children",""+a]):Ai.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Te("scroll",r)}switch(n){case"input":Aa(r),Vm(r,s,!0);break;case"textarea":Aa(r),Wm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Fl)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Fy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[wn]=e,t[Vi]=r,ux(t,e,!1,!1),e.stateNode=t;e:{switch(i=Jd(n,r),n){case"dialog":Te("cancel",t),Te("close",t),o=r;break;case"iframe":case"object":case"embed":Te("load",t),o=r;break;case"video":case"audio":for(o=0;o<ui.length;o++)Te(ui[o],t);o=r;break;case"source":Te("error",t),o=r;break;case"img":case"image":case"link":Te("error",t),Te("load",t),o=r;break;case"details":Te("toggle",t),o=r;break;case"input":zm(t,r),o=Wd(t,r),Te("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=De({},r,{value:void 0}),Te("invalid",t);break;case"textarea":Hm(t,r),o=Kd(t,r),Te("invalid",t);break;default:o=r}Xd(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?zy(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Uy(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Oi(t,l):typeof l=="number"&&Oi(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ai.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Te("scroll",t):l!=null&&Rh(t,s,l,i))}switch(n){case"input":Aa(t),Vm(t,r,!1);break;case"textarea":Aa(t),Wm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?fs(t,!!r.multiple,s,!1):r.defaultValue!=null&&fs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Fl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ut(e),null;case 6:if(t&&e.stateNode!=null)fx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=po(Wi.current),po(Tn.current),za(e)){if(r=e.stateNode,n=e.memoizedProps,r[wn]=e,(s=r.nodeValue!==n)&&(t=Ft,t!==null))switch(t.tag){case 3:$a(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$a(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wn]=e,e.stateNode=r}return ut(e),null;case 13:if(Ne(Ae),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&Dt!==null&&e.mode&1&&!(e.flags&128))Pb(),Ts(),e.flags|=98560,s=!1;else if(s=za(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[wn]=e}else Ts(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ut(e),s=!1}else rn!==null&&(Lf(rn),rn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ae.current&1?Qe===0&&(Qe=3):bp())),e.updateQueue!==null&&(e.flags|=4),ut(e),null);case 4:return _s(),Ef(t,e),t===null&&$i(e.stateNode.containerInfo),ut(e),null;case 10:return np(e.type._context),ut(e),null;case 17:return jt(e.type)&&Ul(),ut(e),null;case 19:if(Ne(Ae),s=e.memoizedState,s===null)return ut(e),null;if(r=(e.flags&128)!==0,i=s.rendering,i===null)if(r)ei(s,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=ql(t),i!==null){for(e.flags|=128,ei(s,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,t=i.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Ae,Ae.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ve()>Ps&&(e.flags|=128,r=!0,ei(s,!1),e.lanes=4194304)}else{if(!r)if(t=ql(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ei(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!je)return ut(e),null}else 2*Ve()-s.renderingStartTime>Ps&&n!==1073741824&&(e.flags|=128,r=!0,ei(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(n=s.last,n!==null?n.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ve(),e.sibling=null,n=Ae.current,ke(Ae,r?n&1|2:n&1),e):(ut(e),null);case 22:case 23:return yp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mt&1073741824&&(ut(e),e.subtreeFlags&6&&(e.flags|=8192)):ut(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function XT(t,e){switch(Qh(e),e.tag){case 1:return jt(e.type)&&Ul(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _s(),Ne(It),Ne(pt),ap(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ip(e),null;case 13:if(Ne(Ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Ts()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(Ae),null;case 4:return _s(),null;case 10:return np(e.type._context),null;case 22:case 23:return yp(),null;case 24:return null;default:return null}}var Wa=!1,ft=!1,JT=typeof WeakSet=="function"?WeakSet:Set,q=null;function ss(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(t,e,r)}else n.current=null}function Tf(t,e,n){try{n()}catch(r){Ue(t,e,r)}}var Og=!1;function QT(t,e){if(lf=Ml,t=gb(),Xh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var v;d!==n||o!==0&&d.nodeType!==3||(a=i+o),d!==s||r!==0&&d.nodeType!==3||(l=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(v=d.firstChild)!==null;)h=d,d=v;for(;;){if(d===t)break t;if(h===n&&++c===o&&(a=i),h===s&&++u===r&&(l=i),(v=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cf={focusedElem:t,selectionRange:n},Ml=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,b=e.stateNode,m=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:tn(e.type,y),x);b.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(w){Ue(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return g=Og,Og=!1,g}function xi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var s=o.destroy;o.destroy=void 0,s!==void 0&&Tf(e,n,s)}o=o.next}while(o!==r)}}function Wc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Cf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hx(t){var e=t.alternate;e!==null&&(t.alternate=null,hx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wn],delete e[Vi],delete e[ff],delete e[OT],delete e[BT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function px(t){return t.tag===5||t.tag===3||t.tag===4}function Bg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||px(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _f(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fl));else if(r!==4&&(t=t.child,t!==null))for(_f(t,e,n),t=t.sibling;t!==null;)_f(t,e,n),t=t.sibling}function Nf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Nf(t,e,n),t=t.sibling;t!==null;)Nf(t,e,n),t=t.sibling}var st=null,nn=!1;function hr(t,e,n){for(n=n.child;n!==null;)mx(t,e,n),n=n.sibling}function mx(t,e,n){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Rc,n)}catch{}switch(n.tag){case 5:ft||ss(n,e);case 6:var r=st,o=nn;st=null,hr(t,e,n),st=r,nn=o,st!==null&&(nn?(t=st,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(nn?(t=st,n=n.stateNode,t.nodeType===8?Ku(t.parentNode,n):t.nodeType===1&&Ku(t,n),Di(t)):Ku(st,n.stateNode));break;case 4:r=st,o=nn,st=n.stateNode.containerInfo,nn=!0,hr(t,e,n),st=r,nn=o;break;case 0:case 11:case 14:case 15:if(!ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Tf(n,e,i),o=o.next}while(o!==r)}hr(t,e,n);break;case 1:if(!ft&&(ss(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ue(n,e,a)}hr(t,e,n);break;case 21:hr(t,e,n);break;case 22:n.mode&1?(ft=(r=ft)||n.memoizedState!==null,hr(t,e,n),ft=r):hr(t,e,n);break;default:hr(t,e,n)}}function Mg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new JT),e.forEach(function(r){var o=aC.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function en(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:st=a.stateNode,nn=!1;break e;case 3:st=a.stateNode.containerInfo,nn=!0;break e;case 4:st=a.stateNode.containerInfo,nn=!0;break e}a=a.return}if(st===null)throw Error(W(160));mx(s,i,o),st=null,nn=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){Ue(o,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gx(e,t),e=e.sibling}function gx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(en(e,t),gn(t),r&4){try{xi(3,t,t.return),Wc(3,t)}catch(y){Ue(t,t.return,y)}try{xi(5,t,t.return)}catch(y){Ue(t,t.return,y)}}break;case 1:en(e,t),gn(t),r&512&&n!==null&&ss(n,n.return);break;case 5:if(en(e,t),gn(t),r&512&&n!==null&&ss(n,n.return),t.flags&32){var o=t.stateNode;try{Oi(o,"")}catch(y){Ue(t,t.return,y)}}if(r&4&&(o=t.stateNode,o!=null)){var s=t.memoizedProps,i=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Ry(o,s),Jd(a,i);var c=Jd(a,s);for(i=0;i<l.length;i+=2){var u=l[i],d=l[i+1];u==="style"?zy(o,d):u==="dangerouslySetInnerHTML"?Uy(o,d):u==="children"?Oi(o,d):Rh(o,u,d,c)}switch(a){case"input":Gd(o,s);break;case"textarea":Dy(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?fs(o,!!s.multiple,v,!1):h!==!!s.multiple&&(s.defaultValue!=null?fs(o,!!s.multiple,s.defaultValue,!0):fs(o,!!s.multiple,s.multiple?[]:"",!1))}o[Vi]=s}catch(y){Ue(t,t.return,y)}}break;case 6:if(en(e,t),gn(t),r&4){if(t.stateNode===null)throw Error(W(162));o=t.stateNode,s=t.memoizedProps;try{o.nodeValue=s}catch(y){Ue(t,t.return,y)}}break;case 3:if(en(e,t),gn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Di(e.containerInfo)}catch(y){Ue(t,t.return,y)}break;case 4:en(e,t),gn(t);break;case 13:en(e,t),gn(t),o=t.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(gp=Ve())),r&4&&Mg(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(ft=(c=ft)||u,en(e,t),ft=c):en(e,t),gn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(q=t,u=t.child;u!==null;){for(d=q=u;q!==null;){switch(h=q,v=h.child,h.tag){case 0:case 11:case 14:case 15:xi(4,h,h.return);break;case 1:ss(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Ue(r,n,y)}}break;case 5:ss(h,h.return);break;case 22:if(h.memoizedState!==null){Dg(d);continue}}v!==null?(v.return=h,q=v):Dg(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{o=d.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$y("display",i))}catch(y){Ue(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Ue(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:en(e,t),gn(t),r&4&&Mg(t);break;case 21:break;default:en(e,t),gn(t)}}function gn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(px(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Oi(o,""),r.flags&=-33);var s=Bg(t);Nf(t,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Bg(t);_f(t,a,i);break;default:throw Error(W(161))}}catch(l){Ue(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ZT(t,e,n){q=t,vx(t)}function vx(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var o=q,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||Wa;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||ft;a=Wa;var c=ft;if(Wa=i,(ft=l)&&!c)for(q=o;q!==null;)i=q,l=i.child,i.tag===22&&i.memoizedState!==null?Fg(o):l!==null?(l.return=i,q=l):Fg(o);for(;s!==null;)q=s,vx(s),s=s.sibling;q=o,Wa=a,ft=c}Rg(t)}else o.subtreeFlags&8772&&s!==null?(s.return=o,q=s):Rg(t)}}function Rg(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ft||Wc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ft)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:tn(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&xg(e,s,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}xg(e,i,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Di(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}ft||e.flags&512&&Cf(e)}catch(h){Ue(e,e.return,h)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function Dg(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function Fg(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wc(4,e)}catch(l){Ue(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){Ue(e,o,l)}}var s=e.return;try{Cf(e)}catch(l){Ue(e,s,l)}break;case 5:var i=e.return;try{Cf(e)}catch(l){Ue(e,i,l)}}}catch(l){Ue(e,e.return,l)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var eC=Math.ceil,Xl=cr.ReactCurrentDispatcher,pp=cr.ReactCurrentOwner,Jt=cr.ReactCurrentBatchConfig,fe=0,nt=null,Ge=null,it=0,Mt=0,is=Jr(0),Qe=0,Yi=null,_o=0,Gc=0,mp=0,wi=null,Ct=null,gp=0,Ps=1/0,Rn=null,Jl=!1,Pf=null,Mr=null,Ga=!1,_r=null,Ql=0,ki=0,If=null,hl=-1,pl=0;function xt(){return fe&6?Ve():hl!==-1?hl:hl=Ve()}function Rr(t){return t.mode&1?fe&2&&it!==0?it&-it:RT.transition!==null?(pl===0&&(pl=eb()),pl):(t=ge,t!==0||(t=window.event,t=t===void 0?16:ab(t.type)),t):1}function cn(t,e,n,r){if(50<ki)throw ki=0,If=null,Error(W(185));la(t,n,r),(!(fe&2)||t!==nt)&&(t===nt&&(!(fe&2)&&(Gc|=n),Qe===4&&xr(t,it)),Lt(t,r),n===1&&fe===0&&!(e.mode&1)&&(Ps=Ve()+500,zc&&Qr()))}function Lt(t,e){var n=t.callbackNode;RE(t,e);var r=Bl(t,t===nt?it:0);if(r===0)n!==null&&Km(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Km(n),e===1)t.tag===0?MT(Ug.bind(null,t)):Cb(Ug.bind(null,t)),LT(function(){!(fe&6)&&Qr()}),n=null;else{switch(tb(r)){case 1:n=zh;break;case 4:n=Qy;break;case 16:n=Ol;break;case 536870912:n=Zy;break;default:n=Ol}n=Tx(n,yx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yx(t,e){if(hl=-1,pl=0,fe&6)throw Error(W(327));var n=t.callbackNode;if(vs()&&t.callbackNode!==n)return null;var r=Bl(t,t===nt?it:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zl(t,r);else{e=r;var o=fe;fe|=2;var s=xx();(nt!==t||it!==e)&&(Rn=null,Ps=Ve()+500,bo(t,e));do try{rC();break}catch(a){bx(t,a)}while(1);tp(),Xl.current=s,fe=o,Ge!==null?e=0:(nt=null,it=0,e=Qe)}if(e!==0){if(e===2&&(o=nf(t),o!==0&&(r=o,e=jf(t,o))),e===1)throw n=Yi,bo(t,0),xr(t,r),Lt(t,Ve()),n;if(e===6)xr(t,r);else{if(o=t.current.alternate,!(r&30)&&!tC(o)&&(e=Zl(t,r),e===2&&(s=nf(t),s!==0&&(r=s,e=jf(t,s))),e===1))throw n=Yi,bo(t,0),xr(t,r),Lt(t,Ve()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:io(t,Ct,Rn);break;case 3:if(xr(t,r),(r&130023424)===r&&(e=gp+500-Ve(),10<e)){if(Bl(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){xt(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=df(io.bind(null,t,Ct,Rn),e);break}io(t,Ct,Rn);break;case 4:if(xr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var i=31-ln(r);s=1<<i,i=e[i],i>o&&(o=i),r&=~s}if(r=o,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eC(r/1960))-r,10<r){t.timeoutHandle=df(io.bind(null,t,Ct,Rn),r);break}io(t,Ct,Rn);break;case 5:io(t,Ct,Rn);break;default:throw Error(W(329))}}}return Lt(t,Ve()),t.callbackNode===n?yx.bind(null,t):null}function jf(t,e){var n=wi;return t.current.memoizedState.isDehydrated&&(bo(t,e).flags|=256),t=Zl(t,e),t!==2&&(e=Ct,Ct=n,e!==null&&Lf(e)),t}function Lf(t){Ct===null?Ct=t:Ct.push.apply(Ct,t)}function tC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!fn(s(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xr(t,e){for(e&=~mp,e&=~Gc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ln(e),r=1<<n;t[n]=-1,e&=~r}}function Ug(t){if(fe&6)throw Error(W(327));vs();var e=Bl(t,0);if(!(e&1))return Lt(t,Ve()),null;var n=Zl(t,e);if(t.tag!==0&&n===2){var r=nf(t);r!==0&&(e=r,n=jf(t,r))}if(n===1)throw n=Yi,bo(t,0),xr(t,e),Lt(t,Ve()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,io(t,Ct,Rn),Lt(t,Ve()),null}function vp(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(Ps=Ve()+500,zc&&Qr())}}function No(t){_r!==null&&_r.tag===0&&!(fe&6)&&vs();var e=fe;fe|=1;var n=Jt.transition,r=ge;try{if(Jt.transition=null,ge=1,t)return t()}finally{ge=r,Jt.transition=n,fe=e,!(fe&6)&&Qr()}}function yp(){Mt=is.current,Ne(is)}function bo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jT(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(Qh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ul();break;case 3:_s(),Ne(It),Ne(pt),ap();break;case 5:ip(r);break;case 4:_s();break;case 13:Ne(Ae);break;case 19:Ne(Ae);break;case 10:np(r.type._context);break;case 22:case 23:yp()}n=n.return}if(nt=t,Ge=t=Dr(t.current,null),it=Mt=e,Qe=0,Yi=null,mp=Gc=_o=0,Ct=wi=null,ho!==null){for(e=0;e<ho.length;e++)if(n=ho[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}ho=null}return t}function bx(t,e){do{var n=Ge;try{if(tp(),ul.current=Yl,Kl){for(var r=Re.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Kl=!1}if(Co=0,tt=Je=Re=null,bi=!1,Gi=0,pp.current=null,n===null||n.return===null){Qe=1,Yi=e,Ge=null;break}e:{var s=t,i=n.return,a=n,l=e;if(e=it,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=_g(i);if(v!==null){v.flags&=-257,Ng(v,i,a,s,e),v.mode&1&&Cg(s,c,e),e=v,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){Cg(s,c,e),bp();break e}l=Error(W(426))}}else if(je&&a.mode&1){var x=_g(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Ng(x,i,a,s,e),Zh(Ns(l,a));break e}}s=l=Ns(l,a),Qe!==4&&(Qe=2),wi===null?wi=[s]:wi.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=nx(s,l,e);bg(s,b);break e;case 1:a=l;var m=s.type,p=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Mr===null||!Mr.has(p)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=rx(s,a,e);bg(s,w);break e}}s=s.return}while(s!==null)}kx(n)}catch(E){e=E,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(1)}function xx(){var t=Xl.current;return Xl.current=Yl,t===null?Yl:t}function bp(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),nt===null||!(_o&268435455)&&!(Gc&268435455)||xr(nt,it)}function Zl(t,e){var n=fe;fe|=2;var r=xx();(nt!==t||it!==e)&&(Rn=null,bo(t,e));do try{nC();break}catch(o){bx(t,o)}while(1);if(tp(),fe=n,Xl.current=r,Ge!==null)throw Error(W(261));return nt=null,it=0,Qe}function nC(){for(;Ge!==null;)wx(Ge)}function rC(){for(;Ge!==null&&!NE();)wx(Ge)}function wx(t){var e=Ex(t.alternate,t,Mt);t.memoizedProps=t.pendingProps,e===null?kx(t):Ge=e,pp.current=null}function kx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=XT(n,e),n!==null){n.flags&=32767,Ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,Ge=null;return}}else if(n=YT(n,e,Mt),n!==null){Ge=n;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);Qe===0&&(Qe=5)}function io(t,e,n){var r=ge,o=Jt.transition;try{Jt.transition=null,ge=1,oC(t,e,n,r)}finally{Jt.transition=o,ge=r}return null}function oC(t,e,n,r){do vs();while(_r!==null);if(fe&6)throw Error(W(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(DE(t,s),t===nt&&(Ge=nt=null,it=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ga||(Ga=!0,Tx(Ol,function(){return vs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Jt.transition,Jt.transition=null;var i=ge;ge=1;var a=fe;fe|=4,pp.current=null,QT(t,n),gx(n,t),ET(cf),Ml=!!lf,cf=lf=null,t.current=n,ZT(n),PE(),fe=a,ge=i,Jt.transition=s}else t.current=n;if(Ga&&(Ga=!1,_r=t,Ql=o),s=t.pendingLanes,s===0&&(Mr=null),LE(n.stateNode),Lt(t,Ve()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Jl)throw Jl=!1,t=Pf,Pf=null,t;return Ql&1&&t.tag!==0&&vs(),s=t.pendingLanes,s&1?t===If?ki++:(ki=0,If=t):ki=0,Qr(),null}function vs(){if(_r!==null){var t=tb(Ql),e=Jt.transition,n=ge;try{if(Jt.transition=null,ge=16>t?16:t,_r===null)var r=!1;else{if(t=_r,_r=null,Ql=0,fe&6)throw Error(W(331));var o=fe;for(fe|=4,q=t.current;q!==null;){var s=q,i=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(q=c;q!==null;){var u=q;switch(u.tag){case 0:case 11:case 15:xi(8,u,s)}var d=u.child;if(d!==null)d.return=u,q=d;else for(;q!==null;){u=q;var h=u.sibling,v=u.return;if(hx(u),u===c){q=null;break}if(h!==null){h.return=v,q=h;break}q=v}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}q=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,q=i;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xi(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,q=b;break e}q=s.return}}var m=t.current;for(q=m;q!==null;){i=q;var p=i.child;if(i.subtreeFlags&2064&&p!==null)p.return=i,q=p;else e:for(i=m;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wc(9,a)}}catch(E){Ue(a,a.return,E)}if(a===i){q=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,q=w;break e}q=a.return}}if(fe=o,Qr(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Rc,t)}catch{}r=!0}return r}finally{ge=n,Jt.transition=e}}return!1}function $g(t,e,n){e=Ns(n,e),e=nx(t,e,1),t=Br(t,e,1),e=xt(),t!==null&&(la(t,1,e),Lt(t,e))}function Ue(t,e,n){if(t.tag===3)$g(t,t,n);else for(;e!==null;){if(e.tag===3){$g(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mr===null||!Mr.has(r))){t=Ns(n,t),t=rx(e,t,1),e=Br(e,t,1),t=xt(),e!==null&&(la(e,1,t),Lt(e,t));break}}e=e.return}}function sC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xt(),t.pingedLanes|=t.suspendedLanes&n,nt===t&&(it&n)===n&&(Qe===4||Qe===3&&(it&130023424)===it&&500>Ve()-gp?bo(t,0):mp|=n),Lt(t,e)}function Sx(t,e){e===0&&(t.mode&1?(e=Ma,Ma<<=1,!(Ma&130023424)&&(Ma=4194304)):e=1);var n=xt();t=nr(t,e),t!==null&&(la(t,e,n),Lt(t,n))}function iC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Sx(t,n)}function aC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),Sx(t,n)}var Ex;Ex=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||It.current)_t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _t=!1,KT(t,e,n);_t=!!(t.flags&131072)}else _t=!1,je&&e.flags&1048576&&_b(e,Vl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;fl(t,e),t=e.pendingProps;var o=Es(e,pt.current);gs(e,n),o=cp(null,e,r,t,o,n);var s=up();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jt(r)?(s=!0,$l(e)):s=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,op(e),o.updater=Vc,e.stateNode=o,o._reactInternals=e,yf(e,r,t,n),e=wf(null,e,r,!0,s,n)):(e.tag=0,je&&s&&Jh(e),yt(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(fl(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=cC(r),t=tn(r,t),o){case 0:e=xf(null,e,r,t,n);break e;case 1:e=jg(null,e,r,t,n);break e;case 11:e=Pg(null,e,r,t,n);break e;case 14:e=Ig(null,e,r,tn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:tn(r,o),xf(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:tn(r,o),jg(t,e,r,o,n);case 3:e:{if(ax(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,o=s.element,jb(t,e),Gl(e,r,null,n);var i=e.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){o=Ns(Error(W(423)),e),e=Lg(t,e,r,n,o);break e}else if(r!==o){o=Ns(Error(W(424)),e),e=Lg(t,e,r,n,o);break e}else for(Dt=Or(e.stateNode.containerInfo.firstChild),Ft=e,je=!0,rn=null,n=Bb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ts(),r===o){e=rr(t,e,n);break e}yt(t,e,r,n)}e=e.child}return e;case 5:return Mb(e),t===null&&mf(e),r=e.type,o=e.pendingProps,s=t!==null?t.memoizedProps:null,i=o.children,uf(r,o)?i=null:s!==null&&uf(r,s)&&(e.flags|=32),ix(t,e),yt(t,e,i,n),e.child;case 6:return t===null&&mf(e),null;case 13:return lx(t,e,n);case 4:return sp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Cs(e,null,r,n):yt(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:tn(r,o),Pg(t,e,r,o,n);case 7:return yt(t,e,e.pendingProps,n),e.child;case 8:return yt(t,e,e.pendingProps.children,n),e.child;case 12:return yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,s=e.memoizedProps,i=o.value,ke(Hl,r._currentValue),r._currentValue=i,s!==null)if(fn(s.value,i)){if(s.children===o.children&&!It.current){e=rr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Jn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),gf(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(W(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),gf(i,n,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}yt(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,gs(e,n),o=Qt(o),r=r(o),e.flags|=1,yt(t,e,r,n),e.child;case 14:return r=e.type,o=tn(r,e.pendingProps),o=tn(r.type,o),Ig(t,e,r,o,n);case 15:return ox(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:tn(r,o),fl(t,e),e.tag=1,jt(r)?(t=!0,$l(e)):t=!1,gs(e,n),Ab(e,r,o),yf(e,r,o,n),wf(null,e,r,!0,t,n);case 19:return cx(t,e,n);case 22:return sx(t,e,n)}throw Error(W(156,e.tag))};function Tx(t,e){return Jy(t,e)}function lC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(t,e,n,r){return new lC(t,e,n,r)}function xp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cC(t){if(typeof t=="function")return xp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fh)return 11;if(t===Uh)return 14}return 2}function Dr(t,e){var n=t.alternate;return n===null?(n=Xt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ml(t,e,n,r,o,s){var i=2;if(r=t,typeof t=="function")xp(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Xo:return xo(n.children,o,s,e);case Dh:i=8,o|=8;break;case $d:return t=Xt(12,n,e,o|2),t.elementType=$d,t.lanes=s,t;case zd:return t=Xt(13,n,e,o),t.elementType=zd,t.lanes=s,t;case Vd:return t=Xt(19,n,e,o),t.elementType=Vd,t.lanes=s,t;case Oy:return qc(n,o,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ly:i=10;break e;case Ay:i=9;break e;case Fh:i=11;break e;case Uh:i=14;break e;case gr:i=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Xt(i,n,e,o),e.elementType=t,e.type=r,e.lanes=s,e}function xo(t,e,n,r){return t=Xt(7,t,r,e),t.lanes=n,t}function qc(t,e,n,r){return t=Xt(22,t,r,e),t.elementType=Oy,t.lanes=n,t.stateNode={isHidden:!1},t}function nd(t,e,n){return t=Xt(6,t,null,e),t.lanes=n,t}function rd(t,e,n){return e=Xt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function uC(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ru(0),this.expirationTimes=Ru(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ru(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function wp(t,e,n,r,o,s,i,a,l){return t=new uC(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Xt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},op(s),t}function dC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Cx(t){if(!t)return Wr;t=t._reactInternals;e:{if(Do(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(jt(n))return Tb(t,n,e)}return e}function _x(t,e,n,r,o,s,i,a,l){return t=wp(n,r,!0,t,o,s,i,a,l),t.context=Cx(null),n=t.current,r=xt(),o=Rr(n),s=Jn(r,o),s.callback=e??null,Br(n,s,o),t.current.lanes=o,la(t,o,r),Lt(t,r),t}function Kc(t,e,n,r){var o=e.current,s=xt(),i=Rr(o);return n=Cx(n),e.context===null?e.context=n:e.pendingContext=n,e=Jn(s,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Br(o,e,i),t!==null&&(cn(t,o,i,s),cl(t,o,i)),i}function ec(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kp(t,e){zg(t,e),(t=t.alternate)&&zg(t,e)}function fC(){return null}var Nx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sp(t){this._internalRoot=t}Yc.prototype.render=Sp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Kc(t,e,null,null)};Yc.prototype.unmount=Sp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;No(function(){Kc(null,t,null,null)}),e[tr]=null}};function Yc(t){this._internalRoot=t}Yc.prototype.unstable_scheduleHydration=function(t){if(t){var e=ob();t={blockedOn:null,target:t,priority:e};for(var n=0;n<br.length&&e!==0&&e<br[n].priority;n++);br.splice(n,0,t),n===0&&ib(t)}};function Ep(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vg(){}function hC(t,e,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var c=ec(i);s.call(c)}}var i=_x(e,r,t,0,null,!1,!1,"",Vg);return t._reactRootContainer=i,t[tr]=i.current,$i(t.nodeType===8?t.parentNode:t),No(),i}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=ec(l);a.call(c)}}var l=wp(t,0,!1,null,null,!1,!1,"",Vg);return t._reactRootContainer=l,t[tr]=l.current,$i(t.nodeType===8?t.parentNode:t),No(function(){Kc(e,l,n,r)}),l}function Jc(t,e,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=ec(i);a.call(l)}}Kc(e,i,t,o)}else i=hC(n,e,t,o,r);return ec(i)}nb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ci(e.pendingLanes);n!==0&&(Vh(e,n|1),Lt(e,Ve()),!(fe&6)&&(Ps=Ve()+500,Qr()))}break;case 13:No(function(){var r=nr(t,1);if(r!==null){var o=xt();cn(r,t,1,o)}}),kp(t,1)}};Hh=function(t){if(t.tag===13){var e=nr(t,134217728);if(e!==null){var n=xt();cn(e,t,134217728,n)}kp(t,134217728)}};rb=function(t){if(t.tag===13){var e=Rr(t),n=nr(t,e);if(n!==null){var r=xt();cn(n,t,e,r)}kp(t,e)}};ob=function(){return ge};sb=function(t,e){var n=ge;try{return ge=t,e()}finally{ge=n}};Zd=function(t,e,n){switch(e){case"input":if(Gd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=$c(r);if(!o)throw Error(W(90));My(r),Gd(r,o)}}}break;case"textarea":Dy(t,n);break;case"select":e=n.value,e!=null&&fs(t,!!n.multiple,e,!1)}};Wy=vp;Gy=No;var pC={usingClientEntryPoint:!1,Events:[ua,es,$c,Vy,Hy,vp]},ti={findFiberByHostInstance:fo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},mC={bundleType:ti.bundleType,version:ti.version,rendererPackageName:ti.rendererPackageName,rendererConfig:ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Yy(t),t===null?null:t.stateNode},findFiberByHostInstance:ti.findFiberByHostInstance||fC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qa.isDisabled&&qa.supportsFiber)try{Rc=qa.inject(mC),En=qa}catch{}}Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pC;Vt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ep(e))throw Error(W(200));return dC(t,e,null,n)};Vt.createRoot=function(t,e){if(!Ep(t))throw Error(W(299));var n=!1,r="",o=Nx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=wp(t,1,!1,null,null,n,!1,r,o),t[tr]=e.current,$i(t.nodeType===8?t.parentNode:t),new Sp(e)};Vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=Yy(e),t=t===null?null:t.stateNode,t};Vt.flushSync=function(t){return No(t)};Vt.hydrate=function(t,e,n){if(!Xc(e))throw Error(W(200));return Jc(null,t,e,!0,n)};Vt.hydrateRoot=function(t,e,n){if(!Ep(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=Nx;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=_x(e,null,t,1,n??null,o,!1,s,i),t[tr]=e.current,$i(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Yc(e)};Vt.render=function(t,e,n){if(!Xc(e))throw Error(W(200));return Jc(null,t,e,!1,n)};Vt.unmountComponentAtNode=function(t){if(!Xc(t))throw Error(W(40));return t._reactRootContainer?(No(function(){Jc(null,null,t,!1,function(){t._reactRootContainer=null,t[tr]=null})}),!0):!1};Vt.unstable_batchedUpdates=vp;Vt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xc(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Jc(t,e,n,!1,r)};Vt.version="18.2.0-next-9e3b772b8-20220608";function Px(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Px)}catch(t){console.error(t)}}Px(),_y.exports=Vt;var gC=_y.exports,Hg=gC;Fd.createRoot=Hg.createRoot,Fd.hydrateRoot=Hg.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xi(){return Xi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xi.apply(this,arguments)}var Nr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Nr||(Nr={}));const Wg="popstate";function vC(t){t===void 0&&(t={});function e(r,o){let{pathname:s,search:i,hash:a}=r.location;return Af("",{pathname:s,search:i,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:tc(o)}return bC(e,n,null,t)}function He(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yC(){return Math.random().toString(36).substr(2,8)}function Gg(t,e){return{usr:t.state,key:t.key,idx:e}}function Af(t,e,n,r){return n===void 0&&(n=null),Xi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fs(e):e,{state:n,key:e&&e.key||r||yC()})}function tc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function bC(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:s=!1}=r,i=o.history,a=Nr.Pop,l=null,c=u();c==null&&(c=0,i.replaceState(Xi({},i.state,{idx:c}),""));function u(){return(i.state||{idx:null}).idx}function d(){a=Nr.Pop;let x=u(),b=x==null?null:x-c;c=x,l&&l({action:a,location:y.location,delta:b})}function h(x,b){a=Nr.Push;let m=Af(y.location,x,b);n&&n(m,x),c=u()+1;let p=Gg(m,c),w=y.createHref(m);try{i.pushState(p,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;o.location.assign(w)}s&&l&&l({action:a,location:y.location,delta:1})}function v(x,b){a=Nr.Replace;let m=Af(y.location,x,b);n&&n(m,x),c=u();let p=Gg(m,c),w=y.createHref(m);i.replaceState(p,"",w),s&&l&&l({action:a,location:y.location,delta:0})}function g(x){let b=o.location.origin!=="null"?o.location.origin:o.location.href,m=typeof x=="string"?x:tc(x);return He(b,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,b)}let y={get action(){return a},get location(){return t(o,i)},listen(x){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(Wg,d),l=x,()=>{o.removeEventListener(Wg,d),l=null}},createHref(x){return e(o,x)},createURL:g,encodeLocation(x){let b=g(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:v,go(x){return i.go(x)}};return y}var qg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qg||(qg={}));function xC(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Fs(e):e,o=Cp(r.pathname||"/",n);if(o==null)return null;let s=Ix(t);wC(s);let i=null;for(let a=0;i==null&&a<s.length;++a)i=IC(s[a],AC(o));return i}function Ix(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(s,i,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};l.relativePath.startsWith("/")&&(He(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Fr([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(He(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Ix(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:NC(c,s.index),routesMeta:u})};return t.forEach((s,i)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))o(s,i);else for(let l of jx(s.path))o(s,i,l)}),e}function jx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return o?[s,""]:[s];let i=jx(r.join("/")),a=[];return a.push(...i.map(l=>l===""?s:[s,l].join("/"))),o&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function wC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const kC=/^:\w+$/,SC=3,EC=2,TC=1,CC=10,_C=-2,Kg=t=>t==="*";function NC(t,e){let n=t.split("/"),r=n.length;return n.some(Kg)&&(r+=_C),e&&(r+=EC),n.filter(o=>!Kg(o)).reduce((o,s)=>o+(kC.test(s)?SC:s===""?TC:CC),r)}function PC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function IC(t,e){let{routesMeta:n}=t,r={},o="/",s=[];for(let i=0;i<n.length;++i){let a=n[i],l=i===n.length-1,c=o==="/"?e:e.slice(o.length)||"/",u=jC({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:Fr([o,u.pathname]),pathnameBase:RC(Fr([o,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(o=Fr([o,u.pathnameBase]))}return s}function jC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=LC(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let s=o[0],i=s.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,u,d)=>{if(u==="*"){let h=a[d]||"";i=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return c[u]=OC(a[d]||"",u),c},{}),pathname:s,pathnameBase:i,pattern:t}}function LC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Tp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(i,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function AC(t){try{return decodeURI(t)}catch(e){return Tp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function OC(t,e){try{return decodeURIComponent(t)}catch(n){return Tp(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Cp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function BC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Fs(t):t;return{pathname:n?n.startsWith("/")?n:MC(n,e):e,search:DC(r),hash:FC(o)}}function MC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function od(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _p(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Np(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=Fs(t):(o=Xi({},t),He(!o.pathname||!o.pathname.includes("?"),od("?","pathname","search",o)),He(!o.pathname||!o.pathname.includes("#"),od("#","pathname","hash",o)),He(!o.search||!o.search.includes("#"),od("#","search","hash",o)));let s=t===""||o.pathname==="",i=s?"/":o.pathname,a;if(r||i==null)a=n;else{let d=e.length-1;if(i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),d-=1;o.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=BC(o,a),c=i&&i!=="/"&&i.endsWith("/"),u=(s||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Fr=t=>t.join("/").replace(/\/\/+/g,"/"),RC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function UC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Lx=["post","put","patch","delete"];new Set(Lx);const $C=["get",...Lx];new Set($C);/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nc.apply(this,arguments)}const Pp=C.createContext(null),Ax=C.createContext(null),Fo=C.createContext(null),Qc=C.createContext(null),jn=C.createContext({outlet:null,matches:[],isDataRoute:!1}),Ox=C.createContext(null);function zC(t,e){let{relative:n}=e===void 0?{}:e;Us()||He(!1);let{basename:r,navigator:o}=C.useContext(Fo),{hash:s,pathname:i,search:a}=Ip(t,{relative:n}),l=i;return r!=="/"&&(l=i==="/"?r:Fr([r,i])),o.createHref({pathname:l,search:a,hash:s})}function Us(){return C.useContext(Qc)!=null}function Zr(){return Us()||He(!1),C.useContext(Qc).location}function Bx(t){C.useContext(Fo).static||C.useLayoutEffect(t)}function Ln(){let{isDataRoute:t}=C.useContext(jn);return t?r_():VC()}function VC(){Us()||He(!1);let t=C.useContext(Pp),{basename:e,navigator:n}=C.useContext(Fo),{matches:r}=C.useContext(jn),{pathname:o}=Zr(),s=JSON.stringify(_p(r).map(l=>l.pathnameBase)),i=C.useRef(!1);return Bx(()=>{i.current=!0}),C.useCallback(function(l,c){if(c===void 0&&(c={}),!i.current)return;if(typeof l=="number"){n.go(l);return}let u=Np(l,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Fr([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,o,t])}const HC=C.createContext(null);function WC(t){let e=C.useContext(jn).outlet;return e&&C.createElement(HC.Provider,{value:t},e)}function Uo(){let{matches:t}=C.useContext(jn),e=t[t.length-1];return e?e.params:{}}function Ip(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=C.useContext(jn),{pathname:o}=Zr(),s=JSON.stringify(_p(r).map(i=>i.pathnameBase));return C.useMemo(()=>Np(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function GC(t,e){return qC(t,e)}function qC(t,e,n){Us()||He(!1);let{navigator:r}=C.useContext(Fo),{matches:o}=C.useContext(jn),s=o[o.length-1],i=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Zr(),c;if(e){var u;let y=typeof e=="string"?Fs(e):e;a==="/"||(u=y.pathname)!=null&&u.startsWith(a)||He(!1),c=y}else c=l;let d=c.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",v=xC(t,{pathname:h}),g=QC(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},i,y.params),pathname:Fr([a,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:Fr([a,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n);return e&&g?C.createElement(Qc.Provider,{value:{location:nc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Nr.Pop}},g):g}function KC(){let t=n_(),e=UC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:o},n):null,s)}const YC=C.createElement(KC,null);class XC extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?C.createElement(jn.Provider,{value:this.props.routeContext},C.createElement(Ox.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JC(t){let{routeContext:e,match:n,children:r}=t,o=C.useContext(Pp);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(jn.Provider,{value:e},r)}function QC(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,i=(r=n)==null?void 0:r.errors;if(i!=null){let a=s.findIndex(l=>l.route.id&&(i==null?void 0:i[l.route.id]));a>=0||He(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let u=l.route.id?i==null?void 0:i[l.route.id]:null,d=null;n&&(d=l.route.errorElement||YC);let h=e.concat(s.slice(0,c+1)),v=()=>{let g;return u?g=d:l.route.Component?g=C.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,C.createElement(JC,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?C.createElement(XC,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:v(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):v()},null)}var Of;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Of||(Of={}));var Ji;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Ji||(Ji={}));function ZC(t){let e=C.useContext(Pp);return e||He(!1),e}function e_(t){let e=C.useContext(Ax);return e||He(!1),e}function t_(t){let e=C.useContext(jn);return e||He(!1),e}function Mx(t){let e=t_(),n=e.matches[e.matches.length-1];return n.route.id||He(!1),n.route.id}function n_(){var t;let e=C.useContext(Ox),n=e_(Ji.UseRouteError),r=Mx(Ji.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function r_(){let{router:t}=ZC(Of.UseNavigateStable),e=Mx(Ji.UseNavigateStable),n=C.useRef(!1);return Bx(()=>{n.current=!0}),C.useCallback(function(o,s){s===void 0&&(s={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,nc({fromRouteId:e},s)))},[t,e])}function jp(t){let{to:e,replace:n,state:r,relative:o}=t;Us()||He(!1);let{matches:s}=C.useContext(jn),{pathname:i}=Zr(),a=Ln(),l=Np(e,_p(s).map(u=>u.pathnameBase),i,o==="path"),c=JSON.stringify(l);return C.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:o}),[a,c,o,n,r]),null}function Rx(t){return WC(t.context)}function Ce(t){He(!1)}function o_(t){let{basename:e="/",children:n=null,location:r,navigationType:o=Nr.Pop,navigator:s,static:i=!1}=t;Us()&&He(!1);let a=e.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:a,navigator:s,static:i}),[a,s,i]);typeof r=="string"&&(r=Fs(r));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:v="default"}=r,g=C.useMemo(()=>{let y=Cp(c,a);return y==null?null:{location:{pathname:y,search:u,hash:d,state:h,key:v},navigationType:o}},[a,c,u,d,h,v,o]);return g==null?null:C.createElement(Fo.Provider,{value:l},C.createElement(Qc.Provider,{children:n,value:g}))}function s_(t){let{children:e,location:n}=t;return GC(Bf(e),n)}var Yg;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Yg||(Yg={}));new Promise(()=>{});function Bf(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,o)=>{if(!C.isValidElement(r))return;let s=[...e,o];if(r.type===C.Fragment){n.push.apply(n,Bf(r.props.children,s));return}r.type!==Ce&&He(!1),!r.props.index||!r.props.children||He(!1);let i={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Bf(r.props.children,s)),n.push(i)}),n}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rc(){return rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rc.apply(this,arguments)}function Dx(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,s;for(s=0;s<r.length;s++)o=r[s],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function i_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function a_(t,e){return t.button===0&&(!e||e==="_self")&&!i_(t)}function Mf(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function l_(t,e){let n=Mf(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(o=>{n.append(r,o)});return n}const c_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],u_=["aria-current","caseSensitive","className","end","style","to","children"],d_="startTransition",Xg=iE[d_];function f_(t){let{basename:e,children:n,future:r,window:o}=t,s=C.useRef();s.current==null&&(s.current=vC({window:o,v5Compat:!0}));let i=s.current,[a,l]=C.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},u=C.useCallback(d=>{c&&Xg?Xg(()=>l(d)):l(d)},[l,c]);return C.useLayoutEffect(()=>i.listen(u),[i,u]),C.createElement(o_,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i})}const h_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ee=C.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:s,replace:i,state:a,target:l,to:c,preventScrollReset:u}=e,d=Dx(e,c_),{basename:h}=C.useContext(Fo),v,g=!1;if(typeof c=="string"&&p_.test(c)&&(v=c,h_))try{let m=new URL(window.location.href),p=c.startsWith("//")?new URL(m.protocol+c):new URL(c),w=Cp(p.pathname,h);p.origin===m.origin&&w!=null?c=w+p.search+p.hash:g=!0}catch{}let y=zC(c,{relative:o}),x=m_(c,{replace:i,state:a,target:l,preventScrollReset:u,relative:o});function b(m){r&&r(m),m.defaultPrevented||x(m)}return C.createElement("a",rc({},d,{href:v||y,onClick:g||s?r:b,ref:n,target:l}))}),ni=C.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:o=!1,className:s="",end:i=!1,style:a,to:l,children:c}=e,u=Dx(e,u_),d=Ip(l,{relative:u.relative}),h=Zr(),v=C.useContext(Ax),{navigator:g}=C.useContext(Fo),y=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,x=h.pathname,b=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;o||(x=x.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase());let m=x===y||!i&&x.startsWith(y)&&x.charAt(y.length)==="/",p=b!=null&&(b===y||!i&&b.startsWith(y)&&b.charAt(y.length)==="/"),w=m?r:void 0,E;typeof s=="function"?E=s({isActive:m,isPending:p}):E=[s,m?"active":null,p?"pending":null].filter(Boolean).join(" ");let N=typeof a=="function"?a({isActive:m,isPending:p}):a;return C.createElement(ee,rc({},u,{"aria-current":w,className:E,ref:n,style:N,to:l}),typeof c=="function"?c({isActive:m,isPending:p}):c)});var Jg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(Jg||(Jg={}));var Qg;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Qg||(Qg={}));function m_(t,e){let{target:n,replace:r,state:o,preventScrollReset:s,relative:i}=e===void 0?{}:e,a=Ln(),l=Zr(),c=Ip(t,{relative:i});return C.useCallback(u=>{if(a_(u,n)){u.preventDefault();let d=r!==void 0?r:tc(l)===tc(c);a(t,{replace:d,state:o,preventScrollReset:s,relative:i})}},[l,a,c,r,o,n,t,s,i])}function Lp(t){let e=C.useRef(Mf(t)),n=C.useRef(!1),r=Zr(),o=C.useMemo(()=>l_(r.search,n.current?null:e.current),[r.search]),s=Ln(),i=C.useCallback((a,l)=>{const c=Mf(typeof a=="function"?a(o):a);n.current=!0,s("?"+c,l)},[s,o]);return[o,i]}const Fx=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Zc=C.createContext({}),eu=C.createContext(null),tu=typeof document<"u",Ap=tu?C.useLayoutEffect:C.useEffect,Ux=C.createContext({strict:!1}),Op=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),g_="framerAppearId",$x="data-"+Op(g_);function v_(t,e,n,r){const{visualElement:o}=C.useContext(Zc),s=C.useContext(Ux),i=C.useContext(eu),a=C.useContext(Fx).reducedMotion,l=C.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:o,props:n,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;C.useInsertionEffect(()=>{c&&c.update(n,i)});const u=C.useRef(!!(n[$x]&&!window.HandoffComplete));return Ap(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),C.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function as(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function y_(t,e,n){return C.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):as(n)&&(n.current=r))},[e])}function Qi(t){return typeof t=="string"||Array.isArray(t)}function nu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Bp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Mp=["initial",...Bp];function ru(t){return nu(t.animate)||Mp.some(e=>Qi(t[e]))}function zx(t){return!!(ru(t)||t.variants)}function b_(t,e){if(ru(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Qi(n)?n:void 0,animate:Qi(r)?r:void 0}}return t.inherit!==!1?e:{}}function x_(t){const{initial:e,animate:n}=b_(t,C.useContext(Zc));return C.useMemo(()=>({initial:e,animate:n}),[Zg(e),Zg(n)])}function Zg(t){return Array.isArray(t)?t.join(" "):t}const ev={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zi={};for(const t in ev)Zi[t]={isEnabled:e=>ev[t].some(n=>!!e[n])};function w_(t){for(const e in t)Zi[e]={...Zi[e],...t[e]}}const Rp=C.createContext({}),Vx=C.createContext({}),k_=Symbol.for("motionComponentSymbol");function S_({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&w_(t);function s(a,l){let c;const u={...C.useContext(Fx),...a,layoutId:E_(a)},{isStatic:d}=u,h=x_(a),v=r(a,d);if(!d&&tu){h.visualElement=v_(o,v,u,e);const g=C.useContext(Vx),y=C.useContext(Ux).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,y,t,g))}return C.createElement(Zc.Provider,{value:h},c&&h.visualElement?C.createElement(c,{visualElement:h.visualElement,...u}):null,n(o,a,y_(v,h.visualElement,l),v,d,h.visualElement))}const i=C.forwardRef(s);return i[k_]=o,i}function E_({layoutId:t}){const e=C.useContext(Rp).id;return e&&t!==void 0?e+"-"+t:t}function T_(t){function e(r,o={}){return S_(t(r,o))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,o)=>(n.has(o)||n.set(o,e(o)),n.get(o))})}const C_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dp(t){return typeof t!="string"||t.includes("-")?!1:!!(C_.indexOf(t)>-1||/[A-Z]/.test(t))}const oc={};function __(t){Object.assign(oc,t)}const fa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$o=new Set(fa);function Hx(t,{layout:e,layoutId:n}){return $o.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!oc[t]||t==="opacity")}const Ot=t=>!!(t&&t.getVelocity),N_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},P_=fa.length;function I_(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,o){let s="";for(let i=0;i<P_;i++){const a=fa[i];if(t[a]!==void 0){const l=N_[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),o?s=o(t,r?"":s):n&&r&&(s="none"),s}const Wx=t=>e=>typeof e=="string"&&e.startsWith(t),Gx=Wx("--"),Rf=Wx("var(--"),j_=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,L_=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Gr=(t,e,n)=>Math.min(Math.max(n,t),e),zo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Si={...zo,transform:t=>Gr(0,1,t)},Ka={...zo,default:1},Ei=t=>Math.round(t*1e5)/1e5,ou=/(-)?([\d]*\.?[\d])+/g,qx=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,A_=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ha(t){return typeof t=="string"}const pa=t=>({test:e=>ha(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),mr=pa("deg"),Cn=pa("%"),Z=pa("px"),O_=pa("vh"),B_=pa("vw"),tv={...Cn,parse:t=>Cn.parse(t)/100,transform:t=>Cn.transform(t*100)},nv={...zo,transform:Math.round},Kx={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,size:Z,top:Z,right:Z,bottom:Z,left:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,rotate:mr,rotateX:mr,rotateY:mr,rotateZ:mr,scale:Ka,scaleX:Ka,scaleY:Ka,scaleZ:Ka,skew:mr,skewX:mr,skewY:mr,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:Si,originX:tv,originY:tv,originZ:Z,zIndex:nv,fillOpacity:Si,strokeOpacity:Si,numOctaves:nv};function Fp(t,e,n,r){const{style:o,vars:s,transform:i,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const d in e){const h=e[d];if(Gx(d)){s[d]=h;continue}const v=Kx[d],g=L_(h,v);if($o.has(d)){if(l=!0,i[d]=g,!u)continue;h!==(v.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=g):o[d]=g}if(e.transform||(l||r?o.transform=I_(t.transform,n,u,r):o.transform&&(o.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:v=0}=a;o.transformOrigin=`${d} ${h} ${v}`}}const Up=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Yx(t,e,n){for(const r in e)!Ot(e[r])&&!Hx(r,n)&&(t[r]=e[r])}function M_({transformTemplate:t},e,n){return C.useMemo(()=>{const r=Up();return Fp(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function R_(t,e,n){const r=t.style||{},o={};return Yx(o,r,t),Object.assign(o,M_(t,e,n)),t.transformValues?t.transformValues(o):o}function D_(t,e,n){const r={},o=R_(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=o,r}const F_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||F_.has(t)}let Xx=t=>!sc(t);function U_(t){t&&(Xx=e=>e.startsWith("on")?!sc(e):t(e))}try{U_(require("@emotion/is-prop-valid").default)}catch{}function $_(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(Xx(o)||n===!0&&sc(o)||!e&&!sc(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function rv(t,e,n){return typeof t=="string"?t:Z.transform(e+n*t)}function z_(t,e,n){const r=rv(e,t.x,t.width),o=rv(n,t.y,t.height);return`${r} ${o}`}const V_={offset:"stroke-dashoffset",array:"stroke-dasharray"},H_={offset:"strokeDashoffset",array:"strokeDasharray"};function W_(t,e,n=1,r=0,o=!0){t.pathLength=1;const s=o?V_:H_;t[s.offset]=Z.transform(-r);const i=Z.transform(e),a=Z.transform(n);t[s.array]=`${i} ${a}`}function $p(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:s,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...c},u,d,h){if(Fp(t,c,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:g,dimensions:y}=t;v.transform&&(y&&(g.transform=v.transform),delete v.transform),y&&(o!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=z_(y,o!==void 0?o:.5,s!==void 0?s:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),i!==void 0&&W_(v,i,a,l,!1)}const Jx=()=>({...Up(),attrs:{}}),zp=t=>typeof t=="string"&&t.toLowerCase()==="svg";function G_(t,e,n,r){const o=C.useMemo(()=>{const s=Jx();return $p(s,e,{enableHardwareAcceleration:!1},zp(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Yx(s,t.style,t),o.style={...s,...o.style}}return o}function q_(t=!1){return(n,r,o,{latestValues:s},i)=>{const l=(Dp(n)?G_:D_)(r,s,i,n),u={...$_(r,typeof n=="string",t),...l,ref:o},{children:d}=r,h=C.useMemo(()=>Ot(d)?d.get():d,[d]);return C.createElement(n,{...u,children:h})}}function Qx(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Zx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ew(t,e,n,r){Qx(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(Zx.has(o)?o:Op(o),e.attrs[o])}function Vp(t,e){const{style:n}=t,r={};for(const o in n)(Ot(n[o])||e.style&&Ot(e.style[o])||Hx(o,t))&&(r[o]=n[o]);return r}function tw(t,e){const n=Vp(t,e);for(const r in t)if(Ot(t[r])||Ot(e[r])){const o=fa.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=t[r]}return n}function Hp(t,e,n,r={},o={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),e}function nw(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const ic=t=>Array.isArray(t),K_=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Y_=t=>ic(t)?t[t.length-1]||0:t;function gl(t){const e=Ot(t)?t.get():t;return K_(e)?e.toValue():e}function X_({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,o,s){const i={latestValues:J_(r,o,s,t),renderState:e()};return n&&(i.mount=a=>n(r,a,i)),i}const rw=t=>(e,n)=>{const r=C.useContext(Zc),o=C.useContext(eu),s=()=>X_(t,e,r,o);return n?s():nw(s)};function J_(t,e,n,r){const o={},s=r(t,{});for(const h in s)o[h]=gl(s[h]);let{initial:i,animate:a}=t;const l=ru(t),c=zx(t);e&&c&&!l&&t.inherit!==!1&&(i===void 0&&(i=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||i===!1;const d=u?a:i;return d&&typeof d!="boolean"&&!nu(d)&&(Array.isArray(d)?d:[d]).forEach(v=>{const g=Hp(t,v);if(!g)return;const{transitionEnd:y,transition:x,...b}=g;for(const m in b){let p=b[m];if(Array.isArray(p)){const w=u?p.length-1:0;p=p[w]}p!==null&&(o[m]=p)}for(const m in y)o[m]=y[m]}),o}const $e=t=>t;class ov{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Q_(t){let e=new ov,n=new ov,r=0,o=!1,s=!1;const i=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&o,h=d?e:n;return c&&i.add(l),h.add(l)&&d&&o&&(r=e.order.length),l},cancel:l=>{n.remove(l),i.delete(l)},process:l=>{if(o){s=!0;return}if(o=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),i.has(u)&&(a.schedule(u),t())}o=!1,s&&(s=!1,a.process(l))}};return a}const Ya=["prepare","read","update","preRender","render","postRender"],Z_=40;function e2(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},s=Ya.reduce((d,h)=>(d[h]=Q_(()=>n=!0),d),{}),i=d=>s[d].process(o),a=()=>{const d=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(d-o.timestamp,Z_),1),o.timestamp=d,o.isProcessing=!0,Ya.forEach(i),o.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,o.isProcessing||t(a)};return{schedule:Ya.reduce((d,h)=>{const v=s[h];return d[h]=(g,y=!1,x=!1)=>(n||l(),v.schedule(g,y,x)),d},{}),cancel:d=>Ya.forEach(h=>s[h].cancel(d)),state:o,steps:s}}const{schedule:Se,cancel:or,state:dt,steps:sd}=e2(typeof requestAnimationFrame<"u"?requestAnimationFrame:$e,!0),t2={useVisualState:rw({scrapeMotionValuesFromProps:tw,createRenderState:Jx,onMount:(t,e,{renderState:n,latestValues:r})=>{Se.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Se.render(()=>{$p(n,r,{enableHardwareAcceleration:!1},zp(e.tagName),t.transformTemplate),ew(e,n)})}})},n2={useVisualState:rw({scrapeMotionValuesFromProps:Vp,createRenderState:Up})};function r2(t,{forwardMotionProps:e=!1},n,r){return{...Dp(t)?t2:n2,preloadedFeatures:n,useRender:q_(e),createVisualElement:r,Component:t}}function Vn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const ow=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function su(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const o2=t=>e=>ow(e)&&t(e,su(e));function Qn(t,e,n,r){return Vn(t,e,o2(n),r)}const s2=(t,e)=>n=>e(t(n)),Ur=(...t)=>t.reduce(s2);function sw(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const sv=sw("dragHorizontal"),iv=sw("dragVertical");function iw(t){let e=!1;if(t==="y")e=iv();else if(t==="x")e=sv();else{const n=sv(),r=iv();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function aw(){const t=iw(!0);return t?(t(),!1):!0}class eo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function av(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),o=(s,i)=>{if(s.pointerType==="touch"||aw())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Se.update(()=>a[r](s,i))};return Qn(t.current,n,o,{passive:!t.getProps()[r]})}class i2 extends eo{mount(){this.unmount=Ur(av(this.node,!0),av(this.node,!1))}unmount(){}}class a2 extends eo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ur(Vn(this.node.current,"focus",()=>this.onFocus()),Vn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const lw=(t,e)=>e?t===e?!0:lw(t,e.parentElement):!1;function id(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,su(n))}class l2 extends eo{constructor(){super(...arguments),this.removeStartListeners=$e,this.removeEndListeners=$e,this.removeAccessibleListeners=$e,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Qn(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps();Se.update(()=>{!d&&!lw(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),i=Qn(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ur(s,i),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||id("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Se.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Vn(this.node.current,"keyup",i),id("down",(a,l)=>{this.startPress(a,l)})},n=Vn(this.node.current,"keydown",e),r=()=>{this.isPressing&&id("cancel",(s,i)=>this.cancelPress(s,i))},o=Vn(this.node.current,"blur",r);this.removeAccessibleListeners=Ur(n,o)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Se.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!aw()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Se.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Qn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Vn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ur(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Df=new WeakMap,ad=new WeakMap,c2=t=>{const e=Df.get(t.target);e&&e(t)},u2=t=>{t.forEach(c2)};function d2({root:t,...e}){const n=t||document;ad.has(n)||ad.set(n,{});const r=ad.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(u2,{root:t,...e})),r[o]}function f2(t,e,n){const r=d2(e);return Df.set(t,n),r.observe(t),()=>{Df.delete(t),r.unobserve(t)}}const h2={some:0,all:1};class p2 extends eo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:s}=e,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:h2[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return f2(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(m2(e,n))&&this.startObserver()}unmount(){}}function m2({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const g2={inView:{Feature:p2},tap:{Feature:l2},focus:{Feature:a2},hover:{Feature:i2}};function cw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function v2(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function y2(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function iu(t,e,n){const r=t.getProps();return Hp(r,e,n!==void 0?n:r.custom,v2(t),y2(t))}let b2=$e,Wp=$e;const $r=t=>t*1e3,Zn=t=>t/1e3,x2={current:!1},uw=t=>Array.isArray(t)&&typeof t[0]=="number";function dw(t){return!!(!t||typeof t=="string"&&fw[t]||uw(t)||Array.isArray(t)&&t.every(dw))}const di=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,fw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:di([0,.65,.55,1]),circOut:di([.55,0,1,.45]),backIn:di([.31,.01,.66,-.59]),backOut:di([.33,1.53,.69,.99])};function hw(t){if(t)return uw(t)?di(t):Array.isArray(t)?t.map(hw):fw[t]}function w2(t,e,n,{delay:r=0,duration:o,repeat:s=0,repeatType:i="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=hw(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:o,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"})}function k2(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const pw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,S2=1e-7,E2=12;function T2(t,e,n,r,o){let s,i,a=0;do i=e+(n-e)/2,s=pw(i,r,o)-t,s>0?n=i:e=i;while(Math.abs(s)>S2&&++a<E2);return i}function ma(t,e,n,r){if(t===e&&n===r)return $e;const o=s=>T2(s,0,1,t,n);return s=>s===0||s===1?s:pw(o(s),e,r)}const C2=ma(.42,0,1,1),_2=ma(0,0,.58,1),mw=ma(.42,0,.58,1),N2=t=>Array.isArray(t)&&typeof t[0]!="number",gw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,vw=t=>e=>1-t(1-e),Gp=t=>1-Math.sin(Math.acos(t)),yw=vw(Gp),P2=gw(Gp),bw=ma(.33,1.53,.69,.99),qp=vw(bw),I2=gw(qp),j2=t=>(t*=2)<1?.5*qp(t):.5*(2-Math.pow(2,-10*(t-1))),L2={linear:$e,easeIn:C2,easeInOut:mw,easeOut:_2,circIn:Gp,circInOut:P2,circOut:yw,backIn:qp,backInOut:I2,backOut:bw,anticipate:j2},lv=t=>{if(Array.isArray(t)){Wp(t.length===4);const[e,n,r,o]=t;return ma(e,n,r,o)}else if(typeof t=="string")return L2[t];return t},Kp=(t,e)=>n=>!!(ha(n)&&A_.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),xw=(t,e,n)=>r=>{if(!ha(r))return r;const[o,s,i,a]=r.match(ou);return{[t]:parseFloat(o),[e]:parseFloat(s),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},A2=t=>Gr(0,255,t),ld={...zo,transform:t=>Math.round(A2(t))},mo={test:Kp("rgb","red"),parse:xw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ld.transform(t)+", "+ld.transform(e)+", "+ld.transform(n)+", "+Ei(Si.transform(r))+")"};function O2(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Ff={test:Kp("#"),parse:O2,transform:mo.transform},ls={test:Kp("hsl","hue"),parse:xw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Cn.transform(Ei(e))+", "+Cn.transform(Ei(n))+", "+Ei(Si.transform(r))+")"},vt={test:t=>mo.test(t)||Ff.test(t)||ls.test(t),parse:t=>mo.test(t)?mo.parse(t):ls.test(t)?ls.parse(t):Ff.parse(t),transform:t=>ha(t)?t:t.hasOwnProperty("red")?mo.transform(t):ls.transform(t)},Be=(t,e,n)=>-n*t+n*e+t;function cd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function B2({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,s=0,i=0;if(!e)o=s=i=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;o=cd(l,a,t+1/3),s=cd(l,a,t),i=cd(l,a,t-1/3)}return{red:Math.round(o*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:r}}const ud=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},M2=[Ff,mo,ls],R2=t=>M2.find(e=>e.test(t));function cv(t){const e=R2(t);let n=e.parse(t);return e===ls&&(n=B2(n)),n}const ww=(t,e)=>{const n=cv(t),r=cv(e),o={...n};return s=>(o.red=ud(n.red,r.red,s),o.green=ud(n.green,r.green,s),o.blue=ud(n.blue,r.blue,s),o.alpha=Be(n.alpha,r.alpha,s),mo.transform(o))};function D2(t){var e,n;return isNaN(t)&&ha(t)&&(((e=t.match(ou))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(qx))===null||n===void 0?void 0:n.length)||0)>0}const kw={regex:j_,countKey:"Vars",token:"${v}",parse:$e},Sw={regex:qx,countKey:"Colors",token:"${c}",parse:vt.parse},Ew={regex:ou,countKey:"Numbers",token:"${n}",parse:zo.parse};function dd(t,{regex:e,countKey:n,token:r,parse:o}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(o)))}function ac(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&dd(n,kw),dd(n,Sw),dd(n,Ew),n}function Tw(t){return ac(t).values}function Cw(t){const{values:e,numColors:n,numVars:r,tokenised:o}=ac(t),s=e.length;return i=>{let a=o;for(let l=0;l<s;l++)l<r?a=a.replace(kw.token,i[l]):l<r+n?a=a.replace(Sw.token,vt.transform(i[l])):a=a.replace(Ew.token,Ei(i[l]));return a}}const F2=t=>typeof t=="number"?0:t;function U2(t){const e=Tw(t);return Cw(t)(e.map(F2))}const qr={test:D2,parse:Tw,createTransformer:Cw,getAnimatableNone:U2},_w=(t,e)=>n=>`${n>0?e:t}`;function Nw(t,e){return typeof t=="number"?n=>Be(t,e,n):vt.test(t)?ww(t,e):t.startsWith("var(")?_w(t,e):Iw(t,e)}const Pw=(t,e)=>{const n=[...t],r=n.length,o=t.map((s,i)=>Nw(s,e[i]));return s=>{for(let i=0;i<r;i++)n[i]=o[i](s);return n}},$2=(t,e)=>{const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=Nw(t[o],e[o]));return o=>{for(const s in r)n[s]=r[s](o);return n}},Iw=(t,e)=>{const n=qr.createTransformer(e),r=ac(t),o=ac(e);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?Ur(Pw(r.values,o.values),n):_w(t,e)},ea=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},uv=(t,e)=>n=>Be(t,e,n);function z2(t){return typeof t=="number"?uv:typeof t=="string"?vt.test(t)?ww:Iw:Array.isArray(t)?Pw:typeof t=="object"?$2:uv}function V2(t,e,n){const r=[],o=n||z2(t[0]),s=t.length-1;for(let i=0;i<s;i++){let a=o(t[i],t[i+1]);if(e){const l=Array.isArray(e)?e[i]||$e:e;a=Ur(l,a)}r.push(a)}return r}function jw(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const s=t.length;if(Wp(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const i=V2(e,r,o),a=i.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=ea(t[u],t[u+1],c);return i[u](d)};return n?c=>l(Gr(t[0],t[s-1],c)):l}function H2(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=ea(0,e,r);t.push(Be(n,1,o))}}function W2(t){const e=[0];return H2(e,t.length-1),e}function G2(t,e){return t.map(n=>n*e)}function q2(t,e){return t.map(()=>e||mw).splice(0,t.length-1)}function lc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=N2(r)?r.map(lv):lv(r),s={done:!1,value:e[0]},i=G2(n&&n.length===e.length?n:W2(e),t),a=jw(i,e,{ease:Array.isArray(o)?o:q2(e,o)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function Lw(t,e){return e?t*(1e3/e):0}const K2=5;function Aw(t,e,n){const r=Math.max(e-K2,0);return Lw(n-t(r),e-r)}const fd=.001,Y2=.01,dv=10,X2=.05,J2=1;function Q2({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let o,s;b2(t<=$r(dv));let i=1-e;i=Gr(X2,J2,i),t=Gr(Y2,dv,Zn(t)),i<1?(o=c=>{const u=c*i,d=u*t,h=u-n,v=Uf(c,i),g=Math.exp(-d);return fd-h/v*g},s=c=>{const d=c*i*t,h=d*n+n,v=Math.pow(i,2)*Math.pow(c,2)*t,g=Math.exp(-d),y=Uf(Math.pow(c,2),i);return(-o(c)+fd>0?-1:1)*((h-v)*g)/y}):(o=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-fd+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=eN(o,s,a);if(t=$r(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:i*2*Math.sqrt(r*c),duration:t}}}const Z2=12;function eN(t,e,n){let r=n;for(let o=1;o<Z2;o++)r=r-t(r)/e(r);return r}function Uf(t,e){return t*Math.sqrt(1-e*e)}const tN=["duration","bounce"],nN=["stiffness","damping","mass"];function fv(t,e){return e.some(n=>t[n]!==void 0)}function rN(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!fv(t,nN)&&fv(t,tN)){const n=Q2(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function Ow({keyframes:t,restDelta:e,restSpeed:n,...r}){const o=t[0],s=t[t.length-1],i={done:!1,value:o},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:h}=rN({...r,velocity:-Zn(r.velocity||0)}),v=d||0,g=l/(2*Math.sqrt(a*c)),y=s-o,x=Zn(Math.sqrt(a/c)),b=Math.abs(y)<5;n||(n=b?.01:2),e||(e=b?.005:.5);let m;if(g<1){const p=Uf(x,g);m=w=>{const E=Math.exp(-g*x*w);return s-E*((v+g*x*y)/p*Math.sin(p*w)+y*Math.cos(p*w))}}else if(g===1)m=p=>s-Math.exp(-x*p)*(y+(v+x*y)*p);else{const p=x*Math.sqrt(g*g-1);m=w=>{const E=Math.exp(-g*x*w),N=Math.min(p*w,300);return s-E*((v+g*x*y)*Math.sinh(N)+p*y*Math.cosh(N))/p}}return{calculatedDuration:h&&u||null,next:p=>{const w=m(p);if(h)i.done=p>=u;else{let E=v;p!==0&&(g<1?E=Aw(m,p,w):E=0);const N=Math.abs(E)<=n,P=Math.abs(s-w)<=e;i.done=N&&P}return i.value=i.done?s:w,i}}}function hv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:i,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},v=k=>a!==void 0&&k<a||l!==void 0&&k>l,g=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let y=n*e;const x=d+y,b=i===void 0?x:i(x);b!==x&&(y=b-d);const m=k=>-y*Math.exp(-k/r),p=k=>b+m(k),w=k=>{const S=m(k),_=p(k);h.done=Math.abs(S)<=c,h.value=h.done?b:_};let E,N;const P=k=>{v(h.value)&&(E=k,N=Ow({keyframes:[h.value,g(h.value)],velocity:Aw(p,k,h.value),damping:o,stiffness:s,restDelta:c,restSpeed:u}))};return P(0),{calculatedDuration:null,next:k=>{let S=!1;return!N&&E===void 0&&(S=!0,w(k),P(k)),E!==void 0&&k>E?N.next(k-E):(!S&&w(k),h)}}}const oN=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Se.update(e,!0),stop:()=>or(e),now:()=>dt.isProcessing?dt.timestamp:performance.now()}},pv=2e4;function mv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<pv;)e+=n,r=t.next(e);return e>=pv?1/0:e}const sN={decay:hv,inertia:hv,tween:lc,keyframes:lc,spring:Ow};function cc({autoplay:t=!0,delay:e=0,driver:n=oN,keyframes:r,type:o="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...h}){let v=1,g=!1,y,x;const b=()=>{x=new Promise(z=>{y=z})};b();let m;const p=sN[o]||lc;let w;p!==lc&&typeof r[0]!="number"&&(w=jw([0,100],r,{clamp:!1}),r=[0,100]);const E=p({...h,keyframes:r});let N;a==="mirror"&&(N=p({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let P="idle",k=null,S=null,_=null;E.calculatedDuration===null&&s&&(E.calculatedDuration=mv(E));const{calculatedDuration:T}=E;let I=1/0,j=1/0;T!==null&&(I=T+i,j=I*(s+1)-i);let B=0;const L=z=>{if(S===null)return;v>0&&(S=Math.min(S,z)),v<0&&(S=Math.min(z-j/v,S)),k!==null?B=k:B=Math.round(z-S)*v;const V=B-e*(v>=0?1:-1),te=v>=0?V<0:V>j;B=Math.max(V,0),P==="finished"&&k===null&&(B=j);let Y=B,pe=E;if(s){const rt=Math.min(B,j)/I;let Le=Math.floor(rt),Fe=rt%1;!Fe&&rt>=1&&(Fe=1),Fe===1&&Le--,Le=Math.min(Le,s+1),!!(Le%2)&&(a==="reverse"?(Fe=1-Fe,i&&(Fe-=i/I)):a==="mirror"&&(pe=N)),Y=Gr(0,1,Fe)*I}const me=te?{done:!1,value:r[0]}:pe.next(Y);w&&(me.value=w(me.value));let{done:Pe}=me;!te&&T!==null&&(Pe=v>=0?B>=j:B<=0);const Tt=k===null&&(P==="finished"||P==="running"&&Pe);return d&&d(me.value),Tt&&O(),me},A=()=>{m&&m.stop(),m=void 0},D=()=>{P="idle",A(),y(),b(),S=_=null},O=()=>{P="finished",u&&u(),A(),y()},M=()=>{if(g)return;m||(m=n(L));const z=m.now();l&&l(),k!==null?S=z-k:(!S||P==="finished")&&(S=z),P==="finished"&&b(),_=S,k=null,P="running",m.start()};t&&M();const R={then(z,V){return x.then(z,V)},get time(){return Zn(B)},set time(z){z=$r(z),B=z,k!==null||!m||v===0?k=z:S=m.now()-z/v},get duration(){const z=E.calculatedDuration===null?mv(E):E.calculatedDuration;return Zn(z)},get speed(){return v},set speed(z){z===v||!m||(v=z,R.time=Zn(B))},get state(){return P},play:M,pause:()=>{P="paused",k=B},stop:()=>{g=!0,P!=="idle"&&(P="idle",c&&c(),D())},cancel:()=>{_!==null&&L(_),D()},complete:()=>{P="finished"},sample:z=>(S=0,L(z))};return R}function iN(t){let e;return()=>(e===void 0&&(e=t()),e)}const aN=iN(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),lN=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Xa=10,cN=2e4,uN=(t,e)=>e.type==="spring"||t==="backgroundColor"||!dw(e.ease);function dN(t,e,{onUpdate:n,onComplete:r,...o}){if(!(aN()&&lN.has(e)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let i=!1,a,l,c=!1;const u=()=>{l=new Promise(p=>{a=p})};u();let{keyframes:d,duration:h=300,ease:v,times:g}=o;if(uN(e,o)){const p=cc({...o,repeat:0,delay:0});let w={done:!1,value:d[0]};const E=[];let N=0;for(;!w.done&&N<cN;)w=p.sample(N),E.push(w.value),N+=Xa;g=void 0,d=E,h=N-Xa,v="linear"}const y=w2(t.owner.current,e,d,{...o,duration:h,ease:v,times:g}),x=()=>{c=!1,y.cancel()},b=()=>{c=!0,Se.update(x),a(),u()};return y.onfinish=()=>{c||(t.set(k2(d,o)),r&&r(),b())},{then(p,w){return l.then(p,w)},attachTimeline(p){return y.timeline=p,y.onfinish=null,$e},get time(){return Zn(y.currentTime||0)},set time(p){y.currentTime=$r(p)},get speed(){return y.playbackRate},set speed(p){y.playbackRate=p},get duration(){return Zn(h)},play:()=>{i||(y.play(),or(x))},pause:()=>y.pause(),stop:()=>{if(i=!0,y.playState==="idle")return;const{currentTime:p}=y;if(p){const w=cc({...o,autoplay:!1});t.setWithVelocity(w.sample(p-Xa).value,w.sample(p).value,Xa)}b()},complete:()=>{c||y.finish()},cancel:b}}function fN({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const o=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:$e,pause:$e,stop:$e,then:s=>(s(),Promise.resolve()),cancel:$e,complete:$e});return e?cc({keyframes:[0,1],duration:0,delay:e,onComplete:o}):o()}const hN={type:"spring",stiffness:500,damping:25,restSpeed:10},pN=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),mN={type:"keyframes",duration:.8},gN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vN=(t,{keyframes:e})=>e.length>2?mN:$o.has(t)?t.startsWith("scale")?pN(e[1]):hN:gN,$f=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(qr.test(e)||e==="0")&&!e.startsWith("url(")),yN=new Set(["brightness","contrast","saturate","opacity"]);function bN(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ou)||[];if(!r)return t;const o=n.replace(r,"");let s=yN.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+o+")"}const xN=/([a-z-]*)\(.*?\)/g,zf={...qr,getAnimatableNone:t=>{const e=t.match(xN);return e?e.map(bN).join(" "):t}},wN={...Kx,color:vt,backgroundColor:vt,outlineColor:vt,fill:vt,stroke:vt,borderColor:vt,borderTopColor:vt,borderRightColor:vt,borderBottomColor:vt,borderLeftColor:vt,filter:zf,WebkitFilter:zf},Yp=t=>wN[t];function Bw(t,e){let n=Yp(t);return n!==zf&&(n=qr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Mw=t=>/^0[^.\s]+$/.test(t);function kN(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||Mw(t)}function SN(t,e,n,r){const o=$f(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const i=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?i:s[c-1]),kN(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(o&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];s[u]=Bw(e,a)}return s}function EN({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:s,repeatType:i,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function Xp(t,e){return t[e]||t.default||t}const TN={skipAnimations:!1},Jp=(t,e,n,r={})=>o=>{const s=Xp(r,t)||{},i=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-$r(i);const l=SN(e,t,n,s),c=l[0],u=l[l.length-1],d=$f(t,c),h=$f(t,u);let v={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{o(),s.onComplete&&s.onComplete()}};if(EN(s)||(v={...v,...vN(t,v)}),v.duration&&(v.duration=$r(v.duration)),v.repeatDelay&&(v.repeatDelay=$r(v.repeatDelay)),!d||!h||x2.current||s.type===!1||TN.skipAnimations)return fN(v);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=dN(e,t,v);if(g)return g}return cc(v)};function uc(t){return!!(Ot(t)&&t.add)}const Rw=t=>/^\-?\d*\.?\d+$/.test(t);function Qp(t,e){t.indexOf(e)===-1&&t.push(e)}function Zp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class em{constructor(){this.subscriptions=[]}add(e){return Qp(this.subscriptions,e),()=>Zp(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let s=0;s<o;s++){const i=this.subscriptions[s];i&&i(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const CN=t=>!isNaN(parseFloat(t));class _N{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:i}=dt;this.lastUpdated!==i&&(this.timeDelta=s,this.lastUpdated=i,Se.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Se.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=CN(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new em);const r=this.events[e].add(n);return e==="change"?()=>{r(),Se.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Lw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Is(t,e){return new _N(t,e)}const Dw=t=>e=>e.test(t),NN={test:t=>t==="auto",parse:t=>t},Fw=[zo,Z,Cn,mr,B_,O_,NN],ri=t=>Fw.find(Dw(t)),PN=[...Fw,vt,qr],IN=t=>PN.find(Dw(t));function jN(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Is(n))}function LN(t,e){const n=iu(t,e);let{transitionEnd:r={},transition:o={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const i in s){const a=Y_(s[i]);jN(t,i,a)}}function AN(t,e,n){var r,o;const s=Object.keys(e).filter(a=>!t.hasValue(a)),i=s.length;if(i)for(let a=0;a<i;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(o=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&o!==void 0?o:e[l]),u!=null&&(typeof u=="string"&&(Rw(u)||Mw(u))?u=parseFloat(u):!IN(u)&&qr.test(c)&&(u=Bw(l,c)),t.addValue(l,Is(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function ON(t,e){return e?(e[t]||e.default||e).from:void 0}function BN(t,e,n){const r={};for(const o in t){const s=ON(o,e);if(s!==void 0)r[o]=s;else{const i=n.getValue(o);i&&(r[o]=i.get())}}return r}function MN({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function RN(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function Uw(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:i,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],u=o&&t.animationState&&t.animationState.getState()[o];for(const d in a){const h=t.getValue(d),v=a[d];if(!h||v===void 0||u&&MN(u,d))continue;const g={delay:n,elapsed:0,...Xp(s||{},d)};if(window.HandoffAppearAnimations){const b=t.getProps()[$x];if(b){const m=window.HandoffAppearAnimations(b,d,h,Se);m!==null&&(g.elapsed=m,g.isHandoff=!0)}}let y=!g.isHandoff&&!RN(h,v);if(g.type==="spring"&&(h.getVelocity()||g.velocity)&&(y=!1),h.animation&&(y=!1),y)continue;h.start(Jp(d,h,v,t.shouldReduceMotion&&$o.has(d)?{type:!1}:g));const x=h.animation;uc(l)&&(l.add(d),x.then(()=>l.remove(d))),c.push(x)}return i&&Promise.all(c).then(()=>{i&&LN(t,i)}),c}function Vf(t,e,n={}){const r=iu(t,e,n.custom);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const s=r?()=>Promise.all(Uw(t,r,n)):()=>Promise.resolve(),i=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=o;return DN(t,e,c+l,u,d,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[l,c]=a==="beforeChildren"?[s,i]:[i,s];return l().then(()=>c())}else return Promise.all([s(),i(n.delay)])}function DN(t,e,n=0,r=0,o=1,s){const i=[],a=(t.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(FN).forEach((c,u)=>{c.notify("AnimationStart",e),i.push(Vf(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(i)}function FN(t,e){return t.sortNodePosition(e)}function UN(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(s=>Vf(t,s,n));r=Promise.all(o)}else if(typeof e=="string")r=Vf(t,e,n);else{const o=typeof e=="function"?iu(t,e,n.custom):e;r=Promise.all(Uw(t,o,n))}return r.then(()=>t.notify("AnimationComplete",e))}const $N=[...Bp].reverse(),zN=Bp.length;function VN(t){return e=>Promise.all(e.map(({animation:n,options:r})=>UN(t,n,r)))}function HN(t){let e=VN(t);const n=GN();let r=!0;const o=(l,c)=>{const u=iu(t,c);if(u){const{transition:d,transitionEnd:h,...v}=u;l={...l,...v,...h}}return l};function s(l){e=l(t)}function i(l,c){const u=t.getProps(),d=t.getVariantContext(!0)||{},h=[],v=new Set;let g={},y=1/0;for(let b=0;b<zN;b++){const m=$N[b],p=n[m],w=u[m]!==void 0?u[m]:d[m],E=Qi(w),N=m===c?p.isActive:null;N===!1&&(y=b);let P=w===d[m]&&w!==u[m]&&E;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),p.protectedKeys={...g},!p.isActive&&N===null||!w&&!p.prevProp||nu(w)||typeof w=="boolean")continue;let S=WN(p.prevProp,w)||m===c&&p.isActive&&!P&&E||b>y&&E,_=!1;const T=Array.isArray(w)?w:[w];let I=T.reduce(o,{});N===!1&&(I={});const{prevResolvedValues:j={}}=p,B={...j,...I},L=A=>{S=!0,v.has(A)&&(_=!0,v.delete(A)),p.needsAnimating[A]=!0};for(const A in B){const D=I[A],O=j[A];if(g.hasOwnProperty(A))continue;let M=!1;ic(D)&&ic(O)?M=!cw(D,O):M=D!==O,M?D!==void 0?L(A):v.add(A):D!==void 0&&v.has(A)?L(A):p.protectedKeys[A]=!0}p.prevProp=w,p.prevResolvedValues=I,p.isActive&&(g={...g,...I}),r&&t.blockInitialAnimation&&(S=!1),S&&(!P||_)&&h.push(...T.map(A=>({animation:A,options:{type:m,...l}})))}if(v.size){const b={};v.forEach(m=>{const p=t.getBaseTarget(m);p!==void 0&&(b[m]=p)}),h.push({animation:b})}let x=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(h):Promise.resolve()}function a(l,c,u){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(v=>{var g;return(g=v.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const h=i(u,l);for(const v in n)n[v].protectedKeys={};return h}return{animateChanges:i,setActive:a,setAnimateFunction:s,getState:()=>n}}function WN(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!cw(e,t):!1}function oo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GN(){return{animate:oo(!0),whileInView:oo(),whileHover:oo(),whileTap:oo(),whileDrag:oo(),whileFocus:oo(),exit:oo()}}class qN extends eo{constructor(e){super(e),e.animationState||(e.animationState=HN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),nu(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let KN=0;class YN extends eo{constructor(){super(...arguments),this.id=KN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const XN={animation:{Feature:qN},exit:{Feature:YN}},gv=(t,e)=>Math.abs(t-e);function JN(t,e){const n=gv(t.x,e.x),r=gv(t.y,e.y);return Math.sqrt(n**2+r**2)}class $w{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=pd(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,v=JN(d.offset,{x:0,y:0})>=3;if(!h&&!v)return;const{point:g}=d,{timestamp:y}=dt;this.history.push({...g,timestamp:y});const{onStart:x,onMove:b}=this.handlers;h||(x&&x(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=hd(h,this.transformPagePoint),Se.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:v,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=pd(d.type==="pointercancel"?this.lastMoveEventInfo:hd(h,this.transformPagePoint),this.history);this.startEvent&&v&&v(d,x),g&&g(d,x)},!ow(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const i=su(e),a=hd(i,this.transformPagePoint),{point:l}=a,{timestamp:c}=dt;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,pd(a,this.history)),this.removeListeners=Ur(Qn(this.contextWindow,"pointermove",this.handlePointerMove),Qn(this.contextWindow,"pointerup",this.handlePointerUp),Qn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),or(this.updatePoint)}}function hd(t,e){return e?{point:e(t.point)}:t}function vv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function pd({point:t},e){return{point:t,delta:vv(t,zw(e)),offset:vv(t,QN(e)),velocity:ZN(e,.1)}}function QN(t){return t[0]}function zw(t){return t[t.length-1]}function ZN(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=zw(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>$r(e)));)n--;if(!r)return{x:0,y:0};const s=Zn(o.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const i={x:(o.x-r.x)/s,y:(o.y-r.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function zt(t){return t.max-t.min}function Hf(t,e=0,n=.01){return Math.abs(t-e)<=n}function yv(t,e,n,r=.5){t.origin=r,t.originPoint=Be(e.min,e.max,t.origin),t.scale=zt(n)/zt(e),(Hf(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Be(n.min,n.max,t.origin)-t.originPoint,(Hf(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Ti(t,e,n,r){yv(t.x,e.x,n.x,r?r.originX:void 0),yv(t.y,e.y,n.y,r?r.originY:void 0)}function bv(t,e,n){t.min=n.min+e.min,t.max=t.min+zt(e)}function eP(t,e,n){bv(t.x,e.x,n.x),bv(t.y,e.y,n.y)}function xv(t,e,n){t.min=e.min-n.min,t.max=t.min+zt(e)}function Ci(t,e,n){xv(t.x,e.x,n.x),xv(t.y,e.y,n.y)}function tP(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Be(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Be(n,t,r.max):Math.min(t,n)),t}function wv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function nP(t,{top:e,left:n,bottom:r,right:o}){return{x:wv(t.x,n,o),y:wv(t.y,e,r)}}function kv(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function rP(t,e){return{x:kv(t.x,e.x),y:kv(t.y,e.y)}}function oP(t,e){let n=.5;const r=zt(t),o=zt(e);return o>r?n=ea(e.min,e.max-r,t.min):r>o&&(n=ea(t.min,t.max-o,e.min)),Gr(0,1,n)}function sP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Wf=.35;function iP(t=Wf){return t===!1?t=0:t===!0&&(t=Wf),{x:Sv(t,"left","right"),y:Sv(t,"top","bottom")}}function Sv(t,e,n){return{min:Ev(t,e),max:Ev(t,n)}}function Ev(t,e){return typeof t=="number"?t:t[e]||0}const Tv=()=>({translate:0,scale:1,origin:0,originPoint:0}),cs=()=>({x:Tv(),y:Tv()}),Cv=()=>({min:0,max:0}),We=()=>({x:Cv(),y:Cv()});function Gt(t){return[t("x"),t("y")]}function Vw({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function aP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function lP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function md(t){return t===void 0||t===1}function Gf({scale:t,scaleX:e,scaleY:n}){return!md(t)||!md(e)||!md(n)}function ao(t){return Gf(t)||Hw(t)||t.z||t.rotate||t.rotateX||t.rotateY}function Hw(t){return _v(t.x)||_v(t.y)}function _v(t){return t&&t!=="0%"}function dc(t,e,n){const r=t-n,o=e*r;return n+o}function Nv(t,e,n,r,o){return o!==void 0&&(t=dc(t,o,r)),dc(t,n,r)+e}function qf(t,e=0,n=1,r,o){t.min=Nv(t.min,e,n,r,o),t.max=Nv(t.max,e,n,r,o)}function Ww(t,{x:e,y:n}){qf(t.x,e.translate,e.scale,e.originPoint),qf(t.y,n.translate,n.scale,n.originPoint)}function cP(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let s,i;for(let a=0;a<o;a++){s=n[a],i=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&us(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(e.x*=i.x.scale,e.y*=i.y.scale,Ww(t,i)),r&&ao(s.latestValues)&&us(t,s.latestValues))}e.x=Pv(e.x),e.y=Pv(e.y)}function Pv(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function yr(t,e){t.min=t.min+e,t.max=t.max+e}function Iv(t,e,[n,r,o]){const s=e[o]!==void 0?e[o]:.5,i=Be(t.min,t.max,s);qf(t,e[n],e[r],i,e.scale)}const uP=["x","scaleX","originX"],dP=["y","scaleY","originY"];function us(t,e){Iv(t.x,e,uP),Iv(t.y,e,dP)}function Gw(t,e){return Vw(lP(t.getBoundingClientRect(),e))}function fP(t,e,n){const r=Gw(t,n),{scroll:o}=e;return o&&(yr(r.x,o.offset.x),yr(r.y,o.offset.y)),r}const qw=({current:t})=>t?t.ownerDocument.defaultView:null,hP=new WeakMap;class pP{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=We(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(su(u,"page").point)},s=(u,d)=>{const{drag:h,dragPropagation:v,onDragStart:g}=this.getProps();if(h&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=iw(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gt(x=>{let b=this.getAxisMotionValue(x).get()||0;if(Cn.test(b)){const{projection:m}=this.visualElement;if(m&&m.layout){const p=m.layout.layoutBox[x];p&&(b=zt(p)*(parseFloat(b)/100))}}this.originPoint[x]=b}),g&&Se.update(()=>g(u,d),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},i=(u,d)=>{const{dragPropagation:h,dragDirectionLock:v,onDirectionLock:g,onDrag:y}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:x}=d;if(v&&this.currentDirection===null){this.currentDirection=mP(x),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,x),this.updateAxis("y",d.point,x),this.visualElement.render(),y&&y(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Gt(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new $w(e,{onSessionStart:o,onStart:s,onMove:i,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:qw(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&Se.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!Ja(e,o,this.currentDirection))return;const s=this.getAxisMotionValue(e);let i=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(i=tP(i,this.constraints[e],this.elastic[e])),s.set(i)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&as(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=nP(o.layoutBox,n):this.constraints=!1,this.elastic=iP(r),s!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Gt(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=sP(o.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!as(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const s=fP(r,o.root,this.visualElement.getTransformPagePoint());let i=rP(o.layout.layoutBox,s);if(n){const a=n(aP(i));this.hasMutatedConstraints=!!a,a&&(i=Vw(a))}return i}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Gt(u=>{if(!Ja(u,n,this.currentDirection))return;let d=l&&l[u]||{};i&&(d={min:0,max:0});const h=o?200:1e6,v=o?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Jp(e,r,0,n))}stopAnimation(){Gt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Gt(n=>{const{drag:r}=this.getProps();if(!Ja(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,s=this.getAxisMotionValue(n);if(o&&o.layout){const{min:i,max:a}=o.layout.layoutBox[n];s.set(e[n]-Be(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!as(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Gt(i=>{const a=this.getAxisMotionValue(i);if(a){const l=a.get();o[i]=oP({min:l,max:l},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gt(i=>{if(!Ja(i,e,null))return;const a=this.getAxisMotionValue(i),{min:l,max:c}=this.constraints[i];a.set(Be(l,c,o[i]))})}addListeners(){if(!this.visualElement.current)return;hP.set(this.visualElement,this);const e=this.visualElement.current,n=Qn(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();as(l)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,s=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const i=Vn(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Gt(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{i(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:s=!1,dragElastic:i=Wf,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:s,dragElastic:i,dragMomentum:a}}}function Ja(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function mP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class gP extends eo{constructor(e){super(e),this.removeGroupControls=$e,this.removeListeners=$e,this.controls=new pP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$e}unmount(){this.removeGroupControls(),this.removeListeners()}}const jv=t=>(e,n)=>{t&&Se.update(()=>t(e,n))};class vP extends eo{constructor(){super(...arguments),this.removePointerDownListener=$e}onPointerDown(e){this.session=new $w(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:jv(e),onStart:jv(n),onMove:r,onEnd:(s,i)=>{delete this.session,o&&Se.update(()=>o(s,i))}}}mount(){this.removePointerDownListener=Qn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function yP(){const t=C.useContext(eu);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,o=C.useId();return C.useEffect(()=>r(o),[]),!e&&n?[!1,()=>n&&n(o)]:[!0]}const vl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Lv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const oi={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Z.test(t))t=parseFloat(t);else return t;const n=Lv(t,e.target.x),r=Lv(t,e.target.y);return`${n}% ${r}%`}},bP={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=qr.parse(t);if(o.length>5)return r;const s=qr.createTransformer(t),i=typeof o[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;o[0+i]/=a,o[1+i]/=l;const c=Be(a,l,.5);return typeof o[2+i]=="number"&&(o[2+i]/=c),typeof o[3+i]=="number"&&(o[3+i]/=c),s(o)}};class xP extends Q.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:s}=e;__(wP),s&&(n.group&&n.group.add(s),r&&r.register&&o&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),vl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:s}=this.props,i=r.projection;return i&&(i.isPresent=s,o||e.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?i.promote():i.relegate()||Se.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Kw(t){const[e,n]=yP(),r=C.useContext(Rp);return Q.createElement(xP,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(Vx),isPresent:e,safeToRemove:n})}const wP={borderRadius:{...oi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:oi,borderTopRightRadius:oi,borderBottomLeftRadius:oi,borderBottomRightRadius:oi,boxShadow:bP},Yw=["TopLeft","TopRight","BottomLeft","BottomRight"],kP=Yw.length,Av=t=>typeof t=="string"?parseFloat(t):t,Ov=t=>typeof t=="number"||Z.test(t);function SP(t,e,n,r,o,s){o?(t.opacity=Be(0,n.opacity!==void 0?n.opacity:1,EP(r)),t.opacityExit=Be(e.opacity!==void 0?e.opacity:1,0,TP(r))):s&&(t.opacity=Be(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<kP;i++){const a=`border${Yw[i]}Radius`;let l=Bv(e,a),c=Bv(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Ov(l)===Ov(c)?(t[a]=Math.max(Be(Av(l),Av(c),r),0),(Cn.test(c)||Cn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Be(e.rotate||0,n.rotate||0,r))}function Bv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const EP=Xw(0,.5,yw),TP=Xw(.5,.95,$e);function Xw(t,e,n){return r=>r<t?0:r>e?1:n(ea(t,e,r))}function Mv(t,e){t.min=e.min,t.max=e.max}function Wt(t,e){Mv(t.x,e.x),Mv(t.y,e.y)}function Rv(t,e,n,r,o){return t-=e,t=dc(t,1/n,r),o!==void 0&&(t=dc(t,1/o,r)),t}function CP(t,e=0,n=1,r=.5,o,s=t,i=t){if(Cn.test(e)&&(e=parseFloat(e),e=Be(i.min,i.max,e/100)-i.min),typeof e!="number")return;let a=Be(s.min,s.max,r);t===s&&(a-=e),t.min=Rv(t.min,e,n,a,o),t.max=Rv(t.max,e,n,a,o)}function Dv(t,e,[n,r,o],s,i){CP(t,e[n],e[r],e[o],e.scale,s,i)}const _P=["x","scaleX","originX"],NP=["y","scaleY","originY"];function Fv(t,e,n,r){Dv(t.x,e,_P,n?n.x:void 0,r?r.x:void 0),Dv(t.y,e,NP,n?n.y:void 0,r?r.y:void 0)}function Uv(t){return t.translate===0&&t.scale===1}function Jw(t){return Uv(t.x)&&Uv(t.y)}function PP(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function Qw(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function $v(t){return zt(t.x)/zt(t.y)}class IP{constructor(){this.members=[]}add(e){Qp(this.members,e),e.scheduleRender()}remove(e){if(Zp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const s=this.members[o];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zv(t,e,n){let r="";const o=t.x.translate/e.x,s=t.y.translate/e.y;if((o||s)&&(r=`translate3d(${o}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const i=t.x.scale*e.x,a=t.y.scale*e.y;return(i!==1||a!==1)&&(r+=`scale(${i}, ${a})`),r||"none"}const jP=(t,e)=>t.depth-e.depth;class LP{constructor(){this.children=[],this.isDirty=!1}add(e){Qp(this.children,e),this.isDirty=!0}remove(e){Zp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(jP),this.isDirty=!1,this.children.forEach(e)}}function AP(t,e){const n=performance.now(),r=({timestamp:o})=>{const s=o-n;s>=e&&(or(r),t(s-e))};return Se.read(r,!0),()=>or(r)}function OP(t){window.MotionDebug&&window.MotionDebug.record(t)}function BP(t){return t instanceof SVGElement&&t.tagName!=="svg"}function MP(t,e,n){const r=Ot(t)?t:Is(t);return r.start(Jp("",r,e,n)),r.animation}const Vv=["","X","Y","Z"],RP={visibility:"hidden"},Hv=1e3;let DP=0;const lo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Zw({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(i={},a=e==null?void 0:e()){this.id=DP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,lo.totalNodes=lo.resolvedTargetDeltas=lo.recalculatedProjection=0,this.nodes.forEach($P),this.nodes.forEach(GP),this.nodes.forEach(qP),this.nodes.forEach(zP),OP(lo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new LP)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new em),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const l=this.eventHandlers.get(i);l&&l.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=BP(i),this.instance=i;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(i,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=AP(h,250),vl.hasAnimatedSinceResize&&(vl.hasAnimatedSinceResize=!1,this.nodes.forEach(Gv))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:v,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||QP,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=u.getProps(),m=!this.targetLayout||!Qw(this.targetLayout,g)||v,p=!h&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||p||h&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,p);const w={...Xp(y,"layout"),onPlay:x,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else h||Gv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,or(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(KP),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Wv);return}this.isUpdating||this.nodes.forEach(HP),this.isUpdating=!1,this.nodes.forEach(WP),this.nodes.forEach(FP),this.nodes.forEach(UP),this.clearAllSnapshots();const a=performance.now();dt.delta=Gr(0,1e3/60,a-dt.timestamp),dt.timestamp=a,dt.isProcessing=!0,sd.update.process(dt),sd.preRender.process(dt),sd.render.process(dt),dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(VP),this.sharedNodes.forEach(YP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=We(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const i=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Jw(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;i&&(a||ao(this.latestValues)||u)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return i&&(l=this.removeTransform(l)),ZP(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return We();const a=i.measureViewportBox(),{scroll:l}=this.root;return l&&(yr(a.x,l.offset.x),yr(a.y,l.offset.y)),a}removeElementScroll(i){const a=We();Wt(a,i);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){Wt(a,i);const{scroll:h}=this.root;h&&(yr(a.x,-h.offset.x),yr(a.y,-h.offset.y))}yr(a.x,u.offset.x),yr(a.y,u.offset.y)}}return a}applyTransform(i,a=!1){const l=We();Wt(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&us(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ao(u.latestValues)&&us(l,u.latestValues)}return ao(this.latestValues)&&us(l,this.latestValues),l}removeTransform(i){const a=We();Wt(a,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ao(c.latestValues))continue;Gf(c.latestValues)&&c.updateSnapshot();const u=We(),d=c.measurePageBox();Wt(u,d),Fv(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return ao(this.latestValues)&&Fv(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=dt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),Ci(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Wt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=We(),this.targetWithTransforms=We()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wt(this.target,this.layout.layoutBox),Ww(this.target,this.targetDelta)):Wt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),Ci(this.relativeTargetOrigin,this.target,v.target),Wt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}lo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Gf(this.parent.latestValues)||Hw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===dt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Wt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,v=this.treeScale.y;cP(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=cs(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=cs(),this.projectionDeltaWithTransform=cs());const y=this.projectionTransform;Ti(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=zv(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==h||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),lo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=cs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=We(),v=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=v!==g,x=this.getStack(),b=!x||x.members.length<=1,m=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(JP));this.animationProgress=0;let p;this.mixTargetDelta=w=>{const E=w/1e3;qv(d.x,i.x,E),qv(d.y,i.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ci(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XP(this.relativeTarget,this.relativeTargetOrigin,h,E),p&&PP(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||(p=We()),Wt(p,this.relativeTarget)),y&&(this.animationValues=u,SP(u,c,this.latestValues,E,m,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(or(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Se.update(()=>{vl.hasAnimatedSinceResize=!0,this.currentAnimation=MP(0,Hv,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Hv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=i;if(!(!a||!l||!c)){if(this!==i&&this.layout&&c&&e1(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||We();const d=zt(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+d;const h=zt(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+h}Wt(a,l),us(a,u),Ti(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new IP),this.sharedNodes.get(i).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:l}=i;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<Vv.length;u++){const d="rotate"+Vv[u];l[d]&&(c[d]=l[d],i.setStaticValue(d,0))}i.render();for(const u in c)i.setStaticValue(u,c[u]);i.scheduleRender()}getProjectionStyles(i){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return RP;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=gl(i==null?void 0:i.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=gl(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!ao(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=zv(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:v,y:g}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${g.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in oc){if(h[y]===void 0)continue;const{correct:x,applyTo:b}=oc[y],m=c.transform==="none"?h[y]:x(h[y],d);if(b){const p=b.length;for(let w=0;w<p;w++)c[b[w]]=m}else c[y]=m}return this.options.layoutId&&(c.pointerEvents=d===this?gl(i==null?void 0:i.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Wv),this.root.sharedNodes.clear()}}}function FP(t){t.updateLayout()}function UP(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:s}=t.options,i=n.source!==t.layout.source;s==="size"?Gt(d=>{const h=i?n.measuredBox[d]:n.layoutBox[d],v=zt(h);h.min=r[d].min,h.max=h.min+v}):e1(s,n.layoutBox,r)&&Gt(d=>{const h=i?n.measuredBox[d]:n.layoutBox[d],v=zt(r[d]);h.max=h.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+v)});const a=cs();Ti(a,r,n.layoutBox);const l=cs();i?Ti(l,t.applyTransform(o,!0),n.measuredBox):Ti(l,r,n.layoutBox);const c=!Jw(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:v}=d;if(h&&v){const g=We();Ci(g,n.layoutBox,h.layoutBox);const y=We();Ci(y,r,v.layoutBox),Qw(g,y)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function $P(t){lo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function zP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function VP(t){t.clearSnapshot()}function Wv(t){t.clearMeasurements()}function HP(t){t.isLayoutDirty=!1}function WP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Gv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function GP(t){t.resolveTargetDelta()}function qP(t){t.calcProjection()}function KP(t){t.resetRotation()}function YP(t){t.removeLeadSnapshot()}function qv(t,e,n){t.translate=Be(e.translate,0,n),t.scale=Be(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Kv(t,e,n,r){t.min=Be(e.min,n.min,r),t.max=Be(e.max,n.max,r)}function XP(t,e,n,r){Kv(t.x,e.x,n.x,r),Kv(t.y,e.y,n.y,r)}function JP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const QP={duration:.45,ease:[.4,0,.1,1]},Yv=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Xv=Yv("applewebkit/")&&!Yv("chrome/")?Math.round:$e;function Jv(t){t.min=Xv(t.min),t.max=Xv(t.max)}function ZP(t){Jv(t.x),Jv(t.y)}function e1(t,e,n){return t==="position"||t==="preserve-aspect"&&!Hf($v(e),$v(n),.2)}const eI=Zw({attachResizeListener:(t,e)=>Vn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gd={current:void 0},t1=Zw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gd.current){const t=new eI({});t.mount(window),t.setOptions({layoutScroll:!0}),gd.current=t}return gd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),tI={pan:{Feature:vP},drag:{Feature:gP,ProjectionNode:t1,MeasureLayout:Kw}},nI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function rI(t){const e=nI.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Kf(t,e,n=1){const[r,o]=rI(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const i=s.trim();return Rw(i)?parseFloat(i):i}else return Rf(o)?Kf(o,e,n+1):o}function oI(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(o=>{const s=o.get();if(!Rf(s))return;const i=Kf(s,r);i&&o.set(i)});for(const o in e){const s=e[o];if(!Rf(s))continue;const i=Kf(s,r);i&&(e[o]=i,n||(n={}),n[o]===void 0&&(n[o]=s))}return{target:e,transitionEnd:n}}const sI=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),n1=t=>sI.has(t),iI=t=>Object.keys(t).some(n1),Qv=t=>t===zo||t===Z,Zv=(t,e)=>parseFloat(t.split(", ")[e]),e0=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return Zv(o[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?Zv(s[1],t):0}},aI=new Set(["x","y","z"]),lI=fa.filter(t=>!aI.has(t));function cI(t){const e=[];return lI.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const js={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:e0(4,13),y:e0(5,14)};js.translateX=js.x;js.translateY=js.y;const uI=(t,e,n)=>{const r=e.measureViewportBox(),o=e.current,s=getComputedStyle(o),{display:i}=s,a={};i==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=js[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=js[c](l,s)}),t},dI=(t,e,n={},r={})=>{e={...e},r={...r};const o=Object.keys(e).filter(n1);let s=[],i=!1;const a=[];if(o.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],d=ri(u);const h=e[l];let v;if(ic(h)){const g=h.length,y=h[0]===null?1:0;u=h[y],d=ri(u);for(let x=y;x<g&&h[x]!==null;x++)v?Wp(ri(h[x])===v):v=ri(h[x])}else v=ri(h);if(d!==v)if(Qv(d)&&Qv(v)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&v===Z&&(e[l]=h.map(parseFloat))}else d!=null&&d.transform&&(v!=null&&v.transform)&&(u===0||h===0)?u===0?c.set(v.transform(u)):e[l]=d.transform(h):(i||(s=cI(t),i=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=uI(e,t,a);return s.length&&s.forEach(([u,d])=>{t.getValue(u).set(d)}),t.render(),tu&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function fI(t,e,n,r){return iI(e)?dI(t,e,n,r):{target:e,transitionEnd:r}}const hI=(t,e,n,r)=>{const o=oI(t,e,r);return e=o.target,r=o.transitionEnd,fI(t,e,n,r)},Yf={current:null},r1={current:!1};function pI(){if(r1.current=!0,!!tu)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yf.current=t.matches;t.addListener(e),e()}else Yf.current=!1}function mI(t,e,n){const{willChange:r}=e;for(const o in e){const s=e[o],i=n[o];if(Ot(s))t.addValue(o,s),uc(r)&&r.add(o);else if(Ot(i))t.addValue(o,Is(s,{owner:t})),uc(r)&&r.remove(o);else if(i!==s)if(t.hasValue(o)){const a=t.getValue(o);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(o);t.addValue(o,Is(a!==void 0?a:s,{owner:t}))}}for(const o in n)e[o]===void 0&&t.removeValue(o);return e}const t0=new WeakMap,o1=Object.keys(Zi),gI=o1.length,n0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],vI=Mp.length;class yI{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,visualState:s},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Se.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=i,this.isControllingVariants=ru(n),this.isVariantNode=zx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const h=u[d];a[d]!==void 0&&Ot(h)&&(h.set(a[d],!1),uc(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,t0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),r1.current||pI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){t0.delete(this.current),this.projection&&this.projection.unmount(),or(this.notifyUpdate),or(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=$o.has(e),o=n.on("change",i=>{this.latestValues[e]=i,this.props.onUpdate&&Se.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,o,s){let i,a;for(let l=0;l<gI;l++){const c=o1[l],{isEnabled:u,Feature:d,ProjectionNode:h,MeasureLayout:v}=Zi[c];h&&(i=h),u(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),v&&(a=v))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:v}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&as(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:v})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):We()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<n0.length;r++){const o=n0[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const s=e["on"+o];s&&(this.propEventSubscriptions[o]=this.on(o,s))}this.prevMotionValues=mI(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<vI;r++){const o=Mp[r],s=this.props[o];(Qi(s)||s===!1)&&(n[o]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Is(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=Hp(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&o!==void 0)return o;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ot(s)?s:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new em),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class s1 extends yI{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:o},s){let i=BN(r,e||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),i&&(i=o(i))),s){AN(this,r,i);const a=hI(this,r,i,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function bI(t){return window.getComputedStyle(t)}class xI extends s1{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if($o.has(n)){const r=Yp(n);return r&&r.default||0}else{const r=bI(e),o=(Gx(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Gw(e,n)}build(e,n,r,o){Fp(e,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Vp(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ot(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,o){Qx(e,n,r,o)}}class wI extends s1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if($o.has(n)){const r=Yp(n);return r&&r.default||0}return n=Zx.has(n)?n:Op(n),e.getAttribute(n)}measureInstanceViewportBox(){return We()}scrapeMotionValuesFromProps(e,n){return tw(e,n)}build(e,n,r,o){$p(e,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(e,n,r,o){ew(e,n,r,o)}mount(e){this.isSVGTag=zp(e.tagName),super.mount(e)}}const kI=(t,e)=>Dp(t)?new wI(e,{enableHardwareAcceleration:!1}):new xI(e,{enableHardwareAcceleration:!0}),SI={layout:{ProjectionNode:t1,MeasureLayout:Kw}},EI={...XN,...g2,...tI,...SI},TI=T_((t,e)=>r2(t,e,EI,kI));function i1(){const t=C.useRef(!1);return Ap(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function CI(){const t=i1(),[e,n]=C.useState(0),r=C.useCallback(()=>{t.current&&n(e+1)},[e]);return[C.useCallback(()=>Se.postRender(r),[r]),e]}class _I extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function NI({children:t,isPresent:e}){const n=C.useId(),r=C.useRef(null),o=C.useRef({width:0,height:0,top:0,left:0});return C.useInsertionEffect(()=>{const{width:s,height:i,top:a,left:l}=o.current;if(e||!r.current||!s||!i)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${i}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),C.createElement(_I,{isPresent:e,childRef:r,sizeRef:o},C.cloneElement(t,{ref:r}))}const vd=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:s,mode:i})=>{const a=nw(PI),l=C.useId(),c=C.useMemo(()=>({id:l,initial:e,isPresent:n,custom:o,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?void 0:[n]);return C.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),C.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(t=C.createElement(NI,{isPresent:n},t)),C.createElement(eu.Provider,{value:c},t)};function PI(){return new Map}function II(t){return C.useEffect(()=>()=>t(),[])}const co=t=>t.key||"";function jI(t,e){t.forEach(n=>{const r=co(n);e.set(r,n)})}function LI(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const AI=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:s=!0,mode:i="sync"})=>{const a=C.useContext(Rp).forceRender||CI()[0],l=i1(),c=LI(t);let u=c;const d=C.useRef(new Map).current,h=C.useRef(u),v=C.useRef(new Map).current,g=C.useRef(!0);if(Ap(()=>{g.current=!1,jI(c,v),h.current=u}),II(()=>{g.current=!0,v.clear(),d.clear()}),g.current)return C.createElement(C.Fragment,null,u.map(m=>C.createElement(vd,{key:co(m),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:i},m)));u=[...u];const y=h.current.map(co),x=c.map(co),b=y.length;for(let m=0;m<b;m++){const p=y[m];x.indexOf(p)===-1&&!d.has(p)&&d.set(p,void 0)}return i==="wait"&&d.size&&(u=[]),d.forEach((m,p)=>{if(x.indexOf(p)!==-1)return;const w=v.get(p);if(!w)return;const E=y.indexOf(p);let N=m;if(!N){const P=()=>{d.delete(p);const k=Array.from(v.keys()).filter(S=>!x.includes(S));if(k.forEach(S=>v.delete(S)),h.current=c.filter(S=>{const _=co(S);return _===p||k.includes(_)}),!d.size){if(l.current===!1)return;a(),r&&r()}};N=C.createElement(vd,{key:co(w),isPresent:!1,onExitComplete:P,custom:e,presenceAffectsLayout:s,mode:i},w),d.set(p,N)}u.splice(E,0,N)}),u=u.map(m=>{const p=m.key;return d.has(p)?m:C.createElement(vd,{key:co(m),isPresent:!0,presenceAffectsLayout:s,mode:i},m)}),C.createElement(C.Fragment,null,d.size?u:u.map(m=>C.cloneElement(m)))},Me=({children:t,keyValue:e,initial:n={opacity:0},animate:r={opacity:1},transition:o={duration:1},className:s})=>f.jsx(AI,{children:f.jsx(TI.div,{initial:n,animate:r,transition:o,className:s,children:t},e)});function a1(t,e){return function(){return t.apply(e,arguments)}}const{toString:OI}=Object.prototype,{getPrototypeOf:tm}=Object,{iterator:au,toStringTag:l1}=Symbol,lu=(t=>e=>{const n=OI.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),pn=t=>(t=t.toLowerCase(),e=>lu(e)===t),cu=t=>e=>typeof e===t,{isArray:$s}=Array,ta=cu("undefined");function BI(t){return t!==null&&!ta(t)&&t.constructor!==null&&!ta(t.constructor)&&At(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const c1=pn("ArrayBuffer");function MI(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&c1(t.buffer),e}const RI=cu("string"),At=cu("function"),u1=cu("number"),uu=t=>t!==null&&typeof t=="object",DI=t=>t===!0||t===!1,yl=t=>{if(lu(t)!=="object")return!1;const e=tm(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(l1 in t)&&!(au in t)},FI=pn("Date"),UI=pn("File"),$I=pn("Blob"),zI=pn("FileList"),VI=t=>uu(t)&&At(t.pipe),HI=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||At(t.append)&&((e=lu(t))==="formdata"||e==="object"&&At(t.toString)&&t.toString()==="[object FormData]"))},WI=pn("URLSearchParams"),[GI,qI,KI,YI]=["ReadableStream","Request","Response","Headers"].map(pn),XI=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ga(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),$s(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),i=s.length;let a;for(r=0;r<i;r++)a=s[r],e.call(null,t[a],a,t)}}function d1(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const go=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),f1=t=>!ta(t)&&t!==go;function Xf(){const{caseless:t}=f1(this)&&this||{},e={},n=(r,o)=>{const s=t&&d1(e,o)||o;yl(e[s])&&yl(r)?e[s]=Xf(e[s],r):yl(r)?e[s]=Xf({},r):$s(r)?e[s]=r.slice():e[s]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&ga(arguments[r],n);return e}const JI=(t,e,n,{allOwnKeys:r}={})=>(ga(e,(o,s)=>{n&&At(o)?t[s]=a1(o,n):t[s]=o},{allOwnKeys:r}),t),QI=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ZI=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},ej=(t,e,n,r)=>{let o,s,i;const a={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),s=o.length;s-- >0;)i=o[s],(!r||r(i,t,e))&&!a[i]&&(e[i]=t[i],a[i]=!0);t=n!==!1&&tm(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},tj=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},nj=t=>{if(!t)return null;if($s(t))return t;let e=t.length;if(!u1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},rj=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&tm(Uint8Array)),oj=(t,e)=>{const r=(t&&t[au]).call(t);let o;for(;(o=r.next())&&!o.done;){const s=o.value;e.call(t,s[0],s[1])}},sj=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},ij=pn("HTMLFormElement"),aj=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),r0=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),lj=pn("RegExp"),h1=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ga(n,(o,s)=>{let i;(i=e(o,s,t))!==!1&&(r[s]=i||o)}),Object.defineProperties(t,r)},cj=t=>{h1(t,(e,n)=>{if(At(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(At(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},uj=(t,e)=>{const n={},r=o=>{o.forEach(s=>{n[s]=!0})};return $s(t)?r(t):r(String(t).split(e)),n},dj=()=>{},fj=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function hj(t){return!!(t&&At(t.append)&&t[l1]==="FormData"&&t[au])}const pj=t=>{const e=new Array(10),n=(r,o)=>{if(uu(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[o]=r;const s=$s(r)?[]:{};return ga(r,(i,a)=>{const l=n(i,o+1);!ta(l)&&(s[a]=l)}),e[o]=void 0,s}}return r};return n(t,0)},mj=pn("AsyncFunction"),gj=t=>t&&(uu(t)||At(t))&&At(t.then)&&At(t.catch),p1=((t,e)=>t?setImmediate:e?((n,r)=>(go.addEventListener("message",({source:o,data:s})=>{o===go&&s===n&&r.length&&r.shift()()},!1),o=>{r.push(o),go.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",At(go.postMessage)),vj=typeof queueMicrotask<"u"?queueMicrotask.bind(go):typeof process<"u"&&process.nextTick||p1,yj=t=>t!=null&&At(t[au]),U={isArray:$s,isArrayBuffer:c1,isBuffer:BI,isFormData:HI,isArrayBufferView:MI,isString:RI,isNumber:u1,isBoolean:DI,isObject:uu,isPlainObject:yl,isReadableStream:GI,isRequest:qI,isResponse:KI,isHeaders:YI,isUndefined:ta,isDate:FI,isFile:UI,isBlob:$I,isRegExp:lj,isFunction:At,isStream:VI,isURLSearchParams:WI,isTypedArray:rj,isFileList:zI,forEach:ga,merge:Xf,extend:JI,trim:XI,stripBOM:QI,inherits:ZI,toFlatObject:ej,kindOf:lu,kindOfTest:pn,endsWith:tj,toArray:nj,forEachEntry:oj,matchAll:sj,isHTMLForm:ij,hasOwnProperty:r0,hasOwnProp:r0,reduceDescriptors:h1,freezeMethods:cj,toObjectSet:uj,toCamelCase:aj,noop:dj,toFiniteNumber:fj,findKey:d1,global:go,isContextDefined:f1,isSpecCompliantForm:hj,toJSONObject:pj,isAsyncFn:mj,isThenable:gj,setImmediate:p1,asap:vj,isIterable:yj};function ae(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}U.inherits(ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});const m1=ae.prototype,g1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{g1[t]={value:t}});Object.defineProperties(ae,g1);Object.defineProperty(m1,"isAxiosError",{value:!0});ae.from=(t,e,n,r,o,s)=>{const i=Object.create(m1);return U.toFlatObject(t,i,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ae.call(i,t.message,e,n,r,o),i.cause=t,i.name=t.name,s&&Object.assign(i,s),i};const bj=null;function Jf(t){return U.isPlainObject(t)||U.isArray(t)}function v1(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function o0(t,e,n){return t?t.concat(e).map(function(o,s){return o=v1(o),!n&&s?"["+o+"]":o}).join(n?".":""):e}function xj(t){return U.isArray(t)&&!t.some(Jf)}const wj=U.toFlatObject(U,{},null,function(e){return/^is[A-Z]/.test(e)});function du(t,e,n){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!U.isUndefined(x[y])});const r=n.metaTokens,o=n.visitor||u,s=n.dots,i=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(o))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(U.isDate(g))return g.toISOString();if(U.isBoolean(g))return g.toString();if(!l&&U.isBlob(g))throw new ae("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(g)||U.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,y,x){let b=g;if(g&&!x&&typeof g=="object"){if(U.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if(U.isArray(g)&&xj(g)||(U.isFileList(g)||U.endsWith(y,"[]"))&&(b=U.toArray(g)))return y=v1(y),b.forEach(function(p,w){!(U.isUndefined(p)||p===null)&&e.append(i===!0?o0([y],w,s):i===null?y:y+"[]",c(p))}),!1}return Jf(g)?!0:(e.append(o0(x,y,s),c(g)),!1)}const d=[],h=Object.assign(wj,{defaultVisitor:u,convertValue:c,isVisitable:Jf});function v(g,y){if(!U.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(g),U.forEach(g,function(b,m){(!(U.isUndefined(b)||b===null)&&o.call(e,b,U.isString(m)?m.trim():m,y,h))===!0&&v(b,y?y.concat(m):[m])}),d.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return v(t),e}function s0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function nm(t,e){this._pairs=[],t&&du(t,this,e)}const y1=nm.prototype;y1.append=function(e,n){this._pairs.push([e,n])};y1.toString=function(e){const n=e?function(r){return e.call(this,r,s0)}:s0;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function kj(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function b1(t,e,n){if(!e)return t;const r=n&&n.encode||kj;U.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let s;if(o?s=o(e,n):s=U.isURLSearchParams(e)?e.toString():new nm(e,n).toString(r),s){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Sj{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,function(r){r!==null&&e(r)})}}const i0=Sj,x1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ej=typeof URLSearchParams<"u"?URLSearchParams:nm,Tj=typeof FormData<"u"?FormData:null,Cj=typeof Blob<"u"?Blob:null,_j={isBrowser:!0,classes:{URLSearchParams:Ej,FormData:Tj,Blob:Cj},protocols:["http","https","file","blob","url","data"]},rm=typeof window<"u"&&typeof document<"u",Qf=typeof navigator=="object"&&navigator||void 0,Nj=rm&&(!Qf||["ReactNative","NativeScript","NS"].indexOf(Qf.product)<0),Pj=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ij=rm&&window.location.href||"http://localhost",jj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rm,hasStandardBrowserEnv:Nj,hasStandardBrowserWebWorkerEnv:Pj,navigator:Qf,origin:Ij},Symbol.toStringTag,{value:"Module"})),ht={...jj,..._j};function Lj(t,e){return du(t,new ht.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,s){return ht.isNode&&U.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Aj(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Oj(t){const e={},n=Object.keys(t);let r;const o=n.length;let s;for(r=0;r<o;r++)s=n[r],e[s]=t[s];return e}function w1(t){function e(n,r,o,s){let i=n[s++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),l=s>=n.length;return i=!i&&U.isArray(o)?o.length:i,l?(U.hasOwnProp(o,i)?o[i]=[o[i],r]:o[i]=r,!a):((!o[i]||!U.isObject(o[i]))&&(o[i]=[]),e(n,r,o[i],s)&&U.isArray(o[i])&&(o[i]=Oj(o[i])),!a)}if(U.isFormData(t)&&U.isFunction(t.entries)){const n={};return U.forEachEntry(t,(r,o)=>{e(Aj(r),o,n,0)}),n}return null}function Bj(t,e,n){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const om={transitional:x1,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,s=U.isObject(e);if(s&&U.isHTMLForm(e)&&(e=new FormData(e)),U.isFormData(e))return o?JSON.stringify(w1(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e)||U.isReadableStream(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Lj(e,this.formSerializer).toString();if((a=U.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return du(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||o?(n.setContentType("application/json",!1),Bj(e)):e}],transformResponse:[function(e){const n=this.transitional||om.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(U.isResponse(e)||U.isReadableStream(e))return e;if(e&&U.isString(e)&&(r&&!this.responseType||o)){const i=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?ae.from(a,ae.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ht.classes.FormData,Blob:ht.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],t=>{om.headers[t]={}});const sm=om,Mj=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Rj=t=>{const e={};let n,r,o;return t&&t.split(`
`).forEach(function(i){o=i.indexOf(":"),n=i.substring(0,o).trim().toLowerCase(),r=i.substring(o+1).trim(),!(!n||e[n]&&Mj[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},a0=Symbol("internals");function si(t){return t&&String(t).trim().toLowerCase()}function bl(t){return t===!1||t==null?t:U.isArray(t)?t.map(bl):String(t)}function Dj(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Fj=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function yd(t,e,n,r,o){if(U.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!U.isString(e)){if(U.isString(r))return e.indexOf(r)!==-1;if(U.isRegExp(r))return r.test(e)}}function Uj(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function $j(t,e){const n=U.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,s,i){return this[r].call(this,e,o,s,i)},configurable:!0})})}class fu{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function s(a,l,c){const u=si(l);if(!u)throw new Error("header name must be a non-empty string");const d=U.findKey(o,u);(!d||o[d]===void 0||c===!0||c===void 0&&o[d]!==!1)&&(o[d||l]=bl(a))}const i=(a,l)=>U.forEach(a,(c,u)=>s(c,u,l));if(U.isPlainObject(e)||e instanceof this.constructor)i(e,n);else if(U.isString(e)&&(e=e.trim())&&!Fj(e))i(Rj(e),n);else if(U.isObject(e)&&U.isIterable(e)){let a={},l,c;for(const u of e){if(!U.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?U.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}i(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=si(e),e){const r=U.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return Dj(o);if(U.isFunction(n))return n.call(this,o,r);if(U.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=si(e),e){const r=U.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||yd(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function s(i){if(i=si(i),i){const a=U.findKey(r,i);a&&(!n||yd(r,r[a],a,n))&&(delete r[a],o=!0)}}return U.isArray(e)?e.forEach(s):s(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const s=n[r];(!e||yd(this,this[s],s,e,!0))&&(delete this[s],o=!0)}return o}normalize(e){const n=this,r={};return U.forEach(this,(o,s)=>{const i=U.findKey(r,s);if(i){n[i]=bl(o),delete n[s];return}const a=e?Uj(s):String(s).trim();a!==s&&delete n[s],n[a]=bl(o),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return U.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&U.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[a0]=this[a0]={accessors:{}}).accessors,o=this.prototype;function s(i){const a=si(i);r[a]||($j(o,i),r[a]=!0)}return U.isArray(e)?e.forEach(s):s(e),this}}fu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(fu.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});U.freezeMethods(fu);const un=fu;function bd(t,e){const n=this||sm,r=e||n,o=un.from(r.headers);let s=r.data;return U.forEach(t,function(a){s=a.call(n,s,o.normalize(),e?e.status:void 0)}),o.normalize(),s}function k1(t){return!!(t&&t.__CANCEL__)}function zs(t,e,n){ae.call(this,t??"canceled",ae.ERR_CANCELED,e,n),this.name="CanceledError"}U.inherits(zs,ae,{__CANCEL__:!0});function S1(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ae("Request failed with status code "+n.status,[ae.ERR_BAD_REQUEST,ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function zj(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Vj(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o=0,s=0,i;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];i||(i=c),n[o]=l,r[o]=c;let d=s,h=0;for(;d!==o;)h+=n[d++],d=d%t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),c-i<e)return;const v=u&&c-u;return v?Math.round(h*1e3/v):void 0}}function Hj(t,e){let n=0,r=1e3/e,o,s;const i=(c,u=Date.now())=>{n=u,o=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?i(c,u):(o=c,s||(s=setTimeout(()=>{s=null,i(o)},r-d)))},()=>o&&i(o)]}const fc=(t,e,n=3)=>{let r=0;const o=Vj(50,250);return Hj(s=>{const i=s.loaded,a=s.lengthComputable?s.total:void 0,l=i-r,c=o(l),u=i<=a;r=i;const d={loaded:i,total:a,progress:a?i/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-i)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},l0=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},c0=t=>(...e)=>U.asap(()=>t(...e)),Wj=ht.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ht.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ht.origin),ht.navigator&&/(msie|trident)/i.test(ht.navigator.userAgent)):()=>!0,Gj=ht.hasStandardBrowserEnv?{write(t,e,n,r,o,s){const i=[t+"="+encodeURIComponent(e)];U.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),U.isString(r)&&i.push("path="+r),U.isString(o)&&i.push("domain="+o),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function qj(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Kj(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function E1(t,e,n){let r=!qj(e);return t&&(r||n==!1)?Kj(t,e):e}const u0=t=>t instanceof un?{...t}:t;function Po(t,e){e=e||{};const n={};function r(c,u,d,h){return U.isPlainObject(c)&&U.isPlainObject(u)?U.merge.call({caseless:h},c,u):U.isPlainObject(u)?U.merge({},u):U.isArray(u)?u.slice():u}function o(c,u,d,h){if(U.isUndefined(u)){if(!U.isUndefined(c))return r(void 0,c,d,h)}else return r(c,u,d,h)}function s(c,u){if(!U.isUndefined(u))return r(void 0,u)}function i(c,u){if(U.isUndefined(u)){if(!U.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(c,u,d)=>o(u0(c),u0(u),d,!0)};return U.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||o,h=d(t[u],e[u],u);U.isUndefined(h)&&d!==a||(n[u]=h)}),n}const T1=t=>{const e=Po({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:s,headers:i,auth:a}=e;e.headers=i=un.from(i),e.url=b1(E1(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(U.isFormData(n)){if(ht.hasStandardBrowserEnv||ht.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((l=i.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...u].join("; "))}}if(ht.hasStandardBrowserEnv&&(r&&U.isFunction(r)&&(r=r(e)),r||r!==!1&&Wj(e.url))){const c=o&&s&&Gj.read(s);c&&i.set(o,c)}return e},Yj=typeof XMLHttpRequest<"u",Xj=Yj&&function(t){return new Promise(function(n,r){const o=T1(t);let s=o.data;const i=un.from(o.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=o,u,d,h,v,g;function y(){v&&v(),g&&g(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let x=new XMLHttpRequest;x.open(o.method.toUpperCase(),o.url,!0),x.timeout=o.timeout;function b(){if(!x)return;const p=un.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:p,config:t,request:x};S1(function(P){n(P),y()},function(P){r(P),y()},E),x=null}"onloadend"in x?x.onloadend=b:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(b)},x.onabort=function(){x&&(r(new ae("Request aborted",ae.ECONNABORTED,t,x)),x=null)},x.onerror=function(){r(new ae("Network Error",ae.ERR_NETWORK,t,x)),x=null},x.ontimeout=function(){let w=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const E=o.transitional||x1;o.timeoutErrorMessage&&(w=o.timeoutErrorMessage),r(new ae(w,E.clarifyTimeoutError?ae.ETIMEDOUT:ae.ECONNABORTED,t,x)),x=null},s===void 0&&i.setContentType(null),"setRequestHeader"in x&&U.forEach(i.toJSON(),function(w,E){x.setRequestHeader(E,w)}),U.isUndefined(o.withCredentials)||(x.withCredentials=!!o.withCredentials),a&&a!=="json"&&(x.responseType=o.responseType),c&&([h,g]=fc(c,!0),x.addEventListener("progress",h)),l&&x.upload&&([d,v]=fc(l),x.upload.addEventListener("progress",d),x.upload.addEventListener("loadend",v)),(o.cancelToken||o.signal)&&(u=p=>{x&&(r(!p||p.type?new zs(null,t,x):p),x.abort(),x=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const m=zj(o.url);if(m&&ht.protocols.indexOf(m)===-1){r(new ae("Unsupported protocol "+m+":",ae.ERR_BAD_REQUEST,t));return}x.send(s||null)})},Jj=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,o;const s=function(c){if(!o){o=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof ae?u:new zs(u instanceof Error?u.message:u))}};let i=e&&setTimeout(()=>{i=null,s(new ae(`timeout ${e} of ms exceeded`,ae.ETIMEDOUT))},e);const a=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>U.asap(a),l}},Qj=Jj,Zj=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,o;for(;r<n;)o=r+e,yield t.slice(r,o),r=o},eL=async function*(t,e){for await(const n of tL(t))yield*Zj(n,e)},tL=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},d0=(t,e,n,r)=>{const o=eL(t,e);let s=0,i,a=l=>{i||(i=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await o.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let h=s+=d;n(h)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),o.return()}},{highWaterMark:2})},hu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",C1=hu&&typeof ReadableStream=="function",nL=hu&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),_1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},rL=C1&&_1(()=>{let t=!1;const e=new Request(ht.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),f0=64*1024,Zf=C1&&_1(()=>U.isReadableStream(new Response("").body)),hc={stream:Zf&&(t=>t.body)};hu&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!hc[e]&&(hc[e]=U.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ae(`Response type '${e}' is not supported`,ae.ERR_NOT_SUPPORT,r)})})})(new Response);const oL=async t=>{if(t==null)return 0;if(U.isBlob(t))return t.size;if(U.isSpecCompliantForm(t))return(await new Request(ht.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(U.isArrayBufferView(t)||U.isArrayBuffer(t))return t.byteLength;if(U.isURLSearchParams(t)&&(t=t+""),U.isString(t))return(await nL(t)).byteLength},sL=async(t,e)=>{const n=U.toFiniteNumber(t.getContentLength());return n??oL(e)},iL=hu&&(async t=>{let{url:e,method:n,data:r,signal:o,cancelToken:s,timeout:i,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=T1(t);c=c?(c+"").toLowerCase():"text";let v=Qj([o,s&&s.toAbortSignal()],i),g;const y=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let x;try{if(l&&rL&&n!=="get"&&n!=="head"&&(x=await sL(u,r))!==0){let E=new Request(e,{method:"POST",body:r,duplex:"half"}),N;if(U.isFormData(r)&&(N=E.headers.get("content-type"))&&u.setContentType(N),E.body){const[P,k]=l0(x,fc(c0(l)));r=d0(E.body,f0,P,k)}}U.isString(d)||(d=d?"include":"omit");const b="credentials"in Request.prototype;g=new Request(e,{...h,signal:v,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:b?d:void 0});let m=await fetch(g,h);const p=Zf&&(c==="stream"||c==="response");if(Zf&&(a||p&&y)){const E={};["status","statusText","headers"].forEach(S=>{E[S]=m[S]});const N=U.toFiniteNumber(m.headers.get("content-length")),[P,k]=a&&l0(N,fc(c0(a),!0))||[];m=new Response(d0(m.body,f0,P,()=>{k&&k(),y&&y()}),E)}c=c||"text";let w=await hc[U.findKey(hc,c)||"text"](m,t);return!p&&y&&y(),await new Promise((E,N)=>{S1(E,N,{data:w,headers:un.from(m.headers),status:m.status,statusText:m.statusText,config:t,request:g})})}catch(b){throw y&&y(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new ae("Network Error",ae.ERR_NETWORK,t,g),{cause:b.cause||b}):ae.from(b,b&&b.code,t,g)}}),eh={http:bj,xhr:Xj,fetch:iL};U.forEach(eh,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const h0=t=>`- ${t}`,aL=t=>U.isFunction(t)||t===null||t===!1,N1={getAdapter:t=>{t=U.isArray(t)?t:[t];const{length:e}=t;let n,r;const o={};for(let s=0;s<e;s++){n=t[s];let i;if(r=n,!aL(n)&&(r=eh[(i=String(n)).toLowerCase()],r===void 0))throw new ae(`Unknown adapter '${i}'`);if(r)break;o[i||"#"+s]=r}if(!r){const s=Object.entries(o).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let i=e?s.length>1?`since :
`+s.map(h0).join(`
`):" "+h0(s[0]):"as no adapter specified";throw new ae("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:eh};function xd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new zs(null,t)}function p0(t){return xd(t),t.headers=un.from(t.headers),t.data=bd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),N1.getAdapter(t.adapter||sm.adapter)(t).then(function(r){return xd(t),r.data=bd.call(t,t.transformResponse,r),r.headers=un.from(r.headers),r},function(r){return k1(r)||(xd(t),r&&r.response&&(r.response.data=bd.call(t,t.transformResponse,r.response),r.response.headers=un.from(r.response.headers))),Promise.reject(r)})}const P1="1.10.0",pu={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{pu[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const m0={};pu.transitional=function(e,n,r){function o(s,i){return"[Axios v"+P1+"] Transitional option '"+s+"'"+i+(r?". "+r:"")}return(s,i,a)=>{if(e===!1)throw new ae(o(i," has been removed"+(n?" in "+n:"")),ae.ERR_DEPRECATED);return n&&!m0[i]&&(m0[i]=!0,console.warn(o(i," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,i,a):!0}};pu.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function lL(t,e,n){if(typeof t!="object")throw new ae("options must be an object",ae.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const s=r[o],i=e[s];if(i){const a=t[s],l=a===void 0||i(a,s,t);if(l!==!0)throw new ae("option "+s+" must be "+l,ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ae("Unknown option "+s,ae.ERR_BAD_OPTION)}}const xl={assertOptions:lL,validators:pu},vn=xl.validators;class pc{constructor(e){this.defaults=e||{},this.interceptors={request:new i0,response:new i0}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const s=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Po(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:s}=n;r!==void 0&&xl.assertOptions(r,{silentJSONParsing:vn.transitional(vn.boolean),forcedJSONParsing:vn.transitional(vn.boolean),clarifyTimeoutError:vn.transitional(vn.boolean)},!1),o!=null&&(U.isFunction(o)?n.paramsSerializer={serialize:o}:xl.assertOptions(o,{encode:vn.function,serialize:vn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),xl.assertOptions(n,{baseUrl:vn.spelling("baseURL"),withXsrfToken:vn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=s&&U.merge(s.common,s[n.method]);s&&U.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=un.concat(i,s);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,d=0,h;if(!l){const g=[p0.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),h=g.length,u=Promise.resolve(n);d<h;)u=u.then(g[d++],g[d++]);return u}h=a.length;let v=n;for(d=0;d<h;){const g=a[d++],y=a[d++];try{v=g(v)}catch(x){y.call(this,x);break}}try{u=p0.call(this,v)}catch(g){return Promise.reject(g)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Po(this.defaults,e);const n=E1(e.baseURL,e.url,e.allowAbsoluteUrls);return b1(n,e.params,e.paramsSerializer)}}U.forEach(["delete","get","head","options"],function(e){pc.prototype[e]=function(n,r){return this.request(Po(r||{},{method:e,url:n,data:(r||{}).data}))}});U.forEach(["post","put","patch"],function(e){function n(r){return function(s,i,a){return this.request(Po(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}pc.prototype[e]=n(),pc.prototype[e+"Form"]=n(!0)});const wl=pc;class im{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(o=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](o);r._listeners=null}),this.promise.then=o=>{let s;const i=new Promise(a=>{r.subscribe(a),s=a}).then(o);return i.cancel=function(){r.unsubscribe(s)},i},e(function(s,i,a){r.reason||(r.reason=new zs(s,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new im(function(o){e=o}),cancel:e}}}const cL=im;function uL(t){return function(n){return t.apply(null,n)}}function dL(t){return U.isObject(t)&&t.isAxiosError===!0}const th={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(th).forEach(([t,e])=>{th[e]=t});const fL=th;function I1(t){const e=new wl(t),n=a1(wl.prototype.request,e);return U.extend(n,wl.prototype,e,{allOwnKeys:!0}),U.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return I1(Po(t,o))},n}const qe=I1(sm);qe.Axios=wl;qe.CanceledError=zs;qe.CancelToken=cL;qe.isCancel=k1;qe.VERSION=P1;qe.toFormData=du;qe.AxiosError=ae;qe.Cancel=qe.CanceledError;qe.all=function(e){return Promise.all(e)};qe.spread=uL;qe.isAxiosError=dL;qe.mergeConfig=Po;qe.AxiosHeaders=un;qe.formToJSON=t=>w1(U.isHTMLForm(t)?new FormData(t):t);qe.getAdapter=N1.getAdapter;qe.HttpStatusCode=fL;qe.default=qe;const G=qe,hL=(t,e)=>{sessionStorage.setItem(t,e)},mu=t=>sessionStorage.getItem(t),pL=t=>{sessionStorage.removeItem(t)},j1=async t=>{if(!t)return!1;try{return(await G.post("http://localhost:3000/api/validate-token",{},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},timeout:5e3})).status===200}catch(e){return console.error("Token validation failed:",e),!1}},mL=async t=>{try{return(await G.post("http://localhost:3000/api/refresh-token",{refreshToken:t},{headers:{"Content-Type":"application/json"},timeout:1e4})).data.access_token}catch(e){return console.error("Token refresh failed:",e),null}},gu=t=>{pL("user"),sessionStorage.clear(),t({access_token:null}),G.defaults.headers.common.Authorization=null},L1=async t=>{let e=mu("user");if(e)try{const n=JSON.parse(e);return n.access_token?await j1(n.access_token)?(t(n),G.defaults.headers.common.Authorization=`Bearer ${n.access_token}`,n):(console.log("Invalid token found, clearing session"),sessionStorage.clear(),t({access_token:null}),null):(t({access_token:null}),null)}catch(n){return console.error("Error parsing session data:",n),sessionStorage.clear(),t({access_token:null}),null}else return t({access_token:null}),null},Ut=(t,e)=>{console.log("updateUserAuth (auth.jsx) called with:",t),hL("user",JSON.stringify(t)),e(t),t.access_token?G.defaults.headers.common.Authorization=`Bearer ${t.access_token}`:G.defaults.headers.common.Authorization=null},gL=Object.freeze(Object.defineProperty({__proto__:null,initializeUserAuth:L1,logoutUser:gu,refreshAccessToken:mL,updateUserAuth:Ut,validateToken:j1},Symbol.toStringTag,{value:"Module"})),g0=()=>{const{userAuth:{username:t,isAdmin:e,admin:n,role:r},setUserAuth:o}=C.useContext(ye),s=()=>{gu(o)},i=e||n||r==="admin";return f.jsx(Me,{className:"absolute right-0 z-50",transition:{duration:.2},children:f.jsxs("div",{className:"bg-white absolute right-0 border border-grey w-60 duration-200",children:[i&&f.jsxs(ee,{to:"/editor",className:"flex gap-2 link md:hidden pl-8 py-4",children:[f.jsx("i",{className:"fi fi-rr-file-edit"}),f.jsx("p",{children:"Write"})]}),f.jsx(ee,{to:`/user/${t}`,className:"link pl-8 py-4",children:"Profile"}),i&&f.jsx(ee,{to:"/dashboard/blogs",className:"link pl-8 py-4",children:"Dashboard"}),f.jsx(ee,{to:"/dashboard/notification",className:"link pl-8 py-4",children:"Notifications"}),f.jsx(ee,{to:"/settings/edit-profile",className:"link pl-8 py-4",children:"Settings"}),f.jsx("span",{className:"absolute border-t border-grey w-[100%]"}),f.jsxs("button",{className:"text-left p-4 hover:bg-grey w-full pl-8 py-4",onClick:s,children:[f.jsx("h1",{className:"font-bold text-xl mg-1",children:"Sign Out"}),f.jsxs("p",{className:"text-dark-grey",children:["@",t]})]})]})})};let vL={data:""},yL=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||vL,bL=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xL=/\/\*[^]*?\*\/|  +/g,v0=/\n+/g,wr=(t,e)=>{let n="",r="",o="";for(let s in t){let i=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+i+";":r+=s[1]=="f"?wr(i,s):s+"{"+wr(i,s[1]=="k"?"":e)+"}":typeof i=="object"?r+=wr(i,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):i!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=wr.p?wr.p(s,i):s+":"+i+";")}return n+(e&&o?e+"{"+o+"}":o)+r},Bn={},A1=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+A1(t[n]);return e}return t},wL=(t,e,n,r,o)=>{let s=A1(t),i=Bn[s]||(Bn[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!Bn[i]){let l=s!==t?t:(c=>{let u,d,h=[{}];for(;u=bL.exec(c.replace(xL,""));)u[4]?h.shift():u[3]?(d=u[3].replace(v0," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][u[1]]=u[2].replace(v0," ").trim();return h[0]})(t);Bn[i]=wr(o?{["@keyframes "+i]:l}:l,n?"":"."+i)}let a=n&&Bn.g?Bn.g:null;return n&&(Bn.g=Bn[i]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Bn[i],e,r,a),i},kL=(t,e,n)=>t.reduce((r,o,s)=>{let i=e[s];if(i&&i.call){let a=i(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;i=l?"."+l:a&&typeof a=="object"?a.props?"":wr(a,""):a===!1?"":a}return r+o+(i??"")},"");function vu(t){let e=this||{},n=t.call?t(e.p):t;return wL(n.unshift?n.raw?kL(n,[].slice.call(arguments,1),e.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(e.p):o),{}):n,yL(e.target),e.g,e.o,e.k)}let O1,nh,rh;vu.bind({g:1});let sr=vu.bind({k:1});function SL(t,e,n,r){wr.p=e,O1=t,nh=n,rh=r}function to(t,e){let n=this||{};return function(){let r=arguments;function o(s,i){let a=Object.assign({},s),l=a.className||o.className;n.p=Object.assign({theme:nh&&nh()},a),n.o=/ *go\d+/.test(l),a.className=vu.apply(n,r)+(l?" "+l:""),e&&(a.ref=i);let c=t;return t[0]&&(c=a.as||t,delete a.as),rh&&c[0]&&rh(a),O1(c,a)}return e?e(o):o}}var EL=t=>typeof t=="function",mc=(t,e)=>EL(t)?t(e):t,TL=(()=>{let t=0;return()=>(++t).toString()})(),B1=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),CL=20,M1=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,CL)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return M1(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+o}))}}},kl=[],vo={toasts:[],pausedAt:void 0},Vo=t=>{vo=M1(vo,t),kl.forEach(e=>{e(vo)})},_L={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},NL=(t={})=>{let[e,n]=C.useState(vo),r=C.useRef(vo);C.useEffect(()=>(r.current!==vo&&n(vo),kl.push(n),()=>{let s=kl.indexOf(n);s>-1&&kl.splice(s,1)}),[]);let o=e.toasts.map(s=>{var i,a,l;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((i=t[s.type])==null?void 0:i.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((a=t[s.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||_L[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:o}},PL=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||TL()}),va=t=>(e,n)=>{let r=PL(e,t,n);return Vo({type:2,toast:r}),r.id},H=(t,e)=>va("blank")(t,e);H.error=va("error");H.success=va("success");H.loading=va("loading");H.custom=va("custom");H.dismiss=t=>{Vo({type:3,toastId:t})};H.remove=t=>Vo({type:4,toastId:t});H.promise=(t,e,n)=>{let r=H.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(o=>{let s=e.success?mc(e.success,o):void 0;return s?H.success(s,{id:r,...n,...n==null?void 0:n.success}):H.dismiss(r),o}).catch(o=>{let s=e.error?mc(e.error,o):void 0;s?H.error(s,{id:r,...n,...n==null?void 0:n.error}):H.dismiss(r)}),t};var IL=(t,e)=>{Vo({type:1,toast:{id:t,height:e}})},jL=()=>{Vo({type:5,time:Date.now()})},_i=new Map,LL=1e3,AL=(t,e=LL)=>{if(_i.has(t))return;let n=setTimeout(()=>{_i.delete(t),Vo({type:4,toastId:t})},e);_i.set(t,n)},OL=t=>{let{toasts:e,pausedAt:n}=NL(t);C.useEffect(()=>{if(n)return;let s=Date.now(),i=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&H.dismiss(a.id);return}return setTimeout(()=>H.dismiss(a.id),l)});return()=>{i.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=C.useCallback(()=>{n&&Vo({type:6,time:Date.now()})},[n]),o=C.useCallback((s,i)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=i||{},u=e.filter(v=>(v.position||c)===(s.position||c)&&v.height),d=u.findIndex(v=>v.id===s.id),h=u.filter((v,g)=>g<d&&v.visible).length;return u.filter(v=>v.visible).slice(...a?[h+1]:[0,h]).reduce((v,g)=>v+(g.height||0)+l,0)},[e]);return C.useEffect(()=>{e.forEach(s=>{if(s.dismissed)AL(s.id,s.removeDelay);else{let i=_i.get(s.id);i&&(clearTimeout(i),_i.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:IL,startPause:jL,endPause:r,calculateOffset:o}}},BL=sr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ML=sr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,RL=sr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,DL=to("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${BL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ML} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${RL} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,FL=sr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,UL=to("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${FL} 1s linear infinite;
`,$L=sr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,zL=sr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,VL=to("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$L} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${zL} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,HL=to("div")`
  position: absolute;
`,WL=to("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,GL=sr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,qL=to("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${GL} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,KL=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?C.createElement(qL,null,e):e:n==="blank"?null:C.createElement(WL,null,C.createElement(UL,{...r}),n!=="loading"&&C.createElement(HL,null,n==="error"?C.createElement(DL,{...r}):C.createElement(VL,{...r})))},YL=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,XL=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,JL="0%{opacity:0;} 100%{opacity:1;}",QL="0%{opacity:1;} 100%{opacity:0;}",ZL=to("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,eA=to("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,tA=(t,e)=>{let n=t.includes("top")?1:-1,[r,o]=B1()?[JL,QL]:[YL(n),XL(n)];return{animation:e?`${sr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${sr(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},nA=C.memo(({toast:t,position:e,style:n,children:r})=>{let o=t.height?tA(t.position||e||"top-center",t.visible):{opacity:0},s=C.createElement(KL,{toast:t}),i=C.createElement(eA,{...t.ariaProps},mc(t.message,t));return C.createElement(ZL,{className:t.className,style:{...o,...n,...t.style}},typeof r=="function"?r({icon:s,message:i}):C.createElement(C.Fragment,null,s,i))});SL(C.createElement);var rA=({id:t,className:e,style:n,onHeightUpdate:r,children:o})=>{let s=C.useCallback(i=>{if(i){let a=()=>{let l=i.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return C.createElement("div",{ref:s,className:e,style:n},o)},oA=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:B1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...o}},sA=vu`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Qa=16,An=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:o,containerStyle:s,containerClassName:i})=>{let{toasts:a,handlers:l}=OL(n);return C.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Qa,left:Qa,right:Qa,bottom:Qa,pointerEvents:"none",...s},className:i,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),h=oA(u,d);return C.createElement(rA,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?sA:"",style:h},c.type==="custom"?mc(c.message,c):o?o(c):C.createElement(nA,{toast:c,position:u}))}))};const Xe={AUTH_REQUIRED:"Authentication required. Please log in again.",AUTH_EXPIRED:"Your session has expired. Please log in again.",AUTH_INVALID:"Invalid authentication. Please log in again.",PERMISSION_DENIED:"You don't have permission to perform this action.",ADMIN_REQUIRED:"Admin privileges are required for this action.",NETWORK_ERROR:"Network error. Please check your connection and try again.",TIMEOUT_ERROR:"Request timed out. Please try again.",SERVER_ERROR:"Server error. Please try again later.",VALIDATION_ERROR:"Please check your input and try again.",INVALID_DATA:"Invalid data provided. Please check your input.",FILE_TOO_LARGE:"File size is too large. Please choose a smaller file.",INVALID_FILE_TYPE:"Invalid file type. Please choose a supported file format.",UPLOAD_FAILED:"File upload failed. Please try again.",BLOG_NOT_FOUND:"Blog not found.",BLOG_SAVE_FAILED:"Failed to save blog. Please try again.",BLOG_PUBLISH_FAILED:"Failed to publish blog. Please try again.",DRAFT_SAVE_FAILED:"Failed to save draft. Please try again.",COMMENT_FAILED:"Failed to post comment. Please try again.",COMMENT_DELETE_FAILED:"Failed to delete comment. Please try again.",PROFILE_UPDATE_FAILED:"Failed to update profile. Please try again.",PASSWORD_CHANGE_FAILED:"Failed to change password. Please try again.",UNKNOWN_ERROR:"An unexpected error occurred. Please try again.",OPERATION_FAILED:"Operation failed. Please try again."},iA={400:Xe.VALIDATION_ERROR,401:Xe.AUTH_EXPIRED,403:Xe.PERMISSION_DENIED,404:Xe.BLOG_NOT_FOUND,408:Xe.TIMEOUT_ERROR,413:Xe.FILE_TOO_LARGE,415:Xe.INVALID_FILE_TYPE,500:Xe.SERVER_ERROR,502:Xe.SERVER_ERROR,503:Xe.SERVER_ERROR,504:Xe.TIMEOUT_ERROR},y0={ECONNABORTED:Xe.TIMEOUT_ERROR,ERR_NETWORK:Xe.NETWORK_ERROR,ERR_BAD_REQUEST:Xe.VALIDATION_ERROR,ERR_BAD_RESPONSE:Xe.SERVER_ERROR,ERR_BAD_OPTION:Xe.UNKNOWN_ERROR},Pr=(t,e=Xe.UNKNOWN_ERROR)=>{var n,r,o;if(typeof t=="string")return t;if(t!=null&&t.message&&typeof t.message=="string")return t.message;if((n=t==null?void 0:t.response)!=null&&n.status){const s=iA[t.response.status];if(s)return s;if((o=(r=t.response)==null?void 0:r.data)!=null&&o.error)return t.response.data.error}if(t!=null&&t.code&&y0[t.code])return y0[t.code];if((t==null?void 0:t.name)==="AxiosError"){if(t.code==="ECONNABORTED")return Xe.TIMEOUT_ERROR;if(t.code==="ERR_NETWORK")return Xe.NETWORK_ERROR}return e},_n=G.create({timeout:1e4,headers:{"Content-Type":"application/json"}});_n.interceptors.request.use(t=>{const e=sessionStorage.getItem("user");if(e)try{const n=JSON.parse(e);n.access_token&&(t.headers.Authorization=`Bearer ${n.access_token}`)}catch(n){console.error("Error parsing user session:",n)}return t},t=>Promise.reject(t));_n.interceptors.response.use(t=>t,t=>{if(t.response){const{status:e}=t.response;if(e===401)return console.log("Authentication error detected, logging out user"),gu(()=>{window.location.href="/login"}),Promise.reject(new Error(Pr(t)));if(e===403)return Promise.reject(new Error(Pr(t)))}return t.code==="ECONNABORTED"?Promise.reject(new Error(Pr(t))):t.code==="ERR_NETWORK"?Promise.reject(new Error(Pr(t))):Promise.reject(t)});G.defaults.timeout=1e4;G.defaults.headers.common["Content-Type"]="application/json";G.interceptors.request.use(t=>{const e=sessionStorage.getItem("user");if(e)try{const n=JSON.parse(e);n.access_token&&(t.headers.Authorization=`Bearer ${n.access_token}`)}catch(n){console.error("Error parsing user session:",n)}return t},t=>Promise.reject(t));G.interceptors.response.use(t=>t,t=>{if(t.response){const{status:e}=t.response;if(e===401)return console.log("Authentication error detected, logging out user"),gu(()=>{window.location.href="/login"}),Promise.reject(new Error(Pr(t)));if(e===403)return Promise.reject(new Error(Pr(t)))}return t.code==="ECONNABORTED"?Promise.reject(new Error(Pr(t))):t.code==="ERR_NETWORK"?Promise.reject(new Error(Pr(t))):Promise.reject(t)});const gc="/assets/blog banner-4c269e06.png",vc="/assets/user profile-4613af22.png",oh="/assets/logo-9831a3d7.png",aA="/assets/full-logo-faf49934.png",R1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAoCAYAAACSN4jeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVeSURBVHgBzZhrbBRVFMfPuTO77dKtSCm1BQklppJCjEIfFIkUaHk2IKUEaQwR0FSNaIhA1BZCY2hVPho/CMQH0aatUgU+FLQPln5oKxTKIwEkJWwFoTwKWNjtY2fmeHaBdi3dmV12WfkluzN375mZ/9x79pxzL8ATCkIQUEGB6cb54+P5Lkka0gjUUAIJHQLopirJ7c/sbzwPj0jAwjrmvhwnq8oqDWA+S0vnn6J0zG8DUSOg+EmT5P3xvzdeAz/xW1hH9tQMCdRNRMiCQIIAIQAHAlaYTGLriAPNdiN7Q2FnF0+PjnG6SvnN10II4Af+xV8lo2qP7DCw8831WWmZJGAnnyZBiEGkckWWCxN8jJ7wdWFHdvr7JKj+cYhywy6RLyvqd776hxR2NSv9Q0H0Jb+XT+HBwv7WrvbhGt/9g0XNTpmLKA5AkKHEUJQLZsU3HL7g28aLW/MzEhVFbSCCseAHhHBcEOwD1A6TYv5TEeiSRV8MoJQApOWwwUK2SgxUlBvZu6G46HP+WxuKYptjAml9XG2LbYjudv608qfa3eicnbZaQdyCQOO4eUNFdVF8w9ELRs/oH7HrczIWk6buNb6AtsWq1iK02RTwk8uzJ4+ThWm7BtLG+NqmU/5c0y+st9La2lX53Ev0j9m3taCiuJqWUggDHmGuWnkanzZSj0TddaO13pMjH47sBFvj6o9shjAh7qnDAs8xUsVhORclS+YVQnS7Uj8XRs3I2QJhxDNiSq35EgGN8e5Qrli0u7+OF56pJVjNo/U9hBHRV2OaPFiUGzmhW0S/3gbS2Lsdo7SoCggzMgEm/3fWBpCG98HwlW31mHWmB/wgq8S5jVB7FYKE8/MHskCYoGuFUAf+glocv+PzECRCg0msi2L1jIikNgg/Y1gcDtOzIFXqgjCjAUVxuCD9CC5pZvgfEIjYqWdAqhq0zwSKAF7QcN2lm1BRUCqEHeyUVYRWHDpagJNk+NY5YXnK9vSNR9/e4TK6HWnaXq6Z7WAIzuKvGToGp5EOAle4puvceNq75291GGy4kwF2xequu3KPvla1B0JEVundGq75sn31C61nomDtCj+42rvjUF8Crbmd6RHlhkPKOggR8z/rTtQTxT5/sXZz7BlPElcV+sZ95AUCfO1Mho+70rCLTAPWhJlplbkbIAS4NFW/GCCeQ7hfXUTOUw52aJGn1nZNo13OJB/24ovU8qXLIAiySh1L2J1XGZj92C+MSwzK7Zzz6TFXrN4ChP/FWJFWuXQ9PIqokjsrOF2V6dlw+XW+rshac+/ci5SKZQ3sT6+AAewHZZImb2rOr7Ab2c7clx/rcFhKLFffeFN2pEj694VVdYXWXQ8Jm1qWl6RK2MID+BT4xy+cP3bz9LRGn+tssxXblAXVCyLuOC1jelwwnV9gEfflsJ0n7UXcWkIRN3OHnhUOW/WF1ikDzUHwqL3Fo7YTAscdDd2xTjeFmR0ZauS1NQhahBgQQV2qkF+0fWKxP/jtoaG9svv0sdF5ye5xnQmBgeDHLpBqviRc0c1gckxB1B7UD/jOwcIom7fdkDe6XHXm0Oi8SeyLMBMeAySc6IpuIkmJ0UTvs0X1m6xfDbbR3QZILc97jy22wX0fCTFOToXrjuRXDek2hvsTGeVLEhWUfuPTkFUZ/NATshArm5b/7HPxa7ib05y/x95ytiqZ08i7fEM7BMdt9t2Pos6+kKonyk1AOzrFxcWiesLJFbzozOdLs3l1FWl0DYeMbg4pTbyKrxDRkZV/LCzzqyJ+5K2mlJYCE5y7NVXI2kTOpZyYaST7jJnTbR8SdvKxndunemMsJ07O+8EBAfIvZzP9J7slOesAAAAASUVORK5CYII=",D1="/assets/404-74f80113.png",b0=[gc,vc,oh,aA,R1,D1,gc,vc,oh],lA=({instagramImages:t,recentComments:e,categories:n})=>{t&&t.length>0;const r=(e&&e.length>0?e:[{commented_by:{personal_info:{fullname:"Ellismatrix"}},comment:"Wow Nice Docs This Look  Great! It Should Be Delicious. Thanks"},{commented_by:{personal_info:{fullname:"Cassia"}},comment:"Top & Best, I'll Be Cheer Up You Again In Next Game Go Go "},{commented_by:{personal_info:{fullname:"Amanda"}},comment:"You Were So Amazing Today, Love!  Great Match"},{commented_by:{personal_info:{fullname:"Denis Simonassi"}},comment:"It Was a Great Match Today Jane! You Did Great "},{commented_by:{personal_info:{fullname:"User Five"}},comment:"Another great story, keep up the good work!"}]).slice(0,4),o=n&&n.length>0?n:["Culture","Fashion","Food","Healthy Living","Technology"],s=(x,b=15)=>{if(!x)return"";const m=x.split(" ");return m.length<=b?x:m.slice(0,b).join(" ")+"..."},[i,a]=C.useState(""),[l,c]=C.useState(""),[u,d]=C.useState(""),[h,v]=C.useState(!1),g=async x=>{var b,m;x.preventDefault(),c(""),d(""),v(!0);try{const p=await G.post("http://localhost:3000/api/subscribe-newsletter",{email:i});c(p.data.message||"Subscribed successfully!"),d("success"),a("")}catch(p){c(((m=(b=p.response)==null?void 0:b.data)==null?void 0:m.error)||"Failed to subscribe. Please try again."),d("error")}finally{v(!1)}},y=Array.isArray(t)&&t.length>0&&t[0].banner?t.slice(0,12):b0.map((x,b)=>({banner:x,blog_id:null,_default:!0})).slice(0,12);return f.jsxs("div",{className:"w-full pt-4 pb-0 px-2 sm:px-6 md:px-10",children:[f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row gap-4 ",children:[f.jsx("div",{className:"bg-grey rounded-r-xl px-2 sm:px-4 w-full md:w-2/5 lg:w-auto mb-4 md:mb-0",children:f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 bg-gray-100 px-2 sm:px-6 rounded-3xl p-4 pb-2 shadow-md max-w-full sm:max-w-xl mx-auto",children:[f.jsxs("div",{className:"flex-1 min-w-[150px] sm:min-w-[180px]",children:[f.jsxs("h3",{className:"font-semibold text-base sm:text-lg mb-1 flex items-center gap-1",children:[f.jsx("span",{className:"text-yellow-400 text-lg",children:""})," Islamic Stories"]}),f.jsx("p",{className:"text-xs sm:text-sm text-gray-500 leading-relaxed mb-2 text-justify",children:"Lorem Ipsum Dolor Sit Amet, Consectetur Adipisicing Elit, Sed Do Eiusmod Tempor Incididunt Ut Labore Et Dolore Magna Aliqua. Egestas Purus Viverra Accumsan In Nisi Nisi."}),f.jsxs("h3",{className:"font-semibold text-base sm:text-lg mb-1 flex items-center gap-1 mt-6",children:[f.jsx("span",{className:"text-yellow-400 text-lg",children:""})," Newsletters"]}),f.jsxs("form",{onSubmit:g,className:"flex items-center border rounded-md overflow-hidden w-full max-w-xs bg-white",children:[f.jsx("input",{type:"email",placeholder:"Write Your Email ..",className:"flex-1 px-2 py-2 bg-transparent outline-none text-xs sm:text-sm",value:i,onChange:x=>a(x.target.value),required:!0,disabled:h}),f.jsx("button",{type:"submit",className:"bg-white px-2 py-2 text-gray-500 hover:text-gray-700 disabled:opacity-60",disabled:h,children:h?f.jsxs("svg",{className:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}):f.jsx("i",{className:"fi fi-rr-envelope"})})]}),l&&f.jsx("div",{className:`mt-2 text-xs ${u==="success"?"text-green-600":"text-red-500"}`,children:l})]}),f.jsxs("div",{className:"flex-1 min-w-[80px] sm:min-w-[100px] max-auto",children:[f.jsxs("h3",{className:"font-semibold text-base sm:text-lg mb-1 flex items-center gap-1",children:[f.jsx("span",{className:"text-yellow-400 text-lg",children:""})," Categories"]}),f.jsx("ul",{className:"text-xs sm:text-sm text-gray-500 space-y-1 pl-2 mb-2",style:{maxHeight:"7.5em",overflowY:"auto"},children:o.map((x,b)=>f.jsx("li",{children:x},b))}),f.jsxs("h3",{className:"font-semibold text-base sm:text-lg mb-1 flex items-center gap-1 mt-8 sm:mt-16 whitespace-nowrap",children:[f.jsx("span",{className:"text-yellow-400 text-lg",children:""})," Social Network"]}),f.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[f.jsxs("a",{href:"https://instagram.com/yourprofile",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-2 py-1 bg-pink-500 text-white rounded-md text-xs hover:bg-pink-600 transition",children:[f.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 1.366.062 2.633.334 3.608 1.308.974.974 1.246 2.241 1.308 3.608.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.062 1.366-.334 2.633-1.308 3.608-.974.974-2.241 1.246-3.608 1.308-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.366-.062-2.633-.334-3.608-1.308-.974-.974-1.246-2.241-1.308-3.608C2.175 15.647 2.163 15.267 2.163 12s.012-3.584.07-4.85c.062-1.366.334-2.633 1.308-3.608.974-.974 2.241-1.246 3.608-1.308C8.416 2.175 8.796 2.163 12 2.163zm0-2.163C8.741 0 8.332.013 7.052.072 5.771.131 4.659.425 3.678 1.406 2.697 2.387 2.403 3.499 2.344 4.78.013 8.332 0 8.741 0 12c0 3.259.013 3.668.072 4.948.059 1.281.353 2.393 1.334 3.374.981.981 2.093 1.275 3.374 1.334C8.332 23.987 8.741 24 12 24s3.668-.013 4.948-.072c1.281-.059 2.393-.353 3.374-1.334.981-.981 1.275-2.093 1.334-3.374.059-1.28.072-1.689.072-4.948s-.013-3.668-.072-4.948c-.059-1.281-.353-2.393-1.334-3.374-.981-.981-2.093-1.275-3.374-1.334C15.668.013 15.259 0 12 0z"}),f.jsx("path",{d:"M12 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324zm0 10.162a3.999 3.999 0 1 1 0-7.998 3.999 3.999 0 0 1 0 7.998zm6.406-11.845a1.44 1.44 0 1 0 0 2.88 1.44 1.44 0 0 0 0-2.88z"})]})," Instagram"]}),f.jsxs("a",{href:"https://twitter.com/yourprofile",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-2 py-1 bg-blue-400 text-white rounded-md text-xs hover:bg-blue-500 transition",children:[f.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M24 4.557a9.93 9.93 0 0 1-2.828.775 4.932 4.932 0 0 0 2.165-2.724c-.951.564-2.005.974-3.127 1.195a4.92 4.92 0 0 0-8.384 4.482C7.691 8.095 4.066 6.13 1.64 3.161c-.542.929-.856 2.01-.857 3.17 0 2.188 1.115 4.117 2.823 5.254a4.904 4.904 0 0 1-2.229-.616c-.054 2.281 1.581 4.415 3.949 4.89a4.936 4.936 0 0 1-2.224.084c.627 1.956 2.444 3.377 4.6 3.417A9.867 9.867 0 0 1 0 21.543a13.94 13.94 0 0 0 7.548 2.209c9.057 0 14.009-7.496 14.009-13.986 0-.21-.005-.423-.014-.634A9.936 9.936 0 0 0 24 4.557z"})})," Twitter"]})]})]})]})}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full",children:[f.jsxs("div",{className:"flex-1 w-full md:w-1/2 sm:max-w-xs bg-gray-200 rounded-3xl p-4 flex flex-col gap-2 shadow-md mb-4 md:mb-0",children:[f.jsxs("h3",{className:"font-semibold text-base sm:text-lg mb-3 flex items-center gap-1",children:[f.jsx("span",{className:"text-yellow-400 text-lg",children:""})," New Comments"]}),f.jsx("div",{className:"flex flex-col gap-2",children:r.map((x,b)=>{var m,p,w;return f.jsxs("div",{className:"bg-white rounded-lg p-1.5 text-xs sm:text-sm shadow-sm min-h-0",children:[f.jsx("span",{className:"font-semibold text-gray-700 block leading-tight mb-0.5",children:((p=(m=x.commented_by)==null?void 0:m.personal_info)==null?void 0:p.fullname)||((w=x.commented_by)==null?void 0:w.fullname)||"User"}),f.jsx("span",{className:"text-gray-500 block leading-tight",children:s(x.comment,10)})]},b)})})]}),f.jsxs("div",{className:"flex-1 w-full md:w-1/2 sm:max-w-xs flex flex-col mb-4 md:mb-0",children:[f.jsxs("h3",{className:"font-semibold text-base sm:text-lg mb-3 flex items-center gap-1",children:[f.jsx("span",{className:"text-yellow-400 text-lg",children:""})," Follow On Instagram"]}),f.jsx("div",{className:"mt-2",children:f.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2 md:gap-3 justify-center items-center p-1 overflow-hidden",children:(window.innerWidth<640?y.slice(0,6):window.innerWidth<768?y.slice(0,8):y.slice(0,12)).map((x,b)=>x.blog_id?f.jsx("a",{href:`/blog/${x.blog_id}`,target:"_blank",rel:"noopener noreferrer",children:f.jsx("img",{src:x.banner,alt:`Instagram post ${b+1}`,className:"aspect-square object-cover rounded-lg border border-gray-200 shadow-sm max-w-full h-auto min-h-[60px] max-h-[100px] transition-transform duration-200 hover:scale-105 hover:shadow-lg"})},x.blog_id):f.jsx("img",{src:x.banner,alt:`Instagram post ${b+1}`,className:"aspect-square object-cover rounded-lg border border-gray-200 shadow-sm max-w-full h-auto min-h-[60px] max-h-[100px] opacity-60"},b))})})]})]})]}),f.jsxs("div",{className:"w-full bg-gray-300 py-2 mt-2 rounded-b-3xl px-2 sm:px-4 flex flex-col md:flex-row justify-between items-center text-xs text-gray-600 gap-2",children:[f.jsxs("span",{className:"text-center w-full md:w-auto order-2 md:order-1",children:["All Copyright (C) ",new Date().getFullYear()," Reserved"]}),f.jsxs("span",{className:"text-center w-full md:w-auto order-1 md:order-2",children:[f.jsx("a",{href:"/privacy-policy",className:"hover:underline",children:"Privacy Policy"})," | ",f.jsx("a",{href:"/terms-and-conditions",className:"hover:underline",children:"Terms & Conditions"})]})]})]})},cA=()=>{var L;const[t,e]=C.useState(!1),{userAuth:n,setUserAuth:r}=C.useContext(ye),{blogImages:o,categories:s}=C.useContext(Nu);let{theme:i,setTheme:a}=C.useContext(Bm);const l=n==null?void 0:n.access_token,c=((L=n==null?void 0:n.personal_info)==null?void 0:L.profile_img)||(n==null?void 0:n.profile_img),u=n==null?void 0:n.new_notification_available,[d,h]=C.useState(!1),v=C.useRef(null),g=C.useRef(null),[y,x]=C.useState(!1),[b,m]=C.useState(!1),p=C.useRef(null),[w,E]=C.useState([]),N=Zr();let P=Ln();const S=!["/login","/signup"].includes(N.pathname),_=()=>{e(A=>!A)},T=()=>{setTimeout(()=>{e(!1)},200)},I=A=>{let D=A.target.value.trim();A.keyCode===13&&D.length&&P(`/search/${D}`)};C.useEffect(()=>{if(l){const A=()=>{_n.get("http://localhost:3000/api/new-notification",{headers:{Authorization:`Bearer ${l}`}}).then(({data:O})=>{const M={...n,...O};Ut(M,r)}).catch(O=>{console.error("Error checking notifications:",O),(O.code==="ERR_NETWORK"||O.message.includes("ECONNREFUSED"))&&console.error("Server connection failed. Make sure the server is running on port 3000.")})};A();const D=setInterval(A,3e4);return()=>clearInterval(D)}},[l]),C.useEffect(()=>{function A(D){v.current&&!v.current.contains(D.target)&&x(!1)}return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[]),C.useEffect(()=>{y&&p.current&&p.current.focus()},[y]),C.useEffect(()=>{x(!1)},[N.pathname]);const j=()=>{const A=i==="dark"?"light":"dark";a(A),document.body.setAttribute("data-theme",A),sessionStorage.setItem("theme",A)},B=()=>{if(u&&l){const A={...n,new_notification_available:!1};Ut(A,r),_n.post("http://localhost:3000/api/seen-notifications",{},{headers:{Authorization:`Bearer ${l}`}}).catch(D=>{console.log("Error marking notifications as seen:",D)})}};return C.useEffect(()=>{(async()=>{try{const{data:D}=await _n.get("http://localhost:3000/api/recent-comments");E(D.comments||[])}catch(D){console.error("Error fetching recent comments:",D),E([])}})()},[]),f.jsxs(f.Fragment,{children:[f.jsxs("nav",{className:"navbar flex items-center justify-between z-50 mb-2",children:[f.jsx(ee,{to:"/",className:"text-2xl font-bold text-[#185d4e] shrink-0 logo-text",children:"IslamicStories"}),f.jsxs("div",{className:"hidden md:flex space-x-6 mr-auto ml-8 items-center flex-nowrap",children:[f.jsx(ee,{to:"/",className:"text-gray-600 navHover",children:"Home"}),f.jsxs("div",{className:"relative",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[f.jsxs(ee,{to:"/categories",className:"text-gray-600 navHover flex items-center focus:outline-none",onClick:()=>m(!1),children:["Categories",f.jsx("i",{className:"fi fi-rr-angle-small-down ml-2 navHover pt-1"})]}),b&&f.jsx("div",{className:"absolute left-0 mt-2 w-48 bg-white rounded shadow-lg z-50",children:s.map((A,D)=>f.jsx(ee,{to:`/categories/${encodeURIComponent(A)}`,className:"block px-4 py-2 text-gray-700 hover:bg-gray-100 capitalize",onClick:()=>m(!1),children:A},A))})]}),f.jsx(ee,{to:"/contact",className:"text-gray-600 navHover",children:"Contact"}),f.jsx(ee,{to:"/about",className:"text-gray-600 navHover",children:"About"})]}),f.jsxs("div",{className:"flex items-center gap-5 shrink-0",children:[f.jsx("button",{className:"w-12 h-12 rounded-full bg-grey relative hover:bg-black/10 dark-hover flex items-center justify-center hidden md:flex",onClick:j,"aria-label":"Toggle theme",children:i==="dark"?f.jsx("i",{className:"fi fi-rr-sun text-xl "}):f.jsx("i",{className:"fi fi-rr-moon-stars text-xl"})}),l?f.jsxs(f.Fragment,{children:[n!=null&&n.isAdmin?f.jsxs(ee,{className:"border-2 border-grey rounded-full px-5 py-0 hidden md:block",to:"/editor",children:[f.jsx("i",{className:"fi fi-rr-file-edit text-sm pt-2 -ml-2"})," Write"]}):null,f.jsx(ee,{to:"/dashboard/notification",className:"hidden md:block",children:f.jsxs("button",{className:"w-12 h-12 rounded-full bg-grey relative hover:bg-black/10 dark-hover",onClick:B,children:[f.jsx("i",{className:"fi fi-rr-bell text-2xl block mt-1"}),u?f.jsx("span",{className:"bg-red w-3 h-3 rounded-full absolute z-10 top-2 right-2"}):""]})}),f.jsxs("div",{className:"relative hidden md:block",children:[f.jsx("button",{className:"w-12 h-12 ",onClick:_,onBlur:T,children:f.jsx("img",{src:c||"/default-profile.png",alt:"Profile",className:"w-full h-full object-cover rounded-full"})}),t&&f.jsx(g0,{})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(ee,{className:"btn-light py-2 hidden md:block",to:"/login",children:"Login"}),f.jsx(ee,{className:"btn-dark py-2 hidden md:block",to:"/signup",children:"SignUp"})]})]}),f.jsxs("div",{ref:g,className:"flex items-center gap-2 md:gap-6 ",children:[f.jsx("button",{className:"md:hidden bg-gray-100 w-12 h-12 rounded-full flex items-center justify-center",onClick:()=>x(A=>!A),children:f.jsx("i",{className:"fi fi-rr-search text-xl"})}),f.jsx("button",{className:"w-12 h-12 rounded-full bg-grey relative hover:bg-black/10 dark-hover flex items-center justify-center md:hidden",onClick:j,"aria-label":"Toggle theme",children:i==="dark"?f.jsx("i",{className:"fi fi-rr-sun text-xl "}):f.jsx("i",{className:"fi fi-rr-moon-stars text-xl"})}),l&&(n!=null&&n.isAdmin)?f.jsx(ee,{to:"/editor",className:"md:hidden",children:f.jsx("i",{className:"fi fi-rr-file-edit "})}):null,l&&f.jsxs(f.Fragment,{children:[f.jsx(ee,{to:"/dashboard/notification",className:"md:hidden",children:f.jsxs("button",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center relative",onClick:B,children:[f.jsx("i",{className:"fi fi-rr-bell text-xl"}),u?f.jsx("span",{className:"bg-red w-3 h-3 rounded-full absolute z-10 top-2 right-2"}):""]})}),f.jsxs("div",{className:"relative md:hidden",onClick:_,onBlur:T,children:[f.jsx("button",{className:"w-6 h-6",children:f.jsx("img",{src:c||"/default-profile.png",alt:"Profile",className:"w-full h-full object-cover rounded-full"})}),t?f.jsx(g0,{}):""]})]}),f.jsx("button",{className:"md:hidden ",onClick:()=>h(!d),children:f.jsx("i",{className:"fi fi-br-menu-burger text-xl "})})]}),f.jsx("div",{ref:v,className:"absolute bg-white mt-0.5 left-0 w-full border-b border-grey py-4 px-[5vw] md:block md:border-0 md:relative md:inset-0 md:p-0 md:w-auto md:show "+(y?"block":"hidden")+" md:hidden lg:hidden ",children:f.jsxs("div",{className:"relative",children:[f.jsx("input",{ref:p,type:"text",placeholder:"Search",className:"w-full md:w-auto bg-grey p-4 pl-6 pr-[12%] md:pr-6 rounded-full placeholder:text-dark-grey md:pl-12 md:hidden lg:hidden sm:text-sm ",onKeyDown:I}),f.jsx("i",{className:"fi fi-rr-search absolute right-[10%] top-1/2 -translate-y-1/2 text-2xl text-gray-500"})]})}),d&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-[9998] md:hidden",onClick:()=>h(!1)}),f.jsx("div",{className:"fixed md:hidden top-16 left-0 right-0 bg-white py-4 px-4 shadow-lg z-[9999] border-4 border-red-500",onClick:A=>A.stopPropagation(),children:f.jsxs("div",{className:"flex flex-col space-y-4",children:[f.jsx(ee,{to:"/",className:"text-gray-600 navHover",onClick:()=>h(!1),children:"Home"}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(ee,{to:"/categories",className:"text-gray-600 navHover flex-1",onClick:()=>{h(!1),m(!1)},children:"Categories"}),f.jsx("button",{className:"text-gray-600 navHover flex items-center text-left ml-2",onClick:()=>m(!b),"aria-label":"Show categories dropdown",children:f.jsx("i",{className:"fi fi-rr-angle-small-down navHover pt-1"})})]}),b&&f.jsx("div",{className:"ml-4 mt-1 bg-white rounded shadow-lg z-50",children:s.map((A,D)=>f.jsx(ee,{to:`/categories/${encodeURIComponent(A)}`,className:"block px-4 py-2 text-gray-700 hover:bg-gray-100 capitalize",onClick:()=>h(!1),children:A},A))}),f.jsx(ee,{to:"/contact",className:"text-gray-600 navHover",onClick:()=>h(!1),children:"Contact"}),f.jsx(ee,{to:"/about",className:"text-gray-600 navHover",onClick:()=>h(!1),children:"About"}),l?f.jsx(f.Fragment,{children:(n==null?void 0:n.isAdmin)&&f.jsxs(ee,{to:"/editor",className:"text-gray-600 navHover",onClick:()=>h(!1),children:[f.jsx("i",{className:"fi fi-rr-file-edit text-sm pt-2 -ml-2"})," Write"]})}):f.jsxs(f.Fragment,{children:[f.jsx(ee,{to:"/login",className:"text-gray-600 navHover",onClick:()=>h(!1),children:"Login"}),f.jsx(ee,{to:"/signup",className:"text-gray-600 navHover",onClick:()=>h(!1),children:"SignUp"})]})]})})]})]}),S&&f.jsxs("div",{className:"search hidden lg:block md:block py-2",children:[f.jsx("input",{type:"text",placeholder:"Search",className:"md:w-[400px] lg:w-[700px] sm:w-[400px] px-4 py-2 mr-auto border border-grey-100 rounded-md text-black",onKeyDown:I}),f.jsx("i",{className:"fi fi-rr-search text-1xl bg-black text-white p-3 rounded-md ml-2"})]}),f.jsx(Rx,{}),!(N.pathname==="/login"||N.pathname==="/signup")&&f.jsx(lA,{instagramImages:o,recentComments:w,categories:s})]})},Fn=({name:t,type:e,placeholder:n,value:r,id:o,icon:s,disable:i=!1,onChange:a,readOnly:l=!1,...c})=>{const[u,d]=C.useState(!1),h={name:t,type:e==="password"?u?"text":"password":e,placeholder:n,id:o,disabled:i,readOnly:l,className:"input-box",onChange:a,...e==="password"?{autoComplete:"current-password"}:{},...c};return r!==void 0&&a&&(h.value=r),f.jsxs("div",{className:"relative w-[100%] mb-4",children:[f.jsx("input",{...h}),f.jsx("i",{className:"fi "+s+" input-icon"}),e==="password"?f.jsx("i",{className:"fi fi-rr-eye"+(u?"":"-crossed")+" input-icon left-[auto] right-4 cursor-pointer",onClick:()=>d(v=>!v)}):""]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},uA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const s=t[n++];e[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){const s=t[n++],i=t[n++],a=t[n++],l=((o&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],i=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|i&63)}}return e.join("")},U1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const s=t[o],i=o+1<t.length,a=i?t[o+1]:0,l=o+2<t.length,c=l?t[o+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,v=c&63;l||(v=64,i||(h=64)),r.push(n[u],n[d],n[h],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(F1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const s=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const c=o<t.length?n[t.charAt(o)]:64;++o;const d=o<t.length?n[t.charAt(o)]:64;if(++o,s==null||a==null||c==null||d==null)throw new dA;const h=s<<2|a>>4;if(r.push(h),c!==64){const v=a<<4&240|c>>2;if(r.push(v),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fA=function(t){const e=F1(t);return U1.encodeByteArray(e,!0)},$1=function(t){return fA(t).replace(/\./g,"")},z1=function(t){try{return U1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=()=>hA().__FIREBASE_DEFAULTS__,mA=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&z1(t[1]);return e&&JSON.parse(e)},am=()=>{try{return pA()||mA()||gA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vA=t=>{var e,n;return(n=(e=am())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},V1=()=>{var t;return(t=am())===null||t===void 0?void 0:t.config},H1=t=>{var e;return(e=am())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function xA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SA(){const t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EA(){try{return typeof indexedDB=="object"}catch{return!1}}function TA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var s;e(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="FirebaseError";class no extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=CA,Object.setPrototypeOf(this,no.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ya.prototype.create)}}class ya{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,s=this.errors[e],i=s?_A(s,r):"Error",a=`${this.serviceName}: ${i} (${o}).`;return new no(o,a,r)}}function _A(t,e){return t.replace(NA,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const NA=/\{\$([^}]+)}/g;function PA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const s=t[o],i=e[o];if(x0(s)&&x0(i)){if(!yc(s,i))return!1}else if(s!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function x0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function IA(t,e){const n=new jA(t,e);return n.subscribe.bind(n)}class jA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=wd),o.error===void 0&&(o.error=wd),o.complete===void 0&&(o.complete=wd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(t){return t&&t._delegate?t._delegate:t}class Ls{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BA(e))try{this.getOrInitializeService({instanceIdentifier:uo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:o});r.resolve(s)}catch{}}}}clearInstance(e=uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uo){return this.instances.has(e)}getOptions(e=uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&i.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(o,s);const i=this.instances.get(o);return i&&e(i,o),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=uo){return this.component?this.component.multipleInstances?e:uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OA(t){return t===uo?void 0:t}function BA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const RA={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},DA=xe.INFO,FA={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},UA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=FA[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class W1{constructor(e){this.name=e,this._logLevel=DA,this._logHandler=UA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const $A=(t,e)=>e.some(n=>t instanceof n);let w0,k0;function zA(){return w0||(w0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VA(){return k0||(k0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G1=new WeakMap,sh=new WeakMap,q1=new WeakMap,kd=new WeakMap,lm=new WeakMap;function HA(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",s),t.removeEventListener("error",i)},s=()=>{n(zr(t.result)),o()},i=()=>{r(t.error),o()};t.addEventListener("success",s),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&G1.set(n,t)}).catch(()=>{}),lm.set(e,t),e}function WA(t){if(sh.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",i),t.removeEventListener("abort",i)},s=()=>{n(),o()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",s),t.addEventListener("error",i),t.addEventListener("abort",i)});sh.set(t,e)}let ih={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||q1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GA(t){ih=t(ih)}function qA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sd(this),e,...n);return q1.set(r,e.sort?e.sort():[e]),zr(r)}:VA().includes(t)?function(...e){return t.apply(Sd(this),e),zr(G1.get(this))}:function(...e){return zr(t.apply(Sd(this),e))}}function KA(t){return typeof t=="function"?qA(t):(t instanceof IDBTransaction&&WA(t),$A(t,zA())?new Proxy(t,ih):t)}function zr(t){if(t instanceof IDBRequest)return HA(t);if(kd.has(t))return kd.get(t);const e=KA(t);return e!==t&&(kd.set(t,e),lm.set(e,t)),e}const Sd=t=>lm.get(t);function YA(t,e,{blocked:n,upgrade:r,blocking:o,terminated:s}={}){const i=indexedDB.open(t,e),a=zr(i);return r&&i.addEventListener("upgradeneeded",l=>{r(zr(i.result),l.oldVersion,l.newVersion,zr(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const XA=["get","getKey","getAll","getAllKeys","count"],JA=["put","add","delete","clear"],Ed=new Map;function S0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ed.get(e))return Ed.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=JA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||XA.includes(n)))return;const s=async function(i,...a){const l=this.transaction(i,o?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),o&&l.done]))[0]};return Ed.set(e,s),s}GA(t=>({...t,get:(e,n,r)=>S0(e,n)||t.get(e,n,r),has:(e,n)=>!!S0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ah="@firebase/app",E0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new W1("@firebase/app"),eO="@firebase/app-compat",tO="@firebase/analytics-compat",nO="@firebase/analytics",rO="@firebase/app-check-compat",oO="@firebase/app-check",sO="@firebase/auth",iO="@firebase/auth-compat",aO="@firebase/database",lO="@firebase/data-connect",cO="@firebase/database-compat",uO="@firebase/functions",dO="@firebase/functions-compat",fO="@firebase/installations",hO="@firebase/installations-compat",pO="@firebase/messaging",mO="@firebase/messaging-compat",gO="@firebase/performance",vO="@firebase/performance-compat",yO="@firebase/remote-config",bO="@firebase/remote-config-compat",xO="@firebase/storage",wO="@firebase/storage-compat",kO="@firebase/firestore",SO="@firebase/vertexai-preview",EO="@firebase/firestore-compat",TO="firebase",CO="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh="[DEFAULT]",_O={[ah]:"fire-core",[eO]:"fire-core-compat",[nO]:"fire-analytics",[tO]:"fire-analytics-compat",[oO]:"fire-app-check",[rO]:"fire-app-check-compat",[sO]:"fire-auth",[iO]:"fire-auth-compat",[aO]:"fire-rtdb",[lO]:"fire-data-connect",[cO]:"fire-rtdb-compat",[uO]:"fire-fn",[dO]:"fire-fn-compat",[fO]:"fire-iid",[hO]:"fire-iid-compat",[pO]:"fire-fcm",[mO]:"fire-fcm-compat",[gO]:"fire-perf",[vO]:"fire-perf-compat",[yO]:"fire-rc",[bO]:"fire-rc-compat",[xO]:"fire-gcs",[wO]:"fire-gcs-compat",[kO]:"fire-fst",[EO]:"fire-fst-compat",[SO]:"fire-vertex","fire-js":"fire-js",[TO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Map,NO=new Map,ch=new Map;function T0(t,e){try{t.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function na(t){const e=t.name;if(ch.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;ch.set(e,t);for(const n of bc.values())T0(n,t);for(const n of NO.values())T0(n,t);return!0}function K1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new ya("app","Firebase",PO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=CO;function Y1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:lh,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Vr.create("bad-app-name",{appName:String(o)});if(n||(n=V1()),!n)throw Vr.create("no-options");const s=bc.get(o);if(s){if(yc(n,s.options)&&yc(r,s.config))return s;throw Vr.create("duplicate-app",{appName:o})}const i=new MA(o);for(const l of ch.values())i.addComponent(l);const a=new IO(n,r,i);return bc.set(o,a),a}function jO(t=lh){const e=bc.get(t);if(!e&&t===lh&&V1())return Y1();if(!e)throw Vr.create("no-app",{appName:t});return e}function ys(t,e,n){var r;let o=(r=_O[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const s=o.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${o}" with version "${e}":`];s&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(a.join(" "));return}na(new Ls(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO="firebase-heartbeat-database",AO=1,ra="firebase-heartbeat-store";let Td=null;function X1(){return Td||(Td=YA(LO,AO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ra)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vr.create("idb-open",{originalErrorMessage:t.message})})),Td}async function OO(t){try{const n=(await X1()).transaction(ra),r=await n.objectStore(ra).get(J1(t));return await n.done,r}catch(e){if(e instanceof no)ir.warn(e.message);else{const n=Vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ir.warn(n.message)}}}async function C0(t,e){try{const r=(await X1()).transaction(ra,"readwrite");await r.objectStore(ra).put(e,J1(t)),await r.done}catch(n){if(n instanceof no)ir.warn(n.message);else{const r=Vr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ir.warn(r.message)}}}function J1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=1024,MO=30*24*60*60*1e3;class RO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=MO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ir.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_0(),{heartbeatsToSend:r,unsentEntries:o}=DO(this._heartbeatsCache.heartbeats),s=$1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ir.warn(n),""}}}function _0(){return new Date().toISOString().substring(0,10)}function DO(t,e=BO){const n=[];let r=t.slice();for(const o of t){const s=n.find(i=>i.agent===o.agent);if(s){if(s.dates.push(o.date),N0(n)>e){s.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),N0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EA()?TA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return C0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return C0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function N0(t){return $1(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t){na(new Ls("platform-logger",e=>new QA(e),"PRIVATE")),na(new Ls("heartbeat",e=>new RO(e),"PRIVATE")),ys(ah,E0,t),ys(ah,E0,"esm2017"),ys("fire-js","")}UO("");var $O="firebase",zO="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ys($O,zO,"app");function cm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function Q1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VO=Q1,Z1=new ya("auth","Firebase",Q1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new W1("@firebase/auth");function HO(t,...e){xc.logLevel<=xe.WARN&&xc.warn(`Auth (${xa}): ${t}`,...e)}function Sl(t,...e){xc.logLevel<=xe.ERROR&&xc.error(`Auth (${xa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t,...e){throw dm(t,...e)}function dn(t,...e){return dm(t,...e)}function um(t,e,n){const r=Object.assign(Object.assign({},VO()),{[e]:n});return new ya("auth","Firebase",r).create(e,{appName:t.name})}function wo(t){return um(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&In(t,"argument-error"),um(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Z1.create(t,...e)}function oe(t,e,...n){if(!t)throw dm(e,...n)}function Wn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sl(e),new Error(e)}function ar(t,e){t||Wn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GO(){return P0()==="http:"||P0()==="https:"}function P0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GO()||wA()||"connection"in navigator)?navigator.onLine:!0}function KO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n){this.shortDelay=e,this.longDelay=n,ar(n>e,"Short delay should be less than long delay!"),this.isMobile=bA()||kA()}get(){return qO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(t,e){ar(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=new wa(3e4,6e4);function hm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Hs(t,e,n,r,o={}){return tk(t,o,async()=>{let s={},i={};r&&(e==="GET"?i=r:s={body:JSON.stringify(r)});const a=ba(Object.assign({key:t.config.apiKey},i)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return xA()||(c.referrerPolicy="no-referrer"),ek.fetch()(nk(t,t.config.apiHost,n,a),c)})}async function tk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},YO),e);try{const o=new QO(t),s=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw Za(t,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const a=s.ok?i.errorMessage:i.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Za(t,"credential-already-in-use",i);if(l==="EMAIL_EXISTS")throw Za(t,"email-already-in-use",i);if(l==="USER_DISABLED")throw Za(t,"user-disabled",i);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw um(t,u,c);In(t,u)}}catch(o){if(o instanceof no)throw o;In(t,"network-request-failed",{message:String(o)})}}async function JO(t,e,n,r,o={}){const s=await Hs(t,e,n,r,o);return"mfaPendingCredential"in s&&In(t,"multi-factor-auth-required",{_serverResponse:s}),s}function nk(t,e,n,r){const o=`${e}${n}?${r}`;return t.config.emulator?fm(t.config,o):`${t.config.apiScheme}://${o}`}class QO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(dn(this.auth,"network-request-failed")),XO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Za(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=dn(t,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(t,e){return Hs(t,"POST","/v1/accounts:delete",e)}async function rk(t,e){return Hs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eB(t,e=!1){const n=Vs(t),r=await n.getIdToken(e),o=pm(r);oe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s=typeof o.firebase=="object"?o.firebase:void 0,i=s==null?void 0:s.sign_in_provider;return{claims:o,token:r,authTime:Ni(Cd(o.auth_time)),issuedAtTime:Ni(Cd(o.iat)),expirationTime:Ni(Cd(o.exp)),signInProvider:i||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Cd(t){return Number(t)*1e3}function pm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sl("JWT malformed, contained fewer than 3 sections"),null;try{const o=z1(n);return o?JSON.parse(o):(Sl("Failed to decode base64 JWT payload"),null)}catch(o){return Sl("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function I0(t){const e=pm(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof no&&tB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function tB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ni(this.lastLoginAt),this.creationTime=Ni(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t){var e;const n=t.auth,r=await t.getIdToken(),o=await oa(t,rk(n,{idToken:r}));oe(o==null?void 0:o.users.length,n,"internal-error");const s=o.users[0];t._notifyReloadListener(s);const i=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ok(s.providerUserInfo):[],a=oB(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new dh(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function rB(t){const e=Vs(t);await wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oB(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function ok(t){return t.map(e=>{var{providerId:n}=e,r=cm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sB(t,e){const n=await tk(t,{},async()=>{const r=ba({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:s}=t.config,i=nk(t,o,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ek.fetch()(i,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iB(t,e){return Hs(t,"POST","/v2/accounts:revokeToken",hm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=I0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:s}=await sB(e,n);this.updateTokensAndExpiration(r,o,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:s}=n,i=new bs;return r&&(oe(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),o&&(oe(typeof o=="string","internal-error",{appName:e}),i.accessToken=o),s&&(oe(typeof s=="number","internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bs,this.toJSON())}_performRefresh(){return Wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gn{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,s=cm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await oa(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eB(this,e)}reload(){return rB(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(wo(this.auth));const e=await this.getIdToken();return await oa(this,ZO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,s,i,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(o=n.email)!==null&&o!==void 0?o:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(i=n.photoURL)!==null&&i!==void 0?i:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:p,emailVerified:w,isAnonymous:E,providerData:N,stsTokenManager:P}=n;oe(p&&P,e,"internal-error");const k=bs.fromJSON(this.name,P);oe(typeof p=="string",e,"internal-error"),pr(d,e.name),pr(h,e.name),oe(typeof w=="boolean",e,"internal-error"),oe(typeof E=="boolean",e,"internal-error"),pr(v,e.name),pr(g,e.name),pr(y,e.name),pr(x,e.name),pr(b,e.name),pr(m,e.name);const S=new Gn({uid:p,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:E,photoURL:g,phoneNumber:v,tenantId:y,stsTokenManager:k,createdAt:b,lastLoginAt:m});return N&&Array.isArray(N)&&(S.providerData=N.map(_=>Object.assign({},_))),x&&(S._redirectEventId=x),S}static async _fromIdTokenResponse(e,n,r=!1){const o=new bs;o.updateFromServerResponse(n);const s=new Gn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await wc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];oe(o.localId!==void 0,"internal-error");const s=o.providerUserInfo!==void 0?ok(o.providerUserInfo):[],i=!(o.email&&o.passwordHash)&&!(s!=null&&s.length),a=new bs;a.updateFromIdToken(r);const l=new Gn({uid:o.localId,auth:e,stsTokenManager:a,isAnonymous:i}),c={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new dh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=new Map;function qn(t){ar(t instanceof Function,"Expected a class definition");let e=j0.get(t);return e?(ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,j0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sk.type="NONE";const L0=sk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t,e,n){return`firebase:${t}:${e}:${n}`}class xs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:s}=this.auth;this.fullUserKey=El(this.userKey,o.apiKey,s),this.fullPersistenceKey=El("persistence",o.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xs(qn(L0),e,r);const o=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=o[0]||qn(L0);const i=El(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(i);if(u){const d=Gn._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=o.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new xs(s,e,r):(s=l[0],a&&await s._set(i,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(i)}catch{}})),new xs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ck(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ik(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dk(e))return"Blackberry";if(fk(e))return"Webos";if(ak(e))return"Safari";if((e.includes("chrome/")||lk(e))&&!e.includes("edge/"))return"Chrome";if(uk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ik(t=wt()){return/firefox\//i.test(t)}function ak(t=wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lk(t=wt()){return/crios\//i.test(t)}function ck(t=wt()){return/iemobile/i.test(t)}function uk(t=wt()){return/android/i.test(t)}function dk(t=wt()){return/blackberry/i.test(t)}function fk(t=wt()){return/webos/i.test(t)}function mm(t=wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aB(t=wt()){var e;return mm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lB(){return SA()&&document.documentMode===10}function hk(t=wt()){return mm(t)||uk(t)||fk(t)||dk(t)||/windows phone/i.test(t)||ck(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t,e=[]){let n;switch(t){case"Browser":n=A0(wt());break;case"Worker":n=`${A0(wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((i,a)=>{try{const l=e(s);i(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uB(t,e={}){return Hs(t,"GET","/v2/passwordPolicy",hm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=6;class fB{constructor(e){var n,r,o,s;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=i.minPasswordLength)!==null&&n!==void 0?n:dB,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,s,i,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsLowercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsNumericCharacter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O0(this),this.idTokenSubscription=new O0(this),this.beforeStateQueue=new cB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qn(n)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await xs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rk(this,{idToken:e}),r=await Gn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Hn(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=o==null?void 0:o._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===a)&&(l!=null&&l.user)&&(o=l.user,s=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(o)}catch(i){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(wo(this));const n=e?Vs(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(wo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(wo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uB(this),n=new fB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ya("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qn(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await xs.create(this,[qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{i||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,o);return()=>{i=!0,l()}}else{const l=e.addObserver(n);return()=>{i=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&HO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yu(t){return Vs(t)}class O0{constructor(e){this.auth=e,this.observer=null,this.addObserver=IA(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pB(t){gm=t}function mB(t){return gm.loadJS(t)}function gB(){return gm.gapiScript}function vB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(t,e){const n=K1(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),s=n.getOptions();if(yc(s,e??{}))return o;In(o,"already-initialized")}return n.initialize({options:e})}function bB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xB(t,e,n){const r=yu(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!!(n!=null&&n.disableWarnings),s=mk(e),{host:i,port:a}=wB(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${i}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:i,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||kB()}function mk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wB(t){const e=mk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const s=o[1];return{host:s,port:B0(r.substr(s.length+1))}}else{const[s,i]=r.split(":");return{host:s,port:B0(i)}}}function B0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wn("not implemented")}_getIdTokenResponse(e){return Wn("not implemented")}_linkToIdToken(e,n){return Wn("not implemented")}_getReauthenticationResolver(e){return Wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ws(t,e){return JO(t,"POST","/v1/accounts:signInWithIdp",hm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB="http://localhost";class Io extends gk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Io(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):In("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,s=cm(n,["providerId","signInMethod"]);if(!r||!o)return null;const i=new Io(r,o);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){const n=this.buildRequest();return ws(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ws(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ws(e,n)}buildRequest(){const e={requestUri:SB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ba(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends vm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends ka{constructor(){super("facebook.com")}static credential(e){return Io._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn extends ka{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Io._fromParams({providerId:kn.PROVIDER_ID,signInMethod:kn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return kn.credentialFromTaggedObject(e)}static credentialFromError(e){return kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return kn.credential(n,r)}catch{return null}}}kn.GOOGLE_SIGN_IN_METHOD="google.com";kn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends ka{constructor(){super("github.com")}static credential(e){return Io._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.GITHUB_SIGN_IN_METHOD="github.com";Sr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends ka{constructor(){super("twitter.com")}static credential(e,n){return Io._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Er.credential(n,r)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const s=await Gn._fromIdTokenResponse(e,r,o),i=M0(r);return new As({user:s,providerId:i,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=M0(r);return new As({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function M0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends no{constructor(e,n,r,o){var s;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,kc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new kc(e,n,r,o)}}function vk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?kc._fromErrorAndOperation(t,s,e,r):s})}async function EB(t,e,n=!1){const r=await oa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return As._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TB(t,e,n=!1){const{auth:r}=t;if(Hn(r.app))return Promise.reject(wo(r));const o="reauthenticate";try{const s=await oa(t,vk(r,o,e,t),n);oe(s.idToken,r,"internal-error");const i=pm(s.idToken);oe(i,r,"internal-error");const{sub:a}=i;return oe(t.uid===a,r,"user-mismatch"),As._forOperation(t,o,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&In(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CB(t,e,n=!1){if(Hn(t.app))return Promise.reject(wo(t));const r="signIn",o=await vk(t,r,e),s=await As._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(s.user),s}function _B(t,e,n,r){return Vs(t).onIdTokenChanged(e,n,r)}function NB(t,e,n){return Vs(t).beforeAuthStateChanged(e,n)}const Sc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sc,"1"),this.storage.removeItem(Sc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB=1e3,IB=10;class bk extends yk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((i,a,l)=>{this.notifyListeners(i,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const i=this.storage.getItem(r);!n&&this.localCache[r]===i||this.notifyListeners(r,i)},s=this.storage.getItem(r);lB()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,IB):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bk.type="LOCAL";const jB=bk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk extends yk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xk.type="SESSION";const wk=xk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new bu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:s}=n.data,i=this.handlersMap[o];if(!(i!=null&&i.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const a=Array.from(i).map(async c=>c(n.origin,s)),l=await LB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,i;return new Promise((a,l)=>{const c=ym("",20);o.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);i={messageChannel:o,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(i),o.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[o.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return window}function OB(t){Nn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(){return typeof Nn().WorkerGlobalScope<"u"&&typeof Nn().importScripts=="function"}async function BB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function RB(){return kk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="firebaseLocalStorageDb",DB=1,Ec="firebaseLocalStorage",Ek="fbase_key";class Sa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xu(t,e){return t.transaction([Ec],e?"readwrite":"readonly").objectStore(Ec)}function FB(){const t=indexedDB.deleteDatabase(Sk);return new Sa(t).toPromise()}function fh(){const t=indexedDB.open(Sk,DB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ec,{keyPath:Ek})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ec)?e(r):(r.close(),await FB(),e(await fh()))})})}async function R0(t,e,n){const r=xu(t,!0).put({[Ek]:e,value:n});return new Sa(r).toPromise()}async function UB(t,e){const n=xu(t,!1).get(e),r=await new Sa(n).toPromise();return r===void 0?null:r.value}function D0(t,e){const n=xu(t,!0).delete(e);return new Sa(n).toPromise()}const $B=800,zB=3;class Tk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>zB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bu._getInstance(RB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await BB(),!this.activeServiceWorker)return;this.sender=new AB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fh();return await R0(e,Sc,"1"),await D0(e,Sc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>R0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>UB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>D0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const s=xu(o,!1).getAll();return new Sa(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:s}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$B)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Tk.type="LOCAL";const VB=Tk;new wa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t,e){return e?qn(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm extends gk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ws(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ws(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ws(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HB(t){return CB(t.auth,new bm(t),t.bypassAuthState)}function WB(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),TB(n,new bm(t),t.bypassAuthState)}async function GB(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),EB(n,new bm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n,r,o,s=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:s,error:i,type:a}=e;if(i){this.reject(i);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HB;case"linkViaPopup":case"linkViaRedirect":return GB;case"reauthViaPopup":case"reauthViaRedirect":return WB;default:In(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB=new wa(2e3,1e4);async function KB(t,e,n){if(Hn(t.app))return Promise.reject(dn(t,"operation-not-supported-in-this-environment"));const r=yu(t);WO(t,e,vm);const o=Ck(r,n);return new yo(r,"signInViaPopup",e,o).executeNotNull()}class yo extends _k{constructor(e,n,r,o,s){super(e,n,o,s),this.provider=r,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qB.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB="pendingRedirect",Tl=new Map;class XB extends _k{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tl.get(this.auth._key());if(!e){try{const r=await JB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tl.set(this.auth._key(),e)}return this.bypassAuthState||Tl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JB(t,e){const n=eM(e),r=ZB(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function QB(t,e){Tl.set(t._key(),e)}function ZB(t){return qn(t._redirectPersistence)}function eM(t){return El(YB,t.config.apiKey,t.name)}async function tM(t,e,n=!1){if(Hn(t.app))return Promise.reject(wo(t));const r=yu(t),o=Ck(r,e),i=await new XB(r,o,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=10*60*1e3;class rM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Nk(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(dn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nM&&this.cachedEventUids.clear(),this.cachedEventUids.has(F0(e))}saveEventToCache(e){this.cachedEventUids.add(F0(e)),this.lastProcessedEventTime=Date.now()}}function F0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Nk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(t,e={}){return Hs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aM=/^https?/;async function lM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sM(t);for(const n of e)try{if(cM(n))return}catch{}In(t,"unauthorized-domain")}function cM(t){const e=uh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!aM.test(n))return!1;if(iM.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=new wa(3e4,6e4);function U0(){const t=Nn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dM(t){return new Promise((e,n)=>{var r,o,s;function i(){U0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U0(),n(dn(t,"network-request-failed"))},timeout:uM.get()})}if(!((o=(r=Nn().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((s=Nn().gapi)===null||s===void 0)&&s.load)i();else{const a=vB("iframefcb");return Nn()[a]=()=>{gapi.load?i():n(dn(t,"network-request-failed"))},mB(`${gB()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Cl=null,e})}let Cl=null;function fM(t){return Cl=Cl||dM(t),Cl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=new wa(5e3,15e3),pM="__/auth/iframe",mM="emulator/auth/iframe",gM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yM(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fm(e,mM):`https://${t.config.authDomain}/${pM}`,r={apiKey:e.apiKey,appName:t.name,v:xa},o=vM.get(t.config.apiHost);o&&(r.eid=o);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ba(r).slice(1)}`}async function bM(t){const e=await fM(t),n=Nn().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:yM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gM,dontclear:!0},r=>new Promise(async(o,s)=>{await r.restyle({setHideOnLeave:!1});const i=dn(t,"network-request-failed"),a=Nn().setTimeout(()=>{s(i)},hM.get());function l(){Nn().clearTimeout(a),o(r)}r.ping(l).then(l,()=>{s(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wM=500,kM=600,SM="_blank",EM="http://localhost";class $0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TM(t,e,n,r=wM,o=kM){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},xM),{width:r.toString(),height:o.toString(),top:s,left:i}),c=wt().toLowerCase();n&&(a=lk(c)?SM:n),ik(c)&&(e=e||EM,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[v,g])=>`${h}${v}=${g},`,"");if(aB(c)&&a!=="_self")return CM(e||"",a),new $0(null);const d=window.open(e||"",a,u);oe(d,t,"popup-blocked");try{d.focus()}catch{}return new $0(d)}function CM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="__/auth/handler",NM="emulator/auth/handler",PM=encodeURIComponent("fac");async function z0(t,e,n,r,o,s){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xa,eventId:o};if(e instanceof vm){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",PA(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))i[u]=d}if(e instanceof ka){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(i.scopes=u.join(","))}t.tenantId&&(i.tid=t.tenantId);const a=i;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${PM}=${encodeURIComponent(l)}`:"";return`${IM(t)}?${ba(a).slice(1)}${c}`}function IM({config:t}){return t.emulator?fm(t,NM):`https://${t.authDomain}/${_M}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="webStorageSupport";class jM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wk,this._completeRedirectFn=tM,this._overrideRedirectResult=QB}async _openPopup(e,n,r,o){var s;ar((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const i=await z0(e,n,r,uh(),o);return TM(e,i,ym())}async _openRedirect(e,n,r,o){await this._originValidation(e);const s=await z0(e,n,r,uh(),o);return OB(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:s}=this.eventManagers[n];return o?Promise.resolve(o):(ar(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await bM(e),r=new rM(e);return n.register("authEvent",o=>(oe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_d,{type:_d},o=>{var s;const i=(s=o==null?void 0:o[0])===null||s===void 0?void 0:s[_d];i!==void 0&&n(!!i),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hk()||ak()||mm()}}const LM=jM;var V0="@firebase/auth",H0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BM(t){na(new Ls("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=r.options;oe(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pk(t)},c=new hB(r,o,s,l);return bB(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),na(new Ls("auth-internal",e=>{const n=yu(e.getProvider("auth").getImmediate());return(r=>new AM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ys(V0,H0,OM(t)),ys(V0,H0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=5*60,RM=H1("authIdTokenMaxAge")||MM;let W0=null;const DM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>RM)return;const o=n==null?void 0:n.token;W0!==o&&(W0=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function FM(t=jO()){const e=K1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yB(t,{popupRedirectResolver:LM,persistence:[VB,jB,wk]}),r=H1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const i=DM(s.toString());NB(n,i,()=>i(n.currentUser)),_B(n,a=>i(a))}}const o=vA("auth");return o&&xB(n,`http://${o}`),n}function UM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}pB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const s=dn("internal-error");s.customData=o,n(s)},r.type="text/javascript",r.charset="UTF-8",UM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BM("Browser");const $M={apiKey:"AIzaSyBpjxw01SgiPCe1t2QzZgtaYJG0euhmUXo",authDomain:"islamic-stories-website.firebaseapp.com",projectId:"islamic-stories-website",storageBucket:"islamic-stories-website.firebasestorage.app",messagingSenderId:"491374615407",appId:"1:491374615407:web:73474c703a2dff3394269a"};Y1($M);const zM=new kn,VM=FM(),HM=()=>KB(VM,zM).then(t=>({idToken:kn.credentialFromResult(t).idToken,user:t.user})),Nd=({type:t})=>{let{userAuth:e,setUserAuth:n}=C.useContext(ye);const r=e==null?void 0:e.access_token,[o,s]=C.useState(!1),[i,a]=C.useState(""),[l,c]=C.useState("");console.log("Current access_token:",r);const u=(g,y)=>{console.log("Sending request to:","http://localhost:3000/api"+g),console.log("Form data:",y),G.post("http://localhost:3000/api"+g,y).then(({data:x})=>{g==="/signup"?(c("Signup successful! Please check your email to verify your account."),s(!0),a(y.email)):(g==="/login"||g==="/google-auth")&&Ut(x,n),console.log("Stored in sessionStorage:",sessionStorage.getItem("user"))}).catch(x=>{var m,p;let b="Login failed. Please try again.";(p=(m=x==null?void 0:x.response)==null?void 0:m.data)!=null&&p.error?b=x.response.data.error:x!=null&&x.message?b=x.message:typeof x=="string"&&(b=x),(b.includes("verify your email")||b.includes("Failed to send verification email"))&&(s(!0),a(y.email)),b==="Email not found"?H.error("No account found with this email. Please sign up first."):H.error(b),console.error("Full error object:",x),x!=null&&x.response&&console.error("Error response data:",x.response.data)})},d=g=>{g.preventDefault();let y=t==="login"?"/login":"/signup",x=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,b=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/,m=document.getElementById("formElement");if(!m){console.error("Form element is not found");return}let p=new FormData(m),w={};for(let[S,_]of p.entries())w[S]=_;let{firstname:E,lastname:N,email:P,password:k}=w;if(t!=="login"){if(!E||E.length<1)return H.error("First name must be at least 1 letter long");if(!N||N.length<1)return H.error("Last name must be at least 1 letter long");if((E+" "+N).trim().length<3)return H.error("Fullname must be at least 3 letters long")}if(!P.length)return H.error("Enter Email");if(!x.test(P))return H.error("Email is invalid");if(!b.test(k))return H.error("Password should be 6 to 20 characters long with a numeric, 1 lowercase and 1 uppercase letter");u(y,w)},h=g=>{g.preventDefault(),HM().then(({idToken:y})=>{u("/google-auth",{id_token:y})}).catch(y=>(H.error("trouble login through google"),console.log(y)))},v=g=>{if(g.preventDefault(),!i){H.error("Enter your email to resend verification.");return}G.post("http://localhost:3000/api/resend-verification",{email:i}).then(({data:y})=>{H.success(y.message||"Verification email resent. Please check your inbox.")}).catch(y=>{var b,m;const x=((m=(b=y==null?void 0:y.response)==null?void 0:b.data)==null?void 0:m.error)||"Failed to resend verification email.";H.error(x)})};return r?f.jsx(jp,{to:"/"}):f.jsx(Me,{keyValue:t,children:f.jsxs("section",{className:"h-cover flex items-center justify-center px-2 sm:px-0",children:[f.jsx(An,{}),f.jsxs("form",{id:"formElement",className:"w-full max-w-[400px] bg-white rounded-lg shadow-md p-4 sm:p-8 flex flex-col",onSubmit:d,children:[f.jsx("h1",{className:"text-2xl sm:text-4xl font-gelasio capitalize text-center mb-10 sm:mb-24 w-full",children:t==="login"?"Welcome back":"Join us today"}),l&&f.jsx("div",{className:"mb-4 text-green-700 text-center text-sm sm:text-base w-full",children:l}),f.jsxs("div",{className:"w-full flex flex-col items-center",children:[t!=="login"?f.jsxs(f.Fragment,{children:[f.jsx(Fn,{name:"firstname",type:"text",placeholder:"First Name",icon:"fi-rr-user"}),f.jsx(Fn,{name:"lastname",type:"text",placeholder:"Last Name",icon:"fi-rr-user"})]}):"",f.jsx(Fn,{name:"email",type:"email",placeholder:"Email",icon:"fi-rr-envelope",autoComplete:"username",onChange:g=>a(g.target.value)}),f.jsx(Fn,{name:"password",type:"password",placeholder:"Password",icon:"fi-rr-key"})]}),f.jsx("button",{className:"btn-dark w-full mt-8 sm:mt-14 text-base sm:text-sm py-3 sm:py-3",type:"submit",children:t==="signup"?"Sign Up":"Login"}),o&&f.jsx("button",{className:"btn-dark w-full mt-4",onClick:v,type:"button",children:"Resend verification email"}),f.jsxs("div",{className:"relative w-full flex items-center gap-2 my-6 sm:my-10 opacity-10 uppercase text-black font-bold text-xs sm:text-base",children:[f.jsx("hr",{className:"w-1/2 border-black"}),f.jsx("p",{children:"or"}),f.jsx("hr",{className:"w-1/2 border-black "})]}),f.jsxs("button",{className:"btn-dark flex items-center justify-center gap-4 w-full text-base sm:text-sm py-3 sm:py-3",onClick:h,children:[f.jsx("img",{src:R1,className:"w-5"}),"Continue with google"]}),t==="login"?f.jsxs("p",{className:"mt-6 text-dark-grey text-base sm:text-xl text-center w-full",children:["Don't have an account?",f.jsx(ee,{to:"/signup",className:"underline text-black text-base sm:text-xl ml-1",children:"Join us today"})]}):f.jsxs("p",{className:"mt-6 text-dark-grey text-base sm:text-xl text-center w-full",children:["Already a member?",f.jsx(ee,{to:"/login",className:"underline text-black text-base sm:text-xl ml-1",children:"Sign in here."})]})]})]})})};var WM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Pd(){}Object.assign(Pd,{default:Pd,register:Pd,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(n=>{const r=n instanceof Node;e.appendChild(r?n:document.createTextNode(n))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,n=window.getComputedStyle(e,null),r=parseInt(n.getPropertyValue("border-top-width")),o=parseInt(n.getPropertyValue("border-left-width")),s=this.offsetTop-e.offsetTop<e.scrollTop,i=this.offsetTop-e.offsetTop+this.clientHeight-r>e.scrollTop+e.clientHeight,a=this.offsetLeft-e.offsetLeft<e.scrollLeft,l=this.offsetLeft-e.offsetLeft+this.clientWidth-o>e.scrollLeft+e.clientWidth,c=s&&!i;(s||i)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-r+this.clientHeight/2),(a||l)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-o+this.clientWidth/2),(s||i||a||l)&&!t&&this.scrollIntoView(c)});let GM=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var Pk=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(Pk||{});const se={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},qM={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function Ea(t,e,n="log",r,o="color: inherit"){if(!("console"in window)||!window.console[n])return;const s=["info","log","warn","error"].includes(n),i=[];switch(Ea.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!s||t)return;break}r&&i.push(r);const a="Editor.js 2.27.2",l=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;t&&(s?(i.unshift(l,o),e=`%c${a}%c ${e}`):e=`( ${a} )${e}`);try{s?r?console[n](`${e} %o`,...i):console[n](e,...i):console[n](e)}catch{}}Ea.logLevel="VERBOSE";function KM(t){Ea.logLevel=t}const le=Ea.bind(window,!1),sn=Ea.bind(window,!0);function jo(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function _e(t){return jo(t)==="function"||jo(t)==="asyncfunction"}function at(t){return jo(t)==="object"}function Kr(t){return jo(t)==="string"}function YM(t){return jo(t)==="boolean"}function G0(t){return jo(t)==="number"}function q0(t){return jo(t)==="undefined"}function hn(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function Ik(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function jk(t,e=()=>{},n=()=>{}){async function r(o,s,i){try{await o.function(o.data),await s(q0(o.data)?{}:o.data)}catch{i(q0(o.data)?{}:o.data)}}return t.reduce(async(o,s)=>(await o,r(s,e,n)),Promise.resolve())}function Lk(t){return Array.prototype.slice.call(t)}function Lo(t,e){return function(){const n=this,r=arguments;window.setTimeout(()=>t.apply(n,r),e)}}function XM(t){return t.name.split(".").pop()}function JM(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function QM(t,e,n){let r;return(...o)=>{const s=this,i=()=>{r=null,n||t.apply(s,o)},a=n&&!r;window.clearTimeout(r),r=window.setTimeout(i,e),a&&t.apply(s,o)}}function hh(t,e,n=void 0){let r,o,s,i=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),i=null,s=t.apply(r,o),i||(r=o=null)};return function(){const c=Date.now();!a&&n.leading===!1&&(a=c);const u=e-(c-a);return r=this,o=arguments,u<=0||u>e?(i&&(clearTimeout(i),i=null),a=c,s=t.apply(r,o),i||(r=o=null)):!i&&n.trailing!==!1&&(i=setTimeout(l,u)),s}}function ZM(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e&&(t[e]=!0),t}function Tc(t){return t[0].toUpperCase()+t.slice(1)}function ph(t,...e){if(!e.length)return t;const n=e.shift();if(at(t)&&at(n))for(const r in n)at(n[r])?(t[r]||Object.assign(t,{[r]:{}}),ph(t[r],n[r])):Object.assign(t,{[r]:n[r]});return ph(t,...e)}function Ak(t){const e=ZM();return t=t.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function eR(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function tR(){return GM(10)}function nR(t){window.open(t,"_blank")}function rR(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function mh(t,e,n){const r=`${e} is deprecated and will be removed in the next major release. Please use the ${n} instead.`;t&&sn(r,"warn")}function Ws(t,e,n){const r=n.value?"value":"get",o=n[r],s=`#${e}Cache`;if(n[r]=function(...i){return this[s]===void 0&&(this[s]=o.apply(this,...i)),this[s]},r==="get"&&n.set){const i=n.set;n.set=function(a){delete t[s],i.apply(this,a)}}return n}const Ok=650;function ko(){return window.matchMedia(`(max-width: ${Ok}px)`).matches}const K0=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function oR(t,e){const n=Array.isArray(t)||at(t),r=Array.isArray(e)||at(e);return n||r?JSON.stringify(t)===JSON.stringify(e):t===e}class F{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,n=null,r={}){const o=document.createElement(e);Array.isArray(n)?o.classList.add(...n):n&&o.classList.add(n);for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&(o[s]=r[s]);return o}static text(e){return document.createTextNode(e)}static append(e,n){Array.isArray(n)?n.forEach(r=>e.appendChild(r)):e.appendChild(n)}static prepend(e,n){Array.isArray(n)?(n=n.reverse(),n.forEach(r=>e.prepend(r))):e.prepend(n)}static swap(e,n){const r=document.createElement("div"),o=e.parentNode;o.insertBefore(r,e),o.insertBefore(e,n),o.insertBefore(n,r),o.removeChild(r)}static find(e=document,n){return e.querySelector(n)}static get(e){return document.getElementById(e)}static findAll(e=document,n){return e.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return Lk(e.querySelectorAll(F.allInputsSelector)).reduce((n,r)=>F.isNativeInput(r)||F.containsOnlyInlineElements(r)?[...n,r]:[...n,...F.getDeepestBlockElements(r)],[])}static getDeepestNode(e,n=!1){const r=n?"lastChild":"firstChild",o=n?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[r]){let s=e[r];if(F.isSingleTag(s)&&!F.isNativeInput(s)&&!F.isLineBreakTag(s))if(s[o])s=s[o];else if(s.parentNode[o])s=s.parentNode[o];else return s.parentNode;return this.getDeepestNode(s,n)}return e}static isElement(e){return G0(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return G0(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const n=["INPUT","TEXTAREA"];return e&&e.tagName?n.includes(e.tagName):!1}static canSetCaret(e){let n=!0;if(F.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=F.isContentEditable(e);return n}static isNodeEmpty(e){let n;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?n=e.value:n=e.textContent.replace("",""),n.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e){e.normalize();const n=[e];for(;n.length>0;)if(e=n.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e))return!1;e.childNodes&&n.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const n=F.make("div");return n.innerHTML=e,n.childElementCount>0}static getContentLength(e){return F.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let n;Kr(e)?(n=document.createElement("div"),n.innerHTML=e):n=e;const r=o=>!F.blockElements.includes(o.tagName.toLowerCase())&&Array.from(o.children).every(r);return Array.from(n.children).every(r)}static getDeepestBlockElements(e){return F.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((n,r)=>[...n,...F.getDeepestBlockElements(r)],[])}static getHolder(e){return Kr(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const n=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,s=n.top+o,i=n.left+r;return{top:s,left:i,bottom:s+n.height,right:i+n.width}}}const sR={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},iR={Text:"",Link:"",Bold:"",Italic:""},aR={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},lR={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},Bk={ui:sR,toolNames:iR,tools:aR,blockTunes:lR},Wo=class{static ui(t,e){return Wo._t(t,e)}static t(t,e){return Wo._t(t,e)}static setDictionary(t){Wo.currentDictionary=t}static _t(t,e){const n=Wo.getNamespace(t);return!n||!n[e]?e:n[e]}static getNamespace(t){return t.split(".").reduce((e,n)=>!e||!Object.keys(e).length?{}:e[n],Wo.currentDictionary)}};let Nt=Wo;Nt.currentDictionary=Bk;let Mk=class extends Error{};class ku{constructor(){this.subscribers={}}on(e,n){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(n)}once(e,n){e in this.subscribers||(this.subscribers[e]=[]);const r=o=>{const s=n(o),i=this.subscribers[e].indexOf(r);return i!==-1&&this.subscribers[e].splice(i,1),s};this.subscribers[e].push(r)}emit(e,n){hn(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((r,o)=>{const s=o(r);return s!==void 0?s:r},n)}off(e,n){for(let r=0;r<this.subscribers[e].length;r++)if(this.subscribers[e][r]===n){delete this.subscribers[e][r];break}}destroy(){this.subscribers=null}}function Pi(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},call(e,n){return t.call(e,n)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()}})}class xm{constructor(){this.allListeners=[]}on(e,n,r,o=!1){const s=rR("l"),i={id:s,element:e,eventType:n,handler:r,options:o};if(!this.findOne(e,n,r))return this.allListeners.push(i),e.addEventListener(n,r,o),s}off(e,n,r,o){const s=this.findAll(e,n,r);s.forEach((i,a)=>{const l=this.allListeners.indexOf(s[a]);l>-1&&(this.allListeners.splice(l,1),i.element.removeEventListener(i.eventType,i.handler,i.options))})}offById(e){const n=this.findById(e);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(e,n,r){const o=this.findAll(e,n,r);return o.length>0?o[0]:null}findAll(e,n,r){let o;const s=e?this.findByEventTarget(e):[];return e&&n&&r?o=s.filter(i=>i.eventType===n&&i.handler===r):e&&n?o=s.filter(i=>i.eventType===n):o=s,o}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(n=>{if(n.element===e)return n})}findByType(e){return this.allListeners.filter(n=>{if(n.eventType===e)return n})}findByHandler(e){return this.allListeners.filter(n=>{if(n.handler===e)return n})}findById(e){return this.allListeners.find(n=>n.id===e)}}class ue{constructor({config:e,eventsDispatcher:n}){if(this.nodes={},this.listeners=new xm,this.readOnlyMutableListeners={on:(r,o,s,i=!1)=>{this.mutableListenerIds.push(this.listeners.on(r,o,s,i))},clearAll:()=>{for(const r of this.mutableListenerIds)this.listeners.offById(r);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===ue)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=n}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const n=this.nodes[e];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}}class J{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const n=e.anchorNode;return n?F.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(J.get())}static isSelectionAtEditor(e){if(!e)return!1;let n=e.anchorNode||e.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${J.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let n=e.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${J.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!J.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,n,r={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,n=e.createRange(),r.x=n.boundingLeft,r.y=n.boundingTop,r.width=n.boundingWidth,r.height=n.boundingHeight,r;if(!window.getSelection)return le("Method window.getSelection is not supported","warn"),r;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return le("Method SelectionUtils.rangeCount is not supported","warn"),r;if(e.rangeCount===0)return r;if(n=e.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(r=n.getBoundingClientRect()),r.x===0&&r.y===0){const o=document.createElement("span");if(o.getBoundingClientRect){o.appendChild(document.createTextNode("")),n.insertNode(o),r=o.getBoundingClientRect();const s=o.parentNode;s.removeChild(o),s.normalize()}}return r}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,n=0){const r=document.createRange(),o=window.getSelection();return F.isNativeInput(e)?F.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=n,e.getBoundingClientRect()):void 0:(r.setStart(e,n),r.setEnd(e,n),o.removeAllRanges(),o.addRange(r),r.getBoundingClientRect())}static isRangeInsideContainer(e){const n=J.range;return n===null?!1:e.contains(n.startContainer)}static addFakeCursor(){const e=J.range;if(e===null)return;const n=F.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",e.collapse(),e.insertNode(n)}static isFakeCursorInsideContainer(e){return F.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const n=F.find(e,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=J.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),n=document.createRange();n.selectNodeContents(e.focusNode),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}findParentTag(e,n,r=10){const o=window.getSelection();let s=null;return!o||!o.anchorNode||!o.focusNode?null:([o.anchorNode,o.focusNode].forEach(i=>{let a=r;for(;a>0&&i.parentNode&&!(i.tagName===e&&(s=i,n&&i.classList&&!i.classList.contains(n)&&(s=null),s));)i=i.parentNode,a--}),s)}expandToTag(e){const n=window.getSelection();n.removeAllRanges();const r=document.createRange();r.selectNodeContents(e),n.addRange(r)}}function cR(t,e){const{type:n,target:r,addedNodes:o,removedNodes:s}=t;if(r===e)return!0;if(["characterData","attributes"].includes(n)){const l=r.nodeType===Node.TEXT_NODE?r.parentNode:r;return e.contains(l)}const i=Array.from(o).some(l=>e.contains(l)),a=Array.from(s).some(l=>e.contains(l));return i||a}const gh="redactor dom changed",Rk="block changed",Dk="fake cursor is about to be toggled",Fk="fake cursor have been set";var Tr=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(Tr||{});let Kn=class yn extends ku{constructor({id:e=tR(),data:n,tool:r,api:o,readOnly:s,tunesData:i},a){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(l=void 0)=>{const c=l===void 0,u=l instanceof InputEvent;!c&&!u&&this.detectToolRootChange(l);let d;c||u?d=!0:d=!(l.length>0&&l.every(h=>{const{addedNodes:v,removedNodes:g,target:y}=h;return[...Array.from(v),...Array.from(g),y].some(x=>F.isElement(x)?x.dataset.mutationFree==="true":!1)})),d&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=r.name,this.id=e,this.settings=r.settings,this.config=r.settings.config||{},this.api=o,this.editorEventBus=a||null,this.blockAPI=new Pi(this),this.tool=r,this.toolInstance=r.create(n,this.blockAPI,s),this.tunes=r.tunes,this.composeTunes(i),this.holder=this.compose(),this.watchBlockMutations(),this.addInputEvents()}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=F.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const n=this.inputs.findIndex(r=>r===e||r.contains(e));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!hn(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return _e(this.toolInstance.merge)}get isEmpty(){const e=F.isEmpty(this.pluginsContent),n=!this.hasMedia;return e&&n}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set focused(e){this.holder.classList.toggle(yn.CSS.focused,e)}get focused(){return this.holder.classList.contains(yn.CSS.focused)}set selected(e){var n,r;this.holder.classList.toggle(yn.CSS.selected,e);const o=e===!0&&J.isRangeInsideContainer(this.holder),s=e===!1&&J.isFakeCursorInsideContainer(this.holder);(o||s)&&((n=this.editorEventBus)==null||n.emit(Dk,{state:e}),o?J.addFakeCursor():J.removeFakeCursor(this.holder),(r=this.editorEventBus)==null||r.emit(Fk,{state:e}))}get selected(){return this.holder.classList.contains(yn.CSS.selected)}set stretched(e){this.holder.classList.toggle(yn.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(yn.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(yn.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,n){if(_e(this.toolInstance[e])){e==="appendCallback"&&le("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,n)}catch(r){le(`Error during '${e}' call: ${r.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([s,i])=>{if(_e(i.save))try{n[s]=i.save()}catch(a){le(`Tune ${i.constructor.name} save method throws an Error %o`,"warn",a)}});const r=window.performance.now();let o;return Promise.resolve(e).then(s=>(o=window.performance.now(),{id:this.id,tool:this.name,data:s,tunes:n,time:o-r})).catch(s=>{le(`Saving process for ${this.name} tool failed due to the ${s}`,"log","red")})}async validate(e){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(e)),n}getTunes(){const e=document.createElement("div"),n=[],r=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[],o=[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(s=>s.render());return[r,o].flat().forEach(s=>{F.isElement(s)?e.appendChild(s):Array.isArray(s)?n.push(...s):n.push(s)}),[n,e]}updateCurrentInput(){this.currentInput=F.isNativeInput(document.activeElement)||!J.anchorNode?document.activeElement:J.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),_e(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data;return e.find(r=>Object.entries(r.data).some(([o,s])=>n[o]&&oR(n[o],s)))}compose(){const e=F.make("div",yn.CSS.wrapper),n=F.make("div",yn.CSS.content),r=this.toolInstance.render();this.toolRenderedElement=r,n.appendChild(this.toolRenderedElement);let o=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(s=>{if(_e(s.wrap))try{o=s.wrap(o)}catch(i){le(`Tune ${s.constructor.name} wrap method throws an Error %o`,"warn",i)}}),e.appendChild(o),e}composeTunes(e){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(e[n.name],this.blockAPI))}),Object.entries(e).forEach(([n,r])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=r)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),F.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),F.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=n=>{const{mutations:r}=n;r.some(o=>cR(o,this.toolRenderedElement))&&this.didMutated(r)},(e=this.editorEventBus)==null||e.on(gh,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(gh,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const r=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=r}})}dropInputsCache(){this.cachedInputs=[]}};class uR extends ue{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,n={},r={},o,s,i,a)=>{const l=this.Editor.BlockManager.insert({id:a,tool:e,data:n,index:o,needToFocus:s,replace:i});return new Pi(l)},this.composeBlockData=async e=>{const n=this.Editor.Tools.blockTools.get(e);return new Kn({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=(e,n)=>{const{BlockManager:r}=this.Editor,o=r.getBlockById(e);if(!o){le("blocks.update(): Block with passed id was not found","warn");return}const s=r.getBlockIndex(o);r.insert({id:o.id,tool:o.name,data:n,index:s,replace:!0,tunes:o.tunes})}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,n)=>this.swap(e,n),move:(e,n)=>this.move(e,n),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(e,n=!0)=>this.stretchBlock(e,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,update:this.update,composeBlockData:this.composeBlockData}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const n=this.Editor.BlockManager.getBlockById(e);if(!n){sn("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(e){const n=this.Editor.BlockManager.getBlockByIndex(e);if(n===void 0){sn("There is no block at index `"+e+"`","warn");return}return new Pi(n)}getById(e){const n=this.Editor.BlockManager.getBlockById(e);return n===void 0?(sn("There is no block with id `"+e+"`","warn"),null):new Pi(n)}swap(e,n){le("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,n)}move(e,n){this.Editor.BlockManager.move(e,n)}delete(e){try{this.Editor.BlockManager.removeBlock(e)}catch(n){sn(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}clear(){this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}render(e){return this.Editor.BlockManager.clear(),this.Editor.Renderer.render(e.blocks)}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,n=!0){mh(!0,"blocks.stretchBlock()","BlockAPI");const r=this.Editor.BlockManager.getBlockByIndex(e);r&&(r.stretched=n)}insertNewBlock(){le("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}}let dR=class extends ue{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,n),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,n),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,n),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,n),!0):!1,this.setToBlock=(e,n=this.Editor.Caret.positions.DEFAULT,r=0)=>this.Editor.BlockManager.blocks[e]?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e],n,r),!0):!1,this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}},fR=class extends ue{get methods(){return{emit:(e,n)=>this.emit(e,n),off:(e,n)=>this.off(e,n),on:(e,n)=>this.on(e,n)}}on(e,n){this.eventsDispatcher.on(e,n)}emit(e,n){this.eventsDispatcher.emit(e,n)}off(e,n){this.eventsDispatcher.off(e,n)}};class wm extends ue{static getNamespace(e){return e.isTune()?`blockTunes.${e.name}`:`tools.${e.name}`}get methods(){return{t:()=>{sn("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e){return Object.assign(this.methods,{t:n=>Nt.t(wm.getNamespace(e),n)})}}class hR extends ue{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e)})}}let pR=class extends ue{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}};class mR extends ue{get methods(){return{on:(e,n,r,o)=>this.on(e,n,r,o),off:(e,n,r,o)=>this.off(e,n,r,o),offById:e=>this.offById(e)}}on(e,n,r,o){return this.listeners.on(e,n,r,o)}off(e,n,r,o){this.listeners.off(e,n,r,o)}offById(e){this.listeners.offById(e)}}var vh={},gR={get exports(){return vh},set exports(t){vh=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="/",o(o.s=0)}([function(n,r,o){o(1),n.exports=function(){var s=o(6),i="cdx-notify--bounce-in",a=null;return{show:function(l){if(l.message){(function(){if(a)return!0;a=s.getWrapper(),document.body.appendChild(a)})();var c=null,u=l.time||8e3;switch(l.type){case"confirm":c=s.confirm(l);break;case"prompt":c=s.prompt(l);break;default:c=s.alert(l),window.setTimeout(function(){c.remove()},u)}a.appendChild(c),c.classList.add(i)}}}}()},function(n,r,o){var s=o(2);typeof s=="string"&&(s=[[n.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};o(4)(s,i),s.locals&&(n.exports=s.locals)},function(n,r,o){(n.exports=o(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,r){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(i){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(g=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),v=d.sources.map(function(y){return"/*# sourceURL="+d.sourceRoot+y+" */"});return[u].concat(v).concat([h]).join(`
`)}var g;return[u].join(`
`)}(i,o);return i[2]?"@media "+i[2]+"{"+a+"}":a}).join("")},s.i=function(i,a){typeof i=="string"&&(i=[[null,i,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<i.length;c++){var d=i[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),s.push(d))}},s}},function(n,r,o){var s,i,a={},l=(s=function(){return window&&document&&document.all&&!window.atob},function(){return i===void 0&&(i=s.apply(this,arguments)),i}),c=function(k){var S={};return function(_){if(typeof _=="function")return _();if(S[_]===void 0){var T=(function(I){return document.querySelector(I)}).call(this,_);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}S[_]=T}return S[_]}}(),u=null,d=0,h=[],v=o(5);function g(k,S){for(var _=0;_<k.length;_++){var T=k[_],I=a[T.id];if(I){I.refs++;for(var j=0;j<I.parts.length;j++)I.parts[j](T.parts[j]);for(;j<T.parts.length;j++)I.parts.push(w(T.parts[j],S))}else{var B=[];for(j=0;j<T.parts.length;j++)B.push(w(T.parts[j],S));a[T.id]={id:T.id,refs:1,parts:B}}}}function y(k,S){for(var _=[],T={},I=0;I<k.length;I++){var j=k[I],B=S.base?j[0]+S.base:j[0],L={css:j[1],media:j[2],sourceMap:j[3]};T[B]?T[B].parts.push(L):_.push(T[B]={id:B,parts:[L]})}return _}function x(k,S){var _=c(k.insertInto);if(!_)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var T=h[h.length-1];if(k.insertAt==="top")T?T.nextSibling?_.insertBefore(S,T.nextSibling):_.appendChild(S):_.insertBefore(S,_.firstChild),h.push(S);else if(k.insertAt==="bottom")_.appendChild(S);else{if(typeof k.insertAt!="object"||!k.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=c(k.insertInto+" "+k.insertAt.before);_.insertBefore(S,I)}}function b(k){if(k.parentNode===null)return!1;k.parentNode.removeChild(k);var S=h.indexOf(k);S>=0&&h.splice(S,1)}function m(k){var S=document.createElement("style");return k.attrs.type===void 0&&(k.attrs.type="text/css"),p(S,k.attrs),x(k,S),S}function p(k,S){Object.keys(S).forEach(function(_){k.setAttribute(_,S[_])})}function w(k,S){var _,T,I,j;if(S.transform&&k.css){if(!(j=S.transform(k.css)))return function(){};k.css=j}if(S.singleton){var B=d++;_=u||(u=m(S)),T=P.bind(null,_,B,!1),I=P.bind(null,_,B,!0)}else k.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(_=function(L){var A=document.createElement("link");return L.attrs.type===void 0&&(L.attrs.type="text/css"),L.attrs.rel="stylesheet",p(A,L.attrs),x(L,A),A}(S),T=(function(L,A,D){var O=D.css,M=D.sourceMap,R=A.convertToAbsoluteUrls===void 0&&M;(A.convertToAbsoluteUrls||R)&&(O=v(O)),M&&(O+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(M))))+" */");var z=new Blob([O],{type:"text/css"}),V=L.href;L.href=URL.createObjectURL(z),V&&URL.revokeObjectURL(V)}).bind(null,_,S),I=function(){b(_),_.href&&URL.revokeObjectURL(_.href)}):(_=m(S),T=(function(L,A){var D=A.css,O=A.media;if(O&&L.setAttribute("media",O),L.styleSheet)L.styleSheet.cssText=D;else{for(;L.firstChild;)L.removeChild(L.firstChild);L.appendChild(document.createTextNode(D))}}).bind(null,_),I=function(){b(_)});return T(k),function(L){if(L){if(L.css===k.css&&L.media===k.media&&L.sourceMap===k.sourceMap)return;T(k=L)}else I()}}n.exports=function(k,S){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(S=S||{}).attrs=typeof S.attrs=="object"?S.attrs:{},S.singleton||typeof S.singleton=="boolean"||(S.singleton=l()),S.insertInto||(S.insertInto="head"),S.insertAt||(S.insertAt="bottom");var _=y(k,S);return g(_,S),function(T){for(var I=[],j=0;j<_.length;j++){var B=_[j];(L=a[B.id]).refs--,I.push(L)}for(T&&g(y(T,S),S),j=0;j<I.length;j++){var L;if((L=I[j]).refs===0){for(var A=0;A<L.parts.length;A++)L.parts[A]();delete a[L.id]}}}};var E,N=(E=[],function(k,S){return E[k]=S,E.filter(Boolean).join(`
`)});function P(k,S,_,T){var I=_?"":T.css;if(k.styleSheet)k.styleSheet.cssText=N(S,I);else{var j=document.createTextNode(I),B=k.childNodes;B[S]&&k.removeChild(B[S]),B.length?k.insertBefore(j,B[S]):k.appendChild(j)}}},function(n,r){n.exports=function(o){var s=typeof window<"u"&&window.location;if(!s)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var i=s.protocol+"//"+s.host,a=i+s.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,v){return v}).replace(/^'(.*)'$/,function(h,v){return v});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?i+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){var s,i,a,l,c,u,d,h,v;n.exports=(s="cdx-notifies",i="cdx-notify",a="cdx-notify__cross",l="cdx-notify__button--confirm",c="cdx-notify__button--cancel",u="cdx-notify__input",d="cdx-notify__button",h="cdx-notify__btns-wrapper",{alert:v=function(g){var y=document.createElement("DIV"),x=document.createElement("DIV"),b=g.message,m=g.style;return y.classList.add(i),m&&y.classList.add(i+"--"+m),y.innerHTML=b,x.classList.add(a),x.addEventListener("click",y.remove.bind(y)),y.appendChild(x),y},confirm:function(g){var y=v(g),x=document.createElement("div"),b=document.createElement("button"),m=document.createElement("button"),p=y.querySelector("."+a),w=g.cancelHandler,E=g.okHandler;return x.classList.add(h),b.innerHTML=g.okText||"Confirm",m.innerHTML=g.cancelText||"Cancel",b.classList.add(d),m.classList.add(d),b.classList.add(l),m.classList.add(c),w&&typeof w=="function"&&(m.addEventListener("click",w),p.addEventListener("click",w)),E&&typeof E=="function"&&b.addEventListener("click",E),b.addEventListener("click",y.remove.bind(y)),m.addEventListener("click",y.remove.bind(y)),x.appendChild(b),x.appendChild(m),y.appendChild(x),y},prompt:function(g){var y=v(g),x=document.createElement("div"),b=document.createElement("button"),m=document.createElement("input"),p=y.querySelector("."+a),w=g.cancelHandler,E=g.okHandler;return x.classList.add(h),b.innerHTML=g.okText||"Ok",b.classList.add(d),b.classList.add(l),m.classList.add(u),g.placeholder&&m.setAttribute("placeholder",g.placeholder),g.default&&(m.value=g.default),g.inputType&&(m.type=g.inputType),w&&typeof w=="function"&&p.addEventListener("click",w),E&&typeof E=="function"&&b.addEventListener("click",function(){E(m.value)}),b.addEventListener("click",y.remove.bind(y)),x.appendChild(m),x.appendChild(b),y.appendChild(x),y},getWrapper:function(){var g=document.createElement("DIV");return g.classList.add(s),g}})}])})})(gR);const vR=wu(vh);let yR=class{show(e){vR.show(e)}},bR=class extends ue{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.notifier=new yR}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}},xR=class extends ue{get methods(){const e=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}};var yh={},wR={get exports(){return yh},set exports(t){yh=t}};(function(t,e){(function(n,r){t.exports=r()})(WM,function(){function n(d){var h=d.tags,v=Object.keys(h),g=v.map(function(y){return typeof h[y]}).every(function(y){return y==="object"||y==="boolean"||y==="function"});if(!g)throw new Error("The configuration was invalid");this.config=d}var r=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function o(d){return r.indexOf(d.nodeName)!==-1}var s=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function i(d){return s.indexOf(d.nodeName)!==-1}n.prototype.clean=function(d){const h=document.implementation.createHTMLDocument(),v=h.createElement("div");return v.innerHTML=d,this._sanitize(h,v),v.innerHTML},n.prototype._sanitize=function(d,h){var v=a(d,h),g=v.firstChild();if(g)do{if(g.nodeType===Node.TEXT_NODE)if(g.data.trim()===""&&(g.previousElementSibling&&o(g.previousElementSibling)||g.nextElementSibling&&o(g.nextElementSibling))){h.removeChild(g),this._sanitize(d,h);break}else continue;if(g.nodeType===Node.COMMENT_NODE){h.removeChild(g),this._sanitize(d,h);break}var y=i(g),x;y&&(x=Array.prototype.some.call(g.childNodes,o));var b=!!h.parentNode,m=o(h)&&o(g)&&b,p=g.nodeName.toLowerCase(),w=l(this.config,p,g),E=y&&x;if(E||c(g,w)||!this.config.keepNestedBlockElements&&m){if(!(g.nodeName==="SCRIPT"||g.nodeName==="STYLE"))for(;g.childNodes.length>0;)h.insertBefore(g.childNodes[0],g);h.removeChild(g),this._sanitize(d,h);break}for(var N=0;N<g.attributes.length;N+=1){var P=g.attributes[N];u(P,w,g)&&(g.removeAttribute(P.name),N=N-1)}this._sanitize(d,g)}while(g=v.nextSibling())};function a(d,h){return d.createTreeWalker(h,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function l(d,h,v){return typeof d.tags[h]=="function"?d.tags[h](v):d.tags[h]}function c(d,h){return typeof h>"u"?!0:typeof h=="boolean"?!h:!1}function u(d,h,v){var g=d.name.toLowerCase();return h===!0?!1:typeof h[g]=="function"?!h[g](d.value,v):typeof h[g]>"u"||h[g]===!1?!0:typeof h[g]=="string"?h[g]!==d.value:!1}return n})})(wR);const kR=yh;function Uk(t,e){return t.map(n=>{const r=_e(e)?e(n.tool):e;return hn(r)||(n.data=km(n.data,r)),n})}function Yn(t,e={}){const n={tags:e};return new kR(n).clean(t)}function km(t,e){return Array.isArray(t)?SR(t,e):at(t)?ER(t,e):Kr(t)?TR(t,e):t}function SR(t,e){return t.map(n=>km(n,e))}function ER(t,e){const n={};for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const o=t[r],s=CR(e[r])?e[r]:e;n[r]=km(o,s)}return n}function TR(t,e){return at(e)?Yn(t,e):e===!1?Yn(t,{}):t}function CR(t){return at(t)||YM(t)||_e(t)}class _R extends ue{get methods(){return{clean:(e,n)=>this.clean(e,n)}}clean(e,n){return Yn(e,n)}}class NR extends ue{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(sn(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class PR extends ue{get methods(){return{findParentTag:(e,n)=>this.findParentTag(e,n),expandToTag:e=>this.expandToTag(e)}}findParentTag(e,n){return new J().findParentTag(e,n)}expandToTag(e){new J().expandToTag(e)}}class IR extends ue{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class jR extends ue{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){sn("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){sn("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var bh={},LR={get exports(){return bh},set exports(t){bh=t}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="",o(o.s=0)}([function(n,r,o){n.exports=o(1)},function(n,r,o){o.r(r),o.d(r,"default",function(){return s});class s{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(a,l,c){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const u=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},c);if(u.hidingDelay&&(this.hidingDelay=u.hidingDelay),this.nodes.content.innerHTML="",typeof l=="string")this.nodes.content.appendChild(document.createTextNode(l));else{if(!(l instanceof Node))throw Error("[CodeX Tooltip] Wrong type of content passed. It should be an instance of Node or String. But "+typeof l+" given.");this.nodes.content.appendChild(l)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),u.placement){case"top":this.placeTop(a,u);break;case"left":this.placeLeft(a,u);break;case"right":this.placeRight(a,u);break;case"bottom":default:this.placeBottom(a,u)}u&&u.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},u.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(a=!1){if(this.hidingDelay&&!a)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(a,l,c){a.addEventListener("mouseenter",()=>{this.show(a,l,c)}),a.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const a="codex-tooltips-style";if(document.getElementById(a))return;const l=o(2),c=this.make("style",null,{textContent:l.toString(),id:a});this.prepend(document.head,c)}placeBottom(a,l){const c=a.getBoundingClientRect(),u=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=c.bottom+window.pageYOffset+this.offsetTop+l.marginTop;this.applyPlacement("bottom",u,d)}placeTop(a,l){const c=a.getBoundingClientRect(),u=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=c.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",u,d)}placeLeft(a,l){const c=a.getBoundingClientRect(),u=c.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-l.marginLeft,d=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",u,d)}placeRight(a,l){const c=a.getBoundingClientRect(),u=c.right+this.offsetRight+l.marginRight,d=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",u,d)}applyPlacement(a,l,c){this.nodes.wrapper.classList.add(this.CSS.placement[a]),this.nodes.wrapper.style.left=l+"px",this.nodes.wrapper.style.top=c+"px"}make(a,l=null,c={}){const u=document.createElement(a);Array.isArray(l)?u.classList.add(...l):l&&u.classList.add(l);for(const d in c)c.hasOwnProperty(d)&&(u[d]=c[d]);return u}append(a,l){Array.isArray(l)?l.forEach(c=>a.appendChild(c)):a.appendChild(l)}prepend(a,l){Array.isArray(l)?(l=l.reverse()).forEach(c=>a.prepend(c)):a.prepend(l)}}},function(n,r){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(LR);const AR=wu(bh);class Sm{constructor(){this.lib=new AR}destroy(){this.lib.destroy()}show(e,n,r){this.lib.show(e,n,r)}hide(e=!1){this.lib.hide(e)}onHover(e,n,r){this.lib.onHover(e,n,r)}}class OR extends ue{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.tooltip=new Sm}destroy(){this.tooltip.destroy()}get methods(){return{show:(e,n,r)=>this.show(e,n,r),hide:()=>this.hide(),onHover:(e,n,r)=>this.onHover(e,n,r)}}show(e,n,r){this.tooltip.show(e,n,r)}hide(){this.tooltip.hide()}onHover(e,n,r){this.tooltip.onHover(e,n,r)}}class BR extends ue{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function $k(t,e){const n={};return Object.entries(t).forEach(([r,o])=>{if(at(o)){const s=e?`${e}.${r}`:r;Object.values(o).every(i=>Kr(i))?n[r]=s:n[r]=$k(o,s);return}n[r]=o}),n}const an=$k(Bk);function MR(t,e){const n={};return Object.keys(t).forEach(r=>{const o=e[r];o!==void 0?n[o]=t[r]:n[r]=t[r]}),n}const RR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',zk='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',DR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',FR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',UR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',$R='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',Y0='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',zR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',VR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',HR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',WR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';let X0=class Ye{constructor(e){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(Ye.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(Ye.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(Ye.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=e,this.nodes.root=this.make(e)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root.classList.contains(Ye.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){this.nodes.root.classList.toggle(Ye.CSS.active,e)}toggleHidden(e){this.nodes.root.classList.toggle(Ye.CSS.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e){const n=F.make("div",Ye.CSS.container);return e.name&&(n.dataset.itemName=e.name),this.nodes.icon=F.make("div",Ye.CSS.icon,{innerHTML:e.icon||UR}),n.appendChild(this.nodes.icon),n.appendChild(F.make("div",Ye.CSS.title,{innerHTML:e.title||""})),e.secondaryLabel&&n.appendChild(F.make("div",Ye.CSS.secondaryTitle,{textContent:e.secondaryLabel})),e.isActive&&n.classList.add(Ye.CSS.active),e.isDisabled&&n.classList.add(Ye.CSS.disabled),n}enableConfirmationMode(e){const n={...this.params,...e,confirmation:e.confirmation},r=this.make(n);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.add(Ye.CSS.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(Ye.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(Ye.CSS.noHover),this.nodes.root.classList.add(Ye.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){if(e.confirmation===void 0)try{e.onActivate(e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){this.nodes.icon.classList.contains(Ye.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(Ye.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}};const fi=class{constructor(t,e){this.cursor=-1,this.items=[],this.items=t||[],this.focusedCssClass=e}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(t){t<this.items.length&&t>=-1&&(this.dropCursor(),this.cursor=t,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(t){this.items=t}next(){this.cursor=this.leafNodesAndReturnIndex(fi.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(fi.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(t){if(this.items.length===0)return this.cursor;let e=this.cursor;return e===-1?e=t===fi.directions.RIGHT?-1:0:this.items[e].classList.remove(this.focusedCssClass),t===fi.directions.RIGHT?e=(e+1)%this.items.length:e=(this.items.length+e-1)%this.items.length,F.canSetCaret(this.items[e])&&Lo(()=>J.setCursor(this.items[e]),50)(),this.items[e].classList.add(this.focusedCssClass),e}};let Go=fi;Go.directions={RIGHT:"right",LEFT:"left"};let Os=class xh{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(this.isEventReadyForHandling(n))switch(xh.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case se.TAB:this.handleTabPress(n);break;case se.LEFT:case se.UP:this.flipLeft();break;case se.RIGHT:case se.DOWN:this.flipRight();break;case se.ENTER:this.handleEnterPress(n);break}},this.iterator=new Go(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||xh.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[se.TAB,se.LEFT,se.RIGHT,se.ENTER,se.UP,se.DOWN]}activate(e,n){this.activated=!0,e&&this.iterator.setItems(e),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?Go.directions.LEFT:Go.directions.RIGHT){case Go.directions.RIGHT:this.flipRight();break;case Go.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),_e(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}};class Ii{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:e,onSearch:n,placeholder:r}){this.listeners=new xm,this.items=e,this.onSearch=n,this.render(r)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(e){this.wrapper=F.make("div",Ii.CSS.wrapper);const n=F.make("div",Ii.CSS.icon,{innerHTML:HR});this.input=F.make("input",Ii.CSS.input,{placeholder:e}),this.wrapper.appendChild(n),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)})}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var n;const r=((n=e.title)==null?void 0:n.toLowerCase())||"",o=this.searchQuery.toLowerCase();return r.includes(o)}}const hi=class{lock(){K0?this.lockHard():document.body.classList.add(hi.CSS.scrollLocked)}unlock(){K0?this.unlockHard():document.body.classList.remove(hi.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(hi.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(hi.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let Vk=hi;Vk.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var GR=Object.defineProperty,qR=Object.getOwnPropertyDescriptor,KR=(t,e,n,r)=>{for(var o=r>1?void 0:r?qR(e,n):e,s=t.length-1,i;s>=0;s--)(i=t[s])&&(o=(r?i(e,n,o):i(o))||o);return r&&o&&GR(e,n,o),o},sa=(t=>(t.Close="close",t))(sa||{});const ot=class extends ku{constructor(e){super(),this.scopeElement=document.body,this.listeners=new xm,this.scrollLocker=new Vk,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find(n=>n.isFocused).onFocus()},this.items=e.items.map(n=>new X0(n)),e.scopeElement!==void 0&&(this.scopeElement=e.scopeElement),e.messages&&(this.messages={...this.messages,...e.messages}),e.customContentFlippableItems&&(this.customContentFlippableItems=e.customContentFlippableItems),this.make(),e.customContent&&this.addCustomContent(e.customContent),e.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(ot.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(ot.CSS.overlayHidden),this.nodes.popover.classList.add(ot.CSS.popoverOpened),this.flipper.activate(this.flippableElements),this.search!==void 0&&setTimeout(()=>{this.search.focus()},100),ko()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(ot.CSS.popoverOpened),this.nodes.popover.classList.remove(ot.CSS.popoverOpenTop),this.nodes.overlay.classList.add(ot.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach(e=>e.reset()),this.search!==void 0&&this.search.clear(),ko()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),ko()&&this.scrollLocker.unlock()}make(){this.nodes.popover=F.make("div",[ot.CSS.popover]),this.nodes.nothingFoundMessage=F.make("div",[ot.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=F.make("div",[ot.CSS.items]),this.items.forEach(e=>{this.nodes.items.appendChild(e.getElement())}),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",e=>{const n=this.getTargetItem(e);n!==void 0&&this.handleItemClick(n)}),this.nodes.wrapper=F.make("div"),this.nodes.overlay=F.make("div",[ot.CSS.overlay,ot.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new Ii({items:this.items,placeholder:this.messages.search,onSearch:(n,r)=>{this.items.forEach(s=>{const i=!r.includes(s);s.toggleHidden(i)}),this.toggleNothingFoundMessage(r.length===0),this.toggleCustomContent(n!=="");const o=n===""?this.flippableElements:r.map(s=>s.getElement());this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(o))}});const e=this.search.getElement();e.classList.add(ot.CSS.search),this.nodes.popover.insertBefore(e,this.nodes.popover.firstChild)}addCustomContent(e){this.nodes.customContent=e,this.nodes.customContent.classList.add(ot.CSS.customContent),this.nodes.popover.insertBefore(e,this.nodes.popover.firstChild)}getTargetItem(e){return this.items.find(n=>e.composedPath().includes(n.getElement()))}handleItemClick(e){e.isDisabled||(this.items.filter(n=>n!==e).forEach(n=>n.reset()),e.handleClick(),this.toggleItemActivenessIfNeeded(e),e.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new Os({items:this.flippableElements,focusedItemClass:X0.CSS.focused,allowedKeys:[se.TAB,se.UP,se.DOWN,se.ENTER]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const e=this.items.map(n=>n.getElement());return(this.customContentFlippableItems||[]).concat(e)}get height(){let e=0;if(this.nodes.popover===null)return e;const n=this.nodes.popover.cloneNode(!0);return n.style.visibility="hidden",n.style.position="absolute",n.style.top="-1000px",n.classList.add(ot.CSS.popoverOpened),document.body.appendChild(n),e=n.offsetHeight,n.remove(),e}get shouldOpenBottom(){const e=this.nodes.popover.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),r=this.height,o=e.top+r,s=e.top-r,i=Math.min(window.innerHeight,n.bottom);return s<n.top||o<=i}toggleNothingFoundMessage(e){this.nodes.nothingFoundMessage.classList.toggle(ot.CSS.nothingFoundMessageDisplayed,e)}toggleCustomContent(e){var n;(n=this.nodes.customContent)==null||n.classList.toggle(ot.CSS.customContentHidden,e)}toggleItemActivenessIfNeeded(e){if(e.toggle===!0&&e.toggleActive(),typeof e.toggle=="string"){const n=this.items.filter(r=>r.toggle===e.toggle);if(n.length===1){e.toggleActive();return}n.forEach(r=>{r.toggleActive(r===e)})}}};let Em=ot;KR([Ws],Em.prototype,"height",1);class YR extends ue{constructor(){super(...arguments),this.opened=!1,this.selection=new J,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;return(e=this.popover)==null?void 0:e.flipper}make(){this.nodes.wrapper=F.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(e=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),e.selected=!0,this.Editor.BlockSelection.clearCache();const[n,r]=e.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new Em({searchable:!0,items:n.map(o=>this.resolveTuneAliases(o)),customContent:r,customContentFlippableItems:this.getControls(r),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Nt.ui(an.ui.popover,"Nothing found"),search:Nt.ui(an.ui.popover,"Filter")}}),this.popover.on(sa.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened=!1,J.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(sa.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null)}getControls(e){const{StylesAPI:n}=this.Editor,r=e.querySelectorAll(`.${n.classes.settingsButton}, ${F.allInputsSelector}`);return Array.from(r)}resolveTuneAliases(e){const n=MR(e,{label:"title"});return e.confirmation&&(n.confirmation=this.resolveTuneAliases(e.confirmation)),n}}class qt extends ue{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=F.make("div",[qt.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=F.make("div",qt.CSS.conversionToolbarTools);const e=F.make("div",qt.CSS.conversionToolbarLabel,{textContent:Nt.ui(an.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),F.append(this.nodes.wrapper,e),F.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(e){this.opened?this.close():this.open(),_e(e)&&(this.togglingCallback=e)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(qt.CSS.conversionToolbarShowed),window.requestAnimationFrame(()=>{this.flipper.activate(this.tools.map(e=>e.button).filter(e=>!e.classList.contains(qt.CSS.conversionToolHidden))),this.flipper.focusFirst(),_e(this.togglingCallback)&&this.togglingCallback(!0)})}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(qt.CSS.conversionToolbarShowed),_e(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return this.tools.length===1?this.tools[0].name!==this.config.defaultBlock:!0}async replaceWithBlock(e,n){const r=this.Editor.BlockManager.currentBlock.tool,o=(await this.Editor.BlockManager.currentBlock.save()).data,s=this.Editor.Tools.blockTools.get(e);let i="";const a=r.conversionConfig.export;if(_e(a))i=a(o);else if(Kr(a))i=o[a];else{le("Conversion export property must be a string or function. String means key of saved data object to export. Function should export processed string to export.");return}const l=Yn(i,s.sanitizeConfig);let c={};const u=s.conversionConfig.import;if(_e(u))c=u(l);else if(Kr(u))c[u]=l;else{le("Conversion import property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data.");return}n&&(c=Object.assign(c,n)),this.Editor.BlockManager.replace({tool:e,data:c}),this.Editor.BlockSelection.clearSelection(),this.close(),this.Editor.InlineToolbar.close(),Lo(()=>{this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)},10)()}addTools(){const e=this.Editor.Tools.blockTools;Array.from(e.entries()).forEach(([n,r])=>{const o=r.conversionConfig;!o||!o.import||r.toolbox.forEach(s=>this.addToolIfValid(n,s))})}addToolIfValid(e,n){hn(n)||!n.icon||this.addTool(e,n)}addTool(e,n){const r=F.make("div",[qt.CSS.conversionTool]),o=F.make("div",[qt.CSS.conversionToolIcon]);r.dataset.tool=e,o.innerHTML=n.icon,F.append(r,o),F.append(r,F.text(Nt.t(an.toolNames,n.title||Tc(e)))),F.append(this.nodes.tools,r),this.tools.push({name:e,button:r,toolboxItem:n}),this.listeners.on(r,"click",async()=>{await this.replaceWithBlock(e,n.data)})}async filterTools(){const{currentBlock:e}=this.Editor.BlockManager,n=await e.getActiveToolboxEntry();function r(o,s){return o.icon===s.icon&&o.title===s.title}this.tools.forEach(o=>{let s=!1;if(n){const i=r(n,o.toolboxItem);s=o.button.dataset.tool===e.name&&i}o.button.hidden=s,o.button.classList.toggle(qt.CSS.conversionToolHidden,s)})}enableFlipper(){this.flipper=new Os({focusedItemClass:qt.CSS.conversionToolFocused})}}var wh={},XR={get exports(){return wh},set exports(t){wh=t}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="",o(o.s=0)}([function(n,r,o){function s(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function i(l,c,u){return c&&s(l.prototype,c),u&&s(l,u),l}o.r(r);var a=function(){function l(c){var u=this;(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.commands={},this.keys={},this.name=c.name,this.parseShortcutName(c.name),this.element=c.on,this.callback=c.callback,this.executeShortcut=function(d){u.execute(d)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return i(l,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),i(l,[{key:"parseShortcutName",value:function(c){c=c.split("+");for(var u=0;u<c.length;u++){c[u]=c[u].toUpperCase();var d=!1;for(var h in l.supportedCommands)if(l.supportedCommands[h].includes(c[u])){d=this.commands[h]=!0;break}d||(this.keys[c[u]]=!0)}for(var v in l.supportedCommands)this.commands[v]||(this.commands[v]=!1)}},{key:"execute",value:function(c){var u,d={CMD:c.ctrlKey||c.metaKey,SHIFT:c.shiftKey,ALT:c.altKey},h=!0;for(u in this.commands)this.commands[u]!==d[u]&&(h=!1);var v,g=!0;for(v in this.keys)g=g&&c.keyCode===l.keyCodes[v];h&&g&&this.callback(c)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),l}();r.default=a}]).default})})(XR);const JR=wu(wh);class QR{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const n=new JR({name:e.name,on:e.on,callback:e.handler}),r=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...r,n])}remove(e,n){const r=this.findShortcut(e,n);if(!r)return;r.remove();const o=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,o.filter(s=>s!==r))}findShortcut(e,n){return(this.registeredShortcuts.get(e)||[]).find(({name:r})=>r===n)}}const Bs=new QR;var ZR=Object.defineProperty,e3=Object.getOwnPropertyDescriptor,Hk=(t,e,n,r)=>{for(var o=r>1?void 0:r?e3(e,n):e,s=t.length-1,i;s>=0;s--)(i=t[s])&&(o=(r?i(e,n,o):i(o))||o);return r&&o&&ZR(e,n,o),o},_l=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))(_l||{});const Wk=class extends ku{constructor({api:e,tools:n,i18nLabels:r}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=e,this.tools=n,this.i18nLabels=r}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new Em({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(sa.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add(Wk.CSS.toolbox),this.nodes.toolbox}hasFocus(){var e;return(e=this.popover)==null?void 0:e.hasFocus()}destroy(){var e;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),(e=this.popover)==null||e.off(sa.Close,this.onPopoverClose)}toolButtonActivated(e,n){this.insertNewBlock(e,n)}open(){var e;this.isEmpty||((e=this.popover)==null||e.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var e;(e=this.popover)==null||e.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const e=[];return this.tools.forEach(n=>{n.toolbox&&e.push(n)}),e}get toolboxItemsToBeDisplayed(){const e=(n,r)=>({icon:n.icon,title:Nt.t(an.toolNames,n.title||Tc(r.name)),name:r.name,onActivate:()=>{this.toolButtonActivated(r.name,n.data)},secondaryLabel:r.shortcut?Ak(r.shortcut):""});return this.toolsToBeDisplayed.reduce((n,r)=>(Array.isArray(r.toolbox)?r.toolbox.forEach(o=>{n.push(e(o,r))}):r.toolbox!==void 0&&n.push(e(r.toolbox,r)),n),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&this.enableShortcutForTool(e.name,n)})}enableShortcutForTool(e,n){Bs.add({name:n,on:this.api.ui.nodes.redactor,handler:r=>{r.preventDefault(),this.insertNewBlock(e)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&Bs.remove(this.api.ui.nodes.redactor,n)})}async insertNewBlock(e,n){const r=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(r);if(!o)return;const s=o.isEmpty?r:r+1;let i;if(n){const l=await this.api.blocks.composeBlockData(e);i=Object.assign(l,n)}const a=this.api.blocks.insert(e,i,void 0,s,void 0,o.isEmpty);a.call(Tr.APPEND_CALLBACK),this.api.caret.setToBlock(s),this.emit("toolbox-block-added",{block:a}),this.api.toolbar.close()}};let Tm=Wk;Hk([Ws],Tm.prototype,"toolsToBeDisplayed",1);Hk([Ws],Tm.prototype,"toolboxItemsToBeDisplayed",1);const Gk="block hovered";class t3 extends ue{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.tooltip=new Sm}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){return{opened:this.toolboxInstance.opened,close:()=>{this.toolboxInstance.close()},open:()=>{this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>this.toolboxInstance.toggle(),hasFocus:()=>this.toolboxInstance.hasFocus()}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):(this.drawUI(),this.enableModuleBindings())}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const n=e.holder,{isMobile:r}=this.Editor.UI,o=e.pluginsContent,s=window.getComputedStyle(o),i=parseInt(s.paddingTop,10),a=n.offsetHeight;let l;r?l=n.offsetTop+a:l=n.offsetTop+i,this.nodes.wrapper.style.top=`${Math.floor(l)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),this.toolboxInstance.close(),this.Editor.BlockSettings.close())}open(e=!0){Lo(()=>{this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()},50)()}make(){this.nodes.wrapper=F.make("div",this.CSS.toolbar),["content","actions"].forEach(n=>{this.nodes[n]=F.make("div",this.CSS[n])}),F.append(this.nodes.wrapper,this.nodes.content),F.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=F.make("div",this.CSS.plusButton,{innerHTML:VR}),F.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{this.tooltip.hide(!0),this.plusButtonClicked()},!1);const e=F.make("div");e.appendChild(document.createTextNode(Nt.ui(an.ui.toolbar.toolbox,"Add"))),e.appendChild(F.make("div",this.CSS.plusButtonShortcut,{textContent:" Tab"})),this.tooltip.onHover(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=F.make("span",this.CSS.settingsToggler,{innerHTML:zR}),F.append(this.nodes.actions,this.nodes.settingsToggler),this.tooltip.onHover(this.nodes.settingsToggler,Nt.ui(an.ui.blockTunes.toggler,"Click to tune"),{hidingDelay:400}),F.append(this.nodes.actions,this.makeToolbox()),F.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),F.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new Tm({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:Nt.ui(an.ui.popover,"Filter"),nothingFound:Nt.ui(an.ui.popover,"Nothing found")}}),this.toolboxInstance.on(_l.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(_l.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(_l.BlockAdded,({block:e})=>{const{BlockManager:n,Caret:r}=this.Editor,o=n.getBlockById(e.id);o.inputs.length===0&&(o===n.lastBlock?(n.insertAtEnd(),r.setToBlock(n.lastBlock)):r.setToBlock(n.nextBlock))}),this.toolboxInstance.make()}plusButtonClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{e.stopPropagation(),this.settingsTogglerClicked(),this.toolboxInstance.opened&&this.toolboxInstance.close(),this.tooltip.hide(!0)},!0),ko()||this.eventsDispatcher.on(Gk,e=>{this.Editor.BlockSettings.opened||this.toolboxInstance.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy(),this.tooltip.destroy()}}var Su=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(Su||{}),Nl=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(Nl||{}),qk=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(qk||{}),qo=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(qo||{}),Cm=(t=>(t.IsInline="isInline",t.Title="title",t))(Cm||{}),Kk=(t=>(t.IsTune="isTune",t))(Kk||{});class _m{constructor({name:e,constructable:n,config:r,api:o,isDefault:s,isInternal:i=!1,defaultPlaceholder:a}){this.api=o,this.name=e,this.constructable=n,this.config=r,this.isDefault=s,this.isInternal=i,this.defaultPlaceholder=a}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(_e(this.constructable.reset))return this.constructable.reset()}prepare(){if(_e(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===1}isBlock(){return this.type===0}isTune(){return this.type===2}}class n3 extends ue{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=ko()?20:6,this.buttonsList=null,this.width=0,this.flipper=null,this.tooltip=new Sm}toggleReadOnly(e){e?(this.destroy(),this.Editor.ConversionToolbar.destroy()):this.make()}tryToShow(e=!1,n=!0){if(!this.allowedToShow()){e&&this.close();return}this.move(),this.open(n),this.Editor.Toolbar.close()}move(){const e=J.rect,n=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),r={x:e.x-n.left,y:e.y+e.height-n.top+this.toolbarVerticalMargin};e.width&&(r.x+=Math.floor(e.width/2));const o=r.x-this.width/2,s=r.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,o<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,s>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(r.x)+"px",this.nodes.wrapper.style.top=Math.floor(r.y)+"px"}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(([e,n])=>{const r=this.getToolShortcut(e);r&&Bs.remove(this.Editor.UI.nodes.redactor,r),_e(n.clear)&&n.clear()}),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}open(e=!0){if(this.opened)return;this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0,e&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;let n=Array.from(this.buttonsList);n.unshift(this.nodes.conversionToggler),n=n.filter(r=>!r.hidden),this.flipper.activate(n)}containsNode(e){return this.nodes.wrapper.contains(e)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}make(){this.nodes.wrapper=F.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=F.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=F.make("div",this.CSS.buttonsWrapper),this.nodes.actions=F.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",e=>{e.target.closest(`.${this.CSS.actionsWrapper}`)||e.preventDefault()}),F.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),F.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),F.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),this.recalculateWidth(),this.enableFlipper()}allowedToShow(){const e=["IMG","INPUT"],n=J.get(),r=J.text;if(!n||!n.anchorNode||n.isCollapsed||r.length<1)return!1;const o=F.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(n&&e.includes(o.tagName)||o.closest('[contenteditable="true"]')===null)return!1;const s=this.Editor.BlockManager.getBlock(n.anchorNode);return s?s.tool.inlineTools.size!==0:!1}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=F.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=F.make("div",this.CSS.conversionTogglerContent);const e=F.make("div",this.CSS.conversionTogglerArrow,{innerHTML:zk});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(e),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",()=>{this.Editor.ConversionToolbar.toggle(n=>{!n&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()})}),ko()===!1&&this.tooltip.onHover(this.nodes.conversionToggler,Nt.ui(an.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}async setConversionTogglerContent(){const{BlockManager:e}=this.Editor,{currentBlock:n}=e,r=n.name,o=n.tool.conversionConfig,s=o&&o.export;this.nodes.conversionToggler.hidden=!s,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!s);const i=await n.getActiveToolboxEntry()||{};this.nodes.conversionTogglerContent.innerHTML=i.icon||i.title||Tc(r)}prepareConversionToolbar(){const e=this.Editor.ConversionToolbar.make();F.append(this.nodes.wrapper,e)}addToolsFiltered(){const e=J.get(),n=this.Editor.BlockManager.getBlock(e.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(n.tool.inlineTools.values()).forEach(r=>{this.addTool(r)}),this.recalculateWidth()}addTool(e){const n=e.create(),r=n.render();if(!r){le("Render method must return an instance of Node","warn",e.name);return}if(r.dataset.tool=e.name,this.nodes.buttons.appendChild(r),this.toolsInstances.set(e.name,n),_e(n.renderActions)){const a=n.renderActions();this.nodes.actions.appendChild(a)}this.listeners.on(r,"click",a=>{this.toolClicked(n),a.preventDefault()});const o=this.getToolShortcut(e.name);if(o)try{this.enableShortcuts(n,o)}catch{}const s=F.make("div"),i=Nt.t(an.toolNames,e.title||Tc(e.name));s.appendChild(F.text(i)),o&&s.appendChild(F.make("div",this.CSS.inlineToolbarShortcut,{textContent:Ak(o)})),ko()===!1&&this.tooltip.onHover(r,s,{placement:"top",hidingDelay:100}),n.checkState(J.get())}getToolShortcut(e){const{Tools:n}=this.Editor,r=n.inlineTools.get(e),o=n.internal.inlineTools;return Array.from(o.keys()).includes(e)?this.inlineTools[e][qk.Shortcut]:r.shortcut}enableShortcuts(e,n){Bs.add({name:n,handler:r=>{const{currentBlock:o}=this.Editor.BlockManager;o&&o.tool.enabledInlineTools&&(r.preventDefault(),this.toolClicked(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){const n=J.range;e.surround(n),this.checkToolsState(),e.renderActions!==void 0&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach(e=>{e.checkState(J.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,r])=>{e[n]=r.create()}),e}enableFlipper(){this.flipper=new Os({focusedItemClass:this.CSS.focusedButton,allowedKeys:[se.ENTER,se.TAB]})}}class r3 extends ue{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case se.BACKSPACE:this.backspace(e);break;case se.ENTER:this.enter(e);break;case se.DOWN:case se.RIGHT:this.arrowRightAndDown(e);break;case se.UP:case se.LEFT:this.arrowLeftAndUp(e);break;case se.TAB:this.tabPressed(e);break}}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&Ik(e.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(e)))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}tabPressed(e){this.Editor.BlockSelection.clearSelection(e);const{BlockManager:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor,s=n.currentBlock;if(!s)return;const i=s.isEmpty,a=s.tool.isDefault&&i,l=!i&&o.opened,c=!i&&!J.isCollapsed&&r.opened;a?this.activateToolbox():!l&&!c&&this.activateBlockSettings()}dragOver(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!0}dragLeave(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!1}handleCommandC(e){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:n,BlockManager:r,Caret:o}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e).then(()=>{const s=r.removeSelectedBlocks(),i=r.insertDefaultBlockAtIndex(s,!0);o.setToBlock(i,o.positions.START),n.clearSelection(e)})}enter(e){const{BlockManager:n,UI:r}=this.Editor;if(n.currentBlock.tool.isLineBreaksEnabled||r.someToolbarOpened&&r.someFlipperButtonFocused||e.shiftKey)return;let o=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):this.Editor.Caret.isAtEnd?o=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):o=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(o),this.Editor.Toolbar.moveAndOpen(o),e.preventDefault()}backspace(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor,s=n.currentBlock,i=s.tool;if(s.selected||s.isEmpty&&s.currentInput===s.firstInput){e.preventDefault();const l=n.currentBlockIndex;n.previousBlock&&n.previousBlock.inputs.length===0?n.removeBlock(l-1):n.removeBlock(),o.setToBlock(n.currentBlock,l?o.positions.END:o.positions.START),this.Editor.Toolbar.close(),r.clearSelection(e);return}if(i.isLineBreaksEnabled&&!o.isAtStart)return;const a=n.currentBlockIndex===0;o.isAtStart&&J.isCollapsed&&s.currentInput===s.firstInput&&!a&&(e.preventDefault(),this.mergeBlocks())}mergeBlocks(){const{BlockManager:e,Caret:n,Toolbar:r}=this.Editor,o=e.previousBlock,s=e.currentBlock;if(s.name!==o.name||!o.mergeable){if(o.inputs.length===0||o.isEmpty){e.removeBlock(e.currentBlockIndex-1),n.setToBlock(e.currentBlock),r.close();return}n.navigatePrevious()&&r.close();return}n.createShadow(o.pluginsContent),e.mergeBlocks(o,s).then(()=>{n.restoreCaret(o.pluginsContent),o.pluginsContent.normalize(),r.close()})}arrowRightAndDown(e){const n=Os.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===se.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const r=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===se.DOWN&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}(e.keyCode===se.DOWN||e.keyCode===se.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?e.preventDefault():Lo(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(Os.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===se.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const n=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===se.UP&&n){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}(e.keyCode===se.UP||e.keyCode===se.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?e.preventDefault():Lo(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const n=e.keyCode===se.ENTER&&this.Editor.Toolbar.toolbox.opened,r=e.keyCode===se.ENTER&&this.Editor.BlockSettings.opened,o=e.keyCode===se.ENTER&&this.Editor.InlineToolbar.opened,s=e.keyCode===se.ENTER&&this.Editor.ConversionToolbar.opened,i=e.keyCode===se.TAB;return!(e.shiftKey||i||n||r||o||s)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.moveAndOpen()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class Id{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return Lk(this.workingArea.children)}static set(e,n,r){return isNaN(Number(n))?(Reflect.set(e,n,r),!0):(e.insert(+n,r),!0)}static get(e,n){return isNaN(Number(n))?Reflect.get(e,n):e.get(+n)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,n){const r=this.blocks[n];F.swap(this.blocks[e].holder,r.holder),this.blocks[n]=this.blocks[e],this.blocks[e]=r}move(e,n){const r=this.blocks.splice(n,1)[0],o=e-1,s=Math.max(0,o),i=this.blocks[s];e>0?this.insertToDOM(r,"afterend",i):this.insertToDOM(r,"beforebegin",i),this.blocks.splice(e,0,r);const a=this.composeBlockEvent("move",{fromIndex:n,toIndex:e});r.call(Tr.MOVED,a)}insert(e,n,r=!1){if(!this.length){this.push(n);return}e>this.length&&(e=this.length),r&&(this.blocks[e].holder.remove(),this.blocks[e].call(Tr.REMOVED));const o=r?1:0;if(this.blocks.splice(e,o,n),e>0){const s=this.blocks[e-1];this.insertToDOM(n,"afterend",s)}else{const s=this.blocks[e+1];s?this.insertToDOM(n,"beforebegin",s):this.insertToDOM(n)}}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(Tr.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(Tr.REMOVED)),this.blocks.length=0}insertAfter(e,n){const r=this.blocks.indexOf(e);this.insert(r+1,n)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,n,r){n?r.holder.insertAdjacentElement(n,e.holder):this.workingArea.appendChild(e.holder),e.call(Tr.RENDERED)}composeBlockEvent(e,n){return new CustomEvent(e,{detail:n})}}const J0="block-removed",Q0="block-added",o3="block-moved",s3="block-changed";class i3 extends ue{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new Id(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:Id.set,get:Id.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:n={},id:r=void 0,tunes:o={}}){const s=this.Editor.ReadOnly.isEnabled,i=this.Editor.Tools.blockTools.get(e),a=new Kn({id:r,data:n,tool:i,api:this.Editor.API,readOnly:s,tunesData:o},this.eventsDispatcher);return s||this.bindBlockEvents(a),a}insert({id:e=void 0,tool:n=this.config.defaultBlock,data:r={},index:o,needToFocus:s=!0,replace:i=!1,tunes:a={}}={}){let l=o;l===void 0&&(l=this.currentBlockIndex+(i?0:1));const c=this.composeBlock({id:e,tool:n,data:r,tunes:a});return i&&this.blockDidMutated(J0,this.getBlockByIndex(l),{index:l}),this._blocks.insert(l,c,i),this.blockDidMutated(Q0,c,{index:l}),s?this.currentBlockIndex=l:l<=this.currentBlockIndex&&this.currentBlockIndex++,c}replace({tool:e=this.config.defaultBlock,data:n={}}){return this.insert({tool:e,data:n,index:this.currentBlockIndex,replace:!0})}paste(e,n,r=!1){const o=this.insert({tool:e,replace:r});try{o.call(Tr.ON_PASTE,n)}catch(s){le(`${e}: onPaste callback call is failed`,"error",s)}return o}insertDefaultBlockAtIndex(e,n=!1){const r=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=r,this.blockDidMutated(Q0,r,{index:e}),n?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,r}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,n){const r=this._blocks.indexOf(n);if(n.isEmpty)return;const o=await n.data;hn(o)||await e.mergeWith(o),this.removeBlock(r),this.currentBlockIndex=this._blocks.indexOf(e)}removeBlock(e=this.currentBlockIndex){if(!this.validateIndex(e))throw new Error("Can't find a Block to remove");const n=this._blocks[e];n.destroy(),this._blocks.remove(e),this.blockDidMutated(J0,n,{index:e}),this.currentBlockIndex>=e&&this.currentBlockIndex--,this.blocks.length?e===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,this.insert())}removeSelectedBlocks(){let e;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(n),e=n);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),n=F.make("div");n.appendChild(e);const r={text:F.isEmpty(n)?"":n.innerHTML};return this.insert({data:r})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(n=>n.id===e)}getBlock(e){F.isElement(e)||(e=e.parentNode);const n=this._blocks.nodes,r=e.closest(`.${Kn.CSS.wrapper}`),o=n.indexOf(r);if(o>=0)return this._blocks[o]}highlightCurrentNode(){this.clearFocused(),this.currentBlock.focused=!0}clearFocused(){this.blocks.forEach(e=>{e.focused=!1})}setCurrentBlockByChildNode(e){F.isElement(e)||(e=e.parentNode);const n=e.closest(`.${Kn.CSS.wrapper}`);if(!n)return;const r=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(r!=null&&r.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){F.isElement(e)||(e=e.parentNode);const n=e.closest(`.${Kn.CSS.wrapper}`);return this.blocks.find(r=>r.holder===n)}swap(e,n){this._blocks.swap(e,n),this.currentBlockIndex=n}move(e,n=this.currentBlockIndex){if(isNaN(e)||isNaN(n)){le("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(n)){le("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,n),this.currentBlockIndex=e,this.blockDidMutated(o3,this.currentBlock,{fromIndex:n,toIndex:e})}dropPointer(){this.currentBlockIndex=-1,this.clearFocused()}clear(e=!1){this._blocks.removeAll(),this.dropPointer(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",r=>{n.keydown(r)}),this.readOnlyMutableListeners.on(e.holder,"keyup",r=>{n.keyup(r)}),this.readOnlyMutableListeners.on(e.holder,"dragover",r=>{n.dragOver(r)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",r=>{n.dragLeave(r)}),e.on("didMutated",r=>this.blockDidMutated(s3,r,{index:this.getBlockIndex(r)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,n,r){const o=new CustomEvent(e,{detail:{target:new Pi(n),...r}});return this.eventsDispatcher.emit(Rk,{event:o}),n}}class a3 extends ue{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(n=>n.selected===!0)}set allBlocksSelected(e){const{BlockManager:n}=this.Editor;n.blocks.forEach(r=>{r.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new J,Bs.add({name:"CMD+A",handler:e=>{const{BlockManager:n,ReadOnly:r}=this.Editor;if(r.isEnabled){e.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){J.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:n}=this.Editor;let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),r.selected=!1,this.clearCache()}clearSelection(e,n=!1){const{BlockManager:r,Caret:o,RectangleSelection:s}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const i=e&&e instanceof KeyboardEvent,a=i&&Ik(e.keyCode);if(this.anyBlockSelected&&i&&a&&!J.isSelectionExists){const l=r.removeSelectedBlocks();r.insertDefaultBlockAtIndex(l,!0),o.setToBlock(r.currentBlock),Lo(()=>{const c=e.key;o.insertContentAtCaretPosition(c.length>1?"":c)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||s.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const n=F.make("div");this.selectedBlocks.forEach(s=>{const i=Yn(s.holder.innerHTML,this.sanitizerConfig),a=F.make("p");a.innerHTML=i,n.appendChild(a)});const r=Array.from(n.childNodes).map(s=>s.textContent).join(`

`),o=n.innerHTML;return e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",o),Promise.all(this.selectedBlocks.map(s=>s.save())).then(s=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(s))}catch{}})}selectBlockByIndex(e){const{BlockManager:n}=this.Editor;n.clearFocused();let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),this.selection.save(),J.get().removeAllRanges(),r.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Bs.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),F.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(e.target).inputs;if(n.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(n.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),J.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class Cc extends ue{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const e=J.get(),n=F.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);let r=e.focusNode;if(F.isNativeInput(n))return n.selectionEnd===0;if(!e.anchorNode)return!1;let o=r.textContent.search(/\S/);o===-1&&(o=0);let s=e.focusOffset;return r.nodeType!==Node.TEXT_NODE&&r.childNodes.length&&(r.childNodes[s]?(r=r.childNodes[s],s=0):(r=r.childNodes[s-1],s=r.textContent.length)),(F.isLineBreakTag(n)||F.isEmpty(n))&&this.getHigherLevelSiblings(r,"left").every(i=>{const a=F.isLineBreakTag(i),l=i.children.length===1&&F.isLineBreakTag(i.children[0]),c=a||l;return F.isEmpty(i)&&!c})&&s===o?!0:n===null||r===n&&s<=o}get isAtEnd(){const e=J.get();let n=e.focusNode;const r=F.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(F.isNativeInput(r))return r.selectionEnd===r.value.length;if(!e.focusNode)return!1;let o=e.focusOffset;if(n.nodeType!==Node.TEXT_NODE&&n.childNodes.length&&(n.childNodes[o-1]?(n=n.childNodes[o-1],o=n.textContent.length):(n=n.childNodes[0],o=0)),F.isLineBreakTag(r)||F.isEmpty(r)){const i=this.getHigherLevelSiblings(n,"right");if(i.every((a,l)=>l===i.length-1&&F.isLineBreakTag(a)||F.isEmpty(a)&&!F.isLineBreakTag(a))&&o===n.textContent.length)return!0}const s=r.textContent.replace(/\s+$/,"");return n===r&&o>=s.length}setToBlock(e,n=this.positions.DEFAULT,r=0){const{BlockManager:o}=this.Editor;let s;switch(n){case this.positions.START:s=e.firstInput;break;case this.positions.END:s=e.lastInput;break;default:s=e.currentInput}if(!s)return;const i=F.getDeepestNode(s,n===this.positions.END),a=F.getContentLength(i);switch(!0){case n===this.positions.START:r=0;break;case n===this.positions.END:case r>a:r=a;break}Lo(()=>{this.set(i,r)},20)(),o.setCurrentBlockByChildNode(e.holder),o.currentBlock.currentInput=s}setToInput(e,n=this.positions.DEFAULT,r=0){const{currentBlock:o}=this.Editor.BlockManager,s=F.getDeepestNode(e);switch(n){case this.positions.START:this.set(s,0);break;case this.positions.END:this.set(s,F.getContentLength(s));break;default:r&&this.set(s,r)}o.currentInput=e}set(e,n=0){const{top:r,bottom:o}=J.setCursor(e,n),{innerHeight:s}=window;r<0&&window.scrollBy(0,r),o>s&&window.scrollBy(0,o-s)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const e=J.get();if(e.rangeCount){const n=e.getRangeAt(0),r=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),r)if(F.isNativeInput(r)){const o=r,s=document.createDocumentFragment(),i=o.value.substring(0,o.selectionStart),a=o.value.substring(o.selectionStart);return s.textContent=a,o.value=i,s}else{const o=n.cloneRange();return o.selectNodeContents(r),o.setStart(n.endContainer,n.endOffset),o.extractContents()}}}navigateNext(){const{BlockManager:e}=this.Editor,{currentBlock:n,nextContentfulBlock:r}=e,{nextInput:o}=n,s=this.isAtEnd;let i=r;if(!i&&!o){if(n.tool.isDefault||!s)return!1;i=e.insertAtEnd()}return s?(o?this.setToInput(o,this.positions.START):this.setToBlock(i,this.positions.START),!0):!1}navigatePrevious(){const{currentBlock:e,previousContentfulBlock:n}=this.Editor.BlockManager;if(!e)return!1;const{previousInput:r}=e;return!n&&!r?!1:this.isAtStart?(r?this.setToInput(r,this.positions.END):this.setToBlock(n,this.positions.END),!0):!1}createShadow(e){const n=document.createElement("span");n.classList.add(Cc.CSS.shadowCaret),e.insertAdjacentElement("beforeend",n)}restoreCaret(e){const n=e.querySelector(`.${Cc.CSS.shadowCaret}`);n&&(new J().expandToTag(n),setTimeout(()=>{const r=document.createRange();r.selectNode(n),r.extractContents()},50))}insertContentAtCaretPosition(e){const n=document.createDocumentFragment(),r=document.createElement("div"),o=J.get(),s=J.range;r.innerHTML=e,Array.from(r.childNodes).forEach(l=>n.appendChild(l)),n.childNodes.length===0&&n.appendChild(new Text);const i=n.lastChild;s.deleteContents(),s.insertNode(n);const a=document.createRange();a.setStart(i,i.textContent.length),o.removeAllRanges(),o.addRange(a)}getHigherLevelSiblings(e,n){let r=e;const o=[];for(;r.parentNode&&r.parentNode.contentEditable!=="true";)r=r.parentNode;const s=n==="left"?"previousSibling":"nextSibling";for(;r[s];)r=r[s],o.push(r);return o}}class l3 extends ue{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:n,BlockSelection:r}=this.Editor,o=n.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,s=n.getBlockByChildNode(e.target);if(!(!o||!s)&&s!==o){if(o===this.firstSelectedBlock){J.get().removeAllRanges(),o.selected=!0,s.selected=!0,r.clearCache();return}if(s===this.firstSelectedBlock){o.selected=!1,s.selected=!1,r.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(o,s),this.lastSelectedBlock=s}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==qM.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:n,BlockSelection:r}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,r.clearCache(),J.get().removeAllRanges());const o=n.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),s=n.blocks[o];s&&(this.lastSelectedBlock.selected!==s.selected?(s.selected=!0,r.clearCache()):(this.lastSelectedBlock.selected=!1,r.clearCache()),this.lastSelectedBlock=s,this.Editor.InlineToolbar.close(),s.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor,s=n.blocks.indexOf(this.firstSelectedBlock),i=n.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&s>-1&&i>-1)if(e&&e instanceof KeyboardEvent)switch(e.keyCode){case se.DOWN:case se.RIGHT:o.setToBlock(n.blocks[Math.max(s,i)],o.positions.END);break;case se.UP:case se.LEFT:o.setToBlock(n.blocks[Math.min(s,i)],o.positions.START);break;default:o.setToBlock(n.blocks[Math.max(s,i)],o.positions.END)}else o.setToBlock(n.blocks[Math.max(s,i)],o.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:n}=this.Editor;J.isCollapsed||this.Editor.BlockSelection.clearSelection(e),n.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,n){const{BlockManager:r,BlockSelection:o}=this.Editor,s=r.blocks.indexOf(e),i=r.blocks.indexOf(n),a=e.selected!==n.selected;for(let l=Math.min(s,i);l<=Math.max(s,i);l++){const c=r.blocks[l];c!==this.firstSelectedBlock&&c!==(a?e:n)&&(r.blocks[l].selected=!r.blocks[l].selected,o.clearCache())}}}class c3 extends ue{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:n,Caret:r,Paste:o}=this.Editor;e.preventDefault(),n.blocks.forEach(i=>{i.dropTarget=!1}),J.isAtEditor&&!J.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const s=n.setCurrentBlockByChildNode(e.target);if(s)this.Editor.Caret.setToBlock(s,r.positions.END);else{const i=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(i,r.positions.END)}await o.processDataTransfer(e.dataTransfer,!0)}processDragStart(){J.isAtEditor&&!J.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}class u3 extends ue{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver(r=>{this.redactorChanged(r)}),this.eventsDispatcher.on(Rk,r=>{this.particularBlockChanged(r.event)}),this.eventsDispatcher.on(Dk,()=>{this.disable()}),this.eventsDispatcher.on(Fk,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!_e(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(gh,{mutations:e})}}const Yk=class extends ue{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=e=>{try{const n=e.create({},{},!1);if(e.pasteConfig===!1){this.exceptionList.push(e.name);return}if(!_e(n.onPaste))return;this.getTagsConfig(e),this.getFilesConfig(e),this.getPatternsConfig(e)}catch(n){le(`Paste handling for ${e.name} Tool hasn't been set up because of the error`,"warn",n)}},this.handlePasteEvent=async e=>{const{BlockManager:n,Toolbar:r}=this.Editor;!n.currentBlock||this.isNativeBehaviour(e.target)&&!e.clipboardData.types.includes("Files")||n.currentBlock&&this.exceptionList.includes(n.currentBlock.name)||(e.preventDefault(),this.processDataTransfer(e.clipboardData),n.clearFocused(),r.close())}}async prepare(){this.processTools()}toggleReadOnly(e){e?this.unsetCallback():this.setCallback()}async processDataTransfer(e,n=!1){const{Tools:r}=this.Editor,o=e.types;if((o.includes?o.includes("Files"):o.contains("Files"))&&!hn(this.toolsFiles)){await this.processFiles(e.files);return}const s=e.getData(this.MIME_TYPE),i=e.getData("text/plain");let a=e.getData("text/html");if(s)try{this.insertEditorJSData(JSON.parse(s));return}catch{}n&&i.trim()&&a.trim()&&(a="<p>"+(a.trim()?a:i)+"</p>");const l=Object.keys(this.toolsTags).reduce((d,h)=>(d[h.toLowerCase()]=this.toolsTags[h].sanitizationConfig??{},d),{}),c=Object.assign({},l,r.getAllInlineToolsSanitizeConfig(),{br:{}}),u=Yn(a,c);!u.trim()||u.trim()===i||!F.isHTMLString(u)?await this.processText(i):await this.processText(u,!0)}async processText(e,n=!1){const{Caret:r,BlockManager:o}=this.Editor,s=n?this.processHTML(e):this.processPlain(e);if(!s.length)return;if(s.length===1){s[0].isBlock?this.processSingleBlock(s.pop()):this.processInlinePaste(s.pop());return}const i=o.currentBlock&&o.currentBlock.tool.isDefault&&o.currentBlock.isEmpty;s.map(async(a,l)=>this.insertBlock(a,l===0&&i)),o.currentBlock&&r.setToBlock(o.currentBlock,r.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const e=this.Editor.Tools.blockTools;Array.from(e.values()).forEach(this.processTool)}collectTagNames(e){return Kr(e)?[e]:at(e)?Object.keys(e):[]}getTagsConfig(e){if(e.pasteConfig===!1)return;const n=e.pasteConfig.tags||[],r=[];n.forEach(o=>{const s=this.collectTagNames(o);r.push(...s),s.forEach(i=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,i)){le(`Paste handler for ${e.name} Tool on ${i} tag is skipped because it is already used by ${this.toolsTags[i].tool.name} Tool.`,"warn");return}const a=at(o)?o[i]:null;this.toolsTags[i.toUpperCase()]={tool:e,sanitizationConfig:a}})}),this.tagsByTool[e.name]=r.map(o=>o.toUpperCase())}getFilesConfig(e){if(e.pasteConfig===!1)return;const{files:n={}}=e.pasteConfig;let{extensions:r,mimeTypes:o}=n;!r&&!o||(r&&!Array.isArray(r)&&(le(`extensions property of the onDrop config for ${e.name} Tool should be an array`),r=[]),o&&!Array.isArray(o)&&(le(`mimeTypes property of the onDrop config for ${e.name} Tool should be an array`),o=[]),o&&(o=o.filter(s=>JM(s)?!0:(le(`MIME type value ${s} for the ${e.name} Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[e.name]={extensions:r||[],mimeTypes:o||[]})}getPatternsConfig(e){e.pasteConfig===!1||!e.pasteConfig.patterns||hn(e.pasteConfig.patterns)||Object.entries(e.pasteConfig.patterns).forEach(([n,r])=>{r instanceof RegExp||le(`Pattern ${r} for ${e.name} Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:n,pattern:r,tool:e})})}isNativeBehaviour(e){return F.isNativeInput(e)}async processFiles(e){const{BlockManager:n}=this.Editor;let r;r=await Promise.all(Array.from(e).map(s=>this.processFile(s))),r=r.filter(s=>!!s);const o=n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty;r.forEach((s,i)=>{n.paste(s.type,s.event,i===0&&o)})}async processFile(e){const n=XM(e),r=Object.entries(this.toolsFiles).find(([s,{mimeTypes:i,extensions:a}])=>{const[l,c]=e.type.split("/"),u=a.find(h=>h.toLowerCase()===n.toLowerCase()),d=i.find(h=>{const[v,g]=h.split("/");return v===l&&(g===c||g==="*")});return!!u||!!d});if(!r)return;const[o]=r;return{event:this.composePasteEvent("file",{file:e}),type:o}}processHTML(e){const{Tools:n}=this.Editor,r=F.make("DIV");return r.innerHTML=e,this.getNodes(r).map(o=>{let s,i=n.defaultTool,a=!1;switch(o.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:s=F.make("div"),s.appendChild(o);break;case Node.ELEMENT_NODE:s=o,a=!0,this.toolsTags[s.tagName]&&(i=this.toolsTags[s.tagName].tool);break}const{tags:l}=i.pasteConfig||{tags:[]},c=l.reduce((h,v)=>(this.collectTagNames(v).forEach(g=>{const y=at(v)?v[g]:null;h[g.toLowerCase()]=y||{}}),h),{}),u=Object.assign({},c,i.baseSanitizeConfig);if(s.tagName.toLowerCase()==="table"){const h=Yn(s.outerHTML,u);s=F.make("div",void 0,{innerHTML:h}).firstChild}else s.innerHTML=Yn(s.innerHTML,u);const d=this.composePasteEvent("tag",{data:s});return{content:s,isBlock:a,tool:i.name,event:d}}).filter(o=>{const s=F.isEmpty(o.content),i=F.isSingleTag(o.content);return!s||i})}processPlain(e){const{defaultBlock:n}=this.config;if(!e)return[];const r=n;return e.split(/\r?\n/).filter(o=>o.trim()).map(o=>{const s=F.make("div");s.textContent=o;const i=this.composePasteEvent("tag",{data:s});return{content:s,tool:r,isBlock:!1,event:i}})}async processSingleBlock(e){const{Caret:n,BlockManager:r}=this.Editor,{currentBlock:o}=r;if(!o||e.tool!==o.name||!F.containsOnlyInlineElements(e.content.innerHTML)){this.insertBlock(e,(o==null?void 0:o.tool.isDefault)&&o.isEmpty);return}n.insertContentAtCaretPosition(e.content.innerHTML)}async processInlinePaste(e){const{BlockManager:n,Caret:r}=this.Editor,{content:o}=e;if(n.currentBlock&&n.currentBlock.tool.isDefault&&o.textContent.length<Yk.PATTERN_PROCESSING_MAX_LENGTH){const s=await this.processPattern(o.textContent);if(s){const i=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty,a=n.paste(s.tool,s.event,i);r.setToBlock(a,r.positions.END);return}}if(n.currentBlock&&n.currentBlock.currentInput){const s=n.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,Yn(o.innerHTML,s))}else this.insertBlock(e)}async processPattern(e){const n=this.toolsPatterns.find(r=>{const o=r.pattern.exec(e);return o?e===o.shift():!1});return n?{event:this.composePasteEvent("pattern",{key:n.key,data:e}),tool:n.tool.name}:void 0}insertBlock(e,n=!1){const{BlockManager:r,Caret:o}=this.Editor,{currentBlock:s}=r;let i;if(n&&s&&s.isEmpty){i=r.paste(e.tool,e.event,!0),o.setToBlock(i,o.positions.END);return}i=r.paste(e.tool,e.event),o.setToBlock(i,o.positions.END)}insertEditorJSData(e){const{BlockManager:n,Caret:r,Tools:o}=this.Editor;Uk(e,s=>o.blockTools.get(s).sanitizeConfig).forEach(({tool:s,data:i},a)=>{let l=!1;a===0&&(l=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty);const c=n.insert({tool:s,data:i,replace:l});r.setToBlock(c,r.positions.END)})}processElementNode(e,n,r){const o=Object.keys(this.toolsTags),s=e,{tool:i}=this.toolsTags[s.tagName]||{},a=this.tagsByTool[i==null?void 0:i.name]||[],l=o.includes(s.tagName),c=F.blockElements.includes(s.tagName.toLowerCase()),u=Array.from(s.children).some(({tagName:h})=>o.includes(h)&&!a.includes(h)),d=Array.from(s.children).some(({tagName:h})=>F.blockElements.includes(h.toLowerCase()));if(!c&&!l&&!u)return r.appendChild(s),[...n,r];if(l&&!u||c&&!d&&!u)return[...n,r,s]}getNodes(e){const n=Array.from(e.childNodes);let r;const o=(s,i)=>{if(F.isEmpty(i)&&!F.isSingleTag(i))return s;const a=s[s.length-1];let l=new DocumentFragment;switch(a&&F.isFragment(a)&&(l=s.pop()),i.nodeType){case Node.ELEMENT_NODE:if(r=this.processElementNode(i,s,l),r)return r;break;case Node.TEXT_NODE:return l.appendChild(i),[...s,l];default:return[...s,l]}return[...s,...Array.from(i.childNodes).reduce(o,[])]};return n.reduce(o,[])}composePasteEvent(e,n){return new CustomEvent(e,{detail:n})}};let Xk=Yk;Xk.PATTERN_PROCESSING_MAX_LENGTH=450;class d3 extends ue{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:n}=e,r=[];Array.from(n.entries()).forEach(([o,s])=>{s.isReadOnlySupported||r.push(o)}),this.toolsDontSupportReadOnly=r,this.config.readOnly&&r.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly)}async toggle(e=!this.readOnlyEnabled){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const n=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const o in this.Editor)this.Editor[o].toggleReadOnly&&this.Editor[o].toggleReadOnly(e);if(n===e)return this.readOnlyEnabled;const r=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(r.blocks),this.readOnlyEnabled}throwCriticalError(){throw new Mk(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class ji extends ue{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,n){const r=document.elementFromPoint(e-window.pageXOffset,n-window.pageYOffset);r.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const o=[`.${Kn.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],s=r.closest("."+this.Editor.UI.CSS.editorWrapper),i=o.some(a=>!!r.closest(a));!s||i||(this.mousedown=!0,this.startX=e,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",hh(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",hh(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(F.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,n=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),r=F.make("div",ji.CSS.overlay,{}),o=F.make("div",ji.CSS.overlayContainer,{}),s=F.make("div",ji.CSS.rect,{});return o.appendChild(s),r.appendChild(o),n.appendChild(r),this.overlayRectangle=s,{container:n,overlay:r}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:n,leftPos:r,index:o}=this.genInfoForMouseSelection(),s=this.startX>n&&this.mouseX>n,i=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(s||i),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),o!==void 0&&(this.trySelectNextBlock(o),this.inverseSelection(),J.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,r=document.elementFromPoint(e,n),o=this.Editor.BlockManager.getBlockByChildNode(r);let s;o!==void 0&&(s=this.Editor.BlockManager.blocks.findIndex(u=>u.holder===o.holder));const i=this.Editor.BlockManager.lastBlock.holder.querySelector("."+Kn.CSS.content),a=Number.parseInt(window.getComputedStyle(i).width,10)/2,l=e-a,c=e+a;return{index:s,leftPos:l,rightPos:c}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const n=this.stackOfSelected[this.stackOfSelected.length-1]===e,r=this.stackOfSelected.length,o=1,s=-1,i=0;if(n)return;const a=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0;let l=i;r>1&&(l=a?o:s);const c=e>this.stackOfSelected[r-1]&&l===o,u=e<this.stackOfSelected[r-1]&&l===s,d=!(c||u||l===i);if(!d&&(e>this.stackOfSelected[r-1]||this.stackOfSelected[r-1]===void 0)){let g=this.stackOfSelected[r-1]+1||e;for(g;g<=e;g++)this.addBlockInSelection(g);return}if(!d&&e<this.stackOfSelected[r-1]){for(let g=this.stackOfSelected[r-1]-1;g>=e;g--)this.addBlockInSelection(g);return}if(!d)return;let h=r-1,v;for(e>this.stackOfSelected[r-1]?v=()=>e>this.stackOfSelected[h]:v=()=>e<this.stackOfSelected[h];v();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[h]),this.stackOfSelected.pop(),h--}}class f3 extends ue{async render(e){const n=e.map(o=>({function:()=>this.insertBlock(o)}));this.Editor.ModificationsObserver.disable();const r=await jk(n);return this.Editor.ModificationsObserver.enable(),this.Editor.UI.checkEmptiness(),r}async insertBlock(e){var n;const{Tools:r,BlockManager:o}=this.Editor,{type:s,data:i,tunes:a,id:l}=e;if(r.available.has(s))try{o.insert({id:l,tool:s,data:i,tunes:a})}catch(c){throw le(`Block ${s} skipped because of plugins error`,"warn",{data:i,error:c}),Error(c)}else{const c={savedData:{id:l,type:s,data:i},title:s};if(r.unavailable.has(s)){const d=(n=r.unavailable.get(s).toolbox[0])==null?void 0:n.title;c.title=d||c.title}const u=o.insert({id:l,tool:r.stubTool,data:c});u.stretched=!0,le(`Tool ${s} is not found. Check 'tools' property at your initial Editor.js config.`,"warn")}}}class h3 extends ue{async save(){const{BlockManager:e,Tools:n}=this.Editor,r=e.blocks,o=[];try{r.forEach(a=>{o.push(this.getSavedData(a))});const s=await Promise.all(o),i=await Uk(s,a=>n.blockTools.get(a).sanitizeConfig);return this.makeOutput(i)}catch(s){sn("Saving failed due to the Error %o","error",s)}}async getSavedData(e){const n=await e.save(),r=n&&await e.validate(n.data);return{...n,isValid:r}}makeOutput(e){let n=0;const r=[];return le("[Editor.js saving]:","groupCollapsed"),e.forEach(({id:o,tool:s,data:i,tunes:a,time:l,isValid:c})=>{if(n+=l,le(`${s.charAt(0).toUpperCase()+s.slice(1)}`,"group"),c)le(i),le(void 0,"groupEnd");else{le(`Block ${s} skipped because saved data is invalid`),le(void 0,"groupEnd");return}if(s===this.Editor.Tools.stubTool){r.push(i);return}const u={id:o,type:s,data:i,...!hn(a)&&{tunes:a}};r.push(u)}),le("Total","log",n),le(void 0,"groupEnd"),{time:+new Date,blocks:r,version:"2.27.2"}}}var kh={},p3={get exports(){return kh},set exports(t){kh=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="/",o(o.s=4)}([function(n,r,o){var s=o(1),i=o(2);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[n.i,i,""]]);var a={insert:"head",singleton:!1};s(i,a),n.exports=i.locals||{}},function(n,r,o){var s,i=function(){return s===void 0&&(s=!!(window&&document&&document.all&&!window.atob)),s},a=function(){var p={};return function(w){if(p[w]===void 0){var E=document.querySelector(w);if(window.HTMLIFrameElement&&E instanceof window.HTMLIFrameElement)try{E=E.contentDocument.head}catch{E=null}p[w]=E}return p[w]}}(),l=[];function c(p){for(var w=-1,E=0;E<l.length;E++)if(l[E].identifier===p){w=E;break}return w}function u(p,w){for(var E={},N=[],P=0;P<p.length;P++){var k=p[P],S=w.base?k[0]+w.base:k[0],_=E[S]||0,T="".concat(S," ").concat(_);E[S]=_+1;var I=c(T),j={css:k[1],media:k[2],sourceMap:k[3]};I!==-1?(l[I].references++,l[I].updater(j)):l.push({identifier:T,updater:m(j,w),references:1}),N.push(T)}return N}function d(p){var w=document.createElement("style"),E=p.attributes||{};if(E.nonce===void 0){var N=o.nc;N&&(E.nonce=N)}if(Object.keys(E).forEach(function(k){w.setAttribute(k,E[k])}),typeof p.insert=="function")p.insert(w);else{var P=a(p.insert||"head");if(!P)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");P.appendChild(w)}return w}var h,v=(h=[],function(p,w){return h[p]=w,h.filter(Boolean).join(`
`)});function g(p,w,E,N){var P=E?"":N.media?"@media ".concat(N.media," {").concat(N.css,"}"):N.css;if(p.styleSheet)p.styleSheet.cssText=v(w,P);else{var k=document.createTextNode(P),S=p.childNodes;S[w]&&p.removeChild(S[w]),S.length?p.insertBefore(k,S[w]):p.appendChild(k)}}function y(p,w,E){var N=E.css,P=E.media,k=E.sourceMap;if(P?p.setAttribute("media",P):p.removeAttribute("media"),k&&btoa&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(k))))," */")),p.styleSheet)p.styleSheet.cssText=N;else{for(;p.firstChild;)p.removeChild(p.firstChild);p.appendChild(document.createTextNode(N))}}var x=null,b=0;function m(p,w){var E,N,P;if(w.singleton){var k=b++;E=x||(x=d(w)),N=g.bind(null,E,k,!1),P=g.bind(null,E,k,!0)}else E=d(w),N=y.bind(null,E,w),P=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(E)};return N(p),function(S){if(S){if(S.css===p.css&&S.media===p.media&&S.sourceMap===p.sourceMap)return;N(p=S)}else P()}}n.exports=function(p,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=i());var E=u(p=p||[],w);return function(N){if(N=N||[],Object.prototype.toString.call(N)==="[object Array]"){for(var P=0;P<E.length;P++){var k=c(E[P]);l[k].references--}for(var S=u(N,w),_=0;_<E.length;_++){var T=c(E[_]);l[T].references===0&&(l[T].updater(),l.splice(T,1))}E=S}}}},function(n,r,o){(r=o(3)(!1)).push([n.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),n.exports=r},function(n,r,o){n.exports=function(s){var i=[];return i.toString=function(){return this.map(function(a){var l=function(c,u){var d=c[1]||"",h=c[3];if(!h)return d;if(u&&typeof btoa=="function"){var v=(y=h,x=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),b="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(x),"/*# ".concat(b," */")),g=h.sources.map(function(m){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(m," */")});return[d].concat(g).concat([v]).join(`
`)}var y,x,b;return[d].join(`
`)}(a,s);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},i.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var d=0;d<this.length;d++){var h=this[d][0];h!=null&&(u[h]=!0)}for(var v=0;v<a.length;v++){var g=[].concat(a[v]);c&&u[g[0]]||(l&&(g[2]?g[2]="".concat(l," and ").concat(g[2]):g[2]=l),i.push(g))}},i}},function(n,r,o){o.r(r),o.d(r,"default",function(){return a}),o(0);function s(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function i(l,c,u){return c&&s(l.prototype,c),u&&s(l,u),l}/**
 * Base Paragraph Block for the Editor.js.
 * Represents simple paragraph
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */var a=function(){function l(c){var u=c.data,d=c.config,h=c.api,v=c.readOnly;(function(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=h,this.readOnly=v,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=d.placeholder?d.placeholder:l.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=d.preserveBlank!==void 0&&d.preserveBlank,this.data=u}return i(l,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),i(l,[{key:"onKeyUp",value:function(c){c.code!=="Backspace"&&c.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var c=document.createElement("DIV");return c.classList.add(this._CSS.wrapper,this._CSS.block),c.contentEditable=!1,c.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(c.contentEditable=!0,c.addEventListener("keyup",this.onKeyUp)),c}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(c){var u={text:this.data.text+c.text};this.data=u}},{key:"validate",value:function(c){return!(c.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(c){return{text:c.innerHTML}}},{key:"onPaste",value:function(c){var u={text:c.detail.data.innerHTML};this.data=u}},{key:"data",get:function(){var c=this._element.innerHTML;return this._data.text=c,this._data},set:function(c){this._data=c||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}]),l}()}]).default})})(p3);const m3=wu(kh);class Nm{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=RR,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+B"}}Nm.isInline=!0;Nm.title="Bold";class Pm{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=$R,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}Pm.isInline=!0;Pm.title="Italic";class Im{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new J}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Y0,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=WR,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=e.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=Y0,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const n=new J;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),le("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const n=/^\/[^/\s]/.test(e),r=e.substring(0,1)==="#",o=/^\/\/[^/\s]/.test(e);return!n&&!r&&!o&&(e="http://"+e),e}insertLink(e){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}Im.isInline=!0;Im.title="Link";let Jk=class{constructor({data:e,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=F.make("div",this.CSS.wrapper),n='<svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52"><path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/></svg>',r=F.make("div",this.CSS.info),o=F.make("div",this.CSS.title,{textContent:this.title}),s=F.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=n,r.appendChild(o),r.appendChild(s),e.appendChild(r),e}};Jk.isReadOnlySupported=!0;class g3 extends _m{constructor(){super(...arguments),this.type=Su.Inline}get title(){return this.constructable[Cm.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class v3 extends _m{constructor(){super(...arguments),this.type=Su.Tune}create(e,n){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:n,data:e})}}let xn=class Ko extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new Ko(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInline());return new Ko(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,n])=>n.isTune());return new Ko(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new Ko(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new Ko(e)}};var y3=Object.defineProperty,b3=Object.getOwnPropertyDescriptor,Qk=(t,e,n,r)=>{for(var o=r>1?void 0:r?b3(e,n):e,s=t.length-1,i;s>=0;s--)(i=t[s])&&(o=(r?i(e,n,o):i(o))||o);return r&&o&&y3(e,n,o),o};class jm extends _m{constructor(){super(...arguments),this.type=Su.Block,this.inlineTools=new xn,this.tunes=new xn}create(e,n,r){return new this.constructable({data:e,block:n,readOnly:r,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return this.constructable[qo.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[qo.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[qo.Toolbox],n=this.config[Nl.Toolbox];if(!hn(e)&&n!==!1)return n?Array.isArray(e)?Array.isArray(n)?n.map((r,o)=>{const s=e[o];return s?{...s,...r}:r}):[n]:Array.isArray(n)?n:[{...e,...n}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[qo.ConversionConfig]}get enabledInlineTools(){return this.config[Nl.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Nl.EnabledBlockTunes]}get pasteConfig(){return this.constructable[qo.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,n=this.baseSanitizeConfig;if(hn(e))return n;const r={};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const s=e[o];at(s)?r[o]=Object.assign({},n,s):r[o]=s}return r}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),e}}Qk([Ws],jm.prototype,"sanitizeConfig",1);Qk([Ws],jm.prototype,"baseSanitizeConfig",1);class x3{constructor(e,n,r){this.api=r,this.config=e,this.editorConfig=n}get(e){const{class:n,isInternal:r=!1,...o}=this.config[e],s=this.getConstructor(n);return new s({name:e,constructable:n,config:o,api:this.api,isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(e){switch(!0){case e[Cm.IsInline]:return g3;case e[Kk.IsTune]:return v3;default:return jm}}}class Zk{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:zk,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const r=n.holder,o=r.getBoundingClientRect();let s=Math.abs(window.innerHeight-r.offsetHeight);o.top<window.innerHeight&&(s=window.scrollY+r.offsetHeight),window.scrollTo(0,s),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}Zk.isTune=!0;let eS=class{constructor({api:e}){this.api=e}render(){return{icon:FR,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}};eS.isTune=!0;class tS{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:DR,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e),r=this.api.blocks.getBlockByIndex(e-1);if(e===0||!n||!r)throw new Error("Unable to move Block up since it is already the first");const o=n.holder,s=r.holder,i=o.getBoundingClientRect(),a=s.getBoundingClientRect();let l;a.top>0?l=Math.abs(i.top)-Math.abs(a.top):l=Math.abs(i.top)+a.height,window.scrollBy(0,-1*l),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}tS.isTune=!0;var w3=Object.defineProperty,k3=Object.getOwnPropertyDescriptor,S3=(t,e,n,r)=>{for(var o=r>1?void 0:r?k3(e,n):e,s=t.length-1,i;s>=0;s--)(i=t[s])&&(o=(r?i(e,n,o):i(o))||o);return r&&o&&w3(e,n,o),o};class nS extends ue{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new xn,this.toolsUnavailable=new xn}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=ph({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new x3(e,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(e);if(n.length===0)return Promise.resolve();await jk(n,r=>{this.toolPrepareMethodSuccess(r)},r=>{this.toolPrepareMethodFallback(r)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(e,n.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{_e(e.reset)&&await e.reset()})}get internalTools(){return{bold:{class:Nm,isInternal:!0},italic:{class:Pm,isInternal:!0},link:{class:Im,isInternal:!0},paragraph:{class:m3,inlineToolbar:!0,isInternal:!0},stub:{class:Jk,isInternal:!0},moveUp:{class:tS,isInternal:!0},delete:{class:eS,isInternal:!0},moveDown:{class:Zk,isInternal:!0}}}toolPrepareMethodSuccess(e){const n=this.factory.get(e.toolName);if(n.isInline()){const r=["render","surround","checkState"].filter(o=>!n.create()[o]);if(r.length){le(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",r),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const n=[];return Object.entries(e).forEach(([r,o])=>{n.push({function:_e(o.class.prepare)?o.class.prepare:()=>{},data:{toolName:r,config:o.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new xn(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new xn(e.enabledInlineTools.map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const n=new xn(e.enabledBlockTunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new xn([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new xn(this.config.tunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new xn([...n,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const n=this.config.tools[e];if(!_e(n)&&!_e(n.class))throw Error(`Tool ${e} must be a constructor function or an object with function in the class property`)}}prepareConfig(){const e={};for(const n in this.config.tools)at(this.config.tools[n])?e[n]=this.config.tools[n]:e[n]={class:this.config.tools[n]};return e}}S3([Ws],nS.prototype,"getAllInlineToolsSanitizeConfig",1);const E3=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s infinite linear;animation:editor-loader-spin .8s infinite linear;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;-webkit-transform:translateX(-50%) translateY(8px) scale(.94);transform:translate(-50%) translateY(8px) scale(.94);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.94);transform:translate(-23px) translateY(8px) scale(.94)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translate(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.94);transform:translate(-100%) translateY(8px) scale(.94);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translate(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width: 651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;class T3 extends ue{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=QM(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorLoader:"codex-editor__loader",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${Kn.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}addLoader(){this.nodes.loader=F.make("div",this.CSS.editorLoader),this.nodes.wrapper.prepend(this.nodes.loader),this.nodes.redactor.classList.add(this.CSS.editorZoneHidden)}removeLoader(){this.nodes.loader.remove(),this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden)}async prepare(){this.checkIsMobile(),this.make(),this.addLoader(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor;return n.opened||r.opened||o.opened||e.toolbox.opened}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,n])=>n.flipper instanceof Os).some(([e,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor;n.close(),r.close(),o.close(),e.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<Ok}make(){this.nodes.holder=F.getHolder(this.config.holder),this.nodes.wrapper=F.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=F.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(F.get(e))return;const n=F.make("style",null,{id:e,textContent:E3.toString()});F.prepend(document.head,n)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",e=>{this.redactorClicked(e)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(document,"keydown",e=>{this.documentKeydown(e)},!0),this.readOnlyMutableListeners.on(document,"mousedown",e=>{this.documentClicked(e)},!0),this.readOnlyMutableListeners.on(document,"selectionchange",()=>{this.selectionChanged()},!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",hh(n=>{const r=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||r&&e!==r&&(e=r,this.eventsDispatcher.emit(Gk,{block:this.Editor.BlockManager.getBlockByChildNode(r)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(e){switch(e.keyCode){case se.ENTER:this.enterPressed(e);break;case se.BACKSPACE:this.backspacePressed(e);break;case se.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:n}=this.Editor.BlockManager,r=e.target.closest(`.${this.CSS.editorWrapper}`),o=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(n!==void 0&&r===null){this.Editor.BlockEvents.keydown(e);return}r||n&&o||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor;if(r.anyBlockSelected&&!J.isSelectionExists){const s=n.removeSelectedBlocks();o.setToBlock(n.insertDefaultBlockAtIndex(s,!0),o.positions.START),r.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:n,BlockSelection:r}=this.Editor,o=n.currentBlockIndex>=0;if(r.anyBlockSelected&&!J.isSelectionExists){r.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&o&&e.target.tagName==="BODY"){const s=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(s),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.moveAndOpen(s)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){if(!e.isTrusted)return;const n=e.target;this.nodes.holder.contains(n)||J.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const r=this.Editor.BlockSettings.nodes.wrapper.contains(n),o=this.Editor.Toolbar.nodes.settingsToggler.contains(n),s=r||o;if(this.Editor.BlockSettings.opened&&!s){this.Editor.BlockSettings.close();const i=this.Editor.BlockManager.getBlockByChildNode(n);this.Editor.Toolbar.moveAndOpen(i)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let n=e.target;if(n===this.nodes.redactor){const r=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;n=document.elementFromPoint(r,o)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n),this.Editor.BlockManager.highlightCurrentNode()}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){const{BlockSelection:n}=this.Editor;if(!J.isCollapsed)return;const r=()=>{e.stopImmediatePropagation(),e.stopPropagation()},o=e.target,s=e.metaKey||e.ctrlKey;if(F.isAnchor(o)&&s){r();const c=o.getAttribute("href"),u=eR(c);nR(u);return}const i=this.Editor.BlockManager.getBlockByIndex(-1),a=F.offset(i.holder).bottom,l=e.pageY;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!n.anyBlockSelected&&a<l){r();const{BlockManager:c,Caret:u,Toolbar:d}=this.Editor;(!c.lastBlock.tool.isDefault||!c.lastBlock.isEmpty)&&c.insertAtEnd(),u.setToTheLastBlock(),d.moveAndOpen(c.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:n}=this.Editor,r=J.anchorElement;if(e.isCrossBlockSelectionStarted&&n.anyBlockSelected&&J.get().removeAllRanges(),!r){J.range||this.Editor.InlineToolbar.close();return}const o=r.closest(`.${Kn.CSS.content}`)===null;if(o&&(this.Editor.InlineToolbar.containsNode(r)||this.Editor.InlineToolbar.close(),r.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(r);const s=o!==!0;this.Editor.InlineToolbar.tryToShow(!0,s)}}const C3={BlocksAPI:uR,CaretAPI:dR,EventsAPI:fR,I18nAPI:wm,API:hR,InlineToolbarAPI:pR,ListenersAPI:mR,NotifierAPI:bR,ReadOnlyAPI:xR,SanitizerAPI:_R,SaverAPI:NR,SelectionAPI:PR,StylesAPI:IR,ToolbarAPI:jR,TooltipAPI:OR,UiAPI:BR,BlockSettings:YR,ConversionToolbar:qt,Toolbar:t3,InlineToolbar:n3,BlockEvents:r3,BlockManager:i3,BlockSelection:a3,Caret:Cc,CrossBlockSelection:l3,DragNDrop:c3,ModificationsObserver:u3,Paste:Xk,ReadOnly:d3,RectangleSelection:ji,Renderer:f3,Saver:h3,Tools:nS,UI:T3};class _3{constructor(e){this.moduleInstances={},this.eventsDispatcher=new ku;let n,r;this.isReady=new Promise((o,s)=>{n=o,r=s}),Promise.resolve().then(async()=>{this.configuration=e,await this.validate(),await this.init(),await this.start(),sn("I'm ready! ()*:","log","","color: #E24A75"),setTimeout(async()=>{if(await this.render(),this.configuration.autofocus){const{BlockManager:o,Caret:s}=this.moduleInstances;s.setToBlock(o.blocks[0],s.positions.START),o.highlightCurrentNode()}this.moduleInstances.UI.removeLoader(),n()},500)}).catch(o=>{le(`Editor.js is not ready because of ${o}`,"error"),r(o)})}set configuration(e){var n,r;at(e)?this.config={...e}:this.config={holder:e},mh(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=Pk.VERBOSE),KM(this.config.logLevel),mh(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const o={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(hn(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[o]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&Nt.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((r=this.config.i18n)==null?void 0:r.direction)||"ltr"}get configuration(){return this.config}async validate(){const{holderId:e,holder:n}=this.config;if(e&&n)throw Error("holderId and holder param can't assign at the same time.");if(Kr(n)&&!F.get(n))throw Error(`element with ID ${n} is missing. Pass correct holder's ID.`);if(n&&at(n)&&!F.isElement(n))throw Error("holder value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,n)=>e.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(r){if(r instanceof Mk)throw new Error(r.message);le(`Module ${n} was skipped because of %o`,"warn",r)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(C3).forEach(([e,n])=>{try{this.moduleInstances[e]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){le("[constructModules]",`Module ${e} skipped because`,"error",r)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const n={};for(const r in this.moduleInstances)r!==e&&(n[r]=this.moduleInstances[r]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class on{static get version(){return"2.27.2"}constructor(e){let n=()=>{};at(e)&&_e(e.onReady)&&(n=e.onReady);const r=new _3(e);this.isReady=r.isReady.then(()=>{this.exportAPI(r),n()})}exportAPI(e){const n=["configuration"],r=()=>{Object.values(e.moduleInstances).forEach(o=>{_e(o.destroy)&&o.destroy(),o.listeners.removeAll()}),e=null;for(const o in this)Object.prototype.hasOwnProperty.call(this,o)&&delete this[o];Object.setPrototypeOf(this,null)};n.forEach(o=>{this[o]=e[o]}),this.destroy=r,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([o,s])=>{Object.entries(s).forEach(([i,a])=>{this[a]=e.moduleInstances.API.methods[o][i]})})}}var rS={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="/",o(o.s=14)}([function(n,r,o){var s=o(5),i=o(6),a=o(7),l=o(9);n.exports=function(c,u){return s(c)||i(c,u)||a(c,u)||l()}},function(n,r){function o(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n.exports=o=function(i){return typeof i}:n.exports=o=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},o(s)}n.exports=o},function(n,r){n.exports=function(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}},function(n,r){function o(s,i){for(var a=0;a<i.length;a++){var l=i[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,l.key,l)}}n.exports=function(s,i,a){return i&&o(s.prototype,i),a&&o(s,a),s}},function(n,r){function o(s,i,a){var l,c,u,d,h;function v(){var y=Date.now()-d;y<i&&y>=0?l=setTimeout(v,i-y):(l=null,a||(h=s.apply(u,c),u=c=null))}i==null&&(i=100);var g=function(){u=this,c=arguments,d=Date.now();var y=a&&!l;return l||(l=setTimeout(v,i)),y&&(h=s.apply(u,c),u=c=null),h};return g.clear=function(){l&&(clearTimeout(l),l=null)},g.flush=function(){l&&(h=s.apply(u,c),u=c=null,clearTimeout(l),l=null)},g}o.debounce=o,n.exports=o},function(n,r){n.exports=function(o){if(Array.isArray(o))return o}},function(n,r){n.exports=function(o,s){if(typeof Symbol<"u"&&Symbol.iterator in Object(o)){var i=[],a=!0,l=!1,c=void 0;try{for(var u,d=o[Symbol.iterator]();!(a=(u=d.next()).done)&&(i.push(u.value),!s||i.length!==s);a=!0);}catch(h){l=!0,c=h}finally{try{a||d.return==null||d.return()}finally{if(l)throw c}}return i}}},function(n,r,o){var s=o(8);n.exports=function(i,a){if(i){if(typeof i=="string")return s(i,a);var l=Object.prototype.toString.call(i).slice(8,-1);return l==="Object"&&i.constructor&&(l=i.constructor.name),l==="Map"||l==="Set"?Array.from(l):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?s(i,a):void 0}}},function(n,r){n.exports=function(o,s){(s==null||s>o.length)&&(s=o.length);for(var i=0,a=new Array(s);i<s;i++)a[i]=o[i];return a}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r,o){var s=o(11),i=o(12);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[n.i,i,""]]);var a={insert:"head",singleton:!1};s(i,a),n.exports=i.locals||{}},function(n,r,o){var s,i=function(){return s===void 0&&(s=!!(window&&document&&document.all&&!window.atob)),s},a=function(){var p={};return function(w){if(p[w]===void 0){var E=document.querySelector(w);if(window.HTMLIFrameElement&&E instanceof window.HTMLIFrameElement)try{E=E.contentDocument.head}catch{E=null}p[w]=E}return p[w]}}(),l=[];function c(p){for(var w=-1,E=0;E<l.length;E++)if(l[E].identifier===p){w=E;break}return w}function u(p,w){for(var E={},N=[],P=0;P<p.length;P++){var k=p[P],S=w.base?k[0]+w.base:k[0],_=E[S]||0,T="".concat(S," ").concat(_);E[S]=_+1;var I=c(T),j={css:k[1],media:k[2],sourceMap:k[3]};I!==-1?(l[I].references++,l[I].updater(j)):l.push({identifier:T,updater:m(j,w),references:1}),N.push(T)}return N}function d(p){var w=document.createElement("style"),E=p.attributes||{};if(E.nonce===void 0){var N=o.nc;N&&(E.nonce=N)}if(Object.keys(E).forEach(function(k){w.setAttribute(k,E[k])}),typeof p.insert=="function")p.insert(w);else{var P=a(p.insert||"head");if(!P)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");P.appendChild(w)}return w}var h,v=(h=[],function(p,w){return h[p]=w,h.filter(Boolean).join(`
`)});function g(p,w,E,N){var P=E?"":N.media?"@media ".concat(N.media," {").concat(N.css,"}"):N.css;if(p.styleSheet)p.styleSheet.cssText=v(w,P);else{var k=document.createTextNode(P),S=p.childNodes;S[w]&&p.removeChild(S[w]),S.length?p.insertBefore(k,S[w]):p.appendChild(k)}}function y(p,w,E){var N=E.css,P=E.media,k=E.sourceMap;if(P?p.setAttribute("media",P):p.removeAttribute("media"),k&&btoa&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(k))))," */")),p.styleSheet)p.styleSheet.cssText=N;else{for(;p.firstChild;)p.removeChild(p.firstChild);p.appendChild(document.createTextNode(N))}}var x=null,b=0;function m(p,w){var E,N,P;if(w.singleton){var k=b++;E=x||(x=d(w)),N=g.bind(null,E,k,!1),P=g.bind(null,E,k,!0)}else E=d(w),N=y.bind(null,E,w),P=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(E)};return N(p),function(S){if(S){if(S.css===p.css&&S.media===p.media&&S.sourceMap===p.sourceMap)return;N(p=S)}else P()}}n.exports=function(p,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=i());var E=u(p=p||[],w);return function(N){if(N=N||[],Object.prototype.toString.call(N)==="[object Array]"){for(var P=0;P<E.length;P++){var k=c(E[P]);l[k].references--}for(var S=u(N,w),_=0;_<E.length;_++){var T=c(E[_]);l[T].references===0&&(l[T].updater(),l.splice(T,1))}E=S}}}},function(n,r,o){(r=o(13)(!1)).push([n.i,`.embed-tool--loading .embed-tool__caption {
      display: none;
    }

    .embed-tool--loading .embed-tool__preloader {
      display: block;
    }

    .embed-tool--loading .embed-tool__content {
      display: none;
    }
  .embed-tool__preloader {
    display: none;
    position: relative;
    height: 200px;
    box-sizing: border-box;
    border-radius: 5px;
    border: 1px solid #e6e9eb;
  }
  .embed-tool__preloader::before {
      content: '';
      position: absolute;
      z-index: 3;
      left: 50%;
      top: 50%;
      width: 30px;
      height: 30px;
      margin-top: -25px;
      margin-left: -15px;
      border-radius: 50%;
      border: 2px solid #cdd1e0;
      border-top-color: #388ae5;
      box-sizing: border-box;
      animation: embed-preloader-spin 2s infinite linear;
    }
  .embed-tool__url {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    max-width: 250px;
    color: #7b7e89;
    font-size: 11px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .embed-tool__content {
    width: 100%;
  }
  .embed-tool__caption {
    margin-top: 7px;
  }
  .embed-tool__caption[contentEditable=true][data-placeholder]::before{
      position: absolute;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      opacity: 0;
    }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty::before {
         opacity: 1;
      }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus::before {
        opacity: 0;
      }

@keyframes embed-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),n.exports=r},function(n,r,o){n.exports=function(s){var i=[];return i.toString=function(){return this.map(function(a){var l=function(c,u){var d=c[1]||"",h=c[3];if(!h)return d;if(u&&typeof btoa=="function"){var v=(y=h,x=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),b="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(x),"/*# ".concat(b," */")),g=h.sources.map(function(m){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(m," */")});return[d].concat(g).concat([v]).join(`
`)}var y,x,b;return[d].join(`
`)}(a,s);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},i.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var d=0;d<this.length;d++){var h=this[d][0];h!=null&&(u[h]=!0)}for(var v=0;v<a.length;v++){var g=[].concat(a[v]);c&&u[g[0]]||(l&&(g[2]?g[2]="".concat(l," and ").concat(g[2]):g[2]=l),i.push(g))}},i}},function(n,r,o){o.r(r),o.d(r,"default",function(){return y});var s=o(1),i=o.n(s),a=o(0),l=o.n(a),c=o(2),u=o.n(c),d=o(3),h=o.n(d),v={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:function(x){var b=l()(x,2),m=b[0],p=b[1];if(!p&&m)return m;var w={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return p=p.slice(1).split("&").map(function(E){var N=E.split("="),P=l()(N,2),k=P[0],S=P[1];return m||k!=="v"?w[k]?S==="LL"||S.startsWith("RDMM")||S.startsWith("FL")?null:"".concat(w[k],"=").concat(S):null:(m=S,null)}).filter(function(E){return!!E}),m+"?"+p.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:function(x){return x.join("/")}},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:function(x){return x.join("/")}},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:function(x){return x.join("/embed/")}},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+?.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:function(x){return x.join("/status/")}},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:function(x){return x[1]}},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:function(x){return x.join("/")}},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'}},g=(o(10),o(4)),y=function(){function x(b){var m=b.data,p=b.api,w=b.readOnly;u()(this,x),this.api=p,this._data={},this.element=null,this.readOnly=w,this.data=m}return h()(x,[{key:"render",value:function(){var b=this;if(!this.data.service){var m=document.createElement("div");return this.element=m,m}var p=x.services[this.data.service].html,w=document.createElement("div"),E=document.createElement("div"),N=document.createElement("template"),P=this.createPreloader();w.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),E.classList.add(this.CSS.input,this.CSS.caption),w.appendChild(P),E.contentEditable=!this.readOnly,E.dataset.placeholder=this.api.i18n.t("Enter a caption"),E.innerHTML=this.data.caption||"",N.innerHTML=p,N.content.firstChild.setAttribute("src",this.data.embed),N.content.firstChild.classList.add(this.CSS.content);var k=this.embedIsReady(w);return w.appendChild(N.content.firstChild),w.appendChild(E),k.then(function(){w.classList.remove(b.CSS.containerLoading)}),this.element=w,w}},{key:"createPreloader",value:function(){var b=document.createElement("preloader"),m=document.createElement("div");return m.textContent=this.data.source,b.classList.add(this.CSS.preloader),m.classList.add(this.CSS.url),b.appendChild(m),b}},{key:"save",value:function(){return this.data}},{key:"onPaste",value:function(b){var m=b.detail,p=m.key,w=m.data,E=x.services[p],N=E.regex,P=E.embedUrl,k=E.width,S=E.height,_=E.id,T=_===void 0?function(B){return B.shift()}:_,I=N.exec(w).slice(1),j=P.replace(/<%= remote_id %>/g,T(I));this.data={service:p,source:w,embed:j,width:k,height:S}}},{key:"embedIsReady",value:function(b){var m=null;return new Promise(function(p,w){(m=new MutationObserver(Object(g.debounce)(p,450))).observe(b,{childList:!0,subtree:!0})}).then(function(){m.disconnect()})}},{key:"data",set:function(b){if(!(b instanceof Object))throw Error("Embed Tool data should be object");var m=b.service,p=b.source,w=b.embed,E=b.width,N=b.height,P=b.caption,k=P===void 0?"":P;this._data={service:m||this.data.service,source:p||this.data.source,embed:w||this.data.embed,width:E||this.data.width,height:N||this.data.height,caption:k||this.data.caption||""};var S=this.element;S&&S.parentNode.replaceChild(this.render(),S)},get:function(){if(this.element){var b=this.element.querySelector(".".concat(this.api.styles.input));this._data.caption=b?b.innerHTML:""}return this._data}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}}],[{key:"prepare",value:function(b){var m=b.config,p=(m===void 0?{}:m).services,w=p===void 0?{}:p,E=Object.entries(v),N=Object.entries(w).filter(function(k){var S=l()(k,2),_=(S[0],S[1]);return typeof _=="boolean"&&_===!0}).map(function(k){return l()(k,1)[0]}),P=Object.entries(w).filter(function(k){var S=l()(k,2),_=(S[0],S[1]);return i()(_)==="object"}).filter(function(k){var S=l()(k,2),_=(S[0],S[1]);return x.checkServiceConfig(_)}).map(function(k){var S=l()(k,2),_=S[0],T=S[1];return[_,{regex:T.regex,embedUrl:T.embedUrl,html:T.html,height:T.height,width:T.width,id:T.id}]});N.length&&(E=E.filter(function(k){var S=l()(k,1)[0];return N.includes(S)})),E=E.concat(P),x.services=E.reduce(function(k,S){var _=l()(S,2),T=_[0],I=_[1];return T in k?(k[T]=Object.assign({},k[T],I),k):(k[T]=I,k)},{}),x.patterns=E.reduce(function(k,S){var _=l()(S,2),T=_[0],I=_[1];return k[T]=I.regex,k},{})}},{key:"checkServiceConfig",value:function(b){var m=b.regex,p=b.embedUrl,w=b.html,E=b.height,N=b.width,P=b.id,k=m&&m instanceof RegExp&&p&&typeof p=="string"&&w&&typeof w=="string";return k=(k=(k=k&&(P===void 0||P instanceof Function))&&(E===void 0||Number.isFinite(E)))&&(N===void 0||Number.isFinite(N))}},{key:"pasteConfig",get:function(){return{patterns:x.patterns}}},{key:"isReadOnlySupported",get:function(){return!0}}]),x}()}]).default})})(rS);var N3=rS.exports;const P3=Yr(N3);var oS={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="/",o(o.s=4)}([function(n,r,o){var s=o(1),i=o(2);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[n.i,i,""]]);var a={insert:"head",singleton:!1};s(i,a),n.exports=i.locals||{}},function(n,r,o){var s,i=function(){return s===void 0&&(s=!!(window&&document&&document.all&&!window.atob)),s},a=function(){var p={};return function(w){if(p[w]===void 0){var E=document.querySelector(w);if(window.HTMLIFrameElement&&E instanceof window.HTMLIFrameElement)try{E=E.contentDocument.head}catch{E=null}p[w]=E}return p[w]}}(),l=[];function c(p){for(var w=-1,E=0;E<l.length;E++)if(l[E].identifier===p){w=E;break}return w}function u(p,w){for(var E={},N=[],P=0;P<p.length;P++){var k=p[P],S=w.base?k[0]+w.base:k[0],_=E[S]||0,T="".concat(S," ").concat(_);E[S]=_+1;var I=c(T),j={css:k[1],media:k[2],sourceMap:k[3]};I!==-1?(l[I].references++,l[I].updater(j)):l.push({identifier:T,updater:m(j,w),references:1}),N.push(T)}return N}function d(p){var w=document.createElement("style"),E=p.attributes||{};if(E.nonce===void 0){var N=o.nc;N&&(E.nonce=N)}if(Object.keys(E).forEach(function(k){w.setAttribute(k,E[k])}),typeof p.insert=="function")p.insert(w);else{var P=a(p.insert||"head");if(!P)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");P.appendChild(w)}return w}var h,v=(h=[],function(p,w){return h[p]=w,h.filter(Boolean).join(`
`)});function g(p,w,E,N){var P=E?"":N.media?"@media ".concat(N.media," {").concat(N.css,"}"):N.css;if(p.styleSheet)p.styleSheet.cssText=v(w,P);else{var k=document.createTextNode(P),S=p.childNodes;S[w]&&p.removeChild(S[w]),S.length?p.insertBefore(k,S[w]):p.appendChild(k)}}function y(p,w,E){var N=E.css,P=E.media,k=E.sourceMap;if(P?p.setAttribute("media",P):p.removeAttribute("media"),k&&btoa&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(k))))," */")),p.styleSheet)p.styleSheet.cssText=N;else{for(;p.firstChild;)p.removeChild(p.firstChild);p.appendChild(document.createTextNode(N))}}var x=null,b=0;function m(p,w){var E,N,P;if(w.singleton){var k=b++;E=x||(x=d(w)),N=g.bind(null,E,k,!1),P=g.bind(null,E,k,!0)}else E=d(w),N=y.bind(null,E,w),P=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(E)};return N(p),function(S){if(S){if(S.css===p.css&&S.media===p.media&&S.sourceMap===p.sourceMap)return;N(p=S)}else P()}}n.exports=function(p,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=i());var E=u(p=p||[],w);return function(N){if(N=N||[],Object.prototype.toString.call(N)==="[object Array]"){for(var P=0;P<E.length;P++){var k=c(E[P]);l[k].references--}for(var S=u(N,w),_=0;_<E.length;_++){var T=c(E[_]);l[T].references===0&&(l[T].updater(),l.splice(T,1))}E=S}}}},function(n,r,o){(r=o(3)(!1)).push([n.i,`.cdx-list {
    margin: 0;
    padding-left: 40px;
    outline: none;
}

    .cdx-list__item {
        padding: 5.5px 0 5.5px 3px;
        line-height: 1.6em;
    }

    .cdx-list--unordered {
        list-style: disc;
    }

    .cdx-list--ordered {
        list-style: decimal;
    }

    .cdx-list-settings {
        display: flex;
    }

    .cdx-list-settings .cdx-settings-button {
            width: 50%;
        }
`,""]),n.exports=r},function(n,r,o){n.exports=function(s){var i=[];return i.toString=function(){return this.map(function(a){var l=function(c,u){var d=c[1]||"",h=c[3];if(!h)return d;if(u&&typeof btoa=="function"){var v=(y=h,x=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),b="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(x),"/*# ".concat(b," */")),g=h.sources.map(function(m){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(m," */")});return[d].concat(g).concat([v]).join(`
`)}var y,x,b;return[d].join(`
`)}(a,s);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},i.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var d=0;d<this.length;d++){var h=this[d][0];h!=null&&(u[h]=!0)}for(var v=0;v<a.length;v++){var g=[].concat(a[v]);c&&u[g[0]]||(l&&(g[2]?g[2]="".concat(l," and ").concat(g[2]):g[2]=l),i.push(g))}},i}},function(n,r,o){o.r(r),o.d(r,"default",function(){return v}),o(0);const s='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>';function i(g){return function(y){if(Array.isArray(y))return a(y)}(g)||function(y){if(typeof Symbol<"u"&&Symbol.iterator in Object(y))return Array.from(y)}(g)||function(y,x){if(y){if(typeof y=="string")return a(y,x);var b=Object.prototype.toString.call(y).slice(8,-1);if(b==="Object"&&y.constructor&&(b=y.constructor.name),b==="Map"||b==="Set")return Array.from(y);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return a(y,x)}}(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function a(g,y){(y==null||y>g.length)&&(y=g.length);for(var x=0,b=new Array(y);x<y;x++)b[x]=g[x];return b}function l(g,y){var x=Object.keys(g);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(g);y&&(b=b.filter(function(m){return Object.getOwnPropertyDescriptor(g,m).enumerable})),x.push.apply(x,b)}return x}function c(g){for(var y=1;y<arguments.length;y++){var x=arguments[y]!=null?arguments[y]:{};y%2?l(Object(x),!0).forEach(function(b){u(g,b,x[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(x)):l(Object(x)).forEach(function(b){Object.defineProperty(g,b,Object.getOwnPropertyDescriptor(x,b))})}return g}function u(g,y,x){return y in g?Object.defineProperty(g,y,{value:x,enumerable:!0,configurable:!0,writable:!0}):g[y]=x,g}function d(g,y){for(var x=0;x<y.length;x++){var b=y[x];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}function h(g,y,x){return y&&d(g.prototype,y),x&&d(g,x),g}var v=function(){function g(y){var x=y.data,b=y.config,m=y.api,p=y.readOnly;(function(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")})(this,g),this._elements={wrapper:null},this.api=m,this.readOnly=p,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:s,default:b.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',default:b.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(function(w){return w.default===!0}).name,items:[]},this.data=x}return h(g,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:s,title:"List"}}}]),h(g,[{key:"render",value:function(){var y=this;return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(function(x){y._elements.wrapper.appendChild(y._make("li",y.CSS.item,{innerHTML:x}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",function(x){switch(x.keyCode){case 13:y.getOutofList(x);break;case 8:y.backspace(x)}},!1),this._elements.wrapper}},{key:"save",value:function(){return this.data}},{key:"renderSettings",value:function(){var y=this;return this.settings.map(function(x){return c(c({},x),{},{isActive:y._data.style===x.name,closeOnActivate:!0,onActivate:function(){return y.toggleTune(x.name)}})})}},{key:"onPaste",value:function(y){var x=y.detail.data;this.data=this.pasteHandler(x)}},{key:"makeMainTag",value:function(y){var x=y==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,b=y==="ordered"?"ol":"ul";return this._make(b,[this.CSS.baseBlock,this.CSS.wrapper,x],{contentEditable:!this.readOnly})}},{key:"toggleTune",value:function(y){for(var x=this.makeMainTag(y);this._elements.wrapper.hasChildNodes();)x.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(x),this._elements.wrapper=x,this._data.style=y}},{key:"_make",value:function(y){var x,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=document.createElement(y);Array.isArray(b)?(x=p.classList).add.apply(x,i(b)):b&&p.classList.add(b);for(var w in m)p[w]=m[w];return p}},{key:"getOutofList",value:function(y){var x=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(!(x.length<2)){var b=x[x.length-1],m=this.currentItem;m!==b||b.textContent.trim().length||(m.parentElement.removeChild(m),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),y.preventDefault(),y.stopPropagation())}}},{key:"backspace",value:function(y){var x=this._elements.wrapper.querySelectorAll("."+this.CSS.item),b=x[0];b&&x.length<2&&!b.innerHTML.replace("<br>"," ").trim()&&y.preventDefault()}},{key:"selectItem",value:function(y){y.preventDefault();var x=window.getSelection(),b=x.anchorNode.parentNode.closest("."+this.CSS.item),m=new Range;m.selectNodeContents(b),x.removeAllRanges(),x.addRange(m)}},{key:"pasteHandler",value:function(y){var x,b=y.tagName;switch(b){case"OL":x="ordered";break;case"UL":case"LI":x="unordered"}var m={style:x,items:[]};if(b==="LI")m.items=[y.innerHTML];else{var p=Array.from(y.querySelectorAll("LI"));m.items=p.map(function(w){return w.innerHTML}).filter(function(w){return!!w.trim()})}return m}},{key:"CSS",get:function(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}},{key:"data",set:function(y){y||(y={}),this._data.style=y.style||this.settings.find(function(b){return b.default===!0}).name,this._data.items=y.items||[];var x=this._elements.wrapper;x&&x.parentNode.replaceChild(this.render(),x)},get:function(){this._data.items=[];for(var y=this._elements.wrapper.querySelectorAll(".".concat(this.CSS.item)),x=0;x<y.length;x++)y[x].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(y[x].innerHTML);return this._data}},{key:"currentItem",get:function(){var y=window.getSelection().anchorNode;return y.nodeType!==Node.ELEMENT_NODE&&(y=y.parentNode),y.closest(".".concat(this.CSS.item))}}],[{key:"conversionConfig",get:function(){return{export:function(y){return y.items.join(". ")},import:function(y){return{items:[y],style:"unordered"}}}}},{key:"sanitize",get:function(){return{style:{},items:{br:!0}}}},{key:"pasteConfig",get:function(){return{tags:["OL","UL","LI"]}}}]),g}()}]).default})})(oS);var I3=oS.exports;const j3=Yr(I3);var sS={exports:{}};/*!
 * Image tool
 * 
 * @version 2.8.1
 * 
 * @package https://github.com/editor-js/image
 * @licence MIT
 * @author CodeX <https://codex.so>
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="/",o(o.s=9)}([function(n,r){function o(s,i){for(var a=0;a<i.length;a++){var l=i[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,l.key,l)}}n.exports=function(s,i,a){return i&&o(s.prototype,i),a&&o(s,a),s}},function(n,r,o){n.exports=function(s){var i={};function a(l){if(i[l])return i[l].exports;var c=i[l]={i:l,l:!1,exports:{}};return s[l].call(c.exports,c,c.exports,a),c.l=!0,c.exports}return a.m=s,a.c=i,a.d=function(l,c,u){a.o(l,c)||Object.defineProperty(l,c,{enumerable:!0,get:u})},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,c){if(1&c&&(l=a(l)),8&c||4&c&&typeof l=="object"&&l&&l.__esModule)return l;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:l}),2&c&&typeof l!="string")for(var d in l)a.d(u,d,(function(h){return l[h]}).bind(null,d));return u},a.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(c,"a",c),c},a.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},a.p="",a(a.s=3)}([function(s,i){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}s.exports=a},function(s,i,a){(function(l){var c=a(2),u=setTimeout;function d(){}function h(p){if(!(this instanceof h))throw new TypeError("Promises must be constructed via new");if(typeof p!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(p,this)}function v(p,w){for(;p._state===3;)p=p._value;p._state!==0?(p._handled=!0,h._immediateFn(function(){var E=p._state===1?w.onFulfilled:w.onRejected;if(E!==null){var N;try{N=E(p._value)}catch(P){return void y(w.promise,P)}g(w.promise,N)}else(p._state===1?g:y)(w.promise,p._value)})):p._deferreds.push(w)}function g(p,w){try{if(w===p)throw new TypeError("A promise cannot be resolved with itself.");if(w&&(typeof w=="object"||typeof w=="function")){var E=w.then;if(w instanceof h)return p._state=3,p._value=w,void x(p);if(typeof E=="function")return void m((N=E,P=w,function(){N.apply(P,arguments)}),p)}p._state=1,p._value=w,x(p)}catch(k){y(p,k)}var N,P}function y(p,w){p._state=2,p._value=w,x(p)}function x(p){p._state===2&&p._deferreds.length===0&&h._immediateFn(function(){p._handled||h._unhandledRejectionFn(p._value)});for(var w=0,E=p._deferreds.length;w<E;w++)v(p,p._deferreds[w]);p._deferreds=null}function b(p,w,E){this.onFulfilled=typeof p=="function"?p:null,this.onRejected=typeof w=="function"?w:null,this.promise=E}function m(p,w){var E=!1;try{p(function(N){E||(E=!0,g(w,N))},function(N){E||(E=!0,y(w,N))})}catch(N){if(E)return;E=!0,y(w,N)}}h.prototype.catch=function(p){return this.then(null,p)},h.prototype.then=function(p,w){var E=new this.constructor(d);return v(this,new b(p,w,E)),E},h.prototype.finally=c.a,h.all=function(p){return new h(function(w,E){if(!p||p.length===void 0)throw new TypeError("Promise.all accepts an array");var N=Array.prototype.slice.call(p);if(N.length===0)return w([]);var P=N.length;function k(_,T){try{if(T&&(typeof T=="object"||typeof T=="function")){var I=T.then;if(typeof I=="function")return void I.call(T,function(j){k(_,j)},E)}N[_]=T,--P==0&&w(N)}catch(j){E(j)}}for(var S=0;S<N.length;S++)k(S,N[S])})},h.resolve=function(p){return p&&typeof p=="object"&&p.constructor===h?p:new h(function(w){w(p)})},h.reject=function(p){return new h(function(w,E){E(p)})},h.race=function(p){return new h(function(w,E){for(var N=0,P=p.length;N<P;N++)p[N].then(w,E)})},h._immediateFn=typeof l=="function"&&function(p){l(p)}||function(p){u(p,0)},h._unhandledRejectionFn=function(p){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",p)},i.a=h}).call(this,a(5).setImmediate)},function(s,i,a){i.a=function(l){var c=this.constructor;return this.then(function(u){return c.resolve(l()).then(function(){return u})},function(u){return c.resolve(l()).then(function(){return c.reject(u)})})}},function(s,i,a){function l(m){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}a(4);var c,u,d,h,v,g,y,x=a(8),b=(u=function(m){return new Promise(function(p,w){m=h(m),(m=v(m)).beforeSend&&m.beforeSend();var E=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");E.open(m.method,m.url),E.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(m.headers).forEach(function(P){var k=m.headers[P];E.setRequestHeader(P,k)});var N=m.ratio;E.upload.addEventListener("progress",function(P){var k=Math.round(P.loaded/P.total*100),S=Math.ceil(k*N/100);m.progress(Math.min(S,100))},!1),E.addEventListener("progress",function(P){var k=Math.round(P.loaded/P.total*100),S=Math.ceil(k*(100-N)/100)+N;m.progress(Math.min(S,100))},!1),E.onreadystatechange=function(){if(E.readyState===4){var P=E.response;try{P=JSON.parse(P)}catch{}var k=x.parseHeaders(E.getAllResponseHeaders()),S={body:P,code:E.status,headers:k};y(E.status)?p(S):w(S)}},E.send(m.data)})},d=function(m){return m.method="POST",u(m)},h=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(m.url&&typeof m.url!="string")throw new Error("Url must be a string");if(m.url=m.url||"",m.method&&typeof m.method!="string")throw new Error("`method` must be a string or null");if(m.method=m.method?m.method.toUpperCase():"GET",m.headers&&l(m.headers)!=="object")throw new Error("`headers` must be an object or null");if(m.headers=m.headers||{},m.type&&(typeof m.type!="string"||!Object.values(c).includes(m.type)))throw new Error("`type` must be taken from module's contentType library");if(m.progress&&typeof m.progress!="function")throw new Error("`progress` must be a function or null");if(m.progress=m.progress||function(p){},m.beforeSend=m.beforeSend||function(p){},m.ratio&&typeof m.ratio!="number")throw new Error("`ratio` must be a number");if(m.ratio<0||m.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(m.ratio=m.ratio||90,m.accept&&typeof m.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(m.accept=m.accept||"*/*",m.multiple&&typeof m.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(m.multiple=m.multiple||!1,m.fieldName&&typeof m.fieldName!="string")throw new Error("`fieldName` must be a string");return m.fieldName=m.fieldName||"files",m},v=function(m){switch(m.method){case"GET":var p=g(m.data,c.URLENCODED);delete m.data,m.url=/\?/.test(m.url)?m.url+"&"+p:m.url+"?"+p;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var w=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||c.JSON}(m);(x.isFormData(m.data)||x.isFormElement(m.data))&&(w=c.FORM),m.data=g(m.data,w),w!==b.contentType.FORM&&(m.headers["content-type"]=w)}return m},g=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case c.URLENCODED:return x.urlEncode(m);case c.JSON:return x.jsonEncode(m);case c.FORM:return x.formEncode(m);default:return m}},y=function(m){return m>=200&&m<300},{contentType:c={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:u,get:function(m){return m.method="GET",u(m)},post:d,transport:function(m){return m=h(m),x.selectFiles(m).then(function(p){for(var w=new FormData,E=0;E<p.length;E++)w.append(m.fieldName,p[E],p[E].name);x.isObject(m.data)&&Object.keys(m.data).forEach(function(P){var k=m.data[P];w.append(P,k)});var N=m.beforeSend;return m.beforeSend=function(){return N(p)},m.data=w,d(m)})},selectFiles:function(m){return delete(m=h(m)).beforeSend,x.selectFiles(m)}});s.exports=b},function(s,i,a){a.r(i);var l=a(1);window.Promise=window.Promise||l.a},function(s,i,a){(function(l){var c=l!==void 0&&l||typeof self<"u"&&self||window,u=Function.prototype.apply;function d(h,v){this._id=h,this._clearFn=v}i.setTimeout=function(){return new d(u.call(setTimeout,c,arguments),clearTimeout)},i.setInterval=function(){return new d(u.call(setInterval,c,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(h){h&&h.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(c,this._id)},i.enroll=function(h,v){clearTimeout(h._idleTimeoutId),h._idleTimeout=v},i.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},i._unrefActive=i.active=function(h){clearTimeout(h._idleTimeoutId);var v=h._idleTimeout;v>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},v))},a(6),i.setImmediate=typeof self<"u"&&self.setImmediate||l!==void 0&&l.setImmediate||this&&this.setImmediate,i.clearImmediate=typeof self<"u"&&self.clearImmediate||l!==void 0&&l.clearImmediate||this&&this.clearImmediate}).call(this,a(0))},function(s,i,a){(function(l,c){(function(u,d){if(!u.setImmediate){var h,v,g,y,x,b=1,m={},p=!1,w=u.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(u);E=E&&E.setTimeout?E:u,{}.toString.call(u.process)==="[object process]"?h=function(k){c.nextTick(function(){P(k)})}:function(){if(u.postMessage&&!u.importScripts){var k=!0,S=u.onmessage;return u.onmessage=function(){k=!1},u.postMessage("","*"),u.onmessage=S,k}}()?(y="setImmediate$"+Math.random()+"$",x=function(k){k.source===u&&typeof k.data=="string"&&k.data.indexOf(y)===0&&P(+k.data.slice(y.length))},u.addEventListener?u.addEventListener("message",x,!1):u.attachEvent("onmessage",x),h=function(k){u.postMessage(y+k,"*")}):u.MessageChannel?((g=new MessageChannel).port1.onmessage=function(k){P(k.data)},h=function(k){g.port2.postMessage(k)}):w&&"onreadystatechange"in w.createElement("script")?(v=w.documentElement,h=function(k){var S=w.createElement("script");S.onreadystatechange=function(){P(k),S.onreadystatechange=null,v.removeChild(S),S=null},v.appendChild(S)}):h=function(k){setTimeout(P,0,k)},E.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var S=new Array(arguments.length-1),_=0;_<S.length;_++)S[_]=arguments[_+1];var T={callback:k,args:S};return m[b]=T,h(b),b++},E.clearImmediate=N}function N(k){delete m[k]}function P(k){if(p)setTimeout(P,0,k);else{var S=m[k];if(S){p=!0;try{(function(_){var T=_.callback,I=_.args;switch(I.length){case 0:T();break;case 1:T(I[0]);break;case 2:T(I[0],I[1]);break;case 3:T(I[0],I[1],I[2]);break;default:T.apply(void 0,I)}})(S)}finally{N(k),p=!1}}}}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,a(0),a(7))},function(s,i){var a,l,c=s.exports={};function u(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function h(E){if(a===setTimeout)return setTimeout(E,0);if((a===u||!a)&&setTimeout)return a=setTimeout,setTimeout(E,0);try{return a(E,0)}catch{try{return a.call(null,E,0)}catch{return a.call(this,E,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:u}catch{a=u}try{l=typeof clearTimeout=="function"?clearTimeout:d}catch{l=d}})();var v,g=[],y=!1,x=-1;function b(){y&&v&&(y=!1,v.length?g=v.concat(g):x=-1,g.length&&m())}function m(){if(!y){var E=h(b);y=!0;for(var N=g.length;N;){for(v=g,g=[];++x<N;)v&&v[x].run();x=-1,N=g.length}v=null,y=!1,function(P){if(l===clearTimeout)return clearTimeout(P);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(P);try{l(P)}catch{try{return l.call(null,P)}catch{return l.call(this,P)}}}(E)}}function p(E,N){this.fun=E,this.array=N}function w(){}c.nextTick=function(E){var N=new Array(arguments.length-1);if(arguments.length>1)for(var P=1;P<arguments.length;P++)N[P-1]=arguments[P];g.push(new p(E,N)),g.length!==1||y||h(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=w,c.addListener=w,c.once=w,c.off=w,c.removeListener=w,c.removeAllListeners=w,c.emit=w,c.prependListener=w,c.prependOnceListener=w,c.listeners=function(E){return[]},c.binding=function(E){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(E){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(s,i,a){function l(u,d){for(var h=0;h<d.length;h++){var v=d[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(u,v.key,v)}}var c=a(9);s.exports=function(){function u(){(function(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")})(this,u)}var d,h;return d=u,(h=[{key:"urlEncode",value:function(v){return c(v)}},{key:"jsonEncode",value:function(v){return JSON.stringify(v)}},{key:"formEncode",value:function(v){if(this.isFormData(v))return v;if(this.isFormElement(v))return new FormData(v);if(this.isObject(v)){var g=new FormData;return Object.keys(v).forEach(function(y){var x=v[y];g.append(y,x)}),g}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(v){return Object.prototype.toString.call(v)==="[object Object]"}},{key:"isFormData",value:function(v){return v instanceof FormData}},{key:"isFormElement",value:function(v){return v instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(g,y){var x=document.createElement("INPUT");x.type="file",v.multiple&&x.setAttribute("multiple","multiple"),v.accept&&x.setAttribute("accept",v.accept),x.style.display="none",document.body.appendChild(x),x.addEventListener("change",function(b){var m=b.target.files;g(m),document.body.removeChild(x)},!1),x.click()})}},{key:"parseHeaders",value:function(v){var g=v.trim().split(/[\r\n]+/),y={};return g.forEach(function(x){var b=x.split(": "),m=b.shift(),p=b.join(": ");m&&(y[m]=p)}),y}}])&&l(d,h),u}()},function(s,i){var a=function(c){return encodeURIComponent(c).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},l=function(c,u,d,h){return u=u||null,d=d||"&",h=h||null,c?function(v){for(var g=new Array,y=0;y<v.length;y++)v[y]&&g.push(v[y]);return g}(Object.keys(c).map(function(v){var g,y,x=v;if(h&&(x=h+"["+x+"]"),typeof c[v]=="object"&&c[v]!==null)g=l(c[v],null,d,x);else{u&&(y=x,x=!isNaN(parseFloat(y))&&isFinite(y)?u+Number(x):x);var b=c[v];b=(b=(b=(b=b===!0?"1":b)===!1?"0":b)===0?"0":b)||"",g=a(x)+"="+a(b)}return g})).join(d).replace(/[!'()*]/g,""):""};s.exports=l}])},function(n,r){n.exports=function(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}},function(n,r,o){n.exports=o(10)},function(n,r){n.exports=function(o,s){(s==null||s>o.length)&&(s=o.length);for(var i=0,a=new Array(s);i<s;i++)a[i]=o[i];return a}},function(n,r,o){var s=o(4);n.exports=function(i,a){if(i){if(typeof i=="string")return s(i,a);var l=Object.prototype.toString.call(i).slice(8,-1);return l==="Object"&&i.constructor&&(l=i.constructor.name),l==="Map"||l==="Set"?Array.from(l):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?s(i,a):void 0}}},function(n,r){function o(s,i,a,l,c,u,d){try{var h=s[u](d),v=h.value}catch(g){return void a(g)}h.done?i(v):Promise.resolve(v).then(l,c)}n.exports=function(s){return function(){var i=this,a=arguments;return new Promise(function(l,c){var u=s.apply(i,a);function d(v){o(u,l,c,d,h,"next",v)}function h(v){o(u,l,c,d,h,"throw",v)}d(void 0)})}}},function(n,r,o){var s=o(15),i=o(16),a=o(5),l=o(17);n.exports=function(c){return s(c)||i(c)||a(c)||l()}},function(n,r,o){var s=o(18),i=o(19),a=o(5),l=o(20);n.exports=function(c,u){return s(c)||i(c,u)||a(c,u)||l()}},function(n,r,o){n.exports=o(21)},function(n,r,o){var s=function(i){var a=Object.prototype,l=a.hasOwnProperty,c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",h=c.toStringTag||"@@toStringTag";function v(L,A,D,O){var M=A&&A.prototype instanceof x?A:x,R=Object.create(M.prototype),z=new I(O||[]);return R._invoke=function(V,te,Y){var pe="suspendedStart";return function(me,Pe){if(pe==="executing")throw new Error("Generator is already running");if(pe==="completed"){if(me==="throw")throw Pe;return B()}for(Y.method=me,Y.arg=Pe;;){var Tt=Y.delegate;if(Tt){var rt=S(Tt,Y);if(rt){if(rt===y)continue;return rt}}if(Y.method==="next")Y.sent=Y._sent=Y.arg;else if(Y.method==="throw"){if(pe==="suspendedStart")throw pe="completed",Y.arg;Y.dispatchException(Y.arg)}else Y.method==="return"&&Y.abrupt("return",Y.arg);pe="executing";var Le=g(V,te,Y);if(Le.type==="normal"){if(pe=Y.done?"completed":"suspendedYield",Le.arg===y)continue;return{value:Le.arg,done:Y.done}}Le.type==="throw"&&(pe="completed",Y.method="throw",Y.arg=Le.arg)}}}(L,D,z),R}function g(L,A,D){try{return{type:"normal",arg:L.call(A,D)}}catch(O){return{type:"throw",arg:O}}}i.wrap=v;var y={};function x(){}function b(){}function m(){}var p={};p[u]=function(){return this};var w=Object.getPrototypeOf,E=w&&w(w(j([])));E&&E!==a&&l.call(E,u)&&(p=E);var N=m.prototype=x.prototype=Object.create(p);function P(L){["next","throw","return"].forEach(function(A){L[A]=function(D){return this._invoke(A,D)}})}function k(L,A){var D;this._invoke=function(O,M){function R(){return new A(function(z,V){(function te(Y,pe,me,Pe){var Tt=g(L[Y],L,pe);if(Tt.type!=="throw"){var rt=Tt.arg,Le=rt.value;return Le&&typeof Le=="object"&&l.call(Le,"__await")?A.resolve(Le.__await).then(function(Fe){te("next",Fe,me,Pe)},function(Fe){te("throw",Fe,me,Pe)}):A.resolve(Le).then(function(Fe){rt.value=Fe,me(rt)},function(Fe){return te("throw",Fe,me,Pe)})}Pe(Tt.arg)})(O,M,z,V)})}return D=D?D.then(R,R):R()}}function S(L,A){var D=L.iterator[A.method];if(D===void 0){if(A.delegate=null,A.method==="throw"){if(L.iterator.return&&(A.method="return",A.arg=void 0,S(L,A),A.method==="throw"))return y;A.method="throw",A.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var O=g(D,L.iterator,A.arg);if(O.type==="throw")return A.method="throw",A.arg=O.arg,A.delegate=null,y;var M=O.arg;return M?M.done?(A[L.resultName]=M.value,A.next=L.nextLoc,A.method!=="return"&&(A.method="next",A.arg=void 0),A.delegate=null,y):M:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,y)}function _(L){var A={tryLoc:L[0]};1 in L&&(A.catchLoc=L[1]),2 in L&&(A.finallyLoc=L[2],A.afterLoc=L[3]),this.tryEntries.push(A)}function T(L){var A=L.completion||{};A.type="normal",delete A.arg,L.completion=A}function I(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(_,this),this.reset(!0)}function j(L){if(L){var A=L[u];if(A)return A.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var D=-1,O=function M(){for(;++D<L.length;)if(l.call(L,D))return M.value=L[D],M.done=!1,M;return M.value=void 0,M.done=!0,M};return O.next=O}}return{next:B}}function B(){return{value:void 0,done:!0}}return b.prototype=N.constructor=m,m.constructor=b,m[h]=b.displayName="GeneratorFunction",i.isGeneratorFunction=function(L){var A=typeof L=="function"&&L.constructor;return!!A&&(A===b||(A.displayName||A.name)==="GeneratorFunction")},i.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,m):(L.__proto__=m,h in L||(L[h]="GeneratorFunction")),L.prototype=Object.create(N),L},i.awrap=function(L){return{__await:L}},P(k.prototype),k.prototype[d]=function(){return this},i.AsyncIterator=k,i.async=function(L,A,D,O,M){M===void 0&&(M=Promise);var R=new k(v(L,A,D,O),M);return i.isGeneratorFunction(A)?R:R.next().then(function(z){return z.done?z.value:R.next()})},P(N),N[h]="Generator",N[u]=function(){return this},N.toString=function(){return"[object Generator]"},i.keys=function(L){var A=[];for(var D in L)A.push(D);return A.reverse(),function O(){for(;A.length;){var M=A.pop();if(M in L)return O.value=M,O.done=!1,O}return O.done=!0,O}},i.values=j,I.prototype={constructor:I,reset:function(L){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!L)for(var A in this)A.charAt(0)==="t"&&l.call(this,A)&&!isNaN(+A.slice(1))&&(this[A]=void 0)},stop:function(){this.done=!0;var L=this.tryEntries[0].completion;if(L.type==="throw")throw L.arg;return this.rval},dispatchException:function(L){if(this.done)throw L;var A=this;function D(te,Y){return R.type="throw",R.arg=L,A.next=te,Y&&(A.method="next",A.arg=void 0),!!Y}for(var O=this.tryEntries.length-1;O>=0;--O){var M=this.tryEntries[O],R=M.completion;if(M.tryLoc==="root")return D("end");if(M.tryLoc<=this.prev){var z=l.call(M,"catchLoc"),V=l.call(M,"finallyLoc");if(z&&V){if(this.prev<M.catchLoc)return D(M.catchLoc,!0);if(this.prev<M.finallyLoc)return D(M.finallyLoc)}else if(z){if(this.prev<M.catchLoc)return D(M.catchLoc,!0)}else{if(!V)throw new Error("try statement without catch or finally");if(this.prev<M.finallyLoc)return D(M.finallyLoc)}}}},abrupt:function(L,A){for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D];if(O.tryLoc<=this.prev&&l.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var M=O;break}}M&&(L==="break"||L==="continue")&&M.tryLoc<=A&&A<=M.finallyLoc&&(M=null);var R=M?M.completion:{};return R.type=L,R.arg=A,M?(this.method="next",this.next=M.finallyLoc,y):this.complete(R)},complete:function(L,A){if(L.type==="throw")throw L.arg;return L.type==="break"||L.type==="continue"?this.next=L.arg:L.type==="return"?(this.rval=this.arg=L.arg,this.method="return",this.next="end"):L.type==="normal"&&A&&(this.next=A),y},finish:function(L){for(var A=this.tryEntries.length-1;A>=0;--A){var D=this.tryEntries[A];if(D.finallyLoc===L)return this.complete(D.completion,D.afterLoc),T(D),y}},catch:function(L){for(var A=this.tryEntries.length-1;A>=0;--A){var D=this.tryEntries[A];if(D.tryLoc===L){var O=D.completion;if(O.type==="throw"){var M=O.arg;T(D)}return M}}throw new Error("illegal catch attempt")},delegateYield:function(L,A,D){return this.delegate={iterator:j(L),resultName:A,nextLoc:D},this.method==="next"&&(this.arg=void 0),y}},i}(n.exports);try{regeneratorRuntime=s}catch{Function("r","regeneratorRuntime = r")(s)}},function(n,r,o){var s=o(12),i=o(13);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[n.i,i,""]]);var a={insert:"head",singleton:!1},l=(s(i,a),i.locals?i.locals:{});n.exports=l},function(n,r,o){var s,i=function(){return s===void 0&&(s=!!(window&&document&&document.all&&!window.atob)),s},a=function(){var p={};return function(w){if(p[w]===void 0){var E=document.querySelector(w);if(window.HTMLIFrameElement&&E instanceof window.HTMLIFrameElement)try{E=E.contentDocument.head}catch{E=null}p[w]=E}return p[w]}}(),l=[];function c(p){for(var w=-1,E=0;E<l.length;E++)if(l[E].identifier===p){w=E;break}return w}function u(p,w){for(var E={},N=[],P=0;P<p.length;P++){var k=p[P],S=w.base?k[0]+w.base:k[0],_=E[S]||0,T="".concat(S," ").concat(_);E[S]=_+1;var I=c(T),j={css:k[1],media:k[2],sourceMap:k[3]};I!==-1?(l[I].references++,l[I].updater(j)):l.push({identifier:T,updater:m(j,w),references:1}),N.push(T)}return N}function d(p){var w=document.createElement("style"),E=p.attributes||{};if(E.nonce===void 0){var N=o.nc;N&&(E.nonce=N)}if(Object.keys(E).forEach(function(k){w.setAttribute(k,E[k])}),typeof p.insert=="function")p.insert(w);else{var P=a(p.insert||"head");if(!P)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");P.appendChild(w)}return w}var h,v=(h=[],function(p,w){return h[p]=w,h.filter(Boolean).join(`
`)});function g(p,w,E,N){var P=E?"":N.media?"@media ".concat(N.media," {").concat(N.css,"}"):N.css;if(p.styleSheet)p.styleSheet.cssText=v(w,P);else{var k=document.createTextNode(P),S=p.childNodes;S[w]&&p.removeChild(S[w]),S.length?p.insertBefore(k,S[w]):p.appendChild(k)}}function y(p,w,E){var N=E.css,P=E.media,k=E.sourceMap;if(P?p.setAttribute("media",P):p.removeAttribute("media"),k&&btoa&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(k))))," */")),p.styleSheet)p.styleSheet.cssText=N;else{for(;p.firstChild;)p.removeChild(p.firstChild);p.appendChild(document.createTextNode(N))}}var x=null,b=0;function m(p,w){var E,N,P;if(w.singleton){var k=b++;E=x||(x=d(w)),N=g.bind(null,E,k,!1),P=g.bind(null,E,k,!0)}else E=d(w),N=y.bind(null,E,w),P=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(E)};return N(p),function(S){if(S){if(S.css===p.css&&S.media===p.media&&S.sourceMap===p.sourceMap)return;N(p=S)}else P()}}n.exports=function(p,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=i());var E=u(p=p||[],w);return function(N){if(N=N||[],Object.prototype.toString.call(N)==="[object Array]"){for(var P=0;P<E.length;P++){var k=c(E[P]);l[k].references--}for(var S=u(N,w),_=0;_<E.length;_++){var T=c(E[_]);l[T].references===0&&(l[T].updater(),l.splice(T,1))}E=S}}}},function(n,r,o){(r=o(14)(!1)).push([n.i,`.image-tool {
  --bg-color: #cdd1e0;
  --front-color: #388ae5;
  --border-color: #e8e8eb;

}

  .image-tool__image {
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 10px;
  }

  .image-tool__image-picture {
      max-width: 100%;
      vertical-align: bottom;
      display: block;
    }

  .image-tool__image-preloader {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-size: cover;
      margin: auto;
      position: relative;
      background-color: var(--bg-color);
      background-position: center center;
    }

  .image-tool__image-preloader::after {
        content: "";
        position: absolute;
        z-index: 3;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        border: 2px solid var(--bg-color);
        border-top-color: var(--front-color);
        left: 50%;
        top: 50%;
        margin-top: -30px;
        margin-left: -30px;
        animation: image-preloader-spin 2s infinite linear;
        box-sizing: border-box;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]::before {
      position: absolute !important;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      display: none;
    }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {
        display: block;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {
        display: none;
      }

  .image-tool--empty .image-tool__image {
      display: none;
    }

  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {
      display: none;
    }

  .image-tool .cdx-button {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .image-tool .cdx-button svg {
      height: auto;
      margin: 0 6px 0 0;
    }

  .image-tool--filled .cdx-button {
      display: none;
    }

  .image-tool--filled .image-tool__image-preloader {
        display: none;
      }

  .image-tool--loading .image-tool__image {
      min-height: 200px;
      display: flex;
      border: 1px solid var(--border-color);
      background-color: #fff;
    }

  .image-tool--loading .image-tool__image-picture {
        display: none;
      }

  .image-tool--loading .cdx-button {
      display: none;
    }

  /**
   * Tunes
   * ----------------
   */

  .image-tool--withBorder .image-tool__image {
      border: 1px solid var(--border-color);
    }

  .image-tool--withBackground .image-tool__image {
      padding: 15px;
      background: var(--bg-color);
    }

  .image-tool--withBackground .image-tool__image-picture {
        max-width: 60%;
        margin: 0 auto;
      }

  .image-tool--stretched .image-tool__image-picture {
        width: 100%;
      }

@keyframes image-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),n.exports=r},function(n,r,o){n.exports=function(s){var i=[];return i.toString=function(){return this.map(function(a){var l=function(c,u){var d=c[1]||"",h=c[3];if(!h)return d;if(u&&typeof btoa=="function"){var v=(y=h,x=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),b="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(x),"/*# ".concat(b," */")),g=h.sources.map(function(m){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(m," */")});return[d].concat(g).concat([v]).join(`
`)}var y,x,b;return[d].join(`
`)}(a,s);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},i.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var d=0;d<this.length;d++){var h=this[d][0];h!=null&&(u[h]=!0)}for(var v=0;v<a.length;v++){var g=[].concat(a[v]);c&&u[g[0]]||(l&&(g[2]?g[2]="".concat(l," and ").concat(g[2]):g[2]=l),i.push(g))}},i}},function(n,r,o){var s=o(4);n.exports=function(i){if(Array.isArray(i))return s(i)}},function(n,r){n.exports=function(o){if(typeof Symbol<"u"&&Symbol.iterator in Object(o))return Array.from(o)}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r){n.exports=function(o){if(Array.isArray(o))return o}},function(n,r){n.exports=function(o,s){if(typeof Symbol<"u"&&Symbol.iterator in Object(o)){var i=[],a=!0,l=!1,c=void 0;try{for(var u,d=o[Symbol.iterator]();!(a=(u=d.next()).done)&&(i.push(u.value),!s||i.length!==s);a=!0);}catch(h){l=!0,c=h}finally{try{a||d.return==null||d.return()}finally{if(l)throw c}}return i}}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r,o){o.r(r),o.d(r,"default",function(){return k});var s=o(3),i=o.n(s),a=o(6),l=o.n(a),c=o(2),u=o.n(c),d=o(0),h=o.n(d);o(11);const v='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>';var g=o(7),y=o.n(g);function x(S){var _,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=document.createElement(S);Array.isArray(T)?(_=j.classList).add.apply(_,y()(T)):T&&j.classList.add(T);for(var B in I)j[B]=I[B];return j}var b=function(){function S(_){var T=_.api,I=_.config,j=_.onSelectFile,B=_.readOnly;u()(this,S),this.api=T,this.config=I,this.onSelectFile=j,this.readOnly=B,this.nodes={wrapper:x("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:x("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:x("div",this.CSS.imagePreloader),caption:x("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}return h()(S,[{key:"render",value:function(_){return _.file&&Object.keys(_.file).length!==0?this.toggleStatus(S.status.UPLOADING):this.toggleStatus(S.status.EMPTY),this.nodes.wrapper}},{key:"createFileButton",value:function(){var _=this,T=x("div",[this.CSS.button]);return T.innerHTML=this.config.buttonContent||"".concat(v," ").concat(this.api.i18n.t("Select an Image")),T.addEventListener("click",function(){_.onSelectFile()}),T}},{key:"showPreloader",value:function(_){this.nodes.imagePreloader.style.backgroundImage="url(".concat(_,")"),this.toggleStatus(S.status.UPLOADING)}},{key:"hidePreloader",value:function(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(S.status.EMPTY)}},{key:"fillImage",value:function(_){var T=this,I=/\.mp4$/.test(_)?"VIDEO":"IMG",j={src:_},B="load";I==="VIDEO"&&(j.autoplay=!0,j.loop=!0,j.muted=!0,j.playsinline=!0,B="loadeddata"),this.nodes.imageEl=x(I,this.CSS.imageEl,j),this.nodes.imageEl.addEventListener(B,function(){T.toggleStatus(S.status.FILLED),T.nodes.imagePreloader&&(T.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}},{key:"fillCaption",value:function(_){this.nodes.caption&&(this.nodes.caption.innerHTML=_)}},{key:"toggleStatus",value:function(_){for(var T in S.status)Object.prototype.hasOwnProperty.call(S.status,T)&&this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(S.status[T]),_===S.status[T])}},{key:"applyTune",value:function(_,T){this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(_),T)}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}}],[{key:"status",get:function(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}}]),S}(),m=o(8),p=o.n(m),w=o(1),E=o.n(w);function N(S){return S&&typeof S.then=="function"}var P=function(){function S(_){var T=_.config,I=_.onUpload,j=_.onError;u()(this,S),this.config=T,this.onUpload=I,this.onError=j}return h()(S,[{key:"uploadSelectedFile",value:function(_){var T=this,I=_.onPreview,j=function(B){var L=new FileReader;L.readAsDataURL(B),L.onload=function(A){I(A.target.result)}};(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?E.a.selectFiles({accept:this.config.types}).then(function(B){j(B[0]);var L=T.config.uploader.uploadByFile(B[0]);return N(L)||console.warn("Custom uploader method uploadByFile should return a Promise"),L}):E.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(B){j(B[0])},fieldName:this.config.field}).then(function(B){return B.body})).then(function(B){T.onUpload(B)}).catch(function(B){T.onError(B)})}},{key:"uploadByUrl",value:function(_){var T,I=this;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?N(T=this.config.uploader.uploadByUrl(_))||console.warn("Custom uploader method uploadByUrl should return a Promise"):T=E.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:_},this.config.additionalRequestData),type:E.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(j){return j.body}),T.then(function(j){I.onUpload(j)}).catch(function(j){I.onError(j)})}},{key:"uploadByFile",value:function(_,T){var I,j=this,B=T.onPreview,L=new FileReader;if(L.readAsDataURL(_),L.onload=function(D){B(D.target.result)},this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")N(I=this.config.uploader.uploadByFile(_))||console.warn("Custom uploader method uploadByFile should return a Promise");else{var A=new FormData;A.append(this.config.field,_),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(function(D){var O=p()(D,2),M=O[0],R=O[1];A.append(M,R)}),I=E.a.post({url:this.config.endpoints.byFile,data:A,type:E.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(D){return D.body})}I.then(function(D){j.onUpload(D)}).catch(function(D){j.onError(D)})}}]),S}(),k=function(){function S(T){var I=this,j=T.data,B=T.config,L=T.api,A=T.readOnly;u()(this,S),this.api=L,this.readOnly=A,this.config={endpoints:B.endpoints||"",additionalRequestData:B.additionalRequestData||{},additionalRequestHeaders:B.additionalRequestHeaders||{},field:B.field||"image",types:B.types||"image/*",captionPlaceholder:this.api.i18n.t(B.captionPlaceholder||"Caption"),buttonContent:B.buttonContent||"",uploader:B.uploader||void 0,actions:B.actions||[]},this.uploader=new P({config:this.config,onUpload:function(D){return I.onUpload(D)},onError:function(D){return I.uploadingFailed(D)}}),this.ui=new b({api:L,config:this.config,onSelectFile:function(){I.uploader.uploadSelectedFile({onPreview:function(D){I.ui.showPreloader(D)}})},readOnly:A}),this._data={},this.data=j}var _;return h()(S,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:v,title:"Image"}}},{key:"tunes",get:function(){return[{name:"withBorder",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',title:"With border",toggle:!0},{name:"stretched",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',title:"Stretch image",toggle:!0},{name:"withBackground",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',title:"With background",toggle:!0}]}}]),h()(S,[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"validate",value:function(T){return T.file&&T.file.url}},{key:"save",value:function(){var T=this.ui.nodes.caption;return this._data.caption=T.innerHTML,this.data}},{key:"renderSettings",value:function(){var T=this;return S.tunes.concat(this.config.actions).map(function(I){return{icon:I.icon,label:T.api.i18n.t(I.title),name:I.name,toggle:I.toggle,isActive:T.data[I.name],onActivate:function(){typeof I.action!="function"?T.tuneToggled(I.name):I.action(I.name)}}})}},{key:"appendCallback",value:function(){this.ui.nodes.fileButton.click()}},{key:"onPaste",value:(_=l()(i.a.mark(function T(I){var j,B,L,A,D;return i.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:O.t0=I.type,O.next=O.t0==="tag"?3:O.t0==="pattern"?15:O.t0==="file"?18:21;break;case 3:if(j=I.detail.data,!/^blob:/.test(j.src)){O.next=13;break}return O.next=7,fetch(j.src);case 7:return B=O.sent,O.next=10,B.blob();case 10:return L=O.sent,this.uploadFile(L),O.abrupt("break",21);case 13:return this.uploadUrl(j.src),O.abrupt("break",21);case 15:return A=I.detail.data,this.uploadUrl(A),O.abrupt("break",21);case 18:return D=I.detail.file,this.uploadFile(D),O.abrupt("break",21);case 21:case"end":return O.stop()}},T,this)})),function(T){return _.apply(this,arguments)})},{key:"onUpload",value:function(T){T.success&&T.file?this.image=T.file:this.uploadingFailed("incorrect response: "+JSON.stringify(T))}},{key:"uploadingFailed",value:function(T){console.log("Image Tool: uploading failed because of",T),this.api.notifier.show({message:this.api.i18n.t("Couldnt upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}},{key:"tuneToggled",value:function(T){this.setTune(T,!this._data[T])}},{key:"setTune",value:function(T,I){var j=this;this._data[T]=I,this.ui.applyTune(T,I),T==="stretched"&&Promise.resolve().then(function(){var B=j.api.blocks.getCurrentBlockIndex();j.api.blocks.stretchBlock(B,I)}).catch(function(B){console.error(B)})}},{key:"uploadFile",value:function(T){var I=this;this.uploader.uploadByFile(T,{onPreview:function(j){I.ui.showPreloader(j)}})}},{key:"uploadUrl",value:function(T){this.ui.showPreloader(T),this.uploader.uploadByUrl(T)}},{key:"data",set:function(T){var I=this;this.image=T.file,this._data.caption=T.caption||"",this.ui.fillCaption(this._data.caption),S.tunes.forEach(function(j){var B=j.name,L=T[B]!==void 0&&(T[B]===!0||T[B]==="true");I.setTune(B,L)})},get:function(){return this._data}},{key:"image",set:function(T){this._data.file=T||{},T&&T.url&&this.ui.fillImage(T.url)}}],[{key:"pasteConfig",get:function(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}}]),S}();/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js  main Tool's interface, public API and methods for working with data
 *  2) uploader.js  module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js  module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js  working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */}]).default})})(sS);var L3=sS.exports;const A3=Yr(L3);var iS={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="/",o(o.s=5)}([function(n,r,o){var s=o(1);typeof s=="string"&&(s=[[n.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};o(3)(s,i),s.locals&&(n.exports=s.locals)},function(n,r,o){(n.exports=o(2)(!1)).push([n.i,`/**
 * Plugin styles
 */
.ce-header {
  padding: 0.6em 0 3px;
  margin: 0;
  line-height: 1.25em;
  outline: none;
}

.ce-header p,
.ce-header div{
  padding: 0 !important;
  margin: 0 !important;
}

/**
 * Styles for Plugin icon in Toolbar
 */
.ce-header__icon {}

.ce-header[contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  display: none;
  cursor: text;
}

.ce-header[contentEditable=true][data-placeholder]:empty::before {
  display: block;
}

.ce-header[contentEditable=true][data-placeholder]:empty:focus::before {
  display: none;
}
`,""])},function(n,r){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(i){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(g=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),v=d.sources.map(function(y){return"/*# sourceURL="+d.sourceRoot+y+" */"});return[u].concat(v).concat([h]).join(`
`)}var g;return[u].join(`
`)}(i,o);return i[2]?"@media "+i[2]+"{"+a+"}":a}).join("")},s.i=function(i,a){typeof i=="string"&&(i=[[null,i,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<i.length;c++){var d=i[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),s.push(d))}},s}},function(n,r,o){var s,i,a={},l=(s=function(){return window&&document&&document.all&&!window.atob},function(){return i===void 0&&(i=s.apply(this,arguments)),i}),c=function(T){return document.querySelector(T)},u=function(T){var I={};return function(j){if(typeof j=="function")return j();if(I[j]===void 0){var B=c.call(this,j);if(window.HTMLIFrameElement&&B instanceof window.HTMLIFrameElement)try{B=B.contentDocument.head}catch{B=null}I[j]=B}return I[j]}}(),d=null,h=0,v=[],g=o(4);function y(T,I){for(var j=0;j<T.length;j++){var B=T[j],L=a[B.id];if(L){L.refs++;for(var A=0;A<L.parts.length;A++)L.parts[A](B.parts[A]);for(;A<B.parts.length;A++)L.parts.push(E(B.parts[A],I))}else{var D=[];for(A=0;A<B.parts.length;A++)D.push(E(B.parts[A],I));a[B.id]={id:B.id,refs:1,parts:D}}}}function x(T,I){for(var j=[],B={},L=0;L<T.length;L++){var A=T[L],D=I.base?A[0]+I.base:A[0],O={css:A[1],media:A[2],sourceMap:A[3]};B[D]?B[D].parts.push(O):j.push(B[D]={id:D,parts:[O]})}return j}function b(T,I){var j=u(T.insertInto);if(!j)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var B=v[v.length-1];if(T.insertAt==="top")B?B.nextSibling?j.insertBefore(I,B.nextSibling):j.appendChild(I):j.insertBefore(I,j.firstChild),v.push(I);else if(T.insertAt==="bottom")j.appendChild(I);else{if(typeof T.insertAt!="object"||!T.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var L=u(T.insertInto+" "+T.insertAt.before);j.insertBefore(I,L)}}function m(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T);var I=v.indexOf(T);I>=0&&v.splice(I,1)}function p(T){var I=document.createElement("style");return T.attrs.type===void 0&&(T.attrs.type="text/css"),w(I,T.attrs),b(T,I),I}function w(T,I){Object.keys(I).forEach(function(j){T.setAttribute(j,I[j])})}function E(T,I){var j,B,L,A;if(I.transform&&T.css){if(!(A=I.transform(T.css)))return function(){};T.css=A}if(I.singleton){var D=h++;j=d||(d=p(I)),B=k.bind(null,j,D,!1),L=k.bind(null,j,D,!0)}else T.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(j=function(O){var M=document.createElement("link");return O.attrs.type===void 0&&(O.attrs.type="text/css"),O.attrs.rel="stylesheet",w(M,O.attrs),b(O,M),M}(I),B=_.bind(null,j,I),L=function(){m(j),j.href&&URL.revokeObjectURL(j.href)}):(j=p(I),B=S.bind(null,j),L=function(){m(j)});return B(T),function(O){if(O){if(O.css===T.css&&O.media===T.media&&O.sourceMap===T.sourceMap)return;B(T=O)}else L()}}n.exports=function(T,I){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(I=I||{}).attrs=typeof I.attrs=="object"?I.attrs:{},I.singleton||typeof I.singleton=="boolean"||(I.singleton=l()),I.insertInto||(I.insertInto="head"),I.insertAt||(I.insertAt="bottom");var j=x(T,I);return y(j,I),function(B){for(var L=[],A=0;A<j.length;A++){var D=j[A];(O=a[D.id]).refs--,L.push(O)}for(B&&y(x(B,I),I),A=0;A<L.length;A++){var O;if((O=L[A]).refs===0){for(var M=0;M<O.parts.length;M++)O.parts[M]();delete a[O.id]}}}};var N,P=(N=[],function(T,I){return N[T]=I,N.filter(Boolean).join(`
`)});function k(T,I,j,B){var L=j?"":B.css;if(T.styleSheet)T.styleSheet.cssText=P(I,L);else{var A=document.createTextNode(L),D=T.childNodes;D[I]&&T.removeChild(D[I]),D.length?T.insertBefore(A,D[I]):T.appendChild(A)}}function S(T,I){var j=I.css,B=I.media;if(B&&T.setAttribute("media",B),T.styleSheet)T.styleSheet.cssText=j;else{for(;T.firstChild;)T.removeChild(T.firstChild);T.appendChild(document.createTextNode(j))}}function _(T,I,j){var B=j.css,L=j.sourceMap,A=I.convertToAbsoluteUrls===void 0&&L;(I.convertToAbsoluteUrls||A)&&(B=g(B)),L&&(B+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(L))))+" */");var D=new Blob([B],{type:"text/css"}),O=T.href;T.href=URL.createObjectURL(D),O&&URL.revokeObjectURL(O)}},function(n,r){n.exports=function(o){var s=typeof window<"u"&&window.location;if(!s)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var i=s.protocol+"//"+s.host,a=i+s.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,v){return v}).replace(/^'(.*)'$/,function(h,v){return v});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?i+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){o.r(r),o.d(r,"default",function(){return a}),o(0);function s(l){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(l)}function i(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */var a=function(){function l(h){var v=h.data,g=h.config,y=h.api,x=h.readOnly;(function(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=y,this.readOnly=x,this._CSS={block:this.api.styles.block,wrapper:"ce-header"},this._settings=g,this._data=this.normalizeData(v),this._element=this.getTag()}var c,u,d;return c=l,d=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>',title:"Heading"}}}],(u=[{key:"normalizeData",value:function(h){var v={};return s(h)!=="object"&&(h={}),v.text=h.text||"",v.level=parseInt(h.level)||this.defaultLevel.number,v}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var h=this;return this.levels.map(function(v){return{icon:v.svg,label:h.api.i18n.t("Heading ".concat(v.number)),onActivate:function(){return h.setLevel(v.number)},closeOnActivate:!0,isActive:h.currentLevel.number===v.number}})}},{key:"setLevel",value:function(h){this.data={level:h,text:this.data.text}}},{key:"merge",value:function(h){var v={text:this.data.text+h.text,level:this.data.level};this.data=v}},{key:"validate",value:function(h){return h.text.trim()!==""}},{key:"save",value:function(h){return{text:h.innerHTML,level:this.currentLevel.number}}},{key:"getTag",value:function(){var h=document.createElement(this.currentLevel.tag);return h.innerHTML=this._data.text||"",h.classList.add(this._CSS.wrapper),h.contentEditable=this.readOnly?"false":"true",h.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),h}},{key:"onPaste",value:function(h){var v=h.detail.data,g=this.defaultLevel.number;switch(v.tagName){case"H1":g=1;break;case"H2":g=2;break;case"H3":g=3;break;case"H4":g=4;break;case"H5":g=5;break;case"H6":g=6}this._settings.levels&&(g=this._settings.levels.reduce(function(y,x){return Math.abs(x-g)<Math.abs(y-g)?x:y})),this.data={level:g,text:v.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(h){if(this._data=this.normalizeData(h),h.level!==void 0&&this._element.parentNode){var v=this.getTag();v.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(v,this._element),this._element=v}h.text!==void 0&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var h=this,v=this.levels.find(function(g){return g.number===h._data.level});return v||(v=this.defaultLevel),v}},{key:"defaultLevel",get:function(){var h=this;if(this._settings.defaultLevel){var v=this.levels.find(function(g){return g.number===h._settings.defaultLevel});if(v)return v;console.warn("('-') Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var h=this,v=[{number:1,tag:"H1",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>'},{number:2,tag:"H2",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>'},{number:3,tag:"H3",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>'},{number:4,tag:"H4",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>'},{number:5,tag:"H5",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>'},{number:6,tag:"H6",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>'}];return this._settings.levels?v.filter(function(g){return h._settings.levels.includes(g.number)}):v}}])&&i(c.prototype,u),d&&i(c,d),l}()}]).default})})(iS);var O3=iS.exports;const B3=Yr(O3);var aS={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="/",o(o.s=5)}([function(n,r,o){var s=o(1);typeof s=="string"&&(s=[[n.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};o(3)(s,i),s.locals&&(n.exports=s.locals)},function(n,r,o){(n.exports=o(2)(!1)).push([n.i,`.cdx-quote-icon svg {
  transform: rotate(180deg);
}

.cdx-quote {
  margin: 0;
}

.cdx-quote__text {
  min-height: 158px;
  margin-bottom: 10px;
}

.cdx-quote__caption {}

.cdx-quote [contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty::before {
  opacity: 1;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty:focus::before {
  opacity: 0;
}


.cdx-quote-settings {
  display: flex;
}

.cdx-quote-settings .cdx-settings-button {
  width: 50%;
}
`,""])},function(n,r){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(i){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(g=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),v=d.sources.map(function(y){return"/*# sourceURL="+d.sourceRoot+y+" */"});return[u].concat(v).concat([h]).join(`
`)}var g;return[u].join(`
`)}(i,o);return i[2]?"@media "+i[2]+"{"+a+"}":a}).join("")},s.i=function(i,a){typeof i=="string"&&(i=[[null,i,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<i.length;c++){var d=i[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),s.push(d))}},s}},function(n,r,o){var s,i,a={},l=(s=function(){return window&&document&&document.all&&!window.atob},function(){return i===void 0&&(i=s.apply(this,arguments)),i}),c=function(k){var S={};return function(_){if(typeof _=="function")return _();if(S[_]===void 0){var T=(function(I){return document.querySelector(I)}).call(this,_);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}S[_]=T}return S[_]}}(),u=null,d=0,h=[],v=o(4);function g(k,S){for(var _=0;_<k.length;_++){var T=k[_],I=a[T.id];if(I){I.refs++;for(var j=0;j<I.parts.length;j++)I.parts[j](T.parts[j]);for(;j<T.parts.length;j++)I.parts.push(w(T.parts[j],S))}else{var B=[];for(j=0;j<T.parts.length;j++)B.push(w(T.parts[j],S));a[T.id]={id:T.id,refs:1,parts:B}}}}function y(k,S){for(var _=[],T={},I=0;I<k.length;I++){var j=k[I],B=S.base?j[0]+S.base:j[0],L={css:j[1],media:j[2],sourceMap:j[3]};T[B]?T[B].parts.push(L):_.push(T[B]={id:B,parts:[L]})}return _}function x(k,S){var _=c(k.insertInto);if(!_)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var T=h[h.length-1];if(k.insertAt==="top")T?T.nextSibling?_.insertBefore(S,T.nextSibling):_.appendChild(S):_.insertBefore(S,_.firstChild),h.push(S);else if(k.insertAt==="bottom")_.appendChild(S);else{if(typeof k.insertAt!="object"||!k.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=c(k.insertInto+" "+k.insertAt.before);_.insertBefore(S,I)}}function b(k){if(k.parentNode===null)return!1;k.parentNode.removeChild(k);var S=h.indexOf(k);S>=0&&h.splice(S,1)}function m(k){var S=document.createElement("style");return k.attrs.type===void 0&&(k.attrs.type="text/css"),p(S,k.attrs),x(k,S),S}function p(k,S){Object.keys(S).forEach(function(_){k.setAttribute(_,S[_])})}function w(k,S){var _,T,I,j;if(S.transform&&k.css){if(!(j=S.transform(k.css)))return function(){};k.css=j}if(S.singleton){var B=d++;_=u||(u=m(S)),T=P.bind(null,_,B,!1),I=P.bind(null,_,B,!0)}else k.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(_=function(L){var A=document.createElement("link");return L.attrs.type===void 0&&(L.attrs.type="text/css"),L.attrs.rel="stylesheet",p(A,L.attrs),x(L,A),A}(S),T=(function(L,A,D){var O=D.css,M=D.sourceMap,R=A.convertToAbsoluteUrls===void 0&&M;(A.convertToAbsoluteUrls||R)&&(O=v(O)),M&&(O+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(M))))+" */");var z=new Blob([O],{type:"text/css"}),V=L.href;L.href=URL.createObjectURL(z),V&&URL.revokeObjectURL(V)}).bind(null,_,S),I=function(){b(_),_.href&&URL.revokeObjectURL(_.href)}):(_=m(S),T=(function(L,A){var D=A.css,O=A.media;if(O&&L.setAttribute("media",O),L.styleSheet)L.styleSheet.cssText=D;else{for(;L.firstChild;)L.removeChild(L.firstChild);L.appendChild(document.createTextNode(D))}}).bind(null,_),I=function(){b(_)});return T(k),function(L){if(L){if(L.css===k.css&&L.media===k.media&&L.sourceMap===k.sourceMap)return;T(k=L)}else I()}}n.exports=function(k,S){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(S=S||{}).attrs=typeof S.attrs=="object"?S.attrs:{},S.singleton||typeof S.singleton=="boolean"||(S.singleton=l()),S.insertInto||(S.insertInto="head"),S.insertAt||(S.insertAt="bottom");var _=y(k,S);return g(_,S),function(T){for(var I=[],j=0;j<_.length;j++){var B=_[j];(L=a[B.id]).refs--,I.push(L)}for(T&&g(y(T,S),S),j=0;j<I.length;j++){var L;if((L=I[j]).refs===0){for(var A=0;A<L.parts.length;A++)L.parts[A]();delete a[L.id]}}}};var E,N=(E=[],function(k,S){return E[k]=S,E.filter(Boolean).join(`
`)});function P(k,S,_,T){var I=_?"":T.css;if(k.styleSheet)k.styleSheet.cssText=N(S,I);else{var j=document.createTextNode(I),B=k.childNodes;B[S]&&k.removeChild(B[S]),B.length?k.insertBefore(j,B[S]):k.appendChild(j)}}},function(n,r){n.exports=function(o){var s=typeof window<"u"&&window.location;if(!s)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var i=s.protocol+"//"+s.host,a=i+s.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,v){return v}).replace(/^'(.*)'$/,function(h,v){return v});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?i+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){o.r(r),o(0);function s(c){return function(u){if(Array.isArray(u)){for(var d=0,h=new Array(u.length);d<u.length;d++)h[d]=u[d];return h}}(c)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(c,u){for(var d=0;d<u.length;d++){var h=u[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}function a(c,u,d){return u&&i(c.prototype,u),d&&i(c,d),c}o.d(r,"default",function(){return l});var l=function(){function c(u){var d=u.data,h=u.config,v=u.api,g=u.readOnly;(function(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")})(this,c);var y=c.ALIGNMENTS,x=c.DEFAULT_ALIGNMENT;this.api=v,this.readOnly=g,this.quotePlaceholder=h.quotePlaceholder||c.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=h.captionPlaceholder||c.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:d.text||"",caption:d.caption||"",alignment:Object.values(y).includes(d.alignment)&&d.alignment||h.defaultAlignment||x}}return a(c,[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}},{key:"settings",get:function(){return[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>'}]}}],[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',title:"Quote"}}},{key:"contentless",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"DEFAULT_QUOTE_PLACEHOLDER",get:function(){return"Enter a quote"}},{key:"DEFAULT_CAPTION_PLACEHOLDER",get:function(){return"Enter a caption"}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center"}}},{key:"DEFAULT_ALIGNMENT",get:function(){return c.ALIGNMENTS.left}},{key:"conversionConfig",get:function(){return{import:"text",export:function(u){return u.caption?"".concat(u.text,"  ").concat(u.caption):u.text}}}}]),a(c,[{key:"render",value:function(){var u=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),d=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),h=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return d.dataset.placeholder=this.quotePlaceholder,h.dataset.placeholder=this.captionPlaceholder,u.appendChild(d),u.appendChild(h),u}},{key:"save",value:function(u){var d=u.querySelector(".".concat(this.CSS.text)),h=u.querySelector(".".concat(this.CSS.caption));return Object.assign(this.data,{text:d.innerHTML,caption:h.innerHTML})}},{key:"renderSettings",value:function(){var u=this;return this.settings.map(function(d){return{icon:d.icon,label:u.api.i18n.t("Align ".concat((h=d.name,h[0].toUpperCase()+h.substr(1)))),onActivate:function(){return u._toggleTune(d.name)},isActive:u.data.alignment===d.name,closeOnActivate:!0};var h})}},{key:"_toggleTune",value:function(u){this.data.alignment=u}},{key:"_make",value:function(u){var d,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=document.createElement(u);Array.isArray(h)?(d=g.classList).add.apply(d,s(h)):h&&g.classList.add(h);for(var y in v)g[y]=v[y];return g}}],[{key:"sanitize",get:function(){return{text:{br:!0},caption:{br:!0},alignment:{}}}}]),c}()}]).default})})(aS);var M3=aS.exports;const R3=Yr(M3);var lS={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="/",o(o.s=5)}([function(n,r,o){var s=o(1);typeof s=="string"&&(s=[[n.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};o(3)(s,i),s.locals&&(n.exports=s.locals)},function(n,r,o){(n.exports=o(2)(!1)).push([n.i,`.cdx-marker {
  background: rgba(245,235,111,0.29);
  padding: 3px 0;
}`,""])},function(n,r){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(i){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(g=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),v=d.sources.map(function(y){return"/*# sourceURL="+d.sourceRoot+y+" */"});return[u].concat(v).concat([h]).join(`
`)}var g;return[u].join(`
`)}(i,o);return i[2]?"@media "+i[2]+"{"+a+"}":a}).join("")},s.i=function(i,a){typeof i=="string"&&(i=[[null,i,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<i.length;c++){var d=i[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),s.push(d))}},s}},function(n,r,o){var s,i,a={},l=(s=function(){return window&&document&&document.all&&!window.atob},function(){return i===void 0&&(i=s.apply(this,arguments)),i}),c=function(k){var S={};return function(_){if(typeof _=="function")return _();if(S[_]===void 0){var T=(function(I){return document.querySelector(I)}).call(this,_);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}S[_]=T}return S[_]}}(),u=null,d=0,h=[],v=o(4);function g(k,S){for(var _=0;_<k.length;_++){var T=k[_],I=a[T.id];if(I){I.refs++;for(var j=0;j<I.parts.length;j++)I.parts[j](T.parts[j]);for(;j<T.parts.length;j++)I.parts.push(w(T.parts[j],S))}else{var B=[];for(j=0;j<T.parts.length;j++)B.push(w(T.parts[j],S));a[T.id]={id:T.id,refs:1,parts:B}}}}function y(k,S){for(var _=[],T={},I=0;I<k.length;I++){var j=k[I],B=S.base?j[0]+S.base:j[0],L={css:j[1],media:j[2],sourceMap:j[3]};T[B]?T[B].parts.push(L):_.push(T[B]={id:B,parts:[L]})}return _}function x(k,S){var _=c(k.insertInto);if(!_)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var T=h[h.length-1];if(k.insertAt==="top")T?T.nextSibling?_.insertBefore(S,T.nextSibling):_.appendChild(S):_.insertBefore(S,_.firstChild),h.push(S);else if(k.insertAt==="bottom")_.appendChild(S);else{if(typeof k.insertAt!="object"||!k.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=c(k.insertInto+" "+k.insertAt.before);_.insertBefore(S,I)}}function b(k){if(k.parentNode===null)return!1;k.parentNode.removeChild(k);var S=h.indexOf(k);S>=0&&h.splice(S,1)}function m(k){var S=document.createElement("style");return k.attrs.type===void 0&&(k.attrs.type="text/css"),p(S,k.attrs),x(k,S),S}function p(k,S){Object.keys(S).forEach(function(_){k.setAttribute(_,S[_])})}function w(k,S){var _,T,I,j;if(S.transform&&k.css){if(!(j=S.transform(k.css)))return function(){};k.css=j}if(S.singleton){var B=d++;_=u||(u=m(S)),T=P.bind(null,_,B,!1),I=P.bind(null,_,B,!0)}else k.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(_=function(L){var A=document.createElement("link");return L.attrs.type===void 0&&(L.attrs.type="text/css"),L.attrs.rel="stylesheet",p(A,L.attrs),x(L,A),A}(S),T=(function(L,A,D){var O=D.css,M=D.sourceMap,R=A.convertToAbsoluteUrls===void 0&&M;(A.convertToAbsoluteUrls||R)&&(O=v(O)),M&&(O+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(M))))+" */");var z=new Blob([O],{type:"text/css"}),V=L.href;L.href=URL.createObjectURL(z),V&&URL.revokeObjectURL(V)}).bind(null,_,S),I=function(){b(_),_.href&&URL.revokeObjectURL(_.href)}):(_=m(S),T=(function(L,A){var D=A.css,O=A.media;if(O&&L.setAttribute("media",O),L.styleSheet)L.styleSheet.cssText=D;else{for(;L.firstChild;)L.removeChild(L.firstChild);L.appendChild(document.createTextNode(D))}}).bind(null,_),I=function(){b(_)});return T(k),function(L){if(L){if(L.css===k.css&&L.media===k.media&&L.sourceMap===k.sourceMap)return;T(k=L)}else I()}}n.exports=function(k,S){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(S=S||{}).attrs=typeof S.attrs=="object"?S.attrs:{},S.singleton||typeof S.singleton=="boolean"||(S.singleton=l()),S.insertInto||(S.insertInto="head"),S.insertAt||(S.insertAt="bottom");var _=y(k,S);return g(_,S),function(T){for(var I=[],j=0;j<_.length;j++){var B=_[j];(L=a[B.id]).refs--,I.push(L)}for(T&&g(y(T,S),S),j=0;j<I.length;j++){var L;if((L=I[j]).refs===0){for(var A=0;A<L.parts.length;A++)L.parts[A]();delete a[L.id]}}}};var E,N=(E=[],function(k,S){return E[k]=S,E.filter(Boolean).join(`
`)});function P(k,S,_,T){var I=_?"":T.css;if(k.styleSheet)k.styleSheet.cssText=N(S,I);else{var j=document.createTextNode(I),B=k.childNodes;B[S]&&k.removeChild(B[S]),B.length?k.insertBefore(j,B[S]):k.appendChild(j)}}},function(n,r){n.exports=function(o){var s=typeof window<"u"&&window.location;if(!s)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var i=s.protocol+"//"+s.host,a=i+s.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,v){return v}).replace(/^'(.*)'$/,function(h,v){return v});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?i+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){o.r(r),o(0);function s(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function i(l,c,u){return c&&s(l.prototype,c),u&&s(l,u),l}o.d(r,"default",function(){return a});var a=function(){function l(c){var u=c.api;(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=u,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return i(l,null,[{key:"CSS",get:function(){return"cdx-marker"}}]),i(l,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(c){if(c){var u=this.api.selection.findParentTag(this.tag,l.CSS);u?this.unwrap(u):this.wrap(c)}}},{key:"wrap",value:function(c){var u=document.createElement(this.tag);u.classList.add(l.CSS),u.appendChild(c.extractContents()),c.insertNode(u),this.api.selection.expandToTag(u)}},{key:"unwrap",value:function(c){this.api.selection.expandToTag(c);var u=window.getSelection(),d=u.getRangeAt(0),h=d.extractContents();c.parentNode.removeChild(c),d.insertNode(h),u.removeAllRanges(),u.addRange(d)}},{key:"checkState",value:function(){var c=this.api.selection.findParentTag(this.tag,l.CSS);this.button.classList.toggle(this.iconClasses.active,!!c)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{mark:{class:l.CSS}}}}]),l}()}]).default})})(lS);var D3=lS.exports;const F3=Yr(D3);var cS={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="/",o(o.s=5)}([function(n,r,o){var s=o(1);typeof s=="string"&&(s=[[n.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};o(3)(s,i),s.locals&&(n.exports=s.locals)},function(n,r,o){(n.exports=o(2)(!1)).push([n.i,`.inline-code {
  background: rgba(250, 239, 240, 0.78);
  color: #b44437;
  padding: 3px 4px;
  border-radius: 5px;
  margin: 0 1px;
  font-family: inherit;
  font-size: 0.86em;
  font-weight: 500;
  letter-spacing: 0.3px;
}
`,""])},function(n,r){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(i){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(g=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),v=d.sources.map(function(y){return"/*# sourceURL="+d.sourceRoot+y+" */"});return[u].concat(v).concat([h]).join(`
`)}var g;return[u].join(`
`)}(i,o);return i[2]?"@media "+i[2]+"{"+a+"}":a}).join("")},s.i=function(i,a){typeof i=="string"&&(i=[[null,i,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<i.length;c++){var d=i[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),s.push(d))}},s}},function(n,r,o){var s,i,a={},l=(s=function(){return window&&document&&document.all&&!window.atob},function(){return i===void 0&&(i=s.apply(this,arguments)),i}),c=function(k){var S={};return function(_){if(typeof _=="function")return _();if(S[_]===void 0){var T=(function(I){return document.querySelector(I)}).call(this,_);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}S[_]=T}return S[_]}}(),u=null,d=0,h=[],v=o(4);function g(k,S){for(var _=0;_<k.length;_++){var T=k[_],I=a[T.id];if(I){I.refs++;for(var j=0;j<I.parts.length;j++)I.parts[j](T.parts[j]);for(;j<T.parts.length;j++)I.parts.push(w(T.parts[j],S))}else{var B=[];for(j=0;j<T.parts.length;j++)B.push(w(T.parts[j],S));a[T.id]={id:T.id,refs:1,parts:B}}}}function y(k,S){for(var _=[],T={},I=0;I<k.length;I++){var j=k[I],B=S.base?j[0]+S.base:j[0],L={css:j[1],media:j[2],sourceMap:j[3]};T[B]?T[B].parts.push(L):_.push(T[B]={id:B,parts:[L]})}return _}function x(k,S){var _=c(k.insertInto);if(!_)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var T=h[h.length-1];if(k.insertAt==="top")T?T.nextSibling?_.insertBefore(S,T.nextSibling):_.appendChild(S):_.insertBefore(S,_.firstChild),h.push(S);else if(k.insertAt==="bottom")_.appendChild(S);else{if(typeof k.insertAt!="object"||!k.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=c(k.insertInto+" "+k.insertAt.before);_.insertBefore(S,I)}}function b(k){if(k.parentNode===null)return!1;k.parentNode.removeChild(k);var S=h.indexOf(k);S>=0&&h.splice(S,1)}function m(k){var S=document.createElement("style");return k.attrs.type===void 0&&(k.attrs.type="text/css"),p(S,k.attrs),x(k,S),S}function p(k,S){Object.keys(S).forEach(function(_){k.setAttribute(_,S[_])})}function w(k,S){var _,T,I,j;if(S.transform&&k.css){if(!(j=S.transform(k.css)))return function(){};k.css=j}if(S.singleton){var B=d++;_=u||(u=m(S)),T=P.bind(null,_,B,!1),I=P.bind(null,_,B,!0)}else k.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(_=function(L){var A=document.createElement("link");return L.attrs.type===void 0&&(L.attrs.type="text/css"),L.attrs.rel="stylesheet",p(A,L.attrs),x(L,A),A}(S),T=(function(L,A,D){var O=D.css,M=D.sourceMap,R=A.convertToAbsoluteUrls===void 0&&M;(A.convertToAbsoluteUrls||R)&&(O=v(O)),M&&(O+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(M))))+" */");var z=new Blob([O],{type:"text/css"}),V=L.href;L.href=URL.createObjectURL(z),V&&URL.revokeObjectURL(V)}).bind(null,_,S),I=function(){b(_),_.href&&URL.revokeObjectURL(_.href)}):(_=m(S),T=(function(L,A){var D=A.css,O=A.media;if(O&&L.setAttribute("media",O),L.styleSheet)L.styleSheet.cssText=D;else{for(;L.firstChild;)L.removeChild(L.firstChild);L.appendChild(document.createTextNode(D))}}).bind(null,_),I=function(){b(_)});return T(k),function(L){if(L){if(L.css===k.css&&L.media===k.media&&L.sourceMap===k.sourceMap)return;T(k=L)}else I()}}n.exports=function(k,S){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(S=S||{}).attrs=typeof S.attrs=="object"?S.attrs:{},S.singleton||typeof S.singleton=="boolean"||(S.singleton=l()),S.insertInto||(S.insertInto="head"),S.insertAt||(S.insertAt="bottom");var _=y(k,S);return g(_,S),function(T){for(var I=[],j=0;j<_.length;j++){var B=_[j];(L=a[B.id]).refs--,I.push(L)}for(T&&g(y(T,S),S),j=0;j<I.length;j++){var L;if((L=I[j]).refs===0){for(var A=0;A<L.parts.length;A++)L.parts[A]();delete a[L.id]}}}};var E,N=(E=[],function(k,S){return E[k]=S,E.filter(Boolean).join(`
`)});function P(k,S,_,T){var I=_?"":T.css;if(k.styleSheet)k.styleSheet.cssText=N(S,I);else{var j=document.createTextNode(I),B=k.childNodes;B[S]&&k.removeChild(B[S]),B.length?k.insertBefore(j,B[S]):k.appendChild(j)}}},function(n,r){n.exports=function(o){var s=typeof window<"u"&&window.location;if(!s)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var i=s.protocol+"//"+s.host,a=i+s.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,v){return v}).replace(/^'(.*)'$/,function(h,v){return v});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?i+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){o.r(r),o(0);function s(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function i(l,c,u){return c&&s(l.prototype,c),u&&s(l,u),l}o.d(r,"default",function(){return a});var a=function(){function l(c){var u=c.api;(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=u,this.button=null,this.tag="CODE",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return i(l,null,[{key:"CSS",get:function(){return"inline-code"}}]),i(l,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(c){if(c){var u=this.api.selection.findParentTag(this.tag,l.CSS);u?this.unwrap(u):this.wrap(c)}}},{key:"wrap",value:function(c){var u=document.createElement(this.tag);u.classList.add(l.CSS),u.appendChild(c.extractContents()),c.insertNode(u),this.api.selection.expandToTag(u)}},{key:"unwrap",value:function(c){this.api.selection.expandToTag(c);var u=window.getSelection(),d=u.getRangeAt(0),h=d.extractContents();c.parentNode.removeChild(c),d.insertNode(h),u.removeAllRanges(),u.addRange(d)}},{key:"checkState",value:function(){var c=this.api.selection.findParentTag(this.tag,l.CSS);this.button.classList.toggle(this.iconClasses.active,!!c)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.5 8L6.11524 11.8683C6.04926 11.9437 6.04926 12.0563 6.11524 12.1317L9.5 16"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15 8L18.3848 11.8683C18.4507 11.9437 18.4507 12.0563 18.3848 12.1317L15 16"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{code:{class:l.CSS}}}}]),l}()}]).default})})(cS);var U3=cS.exports;const $3=Yr(U3),z3=async t=>{try{if(!["image/jpeg","image/jpg","image/png"].includes(t.type))throw new Error("Only JPG, JPEG, and PNG files are allowed");const n=2*1024*1024;if(t.size>n)throw new Error("Image size must be less than 2MB");const r=await new Promise((a,l)=>{const c=new FileReader;c.onload=()=>a(c.result),c.onerror=l,c.readAsDataURL(t)}),s=JSON.parse(mu("user")||"{}").access_token;if(!s)throw new Error("Authentication required");const i=await G.post("http://localhost:3000/api/upload-image",{image:r},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},timeout:9e4});if(i.data.success===!0)return{success:1,file:{url:i.data.url}};throw new Error("Upload failed")}catch(e){return console.error("Image upload error:",e),{success:0,message:e.message||"Image upload failed"}}},V3=t=>Promise.resolve({success:1,file:{url:t}}),el={embed:P3,list:{class:j3,inlineToolBar:!0},image:{class:A3,config:{uploader:{uploadByUrl:V3,uploadByFile:z3}}},header:{class:B3,config:{placeholder:"Enter heading...",levels:[2,3],defaultLevel:2}},quote:{class:R3,inlineToolBar:!0},marker:F3,inlineCode:$3},H3=["image/jpeg","image/png","image/jpg","image/webp"],W3=5*1024*1024,G3=async(t,e)=>{var r;let n=null;if(!H3.includes(t.type))throw new Error("Only JPG, JPEG, PNG, and WebP files are allowed.");if(t.size>W3)throw new Error("Image size must be less than 5MB.");if(!t.name||t.name.trim()==="")throw new Error("Invalid file name.");try{const o=await q3(t),s=await G.post("http://localhost:3000/api/upload-image",{image:o,fileName:t.name,fileSize:t.size,fileType:t.type},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},timeout:9e4});if(s.data.success)n=s.data.url;else throw new Error(s.data.error||"Image upload failed.")}catch(o){let s="Image upload failed.";throw o.response?o.response.status===401?s="Authentication required. Please log in again.":o.response.status===403?s="You don't have permission to upload images.":o.response.status===413?s="Image file is too large.":o.response.status===415?s="Unsupported image format.":o.response.status===500?s="Server error. Please try again later.":(r=o.response.data)!=null&&r.error?s=o.response.data.error:s=`Upload failed (${o.response.status}). Please try again.`:o.code==="ECONNABORTED"?s="Upload timed out. Please check your connection and try again.":o.message&&(s=o.message),new Error(s)}return n},q3=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{try{const o=r.result;typeof o=="string"&&o.startsWith("data:")?e(o):n(new Error("Failed to convert file to base64."))}catch{n(new Error("File conversion failed."))}},r.onerror=()=>{n(new Error("Failed to read file."))},r.onabort=()=>{n(new Error("File reading was aborted."))};try{r.readAsDataURL(t)}catch{n(new Error("Failed to start file reading."))}});console.log("EditorJS import check:",{EditorJS:typeof on,isFunction:typeof on=="function",isConstructor:on&&on.prototype&&on.prototype.constructor===on});function jd(){console.log("Auto-save scheduled")}const K3=()=>{const{blog:t,setBlog:e,setEditorState:n}=C.useContext(Lm),{userAuth:r={}}=C.useContext(ye);r.isAdmin;const[o,s]=C.useState(""),[i,a]=C.useState(""),[l,c]=C.useState(""),[u,d]=C.useState([]),[h,v]=C.useState(""),[g,y]=C.useState(!1),[x,b]=C.useState(null),[m,p]=C.useState("idle"),[w,E]=C.useState(null),[N,P]=C.useState(!1),[k,S]=C.useState(!1),[_,T]=C.useState(!1),[I,j]=C.useState(!1),B=C.useRef(null),L=C.useRef(null),A=Ln(),{blogId:D}=Uo(),O=r.access_token||null,[M,R]=C.useState(!1),[z,V]=C.useState(!1),[te,Y]=C.useState(!1),[pe,me]=C.useState(!1);C.useRef(null);const Pe=()=>(t==null?void 0:t.blog_id)||D||null,Tt=K=>K?Array.isArray(K)?K.map(ie=>({time:(ie==null?void 0:ie.time)||Date.now(),blocks:Array.isArray(ie==null?void 0:ie.blocks)?ie.blocks:[],version:(ie==null?void 0:ie.version)||"2.27.2"})):typeof K=="object"&&K!==null?[{time:K.time||Date.now(),blocks:Array.isArray(K.blocks)?K.blocks:[],version:K.version||"2.27.2"}]:[{time:Date.now(),blocks:[],version:"2.27.2"}]:[{time:Date.now(),blocks:[],version:"2.27.2"}],rt=()=>{sessionStorage.removeItem("blog_draft")},Le=K=>{try{sessionStorage.setItem("blog_draft",JSON.stringify(K))}catch(ie){console.warn("Failed to save to sessionStorage:",ie)}};C.useEffect(()=>{O?R(!0):(H.error("Authentication required. Please log in."),setTimeout(()=>A("/login"),1e3))},[O,A]),C.useEffect(()=>{D&&P(!0)},[D]),C.useEffect(()=>{t&&!I&&(s(t.title||""),a(t.banner||""),c(t.des||""),d(t.tags||[]),T(!0))},[t,I]),C.useCallback(async()=>{var K,ie,mt,ve,Ze;if(!(!M||!(t!=null&&t.blog_id)||g||k)){p("saving"),E(null),S(!0);try{let be=null;if((K=B.current)!=null&&K.isReady)try{be=await B.current.save()}catch(re){console.warn("Auto-save: Editor save failed:",re),p("error"),E("Editor not ready");return}else{p("error"),E("Editor not ready");return}if(!be||!be.blocks){console.warn("Auto-save: Invalid content structure"),p("error"),E("Invalid content structure");return}const $=o,X=i,ne=l,de=u;if(!($.trim()||ne.trim()||be.blocks&&be.blocks.length>0)){p("idle"),S(!1);return}const Ee={title:$.trim()||"Untitled Draft",banner:X.trim()||"",des:ne.trim()||"",content:Tt(be),tags:de.map(re=>re.trim().toLowerCase()).filter(re=>re.length>0),draft:!0,id:Pe()},Ie=await G.post("http://localhost:3000/api/create-blog",Ee,{headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"},timeout:1e4});b(new Date),p("saved"),E(null),S(!1),console.log("Auto-save completed successfully"),setTimeout(()=>p("idle"),3e3)}catch(be){console.warn("Auto-save failed:",be),p("error");let $="Auto-save failed";((ie=be.response)==null?void 0:ie.status)===401?$="Authentication expired":((mt=be.response)==null?void 0:mt.status)===403?$="Permission denied":be.code==="ECONNABORTED"?$="Request timed out":(Ze=(ve=be.response)==null?void 0:ve.data)!=null&&Ze.error&&($=be.response.data.error),E($),setTimeout(()=>{p("idle"),E(null),S(!1)},5e3)}}},[M,t==null?void 0:t.blog_id,O,g,k]),C.useEffect(()=>{var mt;if(!M)return;if(B.current){console.log("Editor already initialized, skipping...");return}if(!L.current){console.log("DOM node not available yet, waiting...");return}const K=((mt=t==null?void 0:t.content)==null?void 0:mt[0])||{time:Date.now(),blocks:[],version:"2.27.2"};if(console.log("Initializing EditorJS with data:",K),console.log("EditorJS import:",on),console.log("Tools import:",el),typeof on!="function"){console.error("EditorJS is not properly imported"),H.error("Editor failed to load. Please refresh the page or check your internet connection. If the problem persists, contact support.");return}if(!el||typeof el!="object"){console.error("Tools are not properly imported"),H.error("Editor tools failed to load. Please refresh the page or check your internet connection. If the problem persists, contact support.");return}if(!on.prototype||!on.prototype.constructor){console.error("EditorJS constructor is not properly defined"),H.error("Editor constructor failed to load. Please refresh the page or check your internet connection. If the problem persists, contact support.");return}const ie=L.current.querySelector(".codex-editor");ie&&(console.log("Editor instance already exists in DOM, cleaning up..."),ie.remove());try{const ve=new on({holder:L.current,data:K,tools:el,placeholder:"Start writing your story here...",autofocus:!0,readOnly:!1,logLevel:"ERROR",onChange:async()=>{try{if(ve.isReady){const Ze=await ve.save(),be={...t,title:o,banner:i,content:[{...Ze,time:Date.now(),version:"2.27.2"}],tags:u,des:l};Le(be)}}catch(Ze){console.warn("Failed to save to sessionStorage:",Ze)}},onReady:()=>{Y(!0),me(!0),console.log("Editor is ready")}});B.current=ve,console.log("EditorJS instance created successfully")}catch(ve){console.error("EditorJS initialization failed:",ve),console.error("Error details:",{name:ve.name,message:ve.message,stack:ve.stack}),H.error("Failed to initialize editor. Please refresh the page or check your internet connection. If the problem persists, contact support.")}return()=>{B.current&&(console.log("Cleaning up editor instance..."),B.current.isReady&&typeof B.current.isReady.then=="function"?B.current.isReady.then(()=>B.current.destroy()).catch(()=>{}):typeof B.current.destroy=="function"&&B.current.destroy(),B.current=null,Y(!1),me(!1))}},[M,L.current]),C.useEffect(()=>{var K;B.current&&((K=t==null?void 0:t.content)!=null&&K[0])&&te&&!pe&&console.log("Content updated - EditorJS content handled during initialization")},[t==null?void 0:t.content,te,pe]);const Fe=async()=>{try{console.log("Testing upload service...");const K=await G.get("http://localhost:3000/api/test-upload");return console.log("Upload service test result:",K.data),K.data.success}catch(K){return console.error("Upload service test failed:",K),!1}},Ke=async K=>{var be,$,X,ne,de,we,Ee;const ie=K.target.files[0];if(!ie)return;if(!["image/jpeg","image/jpg","image/png"].includes(ie.type)){H.error("Only JPG, JPEG, and PNG files are allowed");return}const ve=2*1024*1024;if(ie.size>ve){H.error("Image size must be less than 2MB");return}V(!0);let Ze=H.loading("Uploading banner image...");try{if(!await Fe())throw new Error("Upload service is not available");const re=await new Promise((gt,dr)=>{const fr=new FileReader;fr.onload=()=>gt(fr.result),fr.onerror=dr,fr.readAsDataURL(ie)});console.log("Starting upload, file size:",ie.size,"bytes");const ze=await G.post("http://localhost:3000/api/upload-image",{image:re},{headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"},timeout:9e4});if(H.dismiss(Ze),ze.data.success===!0){const gt=ze.data.url;console.log("Banner uploaded successfully:",gt),a(gt),j(!0),e(dr=>({...dr,banner:gt})),H.success("Banner uploaded successfully! "),jd()}else H.error("Failed to upload banner image")}catch(Ie){H.dismiss(Ze),console.error("Banner upload error:",Ie);let re="Failed to upload banner image. Please check your internet connection or try a different image.";((be=Ie.response)==null?void 0:be.status)===401?re="Authentication expired. Please log in again.":(($=Ie.response)==null?void 0:$.status)===400?re=((X=Ie.response.data)==null?void 0:X.error)||"Invalid image format":((ne=Ie.response)==null?void 0:ne.status)===408?re="Upload timed out. Please try again.":((de=Ie.response)==null?void 0:de.status)===500?re="Server error. Please try again later.":(Ee=(we=Ie.response)==null?void 0:we.data)!=null&&Ee.error?re=Ie.response.data.error:Ie.code==="ECONNABORTED"?re="Upload timed out. Please try again.":Ie.message&&(re=Ie.message),H.error(re)}finally{V(!1)}},Bt=K=>{console.log("Title changed:",K.target.value),s(K.target.value),j(!0)},ur=K=>{console.log("Description changed:",K.target.value),c(K.target.value),j(!0)},On=K=>{v(K.target.value),j(!0)},ro=K=>K.trim().toLowerCase(),_a=K=>{if(K.key==="Enter"&&h.trim()){if(K.preventDefault(),u.length>=5){H.error("Maximum 5 tags allowed");return}const ie=ro(h);u.map(ro).includes(ie)?H.error("Duplicate tag"):(d([...u,ie]),v(""),jd())}},Na=K=>{const ie=ro(K),mt=u.filter(ve=>ro(ve)!==ie);d(mt),jd()},Pa=K=>{K.keyCode===13&&K.preventDefault()},Pu=K=>{K.target.src=gc},Ia=async K=>{var be,$,X,ne,de,we,Ee,Ie;if(g)return;const ie=o.trim().length>0,mt=l.trim().length>0,ve=((be=B.current)==null?void 0:be.isReady)&&await B.current.save().then(re=>re.blocks&&re.blocks.length>0).catch(()=>!1);if(!ie&&!mt&&!ve)return H.error("Please add some content (title, description, or blog content) before saving as draft");y(!0);let Ze=H.loading(N?"Updating draft....":"Saving draft....");try{let re=null;if(($=B.current)!=null&&$.isReady)try{re=await B.current.save(),(!re||!re.blocks)&&(re={time:Date.now(),blocks:[],version:"2.27.2"})}catch(mn){console.warn("Editor save failed, continuing with empty content:",mn),re={time:Date.now(),blocks:[],version:"2.27.2"}}else re={time:Date.now(),blocks:[],version:"2.27.2"};const ze={title:o.trim()||"Untitled Draft",banner:i.trim()||"",des:l.trim()||"",content:[re],tags:u.map(mn=>mn.trim().toLowerCase()).filter(mn=>mn.length>0),draft:!0},gt=N&&Pe(),dr=gt?`http://localhost:3000/api/update-blog/${Pe()}`:"http://localhost:3000/api/create-blog",qs=await G[gt?"put":"post"](dr,ze,{headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"},timeout:15e3});H.dismiss(Ze),H.success(N?"Draft updated successfully! ":"Draft saved successfully! "),qs.data.blog_id&&e(mn=>({...mn,blog_id:qs.data.blog_id,content:ze.content})),b(new Date),p("saved"),E(null),setTimeout(()=>p("idle"),3e3),rt(),setTimeout(()=>{A("/dashboard/blogs?tab=draft")},500)}catch(re){H.dismiss(Ze);let ze=N?"Failed to update draft":"Failed to save draft";((X=re.response)==null?void 0:X.status)===401?(ze="Authentication required. Please log in again.",setTimeout(()=>A("/login"),2e3)):((ne=re.response)==null?void 0:ne.status)===403?ze="You don't have permission to save drafts.":((de=re.response)==null?void 0:de.status)===400?ze=((we=re.response.data)==null?void 0:we.error)||"Invalid draft data":(Ie=(Ee=re.response)==null?void 0:Ee.data)!=null&&Ie.error?ze=re.response.data.error:re.code==="ECONNABORTED"?ze="Save timed out. Please try again.":re.message&&(ze=re.message),H.error(ze),console.error("Draft save error:",re)}finally{y(!1)}},Iu=async()=>{var K,ie,mt;if(console.log("Publish button clicked in BlogEditor"),console.log("Current blog state:",t),console.log("Editor ref ready:",(K=B.current)==null?void 0:K.isReady),!i)return console.log("Validation failed: No banner"),H.error("Upload a blog banner to publish it");if(!o.trim())return console.log("Validation failed: No title"),H.error("Write blog title to publish it");if(!l.trim())return console.log("Validation failed: No description"),H.error("Write blog description to publish it");if(l.trim().length>200)return console.log("Validation failed: Description too long"),H.error("Description cannot exceed 200 characters");if(!u.length)return console.log("Validation failed: No tags"),H.error("Add at least one tag to publish it");try{if(!((ie=B.current)!=null&&ie.isReady))throw console.log("Editor not ready"),new Error("Editor not ready");const ve=await B.current.save();if(console.log("Editor save data:",ve),!((mt=ve.blocks)!=null&&mt.length))return console.log("Validation failed: No content blocks"),H.error("Write something in your blog to publish it");const Ze={title:o.trim(),banner:i.trim(),content:[{time:ve.time||Date.now(),blocks:Array.isArray(ve.blocks)?ve.blocks:[],version:ve.version||"2.27.2"}],tags:u.map(be=>be.trim().toLowerCase()),des:l.trim(),id:Pe()};console.log("Setting blog data for publish form:",Ze),e(be=>({...be,...Ze,title:o.trim(),banner:i.trim(),des:l.trim(),tags:u.map($=>$.trim().toLowerCase())})),n("publish"),Le(Ze),sessionStorage.setItem("refresh_drafts","1")}catch(ve){console.error("Error in handlePublishEvent:",ve),H.error("Failed to save blog content")}};return C.useEffect(()=>{const K=ie=>{(ie.ctrlKey||ie.metaKey)&&ie.key==="s"&&(ie.preventDefault(),g||Ia())};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[g]),!M||!t?f.jsx("div",{style:{textAlign:"center",marginTop:"3rem"},children:"Loading editor..."}):f.jsxs(f.Fragment,{children:[f.jsx("nav",{className:"navbar"}),f.jsx(An,{}),f.jsx(Me,{children:f.jsxs("section",{className:"w-full py-8 px-4 sm:px-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 mb-6 sm:mb-8 ml-0 sm:ml-28",children:[f.jsx("button",{className:"btn-dark py-2 w-full sm:w-auto text-sm sm:text-base",onClick:Ia,disabled:g,title:"Save draft (Ctrl+S / Cmd+S)",children:g?"Saving...":"Save Draft"}),f.jsx("button",{className:"btn-light py-2 w-full sm:w-auto text-sm sm:text-base",onClick:Iu,disabled:!o.trim()||!l.trim()||g||k,title:!o.trim()||!l.trim()?"Complete all required fields to publish":g||k?"Please wait for save to complete":"Publish blog",children:"Publish"}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[m==="saving"&&f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-2 h-2 bg-yellow-300 rounded-full animate-pulse"}),"Auto-saving..."]}),m==="saved"&&f.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[f.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Saved"]}),m==="error"&&f.jsxs("span",{className:"flex items-center gap-1 text-red-600",title:w,children:[f.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Save failed"]}),x&&m==="idle"&&f.jsxs("span",{className:"text-gray-500",children:["Last saved: ",x.toLocaleTimeString()]})]})]}),f.jsxs("div",{className:"mx-auto max-w-[900px] md:max-w-[700px] w-full",children:[f.jsxs("div",{className:"relative w-full aspect-video hover:opacity-80 bg-white border-l border-gray-200 rounded-lg max-w-full max-h-[300px] md:max-h-[400px] sm:max-h-[500px] overflow-hidden",children:[f.jsxs("label",{htmlFor:"uploadBanner",children:[f.jsx("img",{src:i||gc,alt:"Blog banner",className:"w-full h-auto max-h-[300px] md:max-h-[400px] sm:max-h-[500px] object-contain rounded-lg mx-auto bg-white transition-all duration-200",onError:Pu}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 opacity-0 hover:opacity-100 transition-opacity rounded-lg",children:f.jsx("span",{className:"text-white text-base md:text-lg",children:"Upload Banner"})}),z&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-60 rounded-lg z-10",children:f.jsx("span",{className:"text-white text-base md:text-lg animate-pulse",children:"Uploading..."})})]}),f.jsx("input",{type:"file",id:"uploadBanner",accept:"image/*",hidden:!0,onChange:Ke})]}),f.jsx("textarea",{placeholder:"Blog Title",className:"text-2xl md:text-3xl sm:text-4xl font-medium w-full h-16 md:h-18 sm:h-20 outline-none rounded-lg p-3 md:p-4 sm:p-4 bg-gray-50 resize-none mt-6 md:mt-8 sm:mt-10 leading-tight placeholder:opacity-40",value:o,onChange:Bt,onKeyDown:Pa,maxLength:100}),f.jsxs("div",{className:"text-right text-xs md:text-sm sm:text-sm text-gray-500 mt-1",children:[o.length,"/100 characters"]}),f.jsx("textarea",{value:l,placeholder:"Blog Description",className:"text-sm md:text-base sm:text-lg w-full h-16 md:h-18 sm:h-20 outline-none bg-gray-50 rounded-lg p-3 md:p-4 sm:p-4 resize-none mt-3 md:mt-4 sm:mt-4 leading-tight placeholder:opacity-40",onChange:ur,maxLength:200}),f.jsxs("div",{className:"text-right text-xs md:text-sm sm:text-sm text-gray-500 mt-1",children:[l.length,"/200 characters"]}),f.jsxs("div",{className:"mt-3 md:mt-4 sm:mt-4",children:[f.jsx("label",{className:"block text-xs md:text-base sm:text-base font-medium text-gray-700 mb-1",children:"Tags (Press Enter to add, max 5)"}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:u.map((K,ie)=>f.jsxs("div",{className:"flex items-center bg-gray-100 text-gray-800 text-xs md:text-base sm:text-base px-2 md:px-3 sm:px-3 py-1 rounded-full",children:[K,f.jsx("button",{onClick:()=>Na(K),className:"ml-2 text-red-500 hover:text-red-700","aria-label":`Remove tag ${K}`,children:""})]},K+ie))}),f.jsx("input",{type:"text",placeholder:"Add a tag",value:h,onChange:On,onKeyDown:_a,className:"w-full px-3 md:px-4 sm:px-4 py-2 border rounded-lg bg-gray-50 focus:ring-2 focus:ring-yellow-300 focus:border-yellow-400 outline-none text-xs md:text-base sm:text-base",maxLength:20}),f.jsxs("div",{className:"text-right text-xs md:text-sm sm:text-sm text-gray-500 mt-1",children:[u.length,"/5 tags  ",h.length,"/20 characters"]})]}),f.jsx("hr",{className:"w-full opacity-10 my-4 md:my-5 sm:my-5"}),f.jsx("div",{ref:L,className:"font-gelasio overflow-x-auto"})]})]})})]})},Y3=()=>{var _,T;const t=Ln(),{blogId:e}=Uo(),n=200,{blog:r={},setBlog:o,setEditorState:s}=C.useContext(Lm),{userAuth:i}=C.useContext(ye),[a,l]=C.useState([]),[c,u]=C.useState(""),[d,h]=C.useState(!1),[v,g]=C.useState({}),y=!!(r!=null&&r.blog_id||e),x=I=>I?Array.isArray(I)?I.map(j=>({time:(j==null?void 0:j.time)||Date.now(),blocks:Array.isArray(j==null?void 0:j.blocks)?j.blocks:[],version:(j==null?void 0:j.version)||"2.27.2"})):typeof I=="object"&&I!==null?[{time:I.time||Date.now(),blocks:Array.isArray(I.blocks)?I.blocks:[],version:I.version||"2.27.2"}]:[{time:Date.now(),blocks:[],version:"2.27.2"}]:[{time:Date.now(),blocks:[],version:"2.27.2"}];C.useEffect(()=>{r!=null&&r.tags&&l(r.tags)},[r==null?void 0:r.tags]);const b=()=>{var B,L,A;console.log("Validating blog data:",r);const I={};(B=r.title)!=null&&B.trim()?r.title.trim().length>100&&(I.title="Title cannot exceed 100 characters"):I.title="Blog title is required",(L=r.des)!=null&&L.trim()?r.des.length>n&&(I.description=`Description cannot exceed ${n} characters (current: ${r.des.length})`):I.description="Blog description is required",r.banner||(I.banner="Blog banner is required"),(A=r.tags)!=null&&A.length?r.tags.length>5&&(I.tags="Maximum 5 tags allowed"):I.tags="At least one tag is required";const j=S(r.content);return console.log("Content blocks:",j),(!j||!Array.isArray(j)||j.length===0)&&(I.content="Blog content is required"),console.log("Validation errors:",I),g(I),Object.keys(I).length===0},m=async I=>{var L,A,D,O,M,R,z;if(I.preventDefault(),console.log("Publish button clicked"),console.log("Current blog data:",r),console.log("Current userAuth:",i),!b()){console.log("Validation failed"),H.error("Please fix the validation errors before publishing");return}h(!0);const j=i==null?void 0:i.access_token;if(console.log("Access token available:",!!j),!j){H.error("Authentication required"),t("/login"),h(!1);return}const B=H.loading("Publishing...");try{const V={title:r.title.trim(),des:r.des.trim(),banner:((L=r.banner)==null?void 0:L.trim())||"",content:x(r.content),tags:r.tags.map(Y=>Y.trim().toLowerCase()),draft:!1,id:r.blog_id||e||void 0};console.log("Prepared blog data for publishing:",V);let te;y?te=await G.put(`http://localhost:3000/api/update-blog/${r.blog_id||e}`,V,{headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"},timeout:15e3}):te=await G.post("http://localhost:3000/api/create-blog",V,{headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"},timeout:15e3}),console.log("Publish response:",te.data),H.dismiss(B),H.success("Published successfully!"),sessionStorage.removeItem("blog_draft"),sessionStorage.setItem("refresh_drafts","1"),sessionStorage.setItem("refresh_published","1"),setTimeout(()=>t("/dashboard/blogs"),1500)}catch(V){console.error("Publish error details:",V),H.dismiss(B);let te="Failed to publish";((A=V.response)==null?void 0:A.status)===401?(te="Authentication required. Please log in again.",setTimeout(()=>t("/login"),2e3)):((D=V.response)==null?void 0:D.status)===403?te="You don't have permission to publish blogs.":((O=V.response)==null?void 0:O.status)===400?te=((M=V.response.data)==null?void 0:M.error)||"Invalid blog data":(z=(R=V.response)==null?void 0:R.data)!=null&&z.error?te=V.response.data.error:V.code==="ECONNABORTED"?te="Request timed out. Please try again.":V.message&&(te=V.message),H.error(te),console.error("Publish error:",V)}finally{h(!1)}},p=()=>{s("editor"),t("/editor")},w=I=>{const j=I.target.value;o({...r,title:j}),v.title&&g(B=>({...B,title:null}))},E=I=>{const j=I.target.value;o({...r,des:j}),v.description&&g(B=>({...B,description:null}))},N=I=>{u(I.target.value)},P=I=>{if(I.key==="Enter"&&c.trim()){if(I.preventDefault(),a.length>=5){H.error("Maximum 5 tags allowed");return}const j=c.trim().toLowerCase();if(a.map(B=>B.trim().toLowerCase()).includes(j))H.error("Duplicate tag");else{const B=[...a,j];l(B),o({...r,tags:B}),u(""),v.tags&&g(L=>({...L,tags:null}))}}},k=I=>{const j=a.filter(B=>B!==I);l(j),o({...r,tags:j})},S=I=>{var j;if(!I)return null;try{return((j=x(I)[0])==null?void 0:j.blocks)||null}catch(B){return console.error("Error parsing content blocks:",B),null}};return r!=null&&r.banner?f.jsx(Me,{children:f.jsxs("section",{className:"w-full min-h-screen bg-gray-50 py-8 px-4 sm:px-6 publish-form",children:[f.jsx(An,{}),f.jsx("button",{className:"fixed top-4 right-4 z-50 bg-red-500 text-white rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center hover:bg-red-600 transition border-2 border-red-600",onClick:p,disabled:d,"aria-label":"Close publish form",children:f.jsx("span",{className:"text-lg sm:text-xl",children:"X"})}),f.jsxs("div",{className:"max-w-5xl mx-auto flex flex-col gap-6 sm:gap-8",children:[f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 preview-section",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-4",children:"Preview"}),f.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden bg-gray-100",children:f.jsx("img",{src:r.banner,alt:"Blog banner",className:"w-full h-full object-cover",onError:I=>I.target.src="/imgs/blog banner.png"})}),f.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-4 text-gray-900 line-clamp-2",children:r.title||"Untitled Blog"}),f.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-2 line-clamp-3",children:r.des||"No description provided"}),f.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:a.map(I=>f.jsx("span",{className:"bg-black text-yellow-300 text-sm sm:text-base font-medium px-3 py-1 rounded-full",children:I},I))}),f.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[f.jsx("button",{onClick:m,className:`w-full py-3 rounded-lg text-white font-semibold text-sm sm:text-base ${d?"bg-gray-400 cursor-not-allowed":"bg-yellow-400 hover:bg-yellow-500"} transition`,disabled:d,children:d?"Publishing...":" Publish Blog"}),f.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Review your blog details below before publishing"})]})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-4",children:"Blog Details"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm sm:text-base font-medium text-gray-700 mb-1",children:"Blog Title"}),f.jsx("input",{type:"text",placeholder:"Enter blog title",value:r.title||"",onChange:w,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-300 focus:border-yellow-400 outline-none text-sm sm:text-base ${v.title?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,disabled:d,maxLength:100}),v.title&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.title}),f.jsxs("div",{className:"text-right text-xs text-gray-500 mt-1",children:[((_=r.title)==null?void 0:_.length)||0,"/100 characters"]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm sm:text-base font-medium text-gray-700 mb-1 ",children:"Description"}),f.jsx("textarea",{placeholder:"Write a short description",value:r.des||"",onChange:E,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-300 focus:border-yellow-400  outline-none h-24 sm:h-32 resize-none text-sm sm:text-base ${v.description?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,disabled:d,maxLength:n}),v.description&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.description}),f.jsxs("div",{className:"flex justify-between items-center mt-1 text-xs text-gray-500",children:[f.jsxs("span",{children:["Current length: ",((T=r.des)==null?void 0:T.length)||0," characters"]}),f.jsxs("span",{children:["Max: ",n," characters"]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm sm:text-base font-medium text-gray-700 mb-1",children:"Tags (Press Enter to add, max 5)"}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:a.map(I=>f.jsxs("div",{className:"flex items-center bg-gray-100 text-gray-800 text-sm sm:text-base px-3 py-1 rounded-full",children:[I,f.jsx("button",{onClick:()=>k(I),className:"ml-2 text-red-500 hover:text-red-700",disabled:d,"aria-label":`Remove tag ${I}`,children:""})]},I))}),f.jsx("input",{type:"text",placeholder:"Add a tag",value:c,onChange:N,onKeyDown:P,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-300 focus:border-yellow-400 outline-none text-sm sm:text-base ${v.tags?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,disabled:d,maxLength:20}),v.tags&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.tags}),f.jsxs("div",{className:"text-right text-xs text-gray-500 mt-1",children:[a.length,"/5 tags  ",c.length,"/20 characters"]})]}),v.content&&f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:f.jsx("p",{className:"text-red-600 text-sm",children:v.content})}),v.banner&&f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:f.jsx("p",{className:"text-red-600 text-sm",children:v.banner})})]})]})]})]})}):f.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[f.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Banner Required"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"A banner image is required to publish a blog."}),f.jsx("button",{className:"btn-dark px-8",onClick:p,children:"Back to Editor"})]})})},Oe=()=>f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsx("div",{className:"w-8 h-8 border-4 border-yellow-300 border-t-transparent rounded-full animate-spin"}),f.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});class X3 extends Q.Component{constructor(n){super(n);ju(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()});ju(this,"handleGoBack",()=>{window.history.back()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){this.setState({error:n,errorInfo:r}),console.error("Editor Error:",n,r)}render(){return this.state.hasError?f.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[f.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Editor Error"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Something went wrong with the editor. This might be due to a temporary issue or unsaved changes."}),f.jsxs("div",{className:"flex gap-3 justify-center",children:[f.jsx("button",{onClick:this.handleRetry,className:"btn-dark px-4 py-2",children:"Try Again"}),f.jsx("button",{onClick:this.handleGoBack,className:"btn-light px-4 py-2",children:"Go Back"})]}),!1]})}):this.props.children}}const Z0={title:"",banner:"",content:[{time:Date.now(),blocks:[],version:"2.27.2"}],tags:[],des:"",author:{personal_info:{}}},Lm=C.createContext({}),ey=()=>{let{blog_id:t}=Uo();const e=Ln(),[n,r]=C.useState(Z0),[o,s]=C.useState("editor"),[i,a]=C.useState({isReady:!1}),[l,c]=C.useState(!0),[u,d]=C.useState(null),{userAuth:h={}}=C.useContext(ye),{access_token:v,isAdmin:g}=h;return C.useEffect(()=>{if(console.log("Editor component mounted with blog_id:",t),console.log("Current userAuth:",h),console.log("Current access_token:",v),!t){console.log("No blog_id provided, initializing empty editor"),c(!1),r(Z0);return}if(!v){console.log("No access token available"),d("Authentication required. Please log in to continue."),c(!1);return}if(!g){d("Access denied. Admin privileges required to edit blogs."),c(!1);return}let y=!0;const x=new AbortController;return(async()=>{var m;try{console.log("Fetching blog with ID:",t);const p={Authorization:`Bearer ${v}`,"Content-Type":"application/json"};console.log("Request headers:",p);const w=await G.post("http://localhost:3000/api/get-blog",{blog_id:t,draft:!0,mode:"edit"},{headers:p,signal:x.signal,timeout:1e4});if(console.log("Server response:",w.data),y)if(w.data.blog){const E=w.data.blog;console.log("Raw fetched blog data:",E);let N;E.content?Array.isArray(E.content)?E.content.length===0?N=[{time:Date.now(),blocks:[],version:"2.27.2"}]:N=E.content.map(k=>(console.log("Processing content item:",k),{time:k.time||Date.now(),blocks:Array.isArray(k.blocks)?k.blocks:[],version:k.version||"2.27.2"})):N=[{time:Date.now(),blocks:E.content.blocks||[],version:"2.27.2"}]:N=[{time:Date.now(),blocks:[],version:"2.27.2"}];const P={...E,content:N};console.log("Formatted blog data:",P),console.log("Content structure:",P.content),console.log("First content item:",P.content[0]),console.log("Blocks in first content item:",(m=P.content[0])==null?void 0:m.blocks),r(P),d(null)}else console.error("No blog data in response"),d("Blog not found or you don't have permission to edit this blog."),r(null)}catch(p){y&&(console.error("Error fetching blog:",p),p.response?(console.error("Error response:",p.response.data),console.error("Error status:",p.response.status),console.error("Error headers:",p.response.headers),p.response.status===401?d("Authentication expired. Please log in again."):p.response.status===403?d("You don't have permission to edit this blog."):p.response.status===404?d("Blog not found."):d("Failed to load blog. Please try again.")):p.code==="ECONNABORTED"?d("Request timed out. Please check your connection and try again."):d("Failed to load blog. Please try again."),r(null))}finally{y&&c(!1)}})(),()=>{y=!1,x.abort()}},[t,v,g,h]),v?l?(console.log("Loading state active"),f.jsx(Oe,{})):u?f.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[f.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Access Error"}),f.jsx("p",{className:"text-gray-600 mb-6",children:u}),f.jsxs("div",{className:"flex gap-3 justify-center",children:[f.jsx("button",{onClick:()=>window.location.reload(),className:"btn-dark px-4 py-2",children:"Try Again"}),f.jsx("button",{onClick:()=>window.history.back(),className:"btn-light px-4 py-2",children:"Go Back"})]})]})}):g?n===null?f.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[f.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Blog Not Found"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"The blog you're looking for doesn't exist or you don't have permission to edit it."}),f.jsxs("div",{className:"flex gap-3 justify-center",children:[f.jsx("button",{onClick:()=>e("/editor"),className:"btn-dark px-4 py-2",children:"Create New Blog"}),f.jsx("button",{onClick:()=>window.history.back(),className:"btn-light px-4 py-2",children:"Go Back"})]})]})}):(console.log("Rendering editor with blog data:",n),f.jsx(X3,{children:f.jsx(Lm.Provider,{value:{blog:n,setBlog:r,editorState:o,setEditorState:s,textEditor:i,setTextEditor:a},children:f.jsxs("div",{className:"editor-page",children:[o==="editor"&&n&&h&&h.access_token&&f.jsx(K3,{}),o==="publish"&&n&&h&&h.access_token&&f.jsx(Y3,{})]})})})):f.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[f.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Access Denied"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"You need admin privileges to access the editor."}),f.jsx("button",{onClick:()=>window.history.back(),className:"btn-dark px-4 py-2",children:"Go Back"})]})}):(console.log("No access token, redirecting to login"),f.jsx(jp,{to:"/login",replace:!0}))};let Un,tl;const _c=({routes:t=[],defaultHidden:e=[],defaultActiveIndex:n=0,children:r})=>{Un=C.useRef(),tl=C.useRef();const[o,s]=C.useState(n),i=(a,l)=>{if(!a)return;const{offsetWidth:c,offsetLeft:u}=a;Un.current&&(Un.current.style.width=c+"px",Un.current.style.left=u+"px"),s(l)};return C.useEffect(()=>{tl.current&&i(tl.current,n)},[]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"relative mb-8 bg-white border-b border-grey flex flex-nowrap overflow-x-auto",children:[t.map((a,l)=>f.jsx("button",{ref:l===n?tl:null,className:`p-4 px-5 capitalize ${o===l?"text-black ":"text-dark-grey "}${e.includes(a)?"md:hidden ":""}`,onClick:c=>i(c.target,l),children:a},l)),f.jsx("hr",{ref:Un,className:"absolute bottom-0 duration-300"})]}),Array.isArray(r)?r[o]:r]})};let uS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];const Ao=t=>{let e=new Date(t);return`${e.getDate()} ${uS[e.getMonth()]}`},dS=t=>{let e=new Date(t);return`${e.getDate()} ${uS[e.getMonth()]} ${e.getFullYear()}`};function fS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=fS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function So(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=fS(t))&&(r&&(r+=" "),r+=e);return r}function J3(t){if(!t||typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}J3(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ta=t=>typeof t=="number"&&!isNaN(t),Oo=t=>typeof t=="string",lr=t=>typeof t=="function",Q3=t=>Oo(t)||Ta(t),Sh=t=>Oo(t)||lr(t)?t:null,Z3=(t,e)=>t===!1||Ta(t)&&t>0?t:e,Eh=t=>C.isValidElement(t)||Oo(t)||lr(t)||Ta(t);function e4(t,e,n=300){let{scrollHeight:r,style:o}=t;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,n)})})}function t4({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:o=300}){return function({children:s,position:i,preventExitTransition:a,done:l,nodeRef:c,isIn:u,playToast:d}){let h=n?`${t}--${i}`:t,v=n?`${e}--${i}`:e,g=C.useRef(0);return C.useLayoutEffect(()=>{let y=c.current,x=h.split(" "),b=m=>{m.target===c.current&&(d(),y.removeEventListener("animationend",b),y.removeEventListener("animationcancel",b),g.current===0&&m.type!=="animationcancel"&&y.classList.remove(...x))};y.classList.add(...x),y.addEventListener("animationend",b),y.addEventListener("animationcancel",b)},[]),C.useEffect(()=>{let y=c.current,x=()=>{y.removeEventListener("animationend",x),r?e4(y,l,o):l()};u||(a?x():(g.current=1,y.className+=` ${v}`,y.addEventListener("animationend",x)))},[u]),Q.createElement(Q.Fragment,null,s)}}function ty(t,e){return{content:hS(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function hS(t,e,n=!1){return C.isValidElement(t)&&!Oo(t.type)?C.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):lr(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function n4({closeToast:t,theme:e,ariaLabel:n="close"}){return Q.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},Q.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Q.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function r4({delay:t,isRunning:e,closeToast:n,type:r="default",hide:o,className:s,controlledProgress:i,progress:a,rtl:l,isIn:c,theme:u}){let d=o||i&&a===0,h={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};i&&(h.transform=`scaleX(${a})`);let v=So("Toastify__progress-bar",i?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),g=lr(s)?s({rtl:l,type:r,defaultClassName:v}):So(v,s),y={[i&&a>=1?"onTransitionEnd":"onAnimationEnd"]:i&&a<1?null:()=>{c&&n()}};return Q.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":d},Q.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${r}`}),Q.createElement("div",{role:"progressbar","aria-hidden":d?"true":"false","aria-label":"notification timer",className:g,style:h,...y}))}var o4=1,pS=()=>`${o4++}`;function s4(t,e,n){let r=1,o=0,s=[],i=[],a=e,l=new Map,c=new Set,u=m=>(c.add(m),()=>c.delete(m)),d=()=>{i=Array.from(l.values()),c.forEach(m=>m())},h=({containerId:m,toastId:p,updateId:w})=>{let E=m?m!==t:t!==1,N=l.has(p)&&w==null;return E||N},v=(m,p)=>{l.forEach(w=>{var E;(p==null||p===w.props.toastId)&&((E=w.toggle)==null||E.call(w,m))})},g=m=>{var p,w;(w=(p=m.props)==null?void 0:p.onClose)==null||w.call(p,m.removalReason),m.isActive=!1},y=m=>{if(m==null)l.forEach(g);else{let p=l.get(m);p&&g(p)}d()},x=()=>{o-=s.length,s=[]},b=m=>{var p,w;let{toastId:E,updateId:N}=m.props,P=N==null;m.staleId&&l.delete(m.staleId),m.isActive=!0,l.set(E,m),d(),n(ty(m,P?"added":"updated")),P&&((w=(p=m.props).onOpen)==null||w.call(p))};return{id:t,props:a,observe:u,toggle:v,removeToast:y,toasts:l,clearQueue:x,buildToast:(m,p)=>{if(h(p))return;let{toastId:w,updateId:E,data:N,staleId:P,delay:k}=p,S=E==null;S&&o++;let _={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(p).filter(([I,j])=>j!=null)),toastId:w,updateId:E,data:N,isIn:!1,className:Sh(p.className||a.toastClassName),progressClassName:Sh(p.progressClassName||a.progressClassName),autoClose:p.isLoading?!1:Z3(p.autoClose,a.autoClose),closeToast(I){l.get(w).removalReason=I,y(w)},deleteToast(){let I=l.get(w);if(I!=null){if(n(ty(I,"removed")),l.delete(w),o--,o<0&&(o=0),s.length>0){b(s.shift());return}d()}}};_.closeButton=a.closeButton,p.closeButton===!1||Eh(p.closeButton)?_.closeButton=p.closeButton:p.closeButton===!0&&(_.closeButton=Eh(a.closeButton)?a.closeButton:!0);let T={content:m,props:_,staleId:P};a.limit&&a.limit>0&&o>a.limit&&S?s.push(T):Ta(k)?setTimeout(()=>{b(T)},k):b(T)},setProps(m){a=m},setToggle:(m,p)=>{let w=l.get(m);w&&(w.toggle=p)},isToastActive:m=>{var p;return(p=l.get(m))==null?void 0:p.isActive},getSnapshot:()=>i}}var bt=new Map,ia=[],Th=new Set,i4=t=>Th.forEach(e=>e(t)),mS=()=>bt.size>0;function a4(){ia.forEach(t=>vS(t.content,t.options)),ia=[]}var l4=(t,{containerId:e})=>{var n;return(n=bt.get(e||1))==null?void 0:n.toasts.get(t)};function gS(t,e){var n;if(e)return!!((n=bt.get(e))!=null&&n.isToastActive(t));let r=!1;return bt.forEach(o=>{o.isToastActive(t)&&(r=!0)}),r}function c4(t){if(!mS()){ia=ia.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||Q3(t))bt.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=bt.get(t.containerId);e?e.removeToast(t.id):bt.forEach(n=>{n.removeToast(t.id)})}}var u4=(t={})=>{bt.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function vS(t,e){Eh(t)&&(mS()||ia.push({content:t,options:e}),bt.forEach(n=>{n.buildToast(t,e)}))}function d4(t){var e;(e=bt.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function yS(t,e){bt.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function f4(t){let e=t.containerId||1;return{subscribe(n){let r=s4(e,t,i4);bt.set(e,r);let o=r.observe(n);return a4(),()=>{o(),bt.delete(e)}},setProps(n){var r;(r=bt.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=bt.get(e))==null?void 0:n.getSnapshot()}}}function h4(t){return Th.add(t),()=>{Th.delete(t)}}function p4(t){return t&&(Oo(t.toastId)||Ta(t.toastId))?t.toastId:pS()}function Ca(t,e){return vS(t,e),e.toastId}function Eu(t,e){return{...e,type:e&&e.type||t,toastId:p4(e)}}function Tu(t){return(e,n)=>Ca(e,Eu(t,n))}function he(t,e){return Ca(t,Eu("default",e))}he.loading=(t,e)=>Ca(t,Eu("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function m4(t,{pending:e,error:n,success:r},o){let s;e&&(s=Oo(e)?he.loading(e,o):he.loading(e.render,{...o,...e}));let i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,u,d)=>{if(u==null){he.dismiss(s);return}let h={type:c,...i,...o,data:d},v=Oo(u)?{render:u}:u;return s?he.update(s,{...h,...v}):he(v.render,{...h,...v}),d},l=lr(t)?t():t;return l.then(c=>a("success",r,c)).catch(c=>a("error",n,c)),l}he.promise=m4;he.success=Tu("success");he.info=Tu("info");he.error=Tu("error");he.warning=Tu("warning");he.warn=he.warning;he.dark=(t,e)=>Ca(t,Eu("default",{theme:"dark",...e}));function g4(t){c4(t)}he.dismiss=g4;he.clearWaitingQueue=u4;he.isActive=gS;he.update=(t,e={})=>{let n=l4(t,e);if(n){let{props:r,content:o}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:pS()};s.toastId!==t&&(s.staleId=t);let i=s.render||o;delete s.render,Ca(i,s)}};he.done=t=>{he.update(t,{progress:1})};he.onChange=h4;he.play=t=>yS(!0,t);he.pause=t=>yS(!1,t);function v4(t){var e;let{subscribe:n,getSnapshot:r,setProps:o}=C.useRef(f4(t)).current;o(t);let s=(e=C.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function i(a){if(!s)return[];let l=new Map;return t.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:u}=c.props;l.has(u)||l.set(u,[]),l.get(u).push(c)}),Array.from(l,c=>a(c[0],c[1]))}return{getToastToRender:i,isToastActive:gS,count:s==null?void 0:s.length}}function y4(t){let[e,n]=C.useState(!1),[r,o]=C.useState(!1),s=C.useRef(null),i=C.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:d}=t;d4({id:t.toastId,containerId:t.containerId,fn:n}),C.useEffect(()=>{if(t.pauseOnFocusLoss)return h(),()=>{v()}},[t.pauseOnFocusLoss]);function h(){document.hasFocus()||b(),window.addEventListener("focus",x),window.addEventListener("blur",b)}function v(){window.removeEventListener("focus",x),window.removeEventListener("blur",b)}function g(P){if(t.draggable===!0||t.draggable===P.pointerType){m();let k=s.current;i.canCloseOnClick=!0,i.canDrag=!0,k.style.transition="none",t.draggableDirection==="x"?(i.start=P.clientX,i.removalDistance=k.offsetWidth*(t.draggablePercent/100)):(i.start=P.clientY,i.removalDistance=k.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function y(P){let{top:k,bottom:S,left:_,right:T}=s.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&t.pauseOnHover&&P.clientX>=_&&P.clientX<=T&&P.clientY>=k&&P.clientY<=S?b():x()}function x(){n(!0)}function b(){n(!1)}function m(){i.didMove=!1,document.addEventListener("pointermove",w),document.addEventListener("pointerup",E)}function p(){document.removeEventListener("pointermove",w),document.removeEventListener("pointerup",E)}function w(P){let k=s.current;if(i.canDrag&&k){i.didMove=!0,e&&b(),t.draggableDirection==="x"?i.delta=P.clientX-i.start:i.delta=P.clientY-i.start,i.start!==P.clientX&&(i.canCloseOnClick=!1);let S=t.draggableDirection==="x"?`${i.delta}px, var(--y)`:`0, calc(${i.delta}px + var(--y))`;k.style.transform=`translate3d(${S},0)`,k.style.opacity=`${1-Math.abs(i.delta/i.removalDistance)}`}}function E(){p();let P=s.current;if(i.canDrag&&i.didMove&&P){if(i.canDrag=!1,Math.abs(i.delta)>i.removalDistance){o(!0),t.closeToast(!0),t.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let N={onPointerDown:g,onPointerUp:y};return a&&l&&(N.onMouseEnter=b,t.stacked||(N.onMouseLeave=x)),d&&(N.onClick=P=>{u&&u(P),i.canCloseOnClick&&c(!0)}),{playToast:x,pauseToast:b,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:N}}var b4=typeof window<"u"?C.useLayoutEffect:C.useEffect,Cu=({theme:t,type:e,isLoading:n,...r})=>Q.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function x4(t){return Q.createElement(Cu,{...t},Q.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function w4(t){return Q.createElement(Cu,{...t},Q.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function k4(t){return Q.createElement(Cu,{...t},Q.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function S4(t){return Q.createElement(Cu,{...t},Q.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function E4(){return Q.createElement("div",{className:"Toastify__spinner"})}var Ch={info:w4,warning:x4,success:k4,error:S4,spinner:E4},T4=t=>t in Ch;function C4({theme:t,type:e,isLoading:n,icon:r}){let o=null,s={theme:t,type:e};return r===!1||(lr(r)?o=r({...s,isLoading:n}):C.isValidElement(r)?o=C.cloneElement(r,s):n?o=Ch.spinner():T4(e)&&(o=Ch[e](s))),o}var _4=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:o,playToast:s}=y4(t),{closeButton:i,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:h,transition:v,position:g,className:y,style:x,progressClassName:b,updateId:m,role:p,progress:w,rtl:E,toastId:N,deleteToast:P,isIn:k,isLoading:S,closeOnClick:_,theme:T,ariaLabel:I}=t,j=So("Toastify__toast",`Toastify__toast-theme--${T}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":_}),B=lr(y)?y({rtl:E,position:g,type:u,defaultClassName:j}):So(j,y),L=C4(t),A=!!w||!l,D={closeToast:h,type:u,theme:T},O=null;return i===!1||(lr(i)?O=i(D):C.isValidElement(i)?O=C.cloneElement(i,D):O=n4(D)),Q.createElement(v,{isIn:k,done:P,position:g,preventExitTransition:n,nodeRef:r,playToast:s},Q.createElement("div",{id:N,tabIndex:0,onClick:c,"data-in":k,className:B,...o,style:x,ref:r,...k&&{role:p,"aria-label":I}},L!=null&&Q.createElement("div",{className:So("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!S})},L),hS(a,t,!e),O,!t.customProgressBar&&Q.createElement(r4,{...m&&!A?{key:`p-${m}`}:{},rtl:E,theme:T,delay:l,isRunning:e,isIn:k,closeToast:h,hide:d,type:u,className:b,controlledProgress:A,progress:w||0})))},N4=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),P4=t4(N4("bounce",!0)),I4={position:"top-right",transition:P4,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function j4(t){let e={...I4,...t},n=t.stacked,[r,o]=C.useState(!0),s=C.useRef(null),{getToastToRender:i,isToastActive:a,count:l}=v4(e),{className:c,style:u,rtl:d,containerId:h,hotKeys:v}=e;function g(x){let b=So("Toastify__toast-container",`Toastify__toast-container--${x}`,{"Toastify__toast-container--rtl":d});return lr(c)?c({position:x,rtl:d,defaultClassName:b}):So(b,Sh(c))}function y(){n&&(o(!0),he.play())}return b4(()=>{var x;if(n){let b=s.current.querySelectorAll('[data-in="true"]'),m=12,p=(x=e.position)==null?void 0:x.includes("top"),w=0,E=0;Array.from(b).reverse().forEach((N,P)=>{let k=N;k.classList.add("Toastify__toast--stacked"),P>0&&(k.dataset.collapsed=`${r}`),k.dataset.pos||(k.dataset.pos=p?"top":"bot");let S=w*(r?.2:1)+(r?0:m*P);k.style.setProperty("--y",`${p?S:S*-1}px`),k.style.setProperty("--g",`${m}`),k.style.setProperty("--s",`${1-(r?E:0)}`),w+=k.offsetHeight,E+=.025})}},[r,l,n]),C.useEffect(()=>{function x(b){var m;let p=s.current;v(b)&&((m=p.querySelector('[tabIndex="0"]'))==null||m.focus(),o(!1),he.pause()),b.key==="Escape"&&(document.activeElement===p||p!=null&&p.contains(document.activeElement))&&(o(!0),he.play())}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[v]),Q.createElement("section",{ref:s,className:"Toastify",id:h,onMouseEnter:()=>{n&&(o(!1),he.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},i((x,b)=>{let m=b.length?{...u}:{...u,pointerEvents:"none"};return Q.createElement("div",{tabIndex:-1,className:g(x),"data-stacked":n,style:m,key:`c-${x}`},b.map(({content:p,props:w})=>Q.createElement(_4,{...w,stacked:n,collapseAll:y,isIn:a(w.toastId,w.containerId),key:`t-${w.key}`},p)))}))}const ds=({content:t,author:e,liked:n,onLikeToggle:r})=>{var T,I,j;let{publishedAt:o,tags:s,title:i,des:a,banner:l,activity:{total_likes:c},blog_id:u}=t,{fullname:d,profile_img:h,username:v}=e;const[g,y]=C.useState(!1),[x,b]=C.useState(!1),{userAuth:m,setUserAuth:p}=C.useContext(ye),[w,E]=C.useState(c),[N,P]=C.useState(n),k=(T=m==null?void 0:m.bookmarked_blogs)==null?void 0:T.includes(u);C.useEffect(()=>{P(n)},[n]),C.useEffect(()=>{E(c)},[c]);const S=async B=>{if(B.preventDefault(),!(g||!(m!=null&&m.access_token))){y(!0),P(L=>!L),E(L=>L+(N?-1:1));try{const{data:L}=await G.post("http://localhost:3000/api/like-blog",{blog_id:u},{headers:{Authorization:`Bearer ${m.access_token}`}});r&&r(L.liked,u)}catch{P(A=>!A),E(A=>A+(N?1:-1))}finally{y(!1)}}},_=async B=>{if(B.preventDefault(),!(!(m!=null&&m.access_token)||x)){b(!0);try{const L=u,A=k?"/unbookmark-blog":"/bookmark-blog";await G.post("http://localhost:3000/api"+A,{blog_id:L},{headers:{Authorization:`Bearer ${m.access_token}`}});const{data:D}=await G.post("http://localhost:3000/api/get-profile",{username:m.username});Ut({...D,access_token:m.access_token},p)}catch(L){he.error("Failed to update bookmark. Please try again."),console.error("Bookmark error:",L)}finally{setTimeout(()=>{b(!1)},300)}}};return f.jsx(ee,{to:`/blog/${u}`,className:"block border-b border-grey pb-5 mb-4",children:f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-8 items-stretch",children:[f.jsx("div",{className:"w-full h-40 sm:w-36 sm:h-28 flex-shrink-0 bg-grey rounded-md overflow-hidden",children:f.jsx("img",{src:l,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[f.jsx("img",{src:h||"/src/imgs/user profile.png",className:"w-6 h-6 rounded-full",alt:d}),f.jsxs("p",{className:"line-clamp-1",children:[d," @",v]}),f.jsx("p",{className:"min-w-fit",children:Ao(o)})]}),f.jsx("h1",{className:"blog-title",children:i}),f.jsx("p",{className:"my-3 text-base sm:text-xl font-gelasio leading-7 line-clamp-2",children:a})]}),f.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 items-center",children:[f.jsx("span",{className:"btn-light py-1 px-4",children:s[0]}),f.jsxs("button",{onClick:S,disabled:g,className:`flex items-center gap-2 text-dark-grey ${N?"text-red-500":""} hover:text-red-500 transition-colors`,children:[f.jsx("i",{className:`fi ${N?"fi-sr-heart":"fi-rr-heart"} text-xl`}),w]}),f.jsx("button",{onClick:_,disabled:x,className:`flex items-center gap-2 text-dark-grey ${k?"text-yellow-500":""} hover:text-yellow-500 transition-colors`,"aria-label":k?"Unbookmark":"Bookmark",children:f.jsx("i",{className:`fi ${k?"fi-sr-bookmark":"fi-rr-bookmark"} text-xl`})}),f.jsxs("span",{className:"flex items-center gap-1 text-gray-500 text-sm",children:[f.jsx("i",{className:"fi fi-rr-eye"})," ",((I=t.activity)==null?void 0:I.total_reads)||0," Views"]}),f.jsxs("span",{className:"flex items-center gap-1 text-gray-500 text-sm",children:[f.jsx("i",{className:"fi fi-rr-comment-dots"})," ",((j=t.activity)==null?void 0:j.total_comments)||0," Comments"]})]})]})]})})},Pt=({message:t})=>f.jsx("div",{className:"text-center w-full p-4 rounded-full bg-grey/50 mt-4",children:f.jsx("p",{children:t})}),Xn=({state:t,fetchDataFun:e,additionalParam:n})=>{const{theme:r}=C.useContext(Bm);let o=r==="dark"?"bg-purple-600 text-white p-2 px-4 rounded-md flex items-center gap-2 font-semibold shadow hover:bg-purple-700 transition-colors duration-150":"bg-white border border-purple-600 text-purple-700 p-2 px-4 rounded-md flex items-center gap-2 font-semibold shadow hover:bg-purple-100 transition-colors duration-150";return t&&typeof t.totalDocs=="number"&&Array.isArray(t.results)&&t.totalDocs>t.results.length?f.jsx("button",{onClick:()=>e({...n||{},page:(t.page||1)+1}),className:o,children:"Load More"}):null},Bo=async({create_new_arr:t=!1,state:e,data:n,page:r,countRoute:o,data_to_send:s={},user:i=null})=>{var a;try{if(console.log("filterPaginationData called with:",{create_new_arr:t,stateExists:!!e,dataLength:n==null?void 0:n.length,page:r,countRoute:o,data_to_send:s}),e!==null&&!t)return console.log("Appending to existing state"),{...e,results:[...e.results,...n],page:r,totalDocs:e.totalDocs};{console.log("Creating new state, fetching count from:",o);const l={};i&&(l.Authorization=`Bearer ${i}`);const{data:c}=await G.post("http://localhost:3000/api"+o,s,{headers:l,timeout:1e4});return console.log("Count response:",c),{results:n||[],page:1,totalDocs:c.totalDocs||0}}}catch(l){return console.error("Error in filterPaginationData:",l),console.error("Error details:",{name:l.name,message:l.message,response:(a=l.response)==null?void 0:a.data}),{results:n||[],page:r||1,totalDocs:0}}};var bS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ny=Q.createContext&&Q.createContext(bS),L4=["attr","size","title"];function A4(t,e){if(t==null)return{};var n=O4(t,e),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(o=0;o<s.length;o++)r=s[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function O4(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nc(){return Nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nc.apply(this,arguments)}function ry(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Pc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ry(Object(n),!0).forEach(function(r){B4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ry(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B4(t,e,n){return e=M4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M4(t){var e=R4(t,"string");return typeof e=="symbol"?e:e+""}function R4(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xS(t){return t&&t.map((e,n)=>Q.createElement(e.tag,Pc({key:n},e.attr),xS(e.child)))}function _u(t){return e=>Q.createElement(D4,Nc({attr:Pc({},t.attr)},e),xS(t.child))}function D4(t){var e=n=>{var{attr:r,size:o,title:s}=t,i=A4(t,L4),a=o||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Q.createElement("svg",Nc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,i,{className:l,style:Pc(Pc({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Q.createElement("title",null,s),t.children)};return ny!==void 0?Q.createElement(ny.Consumer,null,n=>e(n)):e(bS)}function F4(t){return _u({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}const U4="https://images.unsplash.com/photo-1465101178521-c1a9136a3b99?auto=format&fit=crop&w=400&q=80",$4=({categoryName:t,onCategorySelect:e})=>{const[n,r]=C.useState(U4);return C.useEffect(()=>{let o=!0;return G.post("http://localhost:3000/api/search-blogs",{tag:t,limit:1,select:["banner"]}).then(({data:s})=>{o&&s.blogs&&s.blogs.length&&s.blogs[0].banner&&r(s.blogs[0].banner)}).catch(s=>{console.log(s)}),()=>{o=!1}},[t]),f.jsx("div",{className:"category-card min-w-[110px] h-[48px] rounded-xl overflow-hidden relative flex-shrink-0 cursor-pointer snap-center",style:{backgroundImage:`url(${n})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>e&&e(t),children:f.jsx("div",{className:"absolute inset-0 bg-lime-950 bg-opacity-70 flex items-center justify-center",children:f.jsxs("span",{className:"text-white font-medium text-sm capitalize",children:["#",t]})})})};function z4({categories:t=[],blogs:e=[],onCategorySelect:n}){const r=C.useRef(null),o=()=>{r.current.scrollBy({left:200,behavior:"smooth"})};return f.jsx("div",{className:"w-full px-[5vw] mt-6 relative",children:f.jsxs("div",{className:"bg-grey w-full max-w-[1400px] mx-auto relative",children:[f.jsx("div",{ref:r,className:"flex space-x-4 overflow-x-auto scrollbar-hide mx-auto snap-x snap-mandatory",style:{scrollBehavior:"smooth",paddingRight:"60px"},children:t.map(s=>{const i=typeof s=="string"?s:s.name,a=e.filter(l=>l.tags&&l.tags.map(c=>c.toLowerCase()).includes(i.toLowerCase())&&l.banner);return f.jsx($4,{categoryName:i,initialBlogs:a,onCategorySelect:n},i)})}),f.jsx("button",{onClick:o,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white rounded-full shadow p-2 border border-grey z-10",style:{boxShadow:"0 2px 8px rgba(0,0,0,0.07)"},children:f.jsx(F4,{})})]})})}const oy=({blog:t,className:e})=>{if(!t)return null;const{title:n,des:r,banner:o,blog_id:s}=t;return f.jsxs(ee,{to:`/blog/${s}`,className:`relative w-full h-full rounded-lg overflow-hidden group block ${e}`,children:[f.jsx("img",{src:o,alt:n,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),f.jsxs("div",{className:"absolute bottom-0 left-0 w-full p-4 bg-white/80 backdrop-blur-sm",children:[f.jsx("h3",{className:"text-xs font-normal text-black",style:{fontSize:"10px"},children:n}),f.jsx("p",{className:"text-gray-800 mt-1 line-clamp-2 text-sm",children:r})]})]})};function sy(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Am(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:sy(e[r])&&sy(t[r])&&Object.keys(e[r]).length>0&&Am(t[r],e[r])})}const wS={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Pn(){const t=typeof document<"u"?document:{};return Am(t,wS),t}const V4={document:wS,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Et(){const t=typeof window<"u"?window:{};return Am(t,V4),t}function H4(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function W4(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function kS(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Ic(){return Date.now()}function G4(t){const e=Et();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function q4(t,e){e===void 0&&(e="x");const n=Et();let r,o,s;const i=G4(t);return n.WebKitCSSMatrix?(o=i.transform||i.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(o==="none"?"":o)):(s=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?o=s.m41:r.length===16?o=parseFloat(r[12]):o=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?o=s.m42:r.length===16?o=parseFloat(r[13]):o=parseFloat(r[5])),o||0}function nl(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function K4(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Rt(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!K4(r)){const o=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,i=o.length;s<i;s+=1){const a=o[s],l=Object.getOwnPropertyDescriptor(r,a);l!==void 0&&l.enumerable&&(nl(t[a])&&nl(r[a])?r[a].__swiper__?t[a]=r[a]:Rt(t[a],r[a]):!nl(t[a])&&nl(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:Rt(t[a],r[a])):t[a]=r[a])}}}return t}function rl(t,e,n){t.style.setProperty(e,n)}function SS(t){let{swiper:e,targetPosition:n,side:r}=t;const o=Et(),s=-e.translate;let i=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",o.cancelAnimationFrame(e.cssModeFrameID);const c=n>s?"next":"prev",u=(h,v)=>c==="next"&&h>=v||c==="prev"&&h<=v,d=()=>{a=new Date().getTime(),i===null&&(i=a);const h=Math.max(Math.min((a-i)/l,1),0),v=.5-Math.cos(h*Math.PI)/2;let g=s+v*(n-s);if(u(g,n)&&(g=n),e.wrapperEl.scrollTo({[r]:g}),u(g,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:g})}),o.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=o.requestAnimationFrame(d)};d()}function Sn(t,e){e===void 0&&(e="");const n=Et(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(o=>o.matches(e)):r}function Y4(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function X4(t,e){const n=Et();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=Y4(t,e))),r}function jc(t){try{console.warn(t);return}catch{}}function Lc(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:H4(e)),n}function J4(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Q4(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Ir(t,e){return Et().getComputedStyle(t,null).getPropertyValue(e)}function Ac(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function ES(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function _h(t,e,n){const r=Et();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function et(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function Oc(t,e){e===void 0&&(e=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let Ld;function Z4(){const t=Et(),e=Pn();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function TS(){return Ld||(Ld=Z4()),Ld}let Ad;function e5(t){let{userAgent:e}=t===void 0?{}:t;const n=TS(),r=Et(),o=r.navigator.platform,s=e||r.navigator.userAgent,i={ios:!1,android:!1},a=r.screen.width,l=r.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),v=o==="Win32";let g=o==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&g&&n.touch&&y.indexOf(`${a}x${l}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),c&&!v&&(i.os="android",i.android=!0),(u||h||d)&&(i.os="ios",i.ios=!0),i}function CS(t){return t===void 0&&(t={}),Ad||(Ad=e5(t)),Ad}let Od;function t5(){const t=Et(),e=CS();let n=!1;function r(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=l<16||l===16&&c<2}}const o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),i=s||o&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:i,isWebView:o}}function _S(){return Od||(Od=t5()),Od}function n5(t){let{swiper:e,on:n,emit:r}=t;const o=Et();let s=null,i=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(d=>{i=o.requestAnimationFrame(()=>{const{width:h,height:v}=e;let g=h,y=v;d.forEach(x=>{let{contentBoxSize:b,contentRect:m,target:p}=x;p&&p!==e.el||(g=m?m.width:(b[0]||b).inlineSize,y=m?m.height:(b[0]||b).blockSize)}),(g!==h||y!==v)&&a()})}),s.observe(e.el))},c=()=>{i&&o.cancelAnimationFrame(i),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},u=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof o.ResizeObserver<"u"){l();return}o.addEventListener("resize",a),o.addEventListener("orientationchange",u)}),n("destroy",()=>{c(),o.removeEventListener("resize",a),o.removeEventListener("orientationchange",u)})}function r5(t){let{swiper:e,extendParams:n,on:r,emit:o}=t;const s=[],i=Et(),a=function(u,d){d===void 0&&(d={});const h=i.MutationObserver||i.WebkitMutationObserver,v=new h(g=>{if(e.__preventObserver__)return;if(g.length===1){o("observerUpdate",g[0]);return}const y=function(){o("observerUpdate",g[0])};i.requestAnimationFrame?i.requestAnimationFrame(y):i.setTimeout(y,0)});v.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:e.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),s.push(v)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=ES(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",c)}var o5={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const o=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][o](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function o(){r.off(t,o),o.__emitterProxy&&delete o.__emitterProxy;for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];e.apply(r,i)}return o.__emitterProxy=e,r.on(t,o,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((o,s)=>{(o===e||o.__emitterProxy&&o.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(r,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(r,n)})}),t}};function s5(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Ir(r,"padding-left")||0,10)-parseInt(Ir(r,"padding-right")||0,10),n=n-parseInt(Ir(r,"padding-top")||0,10)-parseInt(Ir(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function i5(){const t=this;function e(_,T){return parseFloat(_.getPropertyValue(t.getDirectionLabel(T))||0)}const n=t.params,{wrapperEl:r,slidesEl:o,size:s,rtlTranslate:i,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=Sn(o,`.${t.params.slideClass}, swiper-slide`),d=l?t.virtual.slides.length:u.length;let h=[];const v=[],g=[];let y=n.slidesOffsetBefore;typeof y=="function"&&(y=n.slidesOffsetBefore.call(t));let x=n.slidesOffsetAfter;typeof x=="function"&&(x=n.slidesOffsetAfter.call(t));const b=t.snapGrid.length,m=t.slidesGrid.length;let p=n.spaceBetween,w=-y,E=0,N=0;if(typeof s>"u")return;typeof p=="string"&&p.indexOf("%")>=0?p=parseFloat(p.replace("%",""))/100*s:typeof p=="string"&&(p=parseFloat(p)),t.virtualSize=-p,u.forEach(_=>{i?_.style.marginLeft="":_.style.marginRight="",_.style.marginBottom="",_.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(rl(r,"--swiper-centered-offset-before",""),rl(r,"--swiper-centered-offset-after",""));const P=n.grid&&n.grid.rows>1&&t.grid;P?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let k;const S=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(_=>typeof n.breakpoints[_].slidesPerView<"u").length>0;for(let _=0;_<d;_+=1){k=0;let T;if(u[_]&&(T=u[_]),P&&t.grid.updateSlide(_,T,u),!(u[_]&&Ir(T,"display")==="none")){if(n.slidesPerView==="auto"){S&&(u[_].style[t.getDirectionLabel("width")]="");const I=getComputedStyle(T),j=T.style.transform,B=T.style.webkitTransform;if(j&&(T.style.transform="none"),B&&(T.style.webkitTransform="none"),n.roundLengths)k=t.isHorizontal()?_h(T,"width",!0):_h(T,"height",!0);else{const L=e(I,"width"),A=e(I,"padding-left"),D=e(I,"padding-right"),O=e(I,"margin-left"),M=e(I,"margin-right"),R=I.getPropertyValue("box-sizing");if(R&&R==="border-box")k=L+O+M;else{const{clientWidth:z,offsetWidth:V}=T;k=L+A+D+O+M+(V-z)}}j&&(T.style.transform=j),B&&(T.style.webkitTransform=B),n.roundLengths&&(k=Math.floor(k))}else k=(s-(n.slidesPerView-1)*p)/n.slidesPerView,n.roundLengths&&(k=Math.floor(k)),u[_]&&(u[_].style[t.getDirectionLabel("width")]=`${k}px`);u[_]&&(u[_].swiperSlideSize=k),g.push(k),n.centeredSlides?(w=w+k/2+E/2+p,E===0&&_!==0&&(w=w-s/2-p),_===0&&(w=w-s/2-p),Math.abs(w)<1/1e3&&(w=0),n.roundLengths&&(w=Math.floor(w)),N%n.slidesPerGroup===0&&h.push(w),v.push(w)):(n.roundLengths&&(w=Math.floor(w)),(N-Math.min(t.params.slidesPerGroupSkip,N))%t.params.slidesPerGroup===0&&h.push(w),v.push(w),w=w+k+p),t.virtualSize+=k+p,E=k,N+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+x,i&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+p}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+p}px`),P&&t.grid.updateWrapperSize(k,h),!n.centeredSlides){const _=[];for(let T=0;T<h.length;T+=1){let I=h[T];n.roundLengths&&(I=Math.floor(I)),h[T]<=t.virtualSize-s&&_.push(I)}h=_,Math.floor(t.virtualSize-s)-Math.floor(h[h.length-1])>1&&h.push(t.virtualSize-s)}if(l&&n.loop){const _=g[0]+p;if(n.slidesPerGroup>1){const T=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),I=_*n.slidesPerGroup;for(let j=0;j<T;j+=1)h.push(h[h.length-1]+I)}for(let T=0;T<t.virtual.slidesBefore+t.virtual.slidesAfter;T+=1)n.slidesPerGroup===1&&h.push(h[h.length-1]+_),v.push(v[v.length-1]+_),t.virtualSize+=_}if(h.length===0&&(h=[0]),p!==0){const _=t.isHorizontal()&&i?"marginLeft":t.getDirectionLabel("marginRight");u.filter((T,I)=>!n.cssMode||n.loop?!0:I!==u.length-1).forEach(T=>{T.style[_]=`${p}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let _=0;g.forEach(I=>{_+=I+(p||0)}),_-=p;const T=_>s?_-s:0;h=h.map(I=>I<=0?-y:I>T?T+x:I)}if(n.centerInsufficientSlides){let _=0;g.forEach(I=>{_+=I+(p||0)}),_-=p;const T=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(_+T<s){const I=(s-_-T)/2;h.forEach((j,B)=>{h[B]=j-I}),v.forEach((j,B)=>{v[B]=j+I})}}if(Object.assign(t,{slides:u,snapGrid:h,slidesGrid:v,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){rl(r,"--swiper-centered-offset-before",`${-h[0]}px`),rl(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const _=-t.snapGrid[0],T=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(I=>I+_),t.slidesGrid=t.slidesGrid.map(I=>I+T)}if(d!==c&&t.emit("slidesLengthChange"),h.length!==b&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),v.length!==m&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const _=`${n.containerModifierClass}backface-hidden`,T=t.el.classList.contains(_);d<=n.maxBackfaceHiddenSlides?T||t.el.classList.add(_):T&&t.el.classList.remove(_)}}function a5(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let o=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const i=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!r)break;n.push(i(a))}else n.push(i(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;o=a>o?a:o}(o||o===0)&&(e.wrapperEl.style.height=`${o}px`)}function l5(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const iy=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function c5(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:o,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let i=-t;o&&(i=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<r.length;l+=1){const c=r[l];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=r[0].swiperSlideOffset);const d=(i+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),h=(i-s[0]+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),v=-(i-u),g=v+e.slidesSizesGrid[l],y=v>=0&&v<=e.size-e.slidesSizesGrid[l],x=v>=0&&v<e.size-1||g>1&&g<=e.size||v<=0&&g>=e.size;x&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),iy(c,x,n.slideVisibleClass),iy(c,y,n.slideFullyVisibleClass),c.progress=o?-d:d,c.originalProgress=o?-h:h}}function u5(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:o,isBeginning:s,isEnd:i,progressLoop:a}=e;const l=s,c=i;if(r===0)o=0,s=!0,i=!0;else{o=(t-e.minTranslate())/r;const u=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;s=u||o<=0,i=d||o>=1,u&&(o=0),d&&(o=1)}if(n.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),h=e.slidesGrid[u],v=e.slidesGrid[d],g=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(t);y>=h?a=(y-h)/g:a=(y+g-v)/g,a>1&&(a-=1)}Object.assign(e,{progress:o,progressLoop:a,isBeginning:s,isEnd:i}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!l&&e.emit("reachBeginning toEdge"),i&&!c&&e.emit("reachEnd toEdge"),(l&&!s||c&&!i)&&e.emit("fromEdge"),e.emit("progress",o)}const Bd=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function d5(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:o}=t,s=t.virtual&&n.virtual.enabled,i=t.grid&&n.grid&&n.grid.rows>1,a=d=>Sn(r,`.${n.slideClass}${d}, swiper-slide${d}`)[0];let l,c,u;if(s)if(n.loop){let d=o-t.virtual.slidesBefore;d<0&&(d=t.virtual.slides.length+d),d>=t.virtual.slides.length&&(d-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${d}"]`)}else l=a(`[data-swiper-slide-index="${o}"]`);else i?(l=e.find(d=>d.column===o),u=e.find(d=>d.column===o+1),c=e.find(d=>d.column===o-1)):l=e[o];l&&(i||(u=Q4(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),c=J4(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(d=>{Bd(d,d===l,n.slideActiveClass),Bd(d,d===u,n.slideNextClass),Bd(d,d===c,n.slidePrevClass)}),t.emitSlidesClasses()}const Pl=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let o=r.querySelector(`.${t.params.lazyPreloaderClass}`);!o&&t.isElement&&(r.shadowRoot?o=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(o=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),o&&o.remove())})),o&&o.remove()}},Md=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Nh=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),o=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const i=o,a=[i-e];a.push(...Array.from({length:e}).map((l,c)=>i+r+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&Md(t,c)});return}const s=o+r-1;if(t.params.rewind||t.params.loop)for(let i=o-e;i<=s+e;i+=1){const a=(i%n+n)%n;(a<o||a>s)&&Md(t,a)}else for(let i=Math.max(o-e,0);i<=Math.min(s+e,n-1);i+=1)i!==o&&(i>s||i<o)&&Md(t,i)};function f5(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let o;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?o=s:r>=e[s]&&r<e[s+1]&&(o=s+1):r>=e[s]&&(o=s);return n.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function h5(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:o,activeIndex:s,realIndex:i,snapIndex:a}=e;let l=t,c;const u=v=>{let g=v-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof l>"u"&&(l=f5(e)),r.indexOf(n)>=0)c=r.indexOf(n);else{const v=Math.min(o.slidesPerGroupSkip,l);c=v+Math.floor((l-v)/o.slidesPerGroup)}if(c>=r.length&&(c=r.length-1),l===s&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(l);return}const d=e.grid&&o.grid&&o.grid.rows>1;let h;if(e.virtual&&o.virtual.enabled&&o.loop)h=u(l);else if(d){const v=e.slides.find(y=>y.column===l);let g=parseInt(v.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(v),0)),h=Math.floor(g/o.grid.rows)}else if(e.slides[l]){const v=e.slides[l].getAttribute("data-swiper-slide-index");v?h=parseInt(v,10):h=l}else h=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:i,realIndex:h,previousIndex:s,activeIndex:l}),e.initialized&&Nh(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(i!==h&&e.emit("realIndexChange"),e.emit("slideChange"))}function p5(t,e){const n=this,r=n.params;let o=t.closest(`.${r.slideClass}, swiper-slide`);!o&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!o&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(o=a)});let s=!1,i;if(o){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===o){s=!0,i=a;break}}if(o&&s)n.clickedSlide=o,n.virtual&&n.params.virtual.enabled?n.clickedIndex=n.getSlideIndexWhenGrid(parseInt(o.getAttribute("data-swiper-slide-index"),10)):n.clickedIndex=n.getSlideIndexWhenGrid(i);else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var m5={updateSize:s5,updateSlides:i5,updateAutoHeight:a5,updateSlidesOffset:l5,updateSlidesProgress:c5,updateProgress:u5,updateSlidesClasses:d5,updateActiveIndex:h5,updateClickedSlide:p5};function g5(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:o,wrapperEl:s}=e;if(n.virtualTranslate)return r?-o:o;if(n.cssMode)return o;let i=q4(s,t);return i+=e.cssOverflowAdjustment(),r&&(i=-i),i||0}function v5(t,e){const n=this,{rtlTranslate:r,params:o,wrapperEl:s,progress:i}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=r?-t:t:l=t,o.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,o.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:o.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const d=n.maxTranslate()-n.minTranslate();d===0?u=0:u=(t-n.minTranslate())/d,u!==i&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function y5(){return-this.snapGrid[0]}function b5(){return-this.snapGrid[this.snapGrid.length-1]}function x5(t,e,n,r,o){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:i,wrapperEl:a}=s;if(s.animating&&i.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let u;if(r&&t>l?u=l:r&&t<c?u=c:u=t,s.updateProgress(u),i.cssMode){const d=s.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return SS({swiper:s,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",e,o),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",e,o),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(h){!s||s.destroyed||h.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var w5={getTranslate:g5,setTranslate:v5,minTranslate:y5,maxTranslate:b5,translateTo:x5};function k5(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function NS(t){let{swiper:e,runCallbacks:n,direction:r,step:o}=t;const{activeIndex:s,previousIndex:i}=e;let a=r;a||(s>i?a="next":s<i?a="prev":a="reset"),e.emit(`transition${o}`),n&&a==="reset"?e.emit(`slideResetTransition${o}`):n&&s!==i&&(e.emit(`slideChangeTransition${o}`),a==="next"?e.emit(`slideNextTransition${o}`):e.emit(`slidePrevTransition${o}`))}function S5(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),NS({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function E5(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),NS({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var T5={setTransition:k5,transitionStart:S5,transitionEnd:E5};function C5(t,e,n,r,o){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let i=t;i<0&&(i=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:h,wrapperEl:v,enabled:g}=s;if(!g&&!r&&!o||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const y=Math.min(s.params.slidesPerGroupSkip,i);let x=y+Math.floor((i-y)/s.params.slidesPerGroup);x>=l.length&&(x=l.length-1);const b=-l[x];if(a.normalizeSlideIndex)for(let P=0;P<c.length;P+=1){const k=-Math.floor(b*100),S=Math.floor(c[P]*100),_=Math.floor(c[P+1]*100);typeof c[P+1]<"u"?k>=S&&k<_-(_-S)/2?i=P:k>=S&&k<_&&(i=P+1):k>=S&&(i=P)}if(s.initialized&&i!==d&&(!s.allowSlideNext&&(h?b>s.translate&&b>s.minTranslate():b<s.translate&&b<s.minTranslate())||!s.allowSlidePrev&&b>s.translate&&b>s.maxTranslate()&&(d||0)!==i))return!1;i!==(u||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(b);let m;i>d?m="next":i<d?m="prev":m="reset";const p=s.virtual&&s.params.virtual.enabled;if(!(p&&o)&&(h&&-b===s.translate||!h&&b===s.translate))return s.updateActiveIndex(i),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(b),m!=="reset"&&(s.transitionStart(n,m),s.transitionEnd(n,m)),!1;if(a.cssMode){const P=s.isHorizontal(),k=h?b:-b;if(e===0)p&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),p&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{v[P?"scrollLeft":"scrollTop"]=k})):v[P?"scrollLeft":"scrollTop"]=k,p&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return SS({swiper:s,targetPosition:k,side:P?"left":"top"}),!0;v.scrollTo({[P?"left":"top"]:k,behavior:"smooth"})}return!0}const N=_S().isSafari;return p&&!o&&N&&s.isElement&&s.virtual.update(!1,!1,i),s.setTransition(e),s.setTranslate(b),s.updateActiveIndex(i),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,m),e===0?s.transitionEnd(n,m):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(k){!s||s.destroyed||k.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,m))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function _5(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const o=this;if(o.destroyed)return;typeof e>"u"&&(e=o.params.speed);const s=o.grid&&o.params.grid&&o.params.grid.rows>1;let i=t;if(o.params.loop)if(o.virtual&&o.params.virtual.enabled)i=i+o.virtual.slidesBefore;else{let a;if(s){const h=i*o.params.grid.rows;a=o.slides.find(v=>v.getAttribute("data-swiper-slide-index")*1===h).column}else a=o.getSlideIndexByData(i);const l=s?Math.ceil(o.slides.length/o.params.grid.rows):o.slides.length,{centeredSlides:c}=o.params;let u=o.params.slidesPerView;u==="auto"?u=o.slidesPerViewDynamic():(u=Math.ceil(parseFloat(o.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let d=l-a<u;if(c&&(d=d||a<Math.ceil(u/2)),r&&c&&o.params.slidesPerView!=="auto"&&!s&&(d=!1),d){const h=c?a<o.activeIndex?"prev":"next":a-o.activeIndex-1<o.params.slidesPerView?"next":"prev";o.loopFix({direction:h,slideTo:!0,activeSlideIndex:h==="next"?a+1:a-l+1,slideRealIndex:h==="next"?o.realIndex:void 0})}if(s){const h=i*o.params.grid.rows;i=o.slides.find(v=>v.getAttribute("data-swiper-slide-index")*1===h).column}else i=o.getSlideIndexByData(i)}return requestAnimationFrame(()=>{o.slideTo(i,e,n,r)}),o}function N5(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:o,params:s,animating:i}=r;if(!o||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<s.slidesPerGroupSkip?1:a,c=r.virtual&&s.virtual.enabled;if(s.loop){if(i&&!c&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function P5(t,e,n){e===void 0&&(e=!0);const r=this,{params:o,snapGrid:s,slidesGrid:i,rtlTranslate:a,enabled:l,animating:c}=r;if(!l||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const u=r.virtual&&o.virtual.enabled;if(o.loop){if(c&&!u&&o.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const d=a?r.translate:-r.translate;function h(m){return m<0?-Math.floor(Math.abs(m)):Math.floor(m)}const v=h(d),g=s.map(m=>h(m)),y=o.freeMode&&o.freeMode.enabled;let x=s[g.indexOf(v)-1];if(typeof x>"u"&&(o.cssMode||y)){let m;s.forEach((p,w)=>{v>=p&&(m=w)}),typeof m<"u"&&(x=y?s[m]:s[m>0?m-1:m])}let b=0;if(typeof x<"u"&&(b=i.indexOf(x),b<0&&(b=r.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(b=b-r.slidesPerViewDynamic("previous",!0)+1,b=Math.max(b,0))),o.rewind&&r.isBeginning){const m=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(m,t,e,n)}else if(o.loop&&r.activeIndex===0&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(b,t,e,n)}),!0;return r.slideTo(b,t,e,n)}function I5(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function j5(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const o=this;if(o.destroyed)return;typeof t>"u"&&(t=o.params.speed);let s=o.activeIndex;const i=Math.min(o.params.slidesPerGroupSkip,s),a=i+Math.floor((s-i)/o.params.slidesPerGroup),l=o.rtlTranslate?o.translate:-o.translate;if(l>=o.snapGrid[a]){const c=o.snapGrid[a],u=o.snapGrid[a+1];l-c>(u-c)*r&&(s+=o.params.slidesPerGroup)}else{const c=o.snapGrid[a-1],u=o.snapGrid[a];l-c<=(u-c)*r&&(s-=o.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,o.slidesGrid.length-1),o.slideTo(s,t,e,n)}function L5(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let o=t.clickedIndex,s;const i=t.isElement?"swiper-slide":`.${e.slideClass}`,a=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(s):(o>a?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),o=t.getSlideIndex(Sn(n,`${i}[data-swiper-slide-index="${s}"]`)[0]),kS(()=>{t.slideTo(o)})):t.slideTo(o)}else t.slideTo(o)}var A5={slideTo:C5,slideToLoop:_5,slideNext:N5,slidePrev:P5,slideReset:I5,slideToClosest:j5,slideToClickedSlide:L5};function O5(t,e){const n=this,{params:r,slidesEl:o}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{Sn(o,`.${r.slideClass}, swiper-slide`).forEach((v,g)=>{v.setAttribute("data-swiper-slide-index",g)})},i=()=>{const h=Sn(o,`.${r.slideBlankClass}`);h.forEach(v=>{v.remove()}),h.length>0&&(n.recalcSlides(),n.updateSlides())},a=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||a)&&i();const l=r.slidesPerGroup*(a?r.grid.rows:1),c=n.slides.length%l!==0,u=a&&n.slides.length%r.grid.rows!==0,d=h=>{for(let v=0;v<h;v+=1){const g=n.isElement?Lc("swiper-slide",[r.slideBlankClass]):Lc("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(g)}};if(c){if(r.loopAddBlankSlides){const h=l-n.slides.length%l;d(h),n.recalcSlides(),n.updateSlides()}else jc("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(u){if(r.loopAddBlankSlides){const h=r.grid.rows-n.slides.length%r.grid.rows;d(h),n.recalcSlides(),n.updateSlides()}else jc("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();n.loopFix({slideRealIndex:t,direction:r.centeredSlides?void 0:"next",initial:e})}function B5(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:o,activeSlideIndex:s,initial:i,byController:a,byMousewheel:l}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:h,slidesEl:v,params:g}=c,{centeredSlides:y,initialSlide:x}=g;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&g.virtual.enabled){n&&(!g.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):g.centeredSlides&&c.snapIndex<g.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=d,c.allowSlideNext=h,c.emit("loopFix");return}let b=g.slidesPerView;b==="auto"?b=c.slidesPerViewDynamic():(b=Math.ceil(parseFloat(g.slidesPerView,10)),y&&b%2===0&&(b=b+1));const m=g.slidesPerGroupAuto?b:g.slidesPerGroup;let p=y?Math.max(m,Math.ceil(b/2)):m;p%m!==0&&(p+=m-p%m),p+=g.loopAdditionalSlides,c.loopedSlides=p;const w=c.grid&&g.grid&&g.grid.rows>1;u.length<b+p||c.params.effect==="cards"&&u.length<b+p*2?jc("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):w&&g.grid.fill==="row"&&jc("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const E=[],N=[],P=w?Math.ceil(u.length/g.grid.rows):u.length,k=i&&P-x<b&&!y;let S=k?x:c.activeIndex;typeof s>"u"?s=c.getSlideIndex(u.find(A=>A.classList.contains(g.slideActiveClass))):S=s;const _=r==="next"||!r,T=r==="prev"||!r;let I=0,j=0;const L=(w?u[s].column:s)+(y&&typeof o>"u"?-b/2+.5:0);if(L<p){I=Math.max(p-L,m);for(let A=0;A<p-L;A+=1){const D=A-Math.floor(A/P)*P;if(w){const O=P-D-1;for(let M=u.length-1;M>=0;M-=1)u[M].column===O&&E.push(M)}else E.push(P-D-1)}}else if(L+b>P-p){j=Math.max(L-(P-p*2),m),k&&(j=Math.max(j,b-P+x+1));for(let A=0;A<j;A+=1){const D=A-Math.floor(A/P)*P;w?u.forEach((O,M)=>{O.column===D&&N.push(M)}):N.push(D)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&u.length<b+p*2&&(N.includes(s)&&N.splice(N.indexOf(s),1),E.includes(s)&&E.splice(E.indexOf(s),1)),T&&E.forEach(A=>{u[A].swiperLoopMoveDOM=!0,v.prepend(u[A]),u[A].swiperLoopMoveDOM=!1}),_&&N.forEach(A=>{u[A].swiperLoopMoveDOM=!0,v.append(u[A]),u[A].swiperLoopMoveDOM=!1}),c.recalcSlides(),g.slidesPerView==="auto"?c.updateSlides():w&&(E.length>0&&T||N.length>0&&_)&&c.slides.forEach((A,D)=>{c.grid.updateSlide(D,A,c.slides)}),g.watchSlidesProgress&&c.updateSlidesOffset(),n){if(E.length>0&&T){if(typeof e>"u"){const A=c.slidesGrid[S],O=c.slidesGrid[S+I]-A;l?c.setTranslate(c.translate-O):(c.slideTo(S+Math.ceil(I),0,!1,!0),o&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-O,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-O))}else if(o){const A=w?E.length/g.grid.rows:E.length;c.slideTo(c.activeIndex+A,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(N.length>0&&_)if(typeof e>"u"){const A=c.slidesGrid[S],O=c.slidesGrid[S-j]-A;l?c.setTranslate(c.translate-O):(c.slideTo(S-j,0,!1,!0),o&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-O,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-O))}else{const A=w?N.length/g.grid.rows:N.length;c.slideTo(c.activeIndex-A,0,!1,!0)}}if(c.allowSlidePrev=d,c.allowSlideNext=h,c.controller&&c.controller.control&&!a){const A={slideRealIndex:e,direction:r,setTranslate:o,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(D=>{!D.destroyed&&D.params.loop&&D.loopFix({...A,slideTo:D.params.slidesPerView===g.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...A,slideTo:c.controller.control.params.slidesPerView===g.slidesPerView?n:!1})}c.emit("loopFix")}function M5(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(o=>{const s=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;r[s]=o}),t.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),r.forEach(o=>{n.append(o)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var R5={loopCreate:O5,loopFix:B5,loopDestroy:M5};function D5(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function F5(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var U5={setGrabCursor:D5,unsetGrabCursor:F5};function $5(t,e){e===void 0&&(e=this);function n(r){if(!r||r===Pn()||r===Et())return null;r.assignedSlot&&(r=r.assignedSlot);const o=r.closest(t);return!o&&!r.getRootNode?null:o||n(r.getRootNode().host)}return n(e)}function ay(t,e,n){const r=Et(),{params:o}=t,s=o.edgeSwipeDetection,i=o.edgeSwipeThreshold;return s&&(n<=i||n>=r.innerWidth-i)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function z5(t){const e=this,n=Pn();let r=t;r.originalEvent&&(r=r.originalEvent);const o=e.touchEventsData;if(r.type==="pointerdown"){if(o.pointerId!==null&&o.pointerId!==r.pointerId)return;o.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(o.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){ay(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:i,enabled:a}=e;if(!a||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=r.target;if(s.touchEventsTarget==="wrapper"&&!X4(l,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||o.isTouched&&o.isMoved)return;const c=!!s.noSwipingClass&&s.noSwipingClass!=="",u=r.composedPath?r.composedPath():r.path;c&&r.target&&r.target.shadowRoot&&u&&(l=u[0]);const d=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,h=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(h?$5(d,l):l.closest(d))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;i.currentX=r.pageX,i.currentY=r.pageY;const v=i.currentX,g=i.currentY;if(!ay(e,r,v))return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),i.startX=v,i.startY=g,o.touchStartTime=Ic(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(o.allowThresholdMove=!1);let y=!0;l.matches(o.focusableElements)&&(y=!1,l.nodeName==="SELECT"&&(o.isTouched=!1)),n.activeElement&&n.activeElement.matches(o.focusableElements)&&n.activeElement!==l&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!l.matches(o.focusableElements))&&n.activeElement.blur();const x=y&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||x)&&!l.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function V5(t){const e=Pn(),n=this,r=n.touchEventsData,{params:o,touches:s,rtlTranslate:i,enabled:a}=n;if(!a||!o.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(N=>N.identifier===r.touchId),!c||c.identifier!==r.touchId)return}else c=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper){s.startX=u,s.startY=d;return}if(!n.allowTouchMove){l.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:u,startY:d,currentX:u,currentY:d}),r.touchStartTime=Ic());return}if(o.touchReleaseOnEdges&&!o.loop)if(n.isVertical()){if(d<s.startY&&n.translate<=n.maxTranslate()||d>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(i&&(u>s.startX&&-n.translate<=n.maxTranslate()||u<s.startX&&-n.translate>=n.minTranslate()))return;if(!i&&(u<s.startX&&n.translate<=n.maxTranslate()||u>s.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=u,s.currentY=d;const h=s.currentX-s.startX,v=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(h**2+v**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let N;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:h*h+v*v>=25&&(N=Math.atan2(Math.abs(v),Math.abs(h))*180/Math.PI,r.isScrolling=n.isHorizontal()?N>o.touchAngle:90-N>o.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||l.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!o.cssMode&&l.cancelable&&l.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&l.stopPropagation();let g=n.isHorizontal()?h:v,y=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;o.oneWayMovement&&(g=Math.abs(g)*(i?1:-1),y=Math.abs(y)*(i?1:-1)),s.diff=g,g*=o.touchRatio,i&&(g=-g,y=-y);const x=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=y>0?"prev":"next";const b=n.params.loop&&!o.cssMode,m=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(b&&m&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const N=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(N)}r.allowMomentumBounce=!1,o.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let p;if(new Date().getTime(),o._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&x!==n.touchesDirection&&b&&m&&Math.abs(g)>=1){Object.assign(s,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let w=!0,E=o.resistanceRatio;if(o.touchReleaseOnEdges&&(E=0),g>0?(b&&m&&!p&&r.allowThresholdMove&&r.currentTranslate>(o.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(o.slidesPerView!=="auto"&&n.slides.length-o.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(w=!1,o.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**E))):g<0&&(b&&m&&!p&&r.allowThresholdMove&&r.currentTranslate<(o.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(o.slidesPerView!=="auto"&&n.slides.length-o.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(o.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(w=!1,o.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**E))),w&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),o.threshold>0)if(Math.abs(g)>o.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&n.freeMode||o.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),o.freeMode&&o.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function H5(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let o;if(r.type==="touchend"||r.type==="touchcancel"){if(o=[...r.changedTouches].find(E=>E.identifier===n.touchId),!o||o.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;o=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:i,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u||!i.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&i.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}i.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=Ic(),h=d-n.touchStartTime;if(e.allowClick){const E=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(E&&E[0]||r.target,E),e.emit("tap click",r),h<300&&d-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Ic(),kS(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let v;if(i.followFinger?v=l?e.translate:-e.translate:v=-n.currentTranslate,i.cssMode)return;if(i.freeMode&&i.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:v});return}const g=v>=-e.maxTranslate()&&!e.params.loop;let y=0,x=e.slidesSizesGrid[0];for(let E=0;E<c.length;E+=E<i.slidesPerGroupSkip?1:i.slidesPerGroup){const N=E<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof c[E+N]<"u"?(g||v>=c[E]&&v<c[E+N])&&(y=E,x=c[E+N]-c[E]):(g||v>=c[E])&&(y=E,x=c[c.length-1]-c[c.length-2])}let b=null,m=null;i.rewind&&(e.isBeginning?m=i.virtual&&i.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(b=0));const p=(v-c[y])/x,w=y<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(h>i.longSwipesMs){if(!i.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(p>=i.longSwipesRatio?e.slideTo(i.rewind&&e.isEnd?b:y+w):e.slideTo(y)),e.swipeDirection==="prev"&&(p>1-i.longSwipesRatio?e.slideTo(y+w):m!==null&&p<0&&Math.abs(p)>i.longSwipesRatio?e.slideTo(m):e.slideTo(y))}else{if(!i.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(y+w):e.slideTo(y):(e.swipeDirection==="next"&&e.slideTo(b!==null?b:y+w),e.swipeDirection==="prev"&&e.slideTo(m!==null?m:y))}}function ly(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:o,snapGrid:s}=t,i=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=i&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!i?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=o,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function W5(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function G5(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let o;const s=t.maxTranslate()-t.minTranslate();s===0?o=0:o=(t.translate-t.minTranslate())/s,o!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function q5(t){const e=this;Pl(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function K5(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const PS=(t,e)=>{const n=Pn(),{params:r,el:o,wrapperEl:s,device:i}=t,a=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!o||typeof o=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),o[l]("touchstart",t.onTouchStart,{passive:!1}),o[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&o[l]("click",t.onClick,!0),r.cssMode&&s[l]("scroll",t.onScroll),r.updateOnWindowResize?t[c](i.ios||i.android?"resize orientationchange observerUpdate":"resize observerUpdate",ly,!0):t[c]("observerUpdate",ly,!0),o[l]("load",t.onLoad,{capture:!0}))};function Y5(){const t=this,{params:e}=t;t.onTouchStart=z5.bind(t),t.onTouchMove=V5.bind(t),t.onTouchEnd=H5.bind(t),t.onDocumentTouchStart=K5.bind(t),e.cssMode&&(t.onScroll=G5.bind(t)),t.onClick=W5.bind(t),t.onLoad=q5.bind(t),PS(t,"on")}function X5(){PS(this,"off")}var J5={attachEvents:Y5,detachEvents:X5};const cy=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function Q5(){const t=this,{realIndex:e,initialized:n,params:r,el:o}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const i=Pn(),a=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:i.querySelector(r.breakpointsBase),c=t.getBreakpoint(s,a,l);if(!c||t.currentBreakpoint===c)return;const d=(c in s?s[c]:void 0)||t.originalParams,h=cy(t,r),v=cy(t,d),g=t.params.grabCursor,y=d.grabCursor,x=r.enabled;h&&!v?(o.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!h&&v&&(o.classList.add(`${r.containerModifierClass}grid`),(d.grid.fill&&d.grid.fill==="column"||!d.grid.fill&&r.grid.fill==="column")&&o.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),g&&!y?t.unsetGrabCursor():!g&&y&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(N=>{if(typeof d[N]>"u")return;const P=r[N]&&r[N].enabled,k=d[N]&&d[N].enabled;P&&!k&&t[N].disable(),!P&&k&&t[N].enable()});const b=d.direction&&d.direction!==r.direction,m=r.loop&&(d.slidesPerView!==r.slidesPerView||b),p=r.loop;b&&n&&t.changeDirection(),Rt(t.params,d);const w=t.params.enabled,E=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),x&&!w?t.disable():!x&&w&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",d),n&&(m?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!p&&E?(t.loopCreate(e),t.updateSlides()):p&&!E&&t.loopDestroy()),t.emit("breakpoint",d)}function Z5(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const o=Et(),s=e==="window"?o.innerHeight:n.clientHeight,i=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});i.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<i.length;a+=1){const{point:l,value:c}=i[a];e==="window"?o.matchMedia(`(min-width: ${c}px)`).matches&&(r=l):c<=n.clientWidth&&(r=l)}return r||"max"}var eD={setBreakpoint:Q5,getBreakpoint:Z5};function tD(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(o=>{r[o]&&n.push(e+o)}):typeof r=="string"&&n.push(e+r)}),n}function nD(){const t=this,{classNames:e,params:n,rtl:r,el:o,device:s}=t,i=tD(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...i),o.classList.add(...e),t.emitContainerClasses()}function rD(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var oD={addClasses:nD,removeClasses:rD};function sD(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const o=t.slides.length-1,s=t.slidesGrid[o]+t.slidesSizesGrid[o]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var iD={checkOverflow:sD},Ph={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function aD(t,e){return function(r){r===void 0&&(r={});const o=Object.keys(r)[0],s=r[o];if(typeof s!="object"||s===null){Rt(e,r);return}if(t[o]===!0&&(t[o]={enabled:!0}),o==="navigation"&&t[o]&&t[o].enabled&&!t[o].prevEl&&!t[o].nextEl&&(t[o].auto=!0),["pagination","scrollbar"].indexOf(o)>=0&&t[o]&&t[o].enabled&&!t[o].el&&(t[o].auto=!0),!(o in t&&"enabled"in s)){Rt(e,r);return}typeof t[o]=="object"&&!("enabled"in t[o])&&(t[o].enabled=!0),t[o]||(t[o]={enabled:!1}),Rt(e,r)}}const Rd={eventsEmitter:o5,update:m5,translate:w5,transition:T5,slide:A5,loop:R5,grabCursor:U5,events:J5,breakpoints:eD,checkOverflow:iD,classes:oD},Dd={};let Om=class Mn{constructor(){let e,n;for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];o.length===1&&o[0].constructor&&Object.prototype.toString.call(o[0]).slice(8,-1)==="Object"?n=o[0]:[e,n]=o,n||(n={}),n=Rt({},n),e&&!n.el&&(n.el=e);const i=Pn();if(n.el&&typeof n.el=="string"&&i.querySelectorAll(n.el).length>1){const u=[];return i.querySelectorAll(n.el).forEach(d=>{const h=Rt({},n,{el:d});u.push(new Mn(h))}),u}const a=this;a.__swiper__=!0,a.support=TS(),a.device=CS({userAgent:n.userAgent}),a.browser=_S(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(u=>{u({params:n,swiper:a,extendParams:aD(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=Rt({},Ph,l);return a.params=Rt({},c,Dd,n),a.originalParams=Rt({},a.params),a.passedParams=Rt({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,o=Sn(n,`.${r.slideClass}, swiper-slide`),s=Ac(o[0]);return Ac(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=Sn(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const o=r.minTranslate(),i=(r.maxTranslate()-o)*e+o;r.translateTo(i,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const o=e.getSlideClasses(r);n.push({slideEl:r,classNames:o}),e.emit("_slideClass",r,o)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:o,slides:s,slidesGrid:i,slidesSizesGrid:a,size:l,activeIndex:c}=r;let u=1;if(typeof o.slidesPerView=="number")return o.slidesPerView;if(o.centeredSlides){let d=s[c]?Math.ceil(s[c].swiperSlideSize):0,h;for(let v=c+1;v<s.length;v+=1)s[v]&&!h&&(d+=Math.ceil(s[v].swiperSlideSize),u+=1,d>l&&(h=!0));for(let v=c-1;v>=0;v-=1)s[v]&&!h&&(d+=s[v].swiperSlideSize,u+=1,d>l&&(h=!0))}else if(e==="current")for(let d=c+1;d<s.length;d+=1)(n?i[d]+a[d]-i[c]<l:i[d]-i[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)i[c]-i[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(i=>{i.complete&&Pl(e,i)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function o(){const i=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(i,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)o(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const i=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(i.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||o()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,o=r.params.direction;return e||(e=o==="horizontal"?"vertical":"horizontal"),e===o||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${o}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const o=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let i=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(o()):Sn(r,o())[0])();return!i&&n.params.createElements&&(i=Lc("div",n.params.wrapperClass),r.append(i),Sn(r,`.${n.params.slideClass}`).forEach(a=>{i.append(a)})),Object.assign(n,{el:r,wrapperEl:i,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:i,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Ir(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Ir(r,"direction")==="rtl"),wrongRTL:Ir(i,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const o=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&o.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),o.forEach(s=>{s.complete?Pl(n,s):s.addEventListener("load",i=>{Pl(n,i.target)})}),Nh(n),n.initialized=!0,Nh(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:o,el:s,wrapperEl:i,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),o.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),i&&i.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(o.slideVisibleClass,o.slideFullyVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),W4(r)),r.destroyed=!0),null}static extendDefaults(e){Rt(Dd,e)}static get extendedDefaults(){return Dd}static get defaults(){return Ph}static installModule(e){Mn.prototype.__modules__||(Mn.prototype.__modules__=[]);const n=Mn.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Mn.installModule(n)),Mn):(Mn.installModule(e),Mn)}};Object.keys(Rd).forEach(t=>{Object.keys(Rd[t]).forEach(e=>{Om.prototype[e]=Rd[t][e]})});Om.use([n5,r5]);const IS=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Mo(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function ks(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Mo(e[r])&&Mo(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:ks(t[r],e[r]):t[r]=e[r]})}function jS(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function LS(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function AS(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function OS(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function lD(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function cD(t){let{swiper:e,slides:n,passedParams:r,changedParams:o,nextEl:s,prevEl:i,scrollbarEl:a,paginationEl:l}=t;const c=o.filter(S=>S!=="children"&&S!=="direction"&&S!=="wrapperClass"),{params:u,pagination:d,navigation:h,scrollbar:v,virtual:g,thumbs:y}=e;let x,b,m,p,w,E,N,P;o.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(x=!0),o.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(b=!0),o.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(m=!0),o.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&v&&!v.el&&(p=!0),o.includes("navigation")&&r.navigation&&(r.navigation.prevEl||i)&&(r.navigation.nextEl||s)&&(u.navigation||u.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(w=!0);const k=S=>{e[S]&&(e[S].destroy(),S==="navigation"?(e.isElement&&(e[S].prevEl.remove(),e[S].nextEl.remove()),u[S].prevEl=void 0,u[S].nextEl=void 0,e[S].prevEl=void 0,e[S].nextEl=void 0):(e.isElement&&e[S].el.remove(),u[S].el=void 0,e[S].el=void 0))};o.includes("loop")&&e.isElement&&(u.loop&&!r.loop?E=!0:!u.loop&&r.loop?N=!0:P=!0),c.forEach(S=>{if(Mo(u[S])&&Mo(r[S]))Object.assign(u[S],r[S]),(S==="navigation"||S==="pagination"||S==="scrollbar")&&"enabled"in r[S]&&!r[S].enabled&&k(S);else{const _=r[S];(_===!0||_===!1)&&(S==="navigation"||S==="pagination"||S==="scrollbar")?_===!1&&k(S):u[S]=r[S]}}),c.includes("controller")&&!b&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),o.includes("children")&&n&&g&&u.virtual.enabled?(g.slides=n,g.update(!0)):o.includes("virtual")&&g&&u.virtual.enabled&&(n&&(g.slides=n),g.update(!0)),o.includes("children")&&n&&u.loop&&(P=!0),x&&y.init()&&y.update(!0),b&&(e.controller.control=u.controller.control),m&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),p&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),v.init(),v.updateSize(),v.setTranslate()),w&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),Oc(s,e.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),e.el.appendChild(s)),(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-prev"),Oc(i,e.hostEl.constructor.prevButtonSvg),i.part.add("button-prev"),e.el.appendChild(i))),s&&(u.navigation.nextEl=s),i&&(u.navigation.prevEl=i),h.init(),h.update()),o.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),o.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),o.includes("direction")&&e.changeDirection(r.direction,!1),(E||P)&&e.loopDestroy(),(N||P)&&e.loopCreate(),e.update()}function uD(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},o={};ks(n,Ph),n._emitClasses=!0,n.init=!1;const s={},i=IS.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(i.indexOf(l)>=0?Mo(t[l])?(n[l]={},o[l]={},ks(n[l],t[l]),ks(o[l],t[l])):(n[l]=t[l],o[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:s[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:o,rest:s,events:r}}function dD(t,e){let{el:n,nextEl:r,prevEl:o,paginationEl:s,scrollbarEl:i,swiper:a}=t;jS(e)&&r&&o&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=o,a.originalParams.navigation.prevEl=o),LS(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),AS(e)&&i&&(a.params.scrollbar.el=i,a.originalParams.scrollbar.el=i),a.init(n)}function fD(t,e,n,r,o){const s=[];if(!e)return s;const i=l=>{s.indexOf(l)<0&&s.push(l)};if(n&&r){const l=r.map(o),c=n.map(o);l.join("")!==c.join("")&&i("children"),r.length!==n.length&&i("children")}return IS.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(Mo(t[l])&&Mo(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?i(l):(c.forEach(d=>{t[l][d]!==e[l][d]&&i(l)}),u.forEach(d=>{t[l][d]!==e[l][d]&&i(l)}))}else t[l]!==e[l]&&i(l)}),s}const hD=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Bc(){return Bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bc.apply(this,arguments)}function BS(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function MS(t){const e=[];return Q.Children.toArray(t).forEach(n=>{BS(n)?e.push(n):n.props&&n.props.children&&MS(n.props.children).forEach(r=>e.push(r))}),e}function pD(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Q.Children.toArray(t).forEach(r=>{if(BS(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const o=MS(r.props.children);o.length>0?o.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function mD(t,e,n){if(!n)return null;const r=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},o=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:i}=n,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,c=[];for(let u=a;u<l;u+=1)u>=s&&u<=i&&c.push(e[r(u)]);return c.map((u,d)=>Q.cloneElement(u,{swiper:t,style:o,key:u.props.virtualIndex||u.key||`slide-${d}`}))}function Li(t,e){return typeof window>"u"?C.useEffect(t,e):C.useLayoutEffect(t,e)}const uy=C.createContext(null),gD=C.createContext(null),RS=C.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:o="div",children:s,onSwiper:i,...a}=t===void 0?{}:t,l=!1;const[c,u]=C.useState("swiper"),[d,h]=C.useState(null),[v,g]=C.useState(!1),y=C.useRef(!1),x=C.useRef(null),b=C.useRef(null),m=C.useRef(null),p=C.useRef(null),w=C.useRef(null),E=C.useRef(null),N=C.useRef(null),P=C.useRef(null),{params:k,passedParams:S,rest:_,events:T}=uD(a),{slides:I,slots:j}=pD(s),B=()=>{g(!v)};Object.assign(k.on,{_containerClasses(M,R){u(R)}});const L=()=>{Object.assign(k.on,T),l=!0;const M={...k};if(delete M.wrapperClass,b.current=new Om(M),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=I;const R={cache:!1,slides:I,renderExternal:h,renderExternalUpdate:!1};ks(b.current.params.virtual,R),ks(b.current.originalParams.virtual,R)}};x.current||L(),b.current&&b.current.on("_beforeBreakpoint",B);const A=()=>{l||!T||!b.current||Object.keys(T).forEach(M=>{b.current.on(M,T[M])})},D=()=>{!T||!b.current||Object.keys(T).forEach(M=>{b.current.off(M,T[M])})};C.useEffect(()=>()=>{b.current&&b.current.off("_beforeBreakpoint",B)}),C.useEffect(()=>{!y.current&&b.current&&(b.current.emitSlidesClasses(),y.current=!0)}),Li(()=>{if(e&&(e.current=x.current),!!x.current)return b.current.destroyed&&L(),dD({el:x.current,nextEl:w.current,prevEl:E.current,paginationEl:N.current,scrollbarEl:P.current,swiper:b.current},k),i&&!b.current.destroyed&&i(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}},[]),Li(()=>{A();const M=fD(S,m.current,I,p.current,R=>R.key);return m.current=S,p.current=I,M.length&&b.current&&!b.current.destroyed&&cD({swiper:b.current,slides:I,passedParams:S,changedParams:M,nextEl:w.current,prevEl:E.current,scrollbarEl:P.current,paginationEl:N.current}),()=>{D()}}),Li(()=>{hD(b.current)},[d]);function O(){return k.virtual?mD(b.current,I,d):I.map((M,R)=>Q.cloneElement(M,{swiper:b.current,swiperSlideIndex:R}))}return Q.createElement(r,Bc({ref:x,className:OS(`${c}${n?` ${n}`:""}`)},_),Q.createElement(gD.Provider,{value:b.current},j["container-start"],Q.createElement(o,{className:lD(k.wrapperClass)},j["wrapper-start"],O(),j["wrapper-end"]),jS(k)&&Q.createElement(Q.Fragment,null,Q.createElement("div",{ref:E,className:"swiper-button-prev"}),Q.createElement("div",{ref:w,className:"swiper-button-next"})),AS(k)&&Q.createElement("div",{ref:P,className:"swiper-scrollbar"}),LS(k)&&Q.createElement("div",{ref:N,className:"swiper-pagination"}),j["container-end"]))});RS.displayName="Swiper";const DS=C.forwardRef(function(t,e){let{tag:n="div",children:r,className:o="",swiper:s,zoom:i,lazy:a,virtualIndex:l,swiperSlideIndex:c,...u}=t===void 0?{}:t;const d=C.useRef(null),[h,v]=C.useState("swiper-slide"),[g,y]=C.useState(!1);function x(w,E,N){E===d.current&&v(N)}Li(()=>{if(typeof c<"u"&&(d.current.swiperSlideIndex=c),e&&(e.current=d.current),!(!d.current||!s)){if(s.destroyed){h!=="swiper-slide"&&v("swiper-slide");return}return s.on("_slideClass",x),()=>{s&&s.off("_slideClass",x)}}}),Li(()=>{s&&d.current&&!s.destroyed&&v(s.getSlideClasses(d.current))},[s]);const b={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},m=()=>typeof r=="function"?r(b):r,p=()=>{y(!0)};return Q.createElement(n,Bc({ref:d,className:OS(`${h}${o?` ${o}`:""}`),"data-swiper-slide-index":l,onLoad:p},u),i&&Q.createElement(uy.Provider,{value:b},Q.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof i=="number"?i:void 0},m(),a&&!g&&Q.createElement("div",{className:"swiper-lazy-preloader"}))),!i&&Q.createElement(uy.Provider,{value:b},m(),a&&!g&&Q.createElement("div",{className:"swiper-lazy-preloader"})))});DS.displayName="SwiperSlide";function FS(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(o=>{if(!n[o]&&n.auto===!0){let s=Sn(t.el,`.${r[o]}`)[0];s||(s=Lc("div",r[o]),s.className=r[o],t.el.append(s)),n[o]=s,e[o]=s}}),n}function vD(t){let{swiper:e,extendParams:n,on:r,emit:o}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(g){let y;return g&&typeof g=="string"&&e.isElement&&(y=e.el.querySelector(g)||e.hostEl.querySelector(g),y)?y:(g&&(typeof g=="string"&&(y=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&y&&y.length>1&&e.el.querySelectorAll(g).length===1?y=e.el.querySelector(g):y&&y.length===1&&(y=y[0])),g&&!y?g:y)}function i(g,y){const x=e.params.navigation;g=et(g),g.forEach(b=>{b&&(b.classList[y?"add":"remove"](...x.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=y),e.params.watchOverflow&&e.enabled&&b.classList[e.isLocked?"add":"remove"](x.lockClass))})}function a(){const{nextEl:g,prevEl:y}=e.navigation;if(e.params.loop){i(y,!1),i(g,!1);return}i(y,e.isBeginning&&!e.params.rewind),i(g,e.isEnd&&!e.params.rewind)}function l(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),o("navigationPrev"))}function c(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),o("navigationNext"))}function u(){const g=e.params.navigation;if(e.params.navigation=FS(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let y=s(g.nextEl),x=s(g.prevEl);Object.assign(e.navigation,{nextEl:y,prevEl:x}),y=et(y),x=et(x);const b=(m,p)=>{m&&m.addEventListener("click",p==="next"?c:l),!e.enabled&&m&&m.classList.add(...g.lockClass.split(" "))};y.forEach(m=>b(m,"next")),x.forEach(m=>b(m,"prev"))}function d(){let{nextEl:g,prevEl:y}=e.navigation;g=et(g),y=et(y);const x=(b,m)=>{b.removeEventListener("click",m==="next"?c:l),b.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(b=>x(b,"next")),y.forEach(b=>x(b,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?v():(u(),a())}),r("toEdge fromEdge lock unlock",()=>{a()}),r("destroy",()=>{d()}),r("enable disable",()=>{let{nextEl:g,prevEl:y}=e.navigation;if(g=et(g),y=et(y),e.enabled){a();return}[...g,...y].filter(x=>!!x).forEach(x=>x.classList.add(e.params.navigation.lockClass))}),r("click",(g,y)=>{let{nextEl:x,prevEl:b}=e.navigation;x=et(x),b=et(b);const m=y.target;let p=b.includes(m)||x.includes(m);if(e.isElement&&!p){const w=y.path||y.composedPath&&y.composedPath();w&&(p=w.find(E=>x.includes(E)||b.includes(E)))}if(e.params.navigation.hideOnClick&&!p){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===m||e.pagination.el.contains(m)))return;let w;x.length?w=x[0].classList.contains(e.params.navigation.hiddenClass):b.length&&(w=b[0].classList.contains(e.params.navigation.hiddenClass)),o(w===!0?"navigationShow":"navigationHide"),[...x,...b].filter(E=>!!E).forEach(E=>E.classList.toggle(e.params.navigation.hiddenClass))}});const h=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),a()},v=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:h,disable:v,update:a,init:u,destroy:d})}function ii(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function yD(t){let{swiper:e,extendParams:n,on:r,emit:o}=t;const s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:m=>m,formatFractionTotal:m=>m,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let i,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(m,p){const{bulletActiveClass:w}=e.params.pagination;m&&(m=m[`${p==="prev"?"previous":"next"}ElementSibling`],m&&(m.classList.add(`${w}-${p}`),m=m[`${p==="prev"?"previous":"next"}ElementSibling`],m&&m.classList.add(`${w}-${p}-${p}`)))}function u(m,p,w){if(m=m%w,p=p%w,p===m+1)return"next";if(p===m-1)return"previous"}function d(m){const p=m.target.closest(ii(e.params.pagination.bulletClass));if(!p)return;m.preventDefault();const w=Ac(p)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===w)return;const E=u(e.realIndex,w,e.slides.length);E==="next"?e.slideNext():E==="previous"?e.slidePrev():e.slideToLoop(w)}else e.slideTo(w)}function h(){const m=e.rtl,p=e.params.pagination;if(l())return;let w=e.pagination.el;w=et(w);let E,N;const P=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,k=e.params.loop?Math.ceil(P/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(N=e.previousRealIndex||0,E=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(E=e.snapIndex,N=e.previousSnapIndex):(N=e.previousIndex||0,E=e.activeIndex||0),p.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const S=e.pagination.bullets;let _,T,I;if(p.dynamicBullets&&(i=_h(S[0],e.isHorizontal()?"width":"height",!0),w.forEach(j=>{j.style[e.isHorizontal()?"width":"height"]=`${i*(p.dynamicMainBullets+4)}px`}),p.dynamicMainBullets>1&&N!==void 0&&(a+=E-(N||0),a>p.dynamicMainBullets-1?a=p.dynamicMainBullets-1:a<0&&(a=0)),_=Math.max(E-a,0),T=_+(Math.min(S.length,p.dynamicMainBullets)-1),I=(T+_)/2),S.forEach(j=>{const B=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(L=>`${p.bulletActiveClass}${L}`)].map(L=>typeof L=="string"&&L.includes(" ")?L.split(" "):L).flat();j.classList.remove(...B)}),w.length>1)S.forEach(j=>{const B=Ac(j);B===E?j.classList.add(...p.bulletActiveClass.split(" ")):e.isElement&&j.setAttribute("part","bullet"),p.dynamicBullets&&(B>=_&&B<=T&&j.classList.add(...`${p.bulletActiveClass}-main`.split(" ")),B===_&&c(j,"prev"),B===T&&c(j,"next"))});else{const j=S[E];if(j&&j.classList.add(...p.bulletActiveClass.split(" ")),e.isElement&&S.forEach((B,L)=>{B.setAttribute("part",L===E?"bullet-active":"bullet")}),p.dynamicBullets){const B=S[_],L=S[T];for(let A=_;A<=T;A+=1)S[A]&&S[A].classList.add(...`${p.bulletActiveClass}-main`.split(" "));c(B,"prev"),c(L,"next")}}if(p.dynamicBullets){const j=Math.min(S.length,p.dynamicMainBullets+4),B=(i*j-i)/2-I*i,L=m?"right":"left";S.forEach(A=>{A.style[e.isHorizontal()?L:"top"]=`${B}px`})}}w.forEach((S,_)=>{if(p.type==="fraction"&&(S.querySelectorAll(ii(p.currentClass)).forEach(T=>{T.textContent=p.formatFractionCurrent(E+1)}),S.querySelectorAll(ii(p.totalClass)).forEach(T=>{T.textContent=p.formatFractionTotal(k)})),p.type==="progressbar"){let T;p.progressbarOpposite?T=e.isHorizontal()?"vertical":"horizontal":T=e.isHorizontal()?"horizontal":"vertical";const I=(E+1)/k;let j=1,B=1;T==="horizontal"?j=I:B=I,S.querySelectorAll(ii(p.progressbarFillClass)).forEach(L=>{L.style.transform=`translate3d(0,0,0) scaleX(${j}) scaleY(${B})`,L.style.transitionDuration=`${e.params.speed}ms`})}p.type==="custom"&&p.renderCustom?(Oc(S,p.renderCustom(e,E+1,k)),_===0&&o("paginationRender",S)):(_===0&&o("paginationRender",S),o("paginationUpdate",S)),e.params.watchOverflow&&e.enabled&&S.classList[e.isLocked?"add":"remove"](p.lockClass)})}function v(){const m=e.params.pagination;if(l())return;const p=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let w=e.pagination.el;w=et(w);let E="";if(m.type==="bullets"){let N=e.params.loop?Math.ceil(p/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&N>p&&(N=p);for(let P=0;P<N;P+=1)m.renderBullet?E+=m.renderBullet.call(e,P,m.bulletClass):E+=`<${m.bulletElement} ${e.isElement?'part="bullet"':""} class="${m.bulletClass}"></${m.bulletElement}>`}m.type==="fraction"&&(m.renderFraction?E=m.renderFraction.call(e,m.currentClass,m.totalClass):E=`<span class="${m.currentClass}"></span> / <span class="${m.totalClass}"></span>`),m.type==="progressbar"&&(m.renderProgressbar?E=m.renderProgressbar.call(e,m.progressbarFillClass):E=`<span class="${m.progressbarFillClass}"></span>`),e.pagination.bullets=[],w.forEach(N=>{m.type!=="custom"&&Oc(N,E||""),m.type==="bullets"&&e.pagination.bullets.push(...N.querySelectorAll(ii(m.bulletClass)))}),m.type!=="custom"&&o("paginationRender",w[0])}function g(){e.params.pagination=FS(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const m=e.params.pagination;if(!m.el)return;let p;typeof m.el=="string"&&e.isElement&&(p=e.el.querySelector(m.el)),!p&&typeof m.el=="string"&&(p=[...document.querySelectorAll(m.el)]),p||(p=m.el),!(!p||p.length===0)&&(e.params.uniqueNavElements&&typeof m.el=="string"&&Array.isArray(p)&&p.length>1&&(p=[...e.el.querySelectorAll(m.el)],p.length>1&&(p=p.find(w=>ES(w,".swiper")[0]===e.el))),Array.isArray(p)&&p.length===1&&(p=p[0]),Object.assign(e.pagination,{el:p}),p=et(p),p.forEach(w=>{m.type==="bullets"&&m.clickable&&w.classList.add(...(m.clickableClass||"").split(" ")),w.classList.add(m.modifierClass+m.type),w.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.type==="bullets"&&m.dynamicBullets&&(w.classList.add(`${m.modifierClass}${m.type}-dynamic`),a=0,m.dynamicMainBullets<1&&(m.dynamicMainBullets=1)),m.type==="progressbar"&&m.progressbarOpposite&&w.classList.add(m.progressbarOppositeClass),m.clickable&&w.addEventListener("click",d),e.enabled||w.classList.add(m.lockClass)}))}function y(){const m=e.params.pagination;if(l())return;let p=e.pagination.el;p&&(p=et(p),p.forEach(w=>{w.classList.remove(m.hiddenClass),w.classList.remove(m.modifierClass+m.type),w.classList.remove(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.clickable&&(w.classList.remove(...(m.clickableClass||"").split(" ")),w.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(w=>w.classList.remove(...m.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const m=e.params.pagination;let{el:p}=e.pagination;p=et(p),p.forEach(w=>{w.classList.remove(m.horizontalClass,m.verticalClass),w.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?b():(g(),v(),h())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),r("snapIndexChange",()=>{h()}),r("snapGridLengthChange",()=>{v(),h()}),r("destroy",()=>{y()}),r("enable disable",()=>{let{el:m}=e.pagination;m&&(m=et(m),m.forEach(p=>p.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{h()}),r("click",(m,p)=>{const w=p.target,E=et(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&E&&E.length>0&&!w.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&w===e.navigation.nextEl||e.navigation.prevEl&&w===e.navigation.prevEl))return;const N=E[0].classList.contains(e.params.pagination.hiddenClass);o(N===!0?"paginationShow":"paginationHide"),E.forEach(P=>P.classList.toggle(e.params.pagination.hiddenClass))}});const x=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=et(m),m.forEach(p=>p.classList.remove(e.params.pagination.paginationDisabledClass))),g(),v(),h()},b=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=et(m),m.forEach(p=>p.classList.add(e.params.pagination.paginationDisabledClass))),y()};Object.assign(e.pagination,{enable:x,disable:b,render:v,update:h,init:g,destroy:y})}function bD(t){let{swiper:e,extendParams:n,on:r,emit:o,params:s}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let i,a,l=s&&s.autoplay?s.autoplay.delay:3e3,c=s&&s.autoplay?s.autoplay.delay:3e3,u,d=new Date().getTime(),h,v,g,y,x,b,m;function p(O){!e||e.destroyed||!e.wrapperEl||O.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",p),!(m||O.detail&&O.detail.bySwiperTouchMove)&&_())}const w=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?h=!0:h&&(c=u,h=!1);const O=e.autoplay.paused?u:d+c-new Date().getTime();e.autoplay.timeLeft=O,o("autoplayTimeLeft",O,O/l),a=requestAnimationFrame(()=>{w()})},E=()=>{let O;return e.virtual&&e.params.virtual.enabled?O=e.slides.find(R=>R.classList.contains("swiper-slide-active")):O=e.slides[e.activeIndex],O?parseInt(O.getAttribute("data-swiper-autoplay"),10):void 0},N=O=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),w();let M=typeof O>"u"?e.params.autoplay.delay:O;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const R=E();!Number.isNaN(R)&&R>0&&typeof O>"u"&&(M=R,l=R,c=R),u=M;const z=e.params.speed,V=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(z,!0,!0),o("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,z,!0,!0),o("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(z,!0,!0),o("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,z,!0,!0),o("autoplay")),e.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{N()})))};return M>0?(clearTimeout(i),i=setTimeout(()=>{V()},M)):requestAnimationFrame(()=>{V()}),M},P=()=>{d=new Date().getTime(),e.autoplay.running=!0,N(),o("autoplayStart")},k=()=>{e.autoplay.running=!1,clearTimeout(i),cancelAnimationFrame(a),o("autoplayStop")},S=(O,M)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(i),O||(b=!0);const R=()=>{o("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",p):_()};if(e.autoplay.paused=!0,M){x&&(u=e.params.autoplay.delay),x=!1,R();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-d),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),R())},_=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(d=new Date().getTime(),b?(b=!1,N(u)):N(),e.autoplay.paused=!1,o("autoplayResume"))},T=()=>{if(e.destroyed||!e.autoplay.running)return;const O=Pn();O.visibilityState==="hidden"&&(b=!0,S(!0)),O.visibilityState==="visible"&&_()},I=O=>{O.pointerType==="mouse"&&(b=!0,m=!0,!(e.animating||e.autoplay.paused)&&S(!0))},j=O=>{O.pointerType==="mouse"&&(m=!1,e.autoplay.paused&&_())},B=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",I),e.el.addEventListener("pointerleave",j))},L=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",I),e.el.removeEventListener("pointerleave",j))},A=()=>{Pn().addEventListener("visibilitychange",T)},D=()=>{Pn().removeEventListener("visibilitychange",T)};r("init",()=>{e.params.autoplay.enabled&&(B(),A(),P())}),r("destroy",()=>{L(),D(),e.autoplay.running&&k()}),r("_freeModeStaticRelease",()=>{(g||b)&&_()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?k():S(!0,!0)}),r("beforeTransitionStart",(O,M,R)=>{e.destroyed||!e.autoplay.running||(R||!e.params.autoplay.disableOnInteraction?S(!0,!0):k())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){k();return}v=!0,g=!1,b=!1,y=setTimeout(()=>{b=!0,g=!0,S(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!v)){if(clearTimeout(y),clearTimeout(i),e.params.autoplay.disableOnInteraction){g=!1,v=!1;return}g&&e.params.cssMode&&_(),g=!1,v=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(x=!0)}),Object.assign(e.autoplay,{start:P,stop:k,pause:S,resume:_})}const Il=({post:t})=>{var u,d;const[e,n]=C.useState(!1),r="https://images.unsplash.com/photo-1465101178521-c1a9136a3b99?auto=format&fit=crop&w=400&q=80",{userAuth:o,setUserAuth:s}=C.useContext(ye),[i,a]=C.useState(!1),l=(u=o==null?void 0:o.bookmarked_blogs)==null?void 0:u.includes(t.blog_id),c=async h=>{if(h.preventDefault(),!(!(o!=null&&o.access_token)||i)){a(!0);try{const v=t.blog_id,g=l?"/unbookmark-blog":"/bookmark-blog";await _n.post("http://localhost:3000/api"+g,{blog_id:v},{headers:{Authorization:`Bearer ${o.access_token}`}});const{data:y}=await _n.post("http://localhost:3000/api/get-profile",{username:o.username});Ut({...y,access_token:o.access_token},s)}catch(v){he.error("Failed to update bookmark. Please try again."),console.error("Bookmark error:",v)}finally{setTimeout(()=>{a(!1)},300)}}};return f.jsx(f.Fragment,{children:f.jsx(ee,{to:`/blog/${t.blog_id||t._id}`,className:"block w-full max-w-full",children:f.jsxs("div",{className:"flex flex-col bg-white rounded-lg shadow-md p-4 h-[340px] w-full max-w-full hover:shadow-lg transition-shadow duration-300 cursor-pointer overflow-hidden",children:[f.jsx("img",{src:e?r:t.banner||r,alt:t.title,className:"rounded-md w-full h-32 object-cover mb-3",onError:()=>n(!0)}),f.jsx("h3",{className:"font-semibold text-base mb-1 line-clamp-2",children:t.title}),f.jsx("p",{className:"text-gray-500 text-sm mb-3 line-clamp-2",children:t.description}),f.jsxs("div",{className:"flex items-center mt-auto bg-gray-100 rounded-xl px-3 w-full",children:[t.author&&t.author.avatar&&f.jsx("img",{src:t.author.avatar,alt:t.author.name||"Author",className:"w-8 h-8 rounded-full"}),f.jsxs("div",{className:"ml-2 flex-grow flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium ",children:((d=t.author)==null?void 0:d.name)||"Unknown Author"}),f.jsx("div",{className:"text-xs text-gray-400",children:t.date?dS(t.date):"No date"})]}),f.jsx("button",{onClick:c,"aria-label":l?"Unbookmark":"Bookmark",disabled:i,children:l?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M5 5v14l7-7 7 7V5a2 2 0 00-2-2H7a2 2 0 00-2 2z"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 hover:text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5v14l7-7 7 7V5a2 2 0 00-2-2H7a2 2 0 00-2 2z"})})})]})]})]})})})},xD=()=>{let[t,e]=C.useState(null),[n,r]=C.useState(null),[o,s]=C.useState("home");const{userAuth:i,setUserAuth:a}=C.useContext(ye),{setBlogImages:l,setCategories:c}=C.useContext(Nu);i!=null&&i.liked_blogs,i!=null&&i.bookmarked_blogs;const[u,d]=C.useState(!1),[h,v]=C.useState(1),[g,y]=C.useState(1),[x,b]=C.useState(1),[m,p]=C.useState(1),[w,E]=C.useState([]),[N,P]=C.useState([]),[k,S]=C.useState([]),[_,T]=C.useState([]),[I,j]=C.useState(!1),[B,L]=C.useState(!1),[A,D]=C.useState(!1),[O,M]=C.useState(!1);C.useState([]),C.useState([]),C.useState([]),C.useState([]);const R=["islam","prophets","religion","basics","sahaba","anbiya"],z=C.useMemo(()=>{const $=((t==null?void 0:t.results)||[]).flatMap(X=>X.tags||[]);return Array.from(new Set([...R,...$]))},[t==null?void 0:t.results]);C.useEffect(()=>{c&&c(z);const X=[...(t==null?void 0:t.results)||[],...n||[],...w,...N,...k,..._].filter(ne=>ne.banner&&ne.blog_id).slice(0,12);l&&l(X)},[t,n,w,N,k,_,c,l]);let[V,te]=C.useState([]);C.useState(1);let[Y,pe]=C.useState(!1);const me=6,Pe=async($=1)=>{try{const{data:X}=await G.post("http://localhost:3000/api/latest-blogs",{page:$},{timeout:1e4}),ne=await Bo({state:t,data:X.blogs,page:$,countRoute:"/all-latest-blogs-count",create_new_arr:$===1});ne&&e(ne)}catch(X){console.error("Error fetching latest blogs:",X),e(ne=>ne||{results:[],page:1,totalDocs:0})}},Tt=async($=1)=>{try{const{data:X}=await G.post("http://localhost:3000/api/search-blogs",{tag:o,page:$},{timeout:1e4}),ne=await Bo({state:t,data:X.blogs,page:$,countRoute:"/search-blogs-count",create_new_arr:$===1,data_to_send:{tag:o}});ne&&e(ne)}catch(X){console.error("Error fetching category blogs:",X),e(ne=>ne||{results:[],page:1,totalDocs:0})}},rt=()=>{G.get("http://localhost:3000/api/trending-blogs",{timeout:1e4}).then(({data:$})=>{r($.blogs)}).catch($=>{console.error("Error fetching trending blogs:",$),r([])})},Le=$=>{const X=$.toLowerCase();s(o===X?"home":X),e(null)},Fe=async($=1)=>{pe(!0);try{const{data:X}=await G.get("http://localhost:3000/api/trending-blogs");te($===1?X.blogs.slice(0,me):ne=>[...ne,...X.blogs.slice(($-1)*me,$*me)])}catch{te([])}finally{pe(!1)}},Ke=async($=1)=>{j(!0);try{const{data:X}=await G.post("http://localhost:3000/api/latest-blogs",{page:$}),ne=X.blogs.sort((Ie,re)=>{var ze,gt;return(((ze=re.activity)==null?void 0:ze.total_reads)||0)-(((gt=Ie.activity)==null?void 0:gt.total_reads)||0)}),de=($-1)*4,we=de+4,Ee=ne.slice(de,we);Ee.length===0&&$>1?(v(1),Ke(1)):E(Ee)}catch(X){console.error("Error fetching popular blogs:",X),E([])}finally{j(!1)}},Bt=async($=1)=>{L(!0);try{const{data:X}=await G.post("http://localhost:3000/api/latest-blogs",{page:$}),ne=X.blogs.map(de=>({...de,date:Ao(de.publishedAt)}));P(ne)}catch(X){console.error("Error fetching new blogs:",X),P([])}finally{L(!1)}},ur=async($=1)=>{D(!0);try{const{data:X}=await G.get("http://localhost:3000/api/trending-blogs"),ne=($-1)*4,de=ne+4,we=X.blogs.slice(ne,de);S(we)}catch(X){console.error("Error fetching trendy blogs:",X),S([])}finally{D(!1)}},On=async($=1)=>{M(!0);try{const{data:X}=await G.post("http://localhost:3000/api/latest-blogs",{page:$}),ne=X.blogs.sort((Ie,re)=>{var dr,fr,qs,mn;const ze=(((dr=Ie.activity)==null?void 0:dr.total_likes)||0)+(((fr=Ie.activity)==null?void 0:fr.total_comments)||0);return(((qs=re.activity)==null?void 0:qs.total_likes)||0)+(((mn=re.activity)==null?void 0:mn.total_comments)||0)-ze}),de=($-1)*4,we=de+4,Ee=ne.slice(de,we);Ee.length===0&&$>1?(p(1),On(1)):T(Ee)}catch(X){console.error("Error fetching top blogs:",X),T([])}finally{M(!1)}},[ro,_a]=C.useState(1),[Na,Pa]=C.useState(1);C.useEffect(()=>{(async()=>{try{Un!=null&&Un.current&&Un.current.click(),e(null),o=="home"?await Pe(1):await Tt(1),n||rt(),V.length===0&&Fe(1),w.length===0&&Ke(1),N.length===0&&Bt(1),k.length===0&&ur(1),_.length===0&&On(1)}catch(X){console.error("Error loading initial data:",X),e({results:[],page:1,totalDocs:0}),r([])}})()},[o]),C.useEffect(()=>{G.post("http://localhost:3000/api/all-latest-blogs-count").then(({data:$})=>{$.totalDocs&&(_a(Math.ceil($.totalDocs/4)),Pa(Math.ceil($.totalDocs/4)))}).catch(()=>{_a(1),Pa(1)})},[]);const Pu=()=>{if(h<ro){const $=h+1;v($),Ke($)}},Ia=()=>{if(h>1){const $=h-1;v($),Ke($)}},Iu=()=>{const $=g+1;y($),Bt($)},K=()=>{if(g>1){const $=g-1;y($),Bt($)}},ie=()=>{const $=x+1;b($),ur($)},mt=()=>{if(x>1){const $=x-1;b($),ur($)}},ve=()=>{if(m<Na){const $=m+1;p($),On($)}},Ze=()=>{if(m>1){const $=m-1;p($),On($)}},be=async $=>{var ne;if(!(i!=null&&i.access_token)||u)return;const X=(ne=i==null?void 0:i.bookmarked_blogs)==null?void 0:ne.includes($);d(!0);try{const de=X?"/api/unbookmark-blog":"/api/bookmark-blog";await G.post("http://localhost:3000"+de,{blog_id:$},{headers:{Authorization:`Bearer ${i.access_token}`}});const{data:we}=await G.post("http://localhost:3000/api/get-profile",{username:i.username});Ut({...we,access_token:i.access_token},a)}catch(de){console.error("Bookmark error:",de)}finally{setTimeout(()=>{d(!1)},300)}};return f.jsxs(Me,{children:[f.jsx(z4,{categories:z,onCategorySelect:Le}),f.jsxs("section",{className:"h-cover flex flex-col gap-10 px-[5vw]",children:[f.jsxs("div",{className:"w-full",children:[f.jsx("div",{className:"flex items-center justify-between mb-8"}),n==null?f.jsx(Oe,{}):n.length>0&&f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[n.slice(0,2).map(($,X)=>f.jsx("div",{className:"h-[300px]",children:f.jsx(oy,{blog:$})},X)),f.jsx("div",{className:"h-[300px] lg:col-span-2",children:f.jsx(RS,{modules:[vD,yD,bD],spaceBetween:50,slidesPerView:1,navigation:!0,pagination:{clickable:!0},autoplay:{delay:3e3,disableOnInteraction:!1},loop:!0,className:"h-full",children:n.slice(2).map(($,X)=>f.jsx(DS,{children:f.jsx(oy,{blog:$})},X))})})]})]}),f.jsxs("div",{className:"w-full",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsx("h1",{className:"font-medium text-2xl",children:"Popular Posts"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:Ia,disabled:h===1||I,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),f.jsx("button",{onClick:Pu,disabled:I||h>=ro,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:I?f.jsx("div",{className:"col-span-full flex justify-center py-8 ",children:f.jsxs("div",{className:"flex items-center gap-2 ",children:[f.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 border-yellow-4600 rounded-full animate-spin "}),f.jsx("span",{className:"text-gray-600",children:"Loading blogs..."})]})}):w.length===0?f.jsx(Oe,{}):w.length?w.map(($,X)=>{var ne,de,we,Ee;return f.jsx(Me,{children:f.jsx(Il,{post:{banner:$.banner,title:$.title,description:$.des||$.description,author:{name:(de=(ne=$.author)==null?void 0:ne.personal_info)==null?void 0:de.fullname,avatar:(Ee=(we=$.author)==null?void 0:we.personal_info)==null?void 0:Ee.profile_img},date:$.publishedAt||$.createdAt,blog_id:$.blog_id||$._id}})},X)}):f.jsx(Pt,{message:"No Blogs Published"})})]}),f.jsxs("div",{className:"w-full mt-12",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsx("h1",{className:"font-medium text-2xl",children:"New Posts"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:K,disabled:g===1||B,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),f.jsx("button",{onClick:Iu,disabled:B,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:B?f.jsx("div",{className:"col-span-full flex justify-center py-8",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 border-yellow-400 rounded-full animate-spin"}),f.jsx("span",{className:"text-gray-600",children:"Loading blogs..."})]})}):N.length===0?f.jsx(Oe,{}):N.length?N.slice(0,6).map(($,X)=>{var ne,de,we,Ee,Ie,re,ze;return f.jsx(ee,{to:`/blog/${$.blog_id||$._id}`,className:"block",children:f.jsxs("div",{className:"flex flex-col sm:flex-row bg-white rounded-xl shadow p-4 gap-4 items-center hover:shadow-lg transition-shadow duration-300 cursor-pointer",children:[f.jsx("img",{src:$.banner||"/src/imgs/default.jpg",alt:$.title,className:"w-full sm:w-32 h-40 sm:h-32 object-cover rounded-lg"}),f.jsxs("div",{className:"flex-1 flex flex-col justify-between h-full",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"font-semibold text-lg line-clamp-2",children:$.title}),f.jsx("p",{className:"text-gray-500 text-sm mt-1 line-clamp-2",children:$.des||$.description})]}),f.jsxs("div",{className:"flex items-center justify-between mt-4 bg-gray-100 rounded-lg px-3 ",children:[f.jsxs("div",{className:"flex items-center gap-2 rounded-lg px-3 py-2",children:[f.jsx("img",{src:((de=(ne=$.author)==null?void 0:ne.personal_info)==null?void 0:de.profile_img)||"/src/imgs/default.jpg",alt:(Ee=(we=$.author)==null?void 0:we.personal_info)==null?void 0:Ee.fullname,className:"w-8 h-8 rounded-full object-cover"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-sm font-medium",children:(re=(Ie=$.author)==null?void 0:Ie.personal_info)==null?void 0:re.fullname}),f.jsx("span",{className:"text-xs text-gray-500 mt-0.5",children:$.publishedAt?Ao($.publishedAt):""})]})]}),f.jsx("button",{className:"ml-3",onClick:gt=>{gt.preventDefault(),gt.stopPropagation(),be($.blog_id||$._id)},disabled:u,children:(ze=i==null?void 0:i.bookmarked_blogs)!=null&&ze.includes($.blog_id||$._id)?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M5 5v14l7-7 7 7V5a2 2 0 00-2-2H7a2 2 0 00-2 2z"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 hover:text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5v14l7-7 7 7V5a2 2 0 00-2-2H7a2 2 0 00-2 2z"})})})]})]})]})},X)}):f.jsx(Pt,{message:"No Most Viewed Blogs"})})]}),f.jsxs("div",{className:"w-full mt-12",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsx("h1",{className:"font-medium text-2xl",children:"Trendy Posts"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:mt,disabled:x===1||A,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),f.jsx("button",{onClick:ie,disabled:A,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:A?f.jsx("div",{className:"col-span-full flex justify-center py-8",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 border-yellow-400 rounded-full animate-spin"}),f.jsx("span",{className:"text-gray-600",children:"Loading blogs..."})]})}):k.length===0?f.jsx(Oe,{}):k.length?k.map(($,X)=>{var ne,de,we,Ee;return f.jsx(Me,{children:f.jsx(Il,{post:{banner:$.banner,title:$.title,description:$.des||$.description,author:{name:(de=(ne=$.author)==null?void 0:ne.personal_info)==null?void 0:de.fullname,avatar:(Ee=(we=$.author)==null?void 0:we.personal_info)==null?void 0:Ee.profile_img},date:$.publishedAt||$.createdAt,blog_id:$.blog_id||$._id}})},X)}):f.jsx(Pt,{message:"No Trendy Blogs"})})]}),f.jsxs("div",{className:"w-full mt-12",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsx("h1",{className:"font-medium text-2xl",children:"Top Posts"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:Ze,disabled:m===1||O,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),f.jsx("button",{onClick:ve,disabled:O||m>=Na,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:O?f.jsx("div",{className:"col-span-full flex justify-center py-8",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 border-yellow-400 rounded-full animate-spin"}),f.jsx("span",{className:"text-gray-600",children:"Loading blogs..."})]})}):_.length===0?f.jsx(Oe,{}):_.length?_.map(($,X)=>{var ne,de,we,Ee;return f.jsx(Me,{children:f.jsx(Il,{post:{banner:$.banner,title:$.title,description:$.des||$.description,author:{name:(de=(ne=$.author)==null?void 0:ne.personal_info)==null?void 0:de.fullname,avatar:(Ee=(we=$.author)==null?void 0:we.personal_info)==null?void 0:Ee.profile_img},date:$.publishedAt||$.createdAt,blog_id:$.blog_id||$._id}})},X)}):f.jsx(Pt,{message:"No Top Blogs"})})]})]})]})},wD=({user:t})=>{let{personal_info:{fullname:e,username:n,profile_img:r}}=t;return f.jsxs(ee,{to:`/user/${n}`,className:"flex gap-5 items-center mb-5",children:[f.jsx("img",{src:r||"/src/imgs/user profile.png",className:"w-14 h-14 rounded-full",alt:e}),f.jsxs("div",{children:[f.jsx("h1",{className:"font-medium text-xl line-clamp-2",children:e}),f.jsxs("p",{className:"text-dark-grey",children:["@",n]})]})]})},kD=()=>{let{query:t}=Uo();const{userAuth:e,setUserAuth:n}=C.useContext(ye);let[r,o]=C.useState(null),[s,i]=C.useState(null);const a=({page:h=1,create_new_arr:v=!1})=>{G.post("http://localhost:3000/api/search-blogs",{query:t,page:h}).then(async({data:g})=>{let y=await Bo({state:r,data:g.blogs,page:h,countRoute:"/search-blogs-count",data_to_send:{query:t},create_new_arr:v});o(y)}).catch(g=>{console.log(g)})},l=()=>{G.post("http://localhost:3000/api/search-users",{query:t}).then(({data:{users:h}})=>{i(h)}).catch(h=>{console.log(h)})},c=()=>{o(null),i(null)};C.useEffect(()=>{c(),l(),a({page:1,create_new_arr:!0})},[t]);const u=(h,v)=>{n(g=>{if(!g)return g;let y=g.liked_blogs||[];return h?y.includes(v)||(y=[...y,v]):y=y.filter(x=>x!==v),{...g,liked_blogs:y}})},d=()=>f.jsx(f.Fragment,{children:s===null?f.jsx(Oe,{}):s.length?s.map((h,v)=>f.jsx(Me,{transition:{duration:1,delay:v*.08},children:f.jsx(wD,{user:h})},v)):f.jsx(Pt,{message:"No user found"})});return f.jsxs("section",{className:"h-cover flex justify-center gap-10",children:[f.jsx("div",{className:"w-full",children:f.jsx(_c,{routes:[`Search Results from ${t}`,"Accounts Matched"],defaultHidden:["Accounts Matched"],children:[f.jsx(f.Fragment,{children:r===null?f.jsx(Oe,{}):f.jsx(f.Fragment,{children:r.results.length?f.jsxs(f.Fragment,{children:[r.results.map((h,v)=>{var g;return f.jsx(Me,{transition:{duration:1,delay:v*.1},children:f.jsx(ds,{content:h,author:h.author.personal_info,liked:(g=e==null?void 0:e.liked_blogs)==null?void 0:g.includes(h.blog_id),onLikeToggle:u})},v)}),f.jsx(Xn,{state:r,fetchDataFun:a})]}):f.jsx(Pt,{message:"No blogs published"})})}),f.jsx(d,{})]})}),f.jsxs("div",{className:"min-w-[40%] lg:min-w-[350px] max-w-min border-1 border-grey pl-8 pt-3 max-md:hidden",children:[f.jsxs("h1",{className:"font-medium text-xl mb-8",children:["User related to search ",f.jsx("i",{className:"fi fi-rr-user mt-1"})]}),f.jsx(d,{})]})]})},US=()=>f.jsxs("section",{className:"h-cover relative p-10 flex flex-col items-center gap-20 text-center",children:[f.jsx("img",{src:D1,className:"select-none border-2 border-grey w-72 aspect-[2/1] object-cover rounded"}),f.jsx("h1",{className:"text-4xl font-gelasio leading-7",children:"Page not found"}),f.jsxs("p",{className:"text-dark-grey text-xl leading-7 -mt-8",children:["The page you are looking for has been moved or deleted. ",f.jsx("br",{}),"Head back to the ",f.jsx(ee,{to:"/",className:"text-black underline",children:"home page"})]}),f.jsxs("div",{className:"mt-auto",children:[f.jsx(ee,{to:"/",className:"text-2xl font-bold text-[#185d4e] shrink-0",children:"IslamicStories"}),f.jsx("p",{className:"mt-5 text-dark-grey",children:"Read motivating stories about Islam"})]})]}),SD="modulepreload",ED=function(t){return"/"+t},dy={},TD=function(e,n,r){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=ED(s),s in dy)return;dy[s]=!0;const i=s.endsWith(".css"),a=i?'[rel="stylesheet"]':"";if(!!r)for(let u=o.length-1;u>=0;u--){const d=o[u];if(d.href===s&&(!i||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=i?"stylesheet":SD,i||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),i)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s})},CD=({className:t="",bio:e="",social_links:n={},joinedAt:r,personal_info:o={}})=>{const{firstname:s,lastname:i,username:a,email:l,fullname:c,profile_img:u}=o;return f.jsxs("div",{className:"w-full max-w-xl mx-auto flex flex-col items-center justify-center bg-white rounded-xl shadow-lg p-8 md:p-12 gap-4 text-center "+t,children:[u&&f.jsx("img",{src:u,alt:"Profile",className:"w-32 h-32 object-cover rounded-full border-4 border-primary mb-4 shadow"}),c&&f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:c}),a&&f.jsxs("p",{className:"text-lg text-primary font-medium mb-1",children:["@",a]}),(s||i)&&f.jsxs("p",{className:"text-lg text-gray-600 mb-1",children:[s," ",i]}),l&&f.jsx("p",{className:"text-base text-gray-500 mb-2",children:l}),e!=null&&e.length?f.jsx("p",{className:"text-lg leading-7 text-gray-700 mb-4",children:e}):null,f.jsx("div",{className:"flex items-center justify-center gap-x-5 gap-y-2 flex-wrap my-4 text-dark-grey",children:Object.keys(n).map(d=>{let h=n[d];return h?f.jsx(ee,{to:h,target:"_blank",children:f.jsx("i",{className:"fi "+(d!=="website"?"fi-brands-"+d:"fi-rr-globe")+" text-2xl hover:text-primary transition-colors"})},d):null})}),r&&f.jsxs("p",{className:"text-base text-gray-400 mt-2",children:["Joined on ",dS(r)]})]})},Ih={personal_info:{fullname:"",username:"",profile_img:"",bio:""},account_info:{total_posts:0,total_blogs:0},social_links:{},joinedAt:""},_D=()=>{console.log("Rendering ProfilePage");let{id:t}=Uo(),[e,n]=C.useState(Ih),[r,o]=C.useState(!0),[s,i]=C.useState(null),[a,l]=C.useState("");const[c,u]=C.useState(null),[d,h]=C.useState(null),[v,g]=C.useState(!1);let{personal_info:{fullname:y,username:x,profile_img:b,bio:m},account_info:{total_posts:p,total_reads:w},social_links:E,joinedAt:N}=e;const{userAuth:P,setUserAuth:k}=C.useContext(ye);P!=null&&P.username;const S=(P==null?void 0:P.isAdmin)||(P==null?void 0:P.admin)||(P==null?void 0:P.role)==="admin",_=(P==null?void 0:P.username)&&x&&P.username===x;if(console.log("Profile debug:",{userAuthUsername:P==null?void 0:P.username,profileUsername:x,isOwnProfile:_,bookmarked_blogs:P==null?void 0:P.bookmarked_blogs,bookmarkedBlogsState:d,profile:e,userAuth:P}),!P)return console.log("User not authenticated or userAuth not loaded yet."),f.jsx(Oe,{});const T=(O,M)=>{k(R=>{if(!R)return R;let z=R.liked_blogs||[];return O?z.includes(M)||(z=[...z,M]):z=z.filter(V=>V!==M),{...R,liked_blogs:z}})},I=()=>{G.post("http://localhost:3000/api/get-profile",{username:t}).then(({data:O})=>{O?(n(O),console.log("Fetched profile:",O),l(t),S&&j({user_id:O._id}),_&&TD(()=>Promise.resolve().then(()=>gL),void 0).then(({updateUserAuth:M})=>{M(O,k)})):u("User not found"),o(!1)}).catch(O=>{console.log(O),o(!1)})},j=async({page:O=1,user_id:M})=>{M=M||(s==null?void 0:s.user_id);try{const{data:{blogs:R,total:z}}=await G.post("http://localhost:3000/api/search-blogs",{author:M,page:O}),V=await Bo({state:s,data:R,page:O,countRoute:"/search-blogs-count",data_to_send:{author:M},create_new_arr:O===1});V&&i(V)}catch(R){console.error("Error fetching blogs:",R)}},B=(O,M)=>{j({page:M,user_id:O})},L=async({page:O=1})=>{var M,R;if(console.log("getBookmarkedBlogs called:",{page:O,bookmarked_blogs:P==null?void 0:P.bookmarked_blogs,length:(M=P==null?void 0:P.bookmarked_blogs)==null?void 0:M.length,userAuth:P}),!((R=P==null?void 0:P.bookmarked_blogs)!=null&&R.length)){console.log("No bookmarked blogs found, setting empty state"),h({results:[],page:1,totalDocs:0});return}try{console.log("Making API call to get-blogs-by-ids with:",{blog_ids:P.bookmarked_blogs,page:O,limit:5});const{data:{blogs:z,totalDocs:V}}=await G.post("http://localhost:3000/api/get-blogs-by-ids",{blog_ids:P.bookmarked_blogs,page:O,limit:5});console.log("Setting bookmarkedBlogs:",z),console.log("Rendering bookmarkedBlogs.results:",z),z.forEach((te,Y)=>{console.log(`Blog #${Y}:`,te)}),h(d!==null&&O!==1?{...d,results:[...d.results,...z],page:O,totalDocs:V}:{results:z||[],page:1,totalDocs:V})}catch(z){console.error("Error fetching bookmarked blogs:",z),h({results:[],page:1,totalDocs:0})}},A=({page:O})=>{L({page:O})};C.useEffect(()=>{t!==a&&i(null),s===null&&(D(),I())},[t,s]),C.useEffect(()=>{console.log("useEffect for bookmarks triggered:",{bookmarkedBlogs:d,userAuth:!!P,profileId:t,isOwnProfile:_}),d===null&&P&&_&&(console.log("Fetching bookmarked blogs..."),g(!0),L({page:1}).finally(()=>{g(!1)}))},[P,d,t,_]),C.useEffect(()=>{_&&!S&&a===t&&L({page:1})},[_,S,a,t]);const D=()=>{n(Ih),o(!0),l(""),h(null)};return f.jsx(Me,{children:r?f.jsx(Oe,{}):e.personal_info.username.length?f.jsxs("section",{className:"h-cover md:flex flex-row-reverse items-start gap-5 min-[1100px]:gap-12",children:[f.jsx("div",{className:"flex flex-col items-center justify-center w-full md:w-[50%] md:pl-8 md:border-l border-grey md:sticky md:top-[100px] md:py-10",children:f.jsx(CD,{personal_info:e.personal_info,bio:m,social_links:E,joinedAt:N})}),f.jsx("div",{className:"w-full",children:_?S?f.jsxs(_c,{routes:["Published Blogs","Bookmarked Blogs"],defaultActiveIndex:0,children:[f.jsx("div",{label:"Published Blogs",children:s==null?f.jsx(Oe,{}):s.results.length?f.jsxs(f.Fragment,{children:[s.results.map((O,M)=>{var R;return f.jsx(Me,{transition:{duration:1,delay:M*.1},children:f.jsx(ds,{content:O,author:O.author.personal_info,liked:(R=P==null?void 0:P.liked_blogs)==null?void 0:R.includes(O.blog_id),onLikeToggle:T})},M)}),f.jsx(Xn,{state:s,fetchDataFun:B,additionalParam:s.user_id})]}):f.jsx(Pt,{message:"No Blogs Published"})}),f.jsx("div",{label:"Bookmarked Blogs",children:!d||!Array.isArray(d.results)?f.jsx(Oe,{}):d.results.length===0?f.jsx(Pt,{message:"No Bookmarked Blogs"}):f.jsxs(f.Fragment,{children:[d.results.map((O,M)=>{var R;return f.jsx(Me,{transition:{duration:1,delay:M*.1},children:f.jsx(ds,{content:O,author:O.author.personal_info,liked:(R=P==null?void 0:P.liked_blogs)==null?void 0:R.includes(O.blog_id),onLikeToggle:T})},M)}),f.jsx("div",{className:"flex justify-center mt-4",children:f.jsx(Xn,{state:d,fetchDataFun:A})})]})})]}):f.jsx("div",{children:f.jsxs("div",{label:"Bookmarked Blogs",children:[f.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-semibold mb-6",children:"Bookmarked Blogs"}),!d||!Array.isArray(d.results)?f.jsx(Oe,{}):d.results.length===0?f.jsx(Pt,{message:"No Bookmarked Blogs"}):f.jsxs(f.Fragment,{children:[d.results.map((O,M)=>{var R;return f.jsx(Me,{transition:{duration:1,delay:M*.1},children:f.jsx(ds,{content:O,author:O.author.personal_info,liked:(R=P==null?void 0:P.liked_blogs)==null?void 0:R.includes(O.blog_id),onLikeToggle:T})},M)}),f.jsx("div",{className:"flex justify-center mt-4",children:f.jsx(Xn,{state:d,fetchDataFun:A})})]})]})}):f.jsx(_c,{routes:["Published Blogs","About"],defaultActiveIndex:0,children:S&&f.jsx("div",{label:"Published Blogs",children:s==null?f.jsx(Oe,{}):s.results.length?f.jsxs(f.Fragment,{children:[s.results.map((O,M)=>{var R;return f.jsx(Me,{transition:{duration:1,delay:M*.1},children:f.jsx(ds,{content:O,author:O.author.personal_info,liked:(R=P==null?void 0:P.liked_blogs)==null?void 0:R.includes(O.blog_id),onLikeToggle:T})},M)}),f.jsx(Xn,{state:s,fetchDataFun:B,additionalParam:s.user_id})]}):f.jsx(Pt,{message:"No Blogs Published"})})})})]}):f.jsx(US,{})})},ND=()=>{const[t,e]=C.useState(!1),{blog:n,setBlog:r,isLikedByUser:o,setLikedByUser:s,commentsWrapper:i,setCommentsWrapper:a}=C.useContext(Gs),{userAuth:l,setUserAuth:c}=C.useContext(ye),{_id:u,title:d="",blog_id:h="",activity:{total_likes:v=0,total_comments:g=0}={},author:{personal_info:{username:y=""}={}}={}}=n||{},{userAuth:{username:x="",access_token:b=""}={}}=C.useContext(ye)||{};C.useEffect(()=>{console.log("BlogInteraction mounted"),console.log("Blog data:",n),console.log("Author username:",y),console.log("Current user:",x),console.log("Should show edit button:",x===y)},[n,x,y]);const m=()=>{if(!t)if(b){e(!0);const p=!o,w=p?v+1:v-1;s&&s(p),r&&r(E=>({...E,activity:{...E.activity,total_likes:w}})),G.post("http://localhost:3000/api/like-blog",{blog_id:h},{headers:{Authorization:`Bearer ${b}`}}).then(()=>{c&&c(E=>{if(!E)return E;let N=E.liked_blogs||[];return p?N.includes(h)||(N=[...N,h]):N=N.filter(P=>P!==h),{...E,liked_blogs:N}})}).catch(E=>{s&&s(!p),r&&r(N=>({...N,activity:{...N.activity,total_likes:v}})),H.error("Failed to update like status")}).finally(()=>{e(!1)})}else H.error("Please login to like this blog")};return f.jsxs(f.Fragment,{children:[f.jsx(An,{}),f.jsx("hr",{className:"border-grey my-2"}),f.jsxs("div",{className:"flex gap-6 justify-between",children:[f.jsxs("div",{className:"flex gap-3 items-center",children:[f.jsx("button",{onClick:m,disabled:t,className:`w-10 h-10 rounded-full flex items-center justify-center ${o?"bg-red/20 text-red":"bg-grey/80"} ${t?"cursor-not-allowed":""}`,children:f.jsx("i",{className:`fi ${o?"fi-sr-heart":"fi-rr-heart"}`})}),f.jsx("p",{className:"text-xl text-dark-grey",children:v}),f.jsx("button",{onClick:()=>{a&&a(!0);const p=document.getElementById("comments-section");p&&p.scrollIntoView({behavior:"smooth"})},className:"w-10 h-10 rounded-full flex items-center justify-center bg-grey/80 ",children:f.jsx("i",{className:"fi fi-rr-comment-dots"})}),f.jsx("p",{className:"text-xl text-dark-grey",children:g})]}),f.jsxs("div",{className:"flex gap-6 items-center",children:[x===y&&f.jsx(ee,{to:`/editor/${h}`,className:"underline hover:text-purple-600",children:"Edit"}),f.jsx(ee,{to:`https://twitter.com/intent/tweet?text=Read ${encodeURIComponent(d)}&url=${encodeURIComponent(window.location.href)}`,children:f.jsx("i",{className:"fi fi-brands-twitter text-xl hover:text-twitter"})})]})]}),f.jsx("hr",{className:"border-grey my-2"})]})},PD=({url:t,caption:e})=>!t||t.startsWith("blob:")?(console.warn("Invalid or missing image URL:",t),null):f.jsxs("div",{children:[f.jsx("img",{src:t,alt:e||"blog image"}),(e==null?void 0:e.length)>0&&f.jsx("p",{className:"w-full text-center my-3 md:mb-12 text-base text-dark-grey",children:e})]}),ID=({style:t,items:e})=>f.jsx("ol",{className:`pl-5 ${t==="ordered"?"list-decimal":"list-disc"}`,children:e.map((n,r)=>f.jsx("li",{className:"my-4",dangerouslySetInnerHTML:{__html:n}},r))}),jD=({quote:t,caption:e})=>f.jsxs("div",{className:"bg-purple/10 p-3 pl-5 border-l-4 border-purple",children:[f.jsx("p",{className:"text-xl leading-10 md:text-2xl",children:t}),(e==null?void 0:e.length)>0&&f.jsx("p",{className:"w-full text-purple text-base",children:e})]}),LD=({block:t})=>{const{type:e,data:n}=t;return e==="paragraph"?f.jsx("p",{dangerouslySetInnerHTML:{__html:n.text}}):e==="header"?n.level===3?f.jsx("h3",{className:"text-3xl font-bold",dangerouslySetInnerHTML:{__html:n.text}}):f.jsx("h2",{className:"text-4xl font-bold",dangerouslySetInnerHTML:{__html:n.text}}):e==="image"?f.jsx(PD,{url:n.file.url,caption:n.caption}):e==="quote"?f.jsx(jD,{quote:n.text,caption:n.caption}):e==="list"?f.jsx(ID,{style:n.style,items:n.items}):null},AD=({action:t,type:e="Comment"})=>{var u,d;const[n,r]=C.useState(""),[o,s]=C.useState(!1),{userAuth:i}=C.useContext(ye),{blog:a,setBlog:l}=C.useContext(Gs),c=async h=>{var v,g,y;if(h.preventDefault(),!(!n.trim()||!(a!=null&&a.blog_id))){s(!0);try{const{data:x}=await G.post("http://localhost:3000/api/add-comment",{blog_id:a.blog_id||a._id,comment:n.trim(),blog_author:(v=a.author)==null?void 0:v._id},{headers:{Authorization:`Bearer ${i==null?void 0:i.access_token}`,"Content-Type":"application/json"}});if(x.success){r("");const b={...a};b.comments||(b.comments={results:[]}),b.activity||(b.activity={total_parent_comments:0}),x.comment&&b.comments.results&&b.comments.results.unshift(x.comment),l(b),H.success("Comment posted successfully!")}}catch(x){console.error("Error submitting comment:",x),(y=(g=x.response)==null?void 0:g.data)!=null&&y.error?H.error("Error posting comment: "+x.response.data.error):H.error("Failed to post comment. Please try again.")}finally{s(!1)}}};return i!=null&&i.access_token?f.jsxs(f.Fragment,{children:[f.jsx(An,{}),f.jsx(Me,{children:f.jsx("form",{onSubmit:c,className:"bg-white p-4 rounded-lg border comment-field",children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("img",{src:((u=i==null?void 0:i.personal_info)==null?void 0:u.profile_img)||(i==null?void 0:i.profile_img)||"/src/imgs/user profile.png",alt:((d=i==null?void 0:i.personal_info)==null?void 0:d.fullname)||(i==null?void 0:i.fullname)||"Profile",className:"w-10 h-10 rounded-full"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("textarea",{value:n,onChange:h=>r(h.target.value),placeholder:"Share your thoughts on this story...",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:border-transparent resize-none",rows:"3",disabled:o,maxLength:500}),f.jsxs("div",{className:"flex justify-between items-center mt-3",children:[f.jsxs("span",{className:"text-sm text-gray-500",children:[n.length,"/500 characters"]}),f.jsx("button",{type:"submit",disabled:!n.trim()||o||n.length>500,className:"px-4 py-2 bg-yellow-300 text-white rounded-lg hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Posting...":`Post ${e}`})]})]})]})})})]}):f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[f.jsx("p",{className:"text-gray-600 mb-2",children:"Please log in to leave a comment"}),f.jsx(ee,{to:"/login",className:"text-yellow-300 hover:text-yellow-400 font-medium",children:"Login to Comment"})]})},OD=({commentData:t,index:e,leftVal:n})=>{var x,b,m,p;if(console.log("CommentCard received commentData:",t),!t||!t._id)return null;const[r,o]=C.useState(!1),{userAuth:s}=C.useContext(ye),{blog:i,setBlog:a,fetchBlog:l}=C.useContext(Gs),{_id:c,comment:u,commented_by:d,commentedAt:h,children:v}=t,g=s&&d&&(s._id===d._id||s.role==="admin"||((x=s.personal_info)==null?void 0:x.role)==="admin"),y=async()=>{var w,E;if(!(!g||!(i!=null&&i.blog_id))&&window.confirm("Are you sure you want to delete this comment?")){o(!0);try{const{data:N}=await G.post("http://localhost:3000/api/delete-comment",{comment_id:c,blog_id:i.blog_id||i._id},{headers:{Authorization:`Bearer ${s.access_token}`,"Content-Type":"application/json"}});if(N.success)if(typeof l=="function")await l();else{const P={...i};P.comments&&P.comments.results&&(P.comments.results=P.comments.results.filter(k=>k._id!==c)),a(P)}}catch(N){console.error("Error deleting comment:",N),(E=(w=N.response)==null?void 0:w.data)!=null&&E.error?H.error("Error deleting comment: "+N.response.data.error):H.error("Failed to delete comment. Please try again.")}finally{o(!1)}}};return f.jsxs(f.Fragment,{children:[f.jsx(An,{}),f.jsx("div",{className:"bg-white p-4 rounded-lg border hover:shadow-sm transition-shadow",style:{marginLeft:`${n*10}px`},children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("img",{src:((b=d==null?void 0:d.personal_info)==null?void 0:b.profile_img)||(d==null?void 0:d.profile_img)||vc,alt:((m=d==null?void 0:d.personal_info)==null?void 0:m.fullname)||(d==null?void 0:d.fullname)||"User",className:"w-10 h-10 rounded-full flex-shrink-0"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("h4",{className:"font-medium text-gray-800",children:((p=d==null?void 0:d.personal_info)==null?void 0:p.fullname)||(d==null?void 0:d.fullname)||"Unknown User"}),(d==null?void 0:d.role)==="admin"&&f.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-600 text-xs rounded-full",children:"Admin"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("span",{className:"text-xs text-gray-500",children:Ao(h)}),g&&f.jsx("button",{onClick:y,disabled:r,className:"text-red-500 hover:text-red-600 text-sm disabled:opacity-50",title:"Delete comment",children:r?"Deleting...":""})]})]}),f.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:u})]})]})})]})},BD=async({skip:t=0,blog_id:e,setParentCommentCountFun:n,comment_array:r=null})=>{try{console.log("Fetching comments for blog:",e,"skip:",t);const{data:o}=await G.post("http://localhost:3000/api/get-blog-comments",{blog_id:e,skip:t});console.log("Received comments data:",o);const s=o.comments||[];return Array.isArray(s)?(s.forEach(i=>{var a,l,c;i.childrenLevel=0,i.commented_by&&typeof i.commented_by=="object"&&(i.commented_by.fullname=((a=i.commented_by.personal_info)==null?void 0:a.fullname)||"Unknown User",i.commented_by.username=((l=i.commented_by.personal_info)==null?void 0:l.username)||"unknown",i.commented_by.profile_img=((c=i.commented_by.personal_info)==null?void 0:c.profile_img)||"/src/imgs/user profile.png",i.commented_by.role=i.commented_by.role||"user")}),n(i=>i+s.length),r===null?{results:s}:{results:[...r,...s]}):(console.error("Invalid comments data received:",s),{results:[]})}catch(o){return console.error("Error fetching comments:",o),o.response&&(console.error("Error response:",o.response.data),console.error("Error status:",o.response.status)),{results:[]}}},MD=()=>{var u,d;const t=C.useContext(Gs);if(C.useEffect(()=>{console.log("CommentsContainer mounted with context:",t)},[t]),!t||!t.blog)return console.log("No context or blog data available"),null;const{blog:e,commentsWrapper:n,setCommentsWrapper:r,totalParentCommentsLoaded:o,setTotalParentCommentsLoaded:s}=t,i=((u=e.comments)==null?void 0:u.results)||[],a=Array.isArray(i)?i.filter(h=>h&&h._id):[],l=((d=e.activity)==null?void 0:d.total_comments)||0;console.log("CommentsContainer - blog data:",e),console.log("CommentsContainer - comments array:",i),console.log("CommentsContainer - valid comments array:",a),console.log("CommentsContainer - total parent comments:",l);const c=async()=>{try{const h=await BD({skip:o,blog_id:e.blog_id||e._id,setParentCommentCountFun:s,comment_array:i});t.setBlog({...e,comments:h})}catch(h){console.error("Error loading more comments:",h)}};return f.jsxs("section",{id:"comments-section",className:"w-full mt-12",children:[f.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-700",children:[f.jsx("span",{className:"text-yellow-400 text-base",children:""})," Comments"]}),f.jsx(AD,{action:"Comment"}),f.jsx("div",{className:"flex flex-col gap-4",children:a&&a.length?a.map((h,v)=>f.jsx(Me,{children:f.jsx("div",{className:"bg-gray-50 rounded-xl p-5",children:f.jsx(OD,{index:v,leftVal:h.childrenLevel||0,commentData:h})})},v)):f.jsx(Pt,{message:"No Comments"})}),l>o?f.jsx("button",{onClick:c,className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2 mt-6 mx-auto",children:"Load More"}):null]})},RD=({currentBlogId:t,tags:e})=>{const[n,r]=C.useState(null),[o,s]=C.useState(!0),[i,a]=C.useState(4),[l,c]=C.useState(!1),{userAuth:u,setUserAuth:d}=C.useContext(ye);C.useEffect(()=>{(async()=>{if(!e||e.length===0){r([]),s(!1);return}try{const{data:b}=await G.post("http://localhost:3000/api/search-blogs",{tag:e[0],limit:20,eleminate_blog:t});r(b.blogs)}catch(b){console.error("Error fetching similar blogs:",b),r([])}finally{s(!1)}})()},[t,e]);const h=()=>{c(!0),setTimeout(()=>{a(x=>x+4),c(!1)},500)},v=(x,b)=>{d(m=>{if(!m)return m;let p=m.liked_blogs||[];return x?p.includes(b)||(p=[...p,b]):p=p.filter(w=>w!==b),{...m,liked_blogs:p}})};if(o)return f.jsx(Oe,{});if(!n||n.length===0)return null;const g=n.slice(0,i),y=i<n.length;return f.jsxs("div",{className:"mt-14",children:[f.jsx("h1",{className:"text-2xl mb-10 font-medium",children:"Similar Blogs"}),g.map((x,b)=>{var p;let{author:{personal_info:m}}=x;return f.jsx(Me,{transition:{duration:1,delay:b*.1},children:f.jsx(ds,{content:x,author:m,liked:(p=u==null?void 0:u.liked_blogs)==null?void 0:p.includes(x.blog_id),onLikeToggle:v})},b)}),y&&f.jsx("div",{className:"flex justify-center mt-8",children:f.jsx("button",{onClick:h,disabled:l,className:"btn-dark py-3 px-8 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Loading..."]}):"Load More"})})]})},DD=({author:t,tags:e,topPosts:n,blogId:r})=>{var v,g,y;const{setCommentsWrapper:o}=C.useContext(Gs)||{},{userAuth:s,setUserAuth:i}=C.useContext(ye)||{},[a,l]=Q.useState(!1),c=(v=s==null?void 0:s.bookmarked_blogs)==null?void 0:v.includes(r),u=()=>{o&&o(!0);const x=document.getElementById("comments-section");x&&x.scrollIntoView({behavior:"smooth"})},d=async()=>{if(!(!(s!=null&&s.access_token)||a||!r)){l(!0);try{const x=c?"/unbookmark-blog":"/bookmark-blog";await _n.post("http://localhost:3000/api"+x,{blog_id:r},{headers:{Authorization:`Bearer ${s.access_token}`}});const{data:b}=await _n.post("http://localhost:3000/api/get-profile",{username:s.username});Ut({...b,access_token:s.access_token},i)}catch(x){he.error("Failed to update bookmark. Please try again."),console.error("Bookmark error:",x)}finally{setTimeout(()=>l(!1),300)}}},h=async()=>{if(!r)return;const x=window.location.origin+"/blog/"+r;try{await navigator.clipboard.writeText(x),he.success("Blog link copied to clipboard!")}catch{he.error("Failed to copy link.")}};return f.jsxs("aside",{className:"w-full max-w-xs flex flex-col gap-6",children:[f.jsxs("div",{className:"flex gap-3 mb-2",children:[f.jsxs("button",{className:"flex-1 bg-gray-100 hover:bg-gray-200 rounded-lg py-2 flex items-center justify-center gap-2 text-gray-700 font-medium text-sm",onClick:h,disabled:!r,children:[f.jsx("i",{className:"fi fi-rs-paper-plane"})," Share"]}),r&&f.jsxs("button",{className:"flex-1 bg-gray-100 hover:bg-gray-200 rounded-lg py-2 flex items-center justify-center gap-2 text-gray-700 font-medium text-sm",onClick:d,disabled:a,"aria-label":c?"Unbookmark":"Bookmark",children:[c?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M5 5v14l7-7 7 7V5a2 2 0 00-2-2H7a2 2 0 00-2 2z"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 hover:text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5v14l7-7 7 7V5a2 2 0 00-2-2H7a2 2 0 00-2 2z"})}),"Marking"]}),f.jsxs("button",{className:"flex-1 bg-gray-100 hover:bg-gray-200 rounded-lg py-2 flex items-center justify-center gap-2 text-gray-700 font-medium text-sm",onClick:u,children:[f.jsx("i",{className:"fi fi-rs-comment-dots"})," Comment"]})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow p-4 flex items-center gap-4",children:[f.jsx("img",{src:((g=t==null?void 0:t.personal_info)==null?void 0:g.profile_img)||(t==null?void 0:t.profile_img)||"/src/imgs/user profile.png",alt:t==null?void 0:t.fullname,className:"w-16 h-16 rounded-full object-cover"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-semibold text-lg mb-1",children:t==null?void 0:t.fullname}),f.jsxs("div",{className:"text-xs text-gray-400 mb-1",children:["@",((y=t==null?void 0:t.personal_info)==null?void 0:y.username)||(t==null?void 0:t.username)]}),f.jsxs("span",{className:"text-xs text-gray-500",children:[(t==null?void 0:t.total_posts)||0," post",(t==null?void 0:t.total_posts)===1?"":"s"]})]})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow p-4",children:[f.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[f.jsx("span",{className:"text-yellow-400 text-lg",children:""})," Tags"]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:e==null?void 0:e.map((x,b)=>f.jsx(ee,{to:`/search/${encodeURIComponent(x)}`,className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-xs cursor-pointer hover:bg-yellow-100 sidebar-tag-link",style:{textDecoration:"none"},children:x},b))})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow p-4",children:[f.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[f.jsx("span",{className:"text-yellow-400 text-lg",children:""})," Top Post"]}),f.jsx("div",{className:"flex flex-col gap-3",children:n==null?void 0:n.map((x,b)=>f.jsxs(ee,{to:`/blog/${x.blog_id}`,className:"flex gap-3 items-center hover:bg-gray-50 rounded-lg p-2 transition sidebar-top-post-link",children:[f.jsx("img",{src:x.banner,alt:x.title,className:"w-12 h-12 rounded object-cover"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"font-medium text-sm line-clamp-2",children:x.title}),f.jsx("div",{className:"text-xs text-gray-500 line-clamp-1",children:new Date(x.publishedAt).toLocaleString("default",{month:"short",year:"numeric"})})]})]},x.blog_id))})]})]})};function FD(t){return _u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function UD(t){return _u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(t)}function $D(t){return _u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(t)}const Gs=C.createContext({}),fy={title:"",des:"",content:[],author:{personal_info:{}},banner:"",publishedAt:"",comments:{results:[]},activity:{total_parent_comments:0}},zD=()=>{var B,L,A,D;const{blog_id:t}=Uo(),[e,n]=C.useState(fy),[r,o]=C.useState(null),[s,i]=C.useState(!0),[a,l]=C.useState(!1),[c,u]=C.useState(!0),[d,h]=C.useState(0),[v,g]=C.useState([]),[y,x]=C.useState([]),[b,m]=C.useState(null),p=async({blog_id:O,setParentCommentCountFun:M})=>{try{if(console.log("Fetching comments for blog:",O),!O)return console.error("Blog ID is missing"),{results:[]};const{data:R}=await G.post("http://localhost:3000/api/get-blog-comments",{blog_id:O});return console.log("Comments response:",R),R.comments?(M(R.comments.length),{results:R.comments}):{results:[]}}catch(R){return console.error("Error fetching comments:",R),R.response&&console.error("Error details:",R.response.data),{results:[]}}},w=async()=>{try{let O=null;try{O=JSON.parse(mu("user")||"{}").access_token,console.log("Retrieved access token:",O?"Token exists":"No token")}catch(V){console.error("Error parsing session data:",V)}const M=O?{Authorization:`Bearer ${O}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"};console.log("Making request with headers:",M);const{data:{blog:R,likedByUser:z}}=await G.post("http://localhost:3000/api/get-blog",{blog_id:t},{headers:M});if(console.log("Received blog data:",R),n(R),l(z),R&&R.blog_id){console.log("Fetching comments for blog ID:",R.blog_id);const V=await p({blog_id:R.blog_id,setParentCommentCountFun:h});R.comments=V,n(R)}if(R.tags&&R.tags.length>0){const{data:V}=await G.post("http://localhost:3000/api/search-blogs",{tag:R.tags[0],limit:6,eleminate_blog:t},{headers:M});o(V.blogs)}}catch(O){console.error("Error fetching blog:",O),O.response&&(console.error("Error details:",O.response.data),console.error("Error status:",O.response.status),console.error("Error headers:",O.response.headers)),n(null)}finally{i(!1)}};if(C.useEffect(()=>{n(fy),o(null),i(!0),w(),l(!1),u(!1),h(0),G.get("http://localhost:3000/api/trending-blogs").then(O=>g(O.data.blogs)).catch(console.error),G.get("http://localhost:3000/api/trending-tags").then(O=>x(O.data.tags.map(M=>M._id))).catch(console.error)},[t]),C.useEffect(()=>{var M,R;const O=(R=(M=e==null?void 0:e.author)==null?void 0:M.personal_info)==null?void 0:R.username;O&&G.post("http://localhost:3000/api/get-profile",{username:O}).then(z=>m(z.data)).catch(console.error)},[(L=(B=e==null?void 0:e.author)==null?void 0:B.personal_info)==null?void 0:L.username]),s)return f.jsx(Oe,{});if(!e)return f.jsx("div",{className:"max-w-[900px] center py-10",children:"Blog not found"});const{title:E="",content:N=[],banner:P="",author:k={personal_info:{}},publishedAt:S=""}=e,{personal_info:{fullname:_="",username:T="",profile_img:I=""}={}}=k,j=N&&N.length>0&&N[0]&&N[0].blocks;return f.jsx(Me,{children:f.jsxs(Gs.Provider,{value:{blog:e,setBlog:n,isLikedByUser:a,setLikedByUser:l,commentsWrapper:c,setCommentsWrapper:u,totalParentCommentsLoaded:d,setTotalParentCommentsLoaded:h,fetchBlog:w},children:[f.jsxs("div",{className:"flex flex-row gap-8 max-w-6xl mx-auto py-10 max-lg:px-[5vw] items-start",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4 leading-tight",children:E}),f.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-gray-500 text-sm mb-6",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("img",{src:I||vc,alt:"Author",className:"w-10 h-10 rounded-full object-cover"}),f.jsx("span",{className:"font-medium text-gray-800",children:_}),f.jsxs("span",{className:"text-gray-400",children:["@",T]})]}),f.jsx("span",{className:"hidden sm:block",children:""}),f.jsxs("span",{children:["Published on ",Ao(S)]}),f.jsx("span",{className:"hidden sm:block",children:""}),f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(FD,{className:"inline-block"})," ",((A=e.activity)==null?void 0:A.total_reads)||0," Views"]}),f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(UD,{className:"inline-block"})," ",((D=e.activity)==null?void 0:D.total_comments)||0," Comments"]}),e.tags&&e.tags.length>0&&f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx($D,{className:"inline-block"})," ",e.tags[0]]})]}),f.jsx("img",{src:P,alt:"Blog Banner",className:"aspect-video rounded-xl w-full object-cover mb-8"}),f.jsx("div",{className:"my-8 font-geliasio blog-page-content text-base md:text-lg leading-relaxed",children:j?N[0].blocks.map((O,M)=>f.jsx("div",{className:"my-4 md:my-8",children:f.jsx(LD,{block:O})},M)):f.jsx("div",{className:"text-gray-500 italic",children:"No content available"})}),f.jsx(RD,{currentBlogId:t,tags:e.tags||[],similarBlogs:r}),f.jsx(ND,{})]}),f.jsx("div",{className:"hidden lg:flex flex-col w-80 flex-shrink-0 gap-6",children:f.jsx(DD,{author:b,tags:e.tags||[],topPosts:v,blogId:e.blog_id})})]}),f.jsx(MD,{})]})})},hy=()=>{const{userAuth:t,setUserAuth:e}=C.useContext(ye)||{},n=t==null?void 0:t.access_token,r=t==null?void 0:t.new_notification_available;let o=location.pathname.split("/")[2],[s,i]=C.useState(o.replace("-"," ")),[a,l]=C.useState(!1),c=C.useRef(),u=C.useRef(),d=C.useRef();const h=y=>{let{offsetWidth:x,offsetLeft:b}=y.target;c.current.style.width=x+"px",c.current.style.left=b+"px",y.target===u.current?l(!0):l(!1)},v=()=>{if(r&&n){const y={...t,new_notification_available:!1};Ut(y,e),G.post("http://localhost:3000/api/seen-notifications",{},{headers:{Authorization:`Bearer ${n}`}}).catch(x=>{console.log("Error marking notifications as seen:",x)})}};C.useEffect(()=>{l(!1),d.current.click()},[s]);const g=(t==null?void 0:t.isAdmin)||(t==null?void 0:t.admin)||(t==null?void 0:t.role)==="admin";return n===null?f.jsx(jp,{to:"/signin"}):f.jsxs("section",{className:"relative flex gap-10 py-0 m-0 max-md:flex-col",children:[f.jsxs("div",{className:"z-30",children:[f.jsxs("div",{className:"md:hidden bg-white py-1 border-b border-grey flex flex-nowrap overflow-x-auto",children:[f.jsx("button",{ref:u,className:"p-5 capitalize",onClick:h,children:f.jsx("i",{className:"fi fi-rr-bars-staggered pointer-events-none"})}),f.jsx("button",{ref:d,className:"p-5 capitalize",onClick:h,children:s}),f.jsx("hr",{ref:c,className:"absolute bottom-0 duration-500"})]}),f.jsxs("div",{className:"min-w-[200px] h-[calc(100vh-80px-60px)] md:sticky md:top-24 overflow-y-auto p-6 md:pr-0 md:border-grey md:border-r bg-white max-md:absolute max-md:top-0 max-md:left-0 max-md:w-full max-md:h-screen max-md:z-30 duration-500"+(a?" max-md:translate-x-0 max-md:opacity-100 max-md:pointer-events-auto":" max-md:-translate-x-full max-md:opacity-0 max-md:pointer-events-none"),children:[g&&f.jsxs(f.Fragment,{children:[f.jsx("h1",{className:"text-xl text-dark-grey mb-3",children:"Dashboard"}),f.jsx("hr",{className:"border-grey -ml-6 mb-8 mr-6"}),f.jsxs(ni,{to:"/dashboard/blogs",onClick:y=>i(y.target.innerText),className:"sidebar-link",children:[f.jsx("i",{className:"fi fi-rr-document"}),"Blogs"]}),f.jsxs(ni,{to:"/dashboard/notification",onClick:y=>{i(y.target.innerText),v()},className:"sidebar-link",children:[f.jsxs("div",{className:"relative",children:[f.jsx("i",{className:"fi fi-rr-bell"}),r?f.jsx("span",{className:"bg-red w-2 h-2 rounded-full absolute z-10 top-0 right-0"}):""]}),"Notification"]}),f.jsxs(ni,{to:"/editor",onClick:y=>i(y.target.innerText),className:"sidebar-link",children:[f.jsx("i",{className:"fi fi-rr-file-edit"}),"Write"]})]}),f.jsx("h1",{className:"text-xl text-dark-grey mt-20 mb-3",children:"Settings"}),f.jsx("hr",{className:"border-grey -ml-6 mb-8 mr-6"}),f.jsxs(ni,{to:"/settings/edit-profile",onClick:y=>i(y.target.innerText),className:"sidebar-link",children:[f.jsx("i",{className:"fi fi-rr-user"}),"Edit Profile"]}),f.jsxs(ni,{to:"/settings/change-password",onClick:y=>i(y.target.innerText),className:"sidebar-link",children:[f.jsx("i",{className:"fi fi-rr-lock"}),"Change Password"]})]})]}),f.jsx("div",{className:"max-md:mt-0 mt-5 w-full",children:f.jsx(Rx,{})})]})},VD=()=>{const[t,e]=C.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[n,r]=C.useState(!1),[o,s]=C.useState(null),[i,a]=C.useState(!1),{userAuth:l}=C.useContext(ye),c=l==null?void 0:l.access_token,u=Ln(),d=v=>{const{name:g,value:y}=v.target;e(x=>({...x,[g]:y}))},h=async v=>{if(v.preventDefault(),r(!0),s(null),a(!1),t.newPassword!==t.confirmPassword){s("New passwords do not match"),r(!1);return}if(t.newPassword.length<6){s("New password must be at least 6 characters long"),r(!1);return}try{const g=await fetch("http://localhost:3000/api/change-password",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({currentPassword:t.currentPassword,newPassword:t.newPassword})}),y=await g.json();g.ok?(a(!0),e({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{u("/profile")},3e3)):s(y.message||"Failed to change password")}catch(g){console.error("Error changing password:",g),s("Failed to change password")}finally{r(!1)}};return f.jsx("div",{className:"change-password-page min-h-screen bg-gray-50 py-8",children:f.jsxs("div",{className:"max-w-md mx-auto px-4",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Change Password"}),f.jsx("p",{className:"text-gray-600",children:"Update your account password"})]}),f.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:f.jsxs("form",{onSubmit:h,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password *"}),f.jsx("input",{type:"password",name:"currentPassword",value:t.currentPassword,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password *"}),f.jsx("input",{type:"password",name:"newPassword",value:t.newPassword,onChange:d,required:!0,minLength:"6",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:border-transparent"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be at least 6 characters long"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password *"}),f.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:border-transparent"})]}),t.newPassword&&f.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[f.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Password Strength:"}),f.jsx("div",{className:"flex space-x-1",children:[1,2,3,4].map(v=>{const g=t.newPassword.length>=v*2;return f.jsx("div",{className:`flex-1 h-2 rounded ${g?t.newPassword.length>=8?"bg-green-500":"bg-yellow-500":"bg-gray-200"}`},v)})}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.newPassword.length>=8?"Strong password":t.newPassword.length>=6?"Good password":"Weak password"})]}),o&&f.jsx("div",{className:"p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:o}),i&&f.jsx("div",{className:"p-3 bg-green-100 border border-green-400 text-green-700 rounded-lg",children:"Password changed successfully! Redirecting to profile..."}),f.jsx("div",{className:"flex space-x-4",children:f.jsx("button",{type:"submit",disabled:n,className:"flex-1 px-4 py-2 bg-yellow-400 text-white rounded-lg hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?"Changing...":"Change Password"})})]})}),f.jsxs("div",{className:"mt-6 bg-yellow-30 p-4 rounded-lg",children:[f.jsx("h3",{className:"font-medium text-yellow-300 mb-2",children:" Security Tips"}),f.jsxs("ul",{className:"text-sm text-yellow-300 space-y-1",children:[f.jsx("li",{children:" Use a mix of letters, numbers, and symbols"}),f.jsx("li",{children:" Avoid using personal information"}),f.jsx("li",{children:" Don't reuse passwords from other accounts"}),f.jsx("li",{children:" Consider using a password manager"})]})]})]})})},HD=()=>{let{userAuth:t,userAuth:{access_token:e},setUserAuth:n}=C.useContext(ye),r=150,o=C.useRef(),s=C.useRef();const[i,a]=C.useState(Ih),[l,c]=C.useState(!0);C.useState(r);const[u,d]=C.useState(null),[h,v]=C.useState(0),[g,y]=C.useState(t.username),[x,b]=C.useState(!1),[m,p]=C.useState(!1);let{personal_info:{fullname:w,username:E,profile_img:N,email:P,bio:k,firstname:S,lastname:_},social_links:T}=i;const I=(M,R)=>{a(z=>({...z,social_links:{...z.social_links,[M]:R}}))},j=M=>{a(R=>({...R,personal_info:{...R.personal_info,username:M.target.value}}))},B=M=>{let R=M.target.files[0];o.current.src=URL.createObjectURL(R),d(R)},L=()=>{document.getElementById("uploadImg").click()},A=M=>{if(M.preventDefault(),m)return;if(!u){L();return}p(!0);let R=H.loading("Uploading...");G3(u,e).then(z=>{z?G.post("http://localhost:3000/api/update-profile-img",{url:z},{headers:{Authorization:`Bearer ${e}`}}).then(({data:V})=>{let te={...t,profile_img:V.profile_img};Ut(te,n),d(null),v(Y=>Y+1),H.dismiss(R),H.success("Uploaded ")}).catch(V=>{var Y,pe;H.dismiss(R);let te=((pe=(Y=V==null?void 0:V.response)==null?void 0:Y.data)==null?void 0:pe.error)||V.message||"Upload failed. Please try again.";H.error(te)}):(H.dismiss(R),H.error("Upload failed. Please try again."))}).catch(z=>{var te,Y;H.dismiss(R);let V=((Y=(te=z==null?void 0:z.response)==null?void 0:te.data)==null?void 0:Y.error)||z.message||"Upload failed. Please try again.";H.error(V)}).finally(()=>{p(!1)})},D=M=>{if(M.preventDefault(),x)return;const{firstname:R,lastname:z,username:V,email:te,bio:Y}=i.personal_info,{youtube:pe,facebook:me,twitter:Pe,github:Tt,instagram:rt,website:Le}=T;if(!R||R.length<1)return H.error("First name must be at least 1 letter long");if(!z||z.length<1)return H.error("Last name must be at least 1 letter long");if(!V||V.length<3)return H.error("Username should be at least 3 letters long");if((Y||"").length>r)return H.error(`Bio should not be more than ${r}`);b(!0);let Fe=H.loading("Updating ...");G.post("http://localhost:3000/api/update-profile",{firstname:R,lastname:z,fullname:w,email:te,username:V,bio:Y,social_links:{youtube:pe,facebook:me,twitter:Pe,github:Tt,instagram:rt,website:Le}},{headers:{Authorization:`Bearer ${e}`}}).then(({data:Ke})=>{if(t.username!==Ke.username){let Bt={...t,username:Ke.username,email:Ke.email};Ut(Bt,n),y(Ke.username)}else if(t.email!==Ke.email){let Bt={...t,email:Ke.email};Ut(Bt,n)}v(Bt=>Bt+1),H.dismiss(Fe),H.success("Profile Updated")}).catch(Ke=>{var ur,On;H.dismiss(Fe);let Bt=((On=(ur=Ke==null?void 0:Ke.response)==null?void 0:ur.data)==null?void 0:On.error)||Ke.message||"Update failed";H.error(Bt)}).finally(()=>{b(!1)})},O=M=>{a(R=>({...R,personal_info:{...R.personal_info,email:M.target.value}}))};return C.useEffect(()=>{e&&g&&G.post("http://localhost:3000/api/get-profile",{username:g}).then(({data:M})=>{a(M),c(!1)}).catch(M=>{console.log(M),c(!1)})},[e,g,h]),C.useEffect(()=>{y(t.username)},[t.username]),f.jsx(Me,{children:l?f.jsx(Oe,{}):f.jsxs("form",{ref:s,className:"max-w-6xl mx-auto bg-white rounded-xl shadow-lg p-8 md:p-12 relative",onSubmit:D,children:[f.jsx(An,{}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block mb-1 font-medium",children:"First Name"}),f.jsx(Fn,{name:"firstname",type:"text",value:i.personal_info.firstname||"",placeholder:"First Name",icon:"fi-rr-user",onChange:M=>a(R=>({...R,personal_info:{...R.personal_info,firstname:M.target.value}}))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block mb-1 font-medium",children:"Last Name"}),f.jsx(Fn,{name:"lastname",type:"text",value:i.personal_info.lastname||"",placeholder:"Last Name",icon:"fi-rr-user",onChange:M=>a(R=>({...R,personal_info:{...R.personal_info,lastname:M.target.value}}))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block mb-1 font-medium",children:"User Name"}),f.jsx(Fn,{name:"username",type:"text",value:i.personal_info.username,placeholder:"User Name",icon:"fi-rr-at",onChange:j})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block mb-1 font-medium",children:"Email"}),f.jsx(Fn,{name:"email",type:"email",value:i.personal_info.email||"",placeholder:"Email",icon:"fi-rr-envelope",onChange:O})]})]}),f.jsxs("div",{className:"mb-10",children:[f.jsx("label",{className:"block mb-2 font-medium",children:"Add Profile Image"}),f.jsx("div",{className:"w-full max-w-2xl mx-auto",children:f.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-xl bg-gray-50 flex flex-col items-center justify-center py-16 relative group transition-all duration-200",children:[f.jsx("img",{ref:o,src:N,className:"w-24 h-24 object-cover rounded-full mb-4"}),f.jsx("i",{className:"fi fi-rr-picture text-5xl text-gray-300 mb-2"}),f.jsx("p",{className:"text-gray-400 mb-2",children:"Drop Image Here, Paste Or"}),f.jsx("input",{type:"file",id:"uploadImg",accept:".jpg, .png, .jpeg",hidden:!0,onChange:B}),f.jsx("button",{type:"button",className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md shadow hover:bg-gray-300",onClick:L,disabled:m,children:"+ Select"}),u&&f.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs shadow hover:bg-red-600",onClick:()=>{d(null),o.current.src=N},children:"Reset"}),u&&f.jsx("button",{type:"button",className:"mt-4 bg-yellow-400 hover:bg-yellow-500 text-white font-semibold px-6 py-2 rounded-lg shadow-lg flex items-center gap-2",onClick:A,disabled:m,children:m?"Uploading...":"Upload Image"})]})})]}),f.jsx("label",{className:"block mb-1 font-medium mt-8",children:"Social Links"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 mb-8",children:Object.keys(T).map((M,R)=>{let z=T[M];return f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("i",{className:"fi "+(M!=="website"?"fi-brands-"+M:"fi-rr-globe")+" text-xl text-dark-grey"}),f.jsx(Fn,{name:M,type:"text",value:z||"",placeholder:M.charAt(0).toUpperCase()+M.slice(1),onChange:V=>I(M,V.target.value)})]},R)})}),f.jsxs("button",{className:"fixed bottom-8 right-8 bg-yellow-400 hover:bg-yellow-500 text-white font-semibold px-8 py-3 rounded-lg shadow-lg flex items-center gap-2 z-50",type:"submit",disabled:x,children:[f.jsx("i",{className:"fi fi-rr-disk"})," ",x?"Saving...":"Save"]})]})})},WD=({_id:t,blog_author:e,index:n=void 0,replyingTo:r=void 0,setReplying:o,notification_id:s,notificationData:i})=>{let[a,l]=C.useState(""),{_id:c}=e,{userAuth:{access_token:u}}=C.useContext(ye),{notifications:d,notifications:{results:h},setNotifications:v}=i;const g=()=>{if(!a.length)return H.error("Write something to leave a comment....");G.post("http://localhost:3000/api/add-comment",{blog_id:t,blog_author:c,comment:a,replying_to:r},{headers:{Authorization:`Bearer ${u}`}}).then(({data:y})=>{y.success&&(o(!1),h[n]&&(h[n].reply={comment:a,_id:y.comment._id},v({...d,results:h})),l(""),H.success("Reply posted successfully!"))}).catch(y=>{var x,b;console.error("Error posting reply:",y),(b=(x=y.response)==null?void 0:x.data)!=null&&b.error?H.error("Error posting reply: "+y.response.data.error):H.error("Failed to post reply. Please try again.")})};return f.jsxs(f.Fragment,{children:[f.jsx(An,{}),f.jsx("textarea",{value:a,onChange:y=>l(y.target.value),placeholder:"Leave a reply...",className:"input-box pl-5 placeholder:text-dark-grey resize-none h-[150px] overflow-auto"}),f.jsx("button",{className:"btn-dark mt-5 px-10",onClick:g,children:"Reply"})]})},GD=({data:t,index:e,notificationState:n})=>{var L,A,D,O,M;const[r,o]=C.useState(!1);let{seen:s,type:i,reply:a,createdAt:l,comment:c,replied_on_comment:u,user:d,blog:h,_id:v}=t;const g=((L=d==null?void 0:d.personal_info)==null?void 0:L.fullname)||(d==null?void 0:d.fullname)||"Unknown User",y=((A=d==null?void 0:d.personal_info)==null?void 0:A.username)||(d==null?void 0:d.username)||"unknown",x=((D=d==null?void 0:d.personal_info)==null?void 0:D.profile_img)||(d==null?void 0:d.profile_img),b=(h==null?void 0:h.blog_id)||(h==null?void 0:h._id),m=(h==null?void 0:h.title)||"Unknown Blog",p=(h==null?void 0:h.blog_id)||(h==null?void 0:h._id);let{userAuth:w}=C.useContext(ye),E=((O=w==null?void 0:w.personal_info)==null?void 0:O.username)||(w==null?void 0:w.username),N=((M=w==null?void 0:w.personal_info)==null?void 0:M.profile_img)||(w==null?void 0:w.profile_img),P=w==null?void 0:w.access_token;const k=(w==null?void 0:w.isAdmin)||(w==null?void 0:w.admin)||(w==null?void 0:w.role)==="admin";let{notifications:S,notifications:{results:_,totalDocs:T},setNotifications:I}=n;const j=()=>{o(R=>!R)},B=(R,z)=>{if(!R){H.error("Invalid notification ID. Cannot delete.");return}window.confirm("Are you sure you want to delete this notification?")&&(z.setAttribute("disabled",!0),G.delete(`http://localhost:3000/api/delete-notification/${R}`,{headers:{Authorization:`Bearer ${P}`}}).then(({data:V})=>{V.success&&(_.splice(e,1),I({...S,results:_,totalDocs:T-1,deletedDocCount:(S.deletedDocCount||0)+1}),H.success("Notification deleted successfully!")),z.removeAttribute("disabled")}).catch(V=>{var te,Y,pe;console.error("Error deleting notification:",V),z.removeAttribute("disabled"),((te=V.response)==null?void 0:te.status)===401?H.error("Authentication failed. Please log in again."):((Y=V.response)==null?void 0:Y.status)===403?H.error("You do not have permission to delete this notification."):((pe=V.response)==null?void 0:pe.status)===404?H.error("Notification not found. It may have already been deleted."):H.error("Failed to delete notification. Please try again.")}))};return!k&&i!=="reply"?null:f.jsxs("div",{className:"p-6 border-b border-grey border-1-black"+(s?"":"border-1-2"),children:[f.jsxs("div",{className:"flex gap-5 mb-3",children:[f.jsx("img",{src:x||"/src/imgs/user profile.png",className:"w-14 h-14 flex-none rounded-full",alt:g}),f.jsxs("div",{className:"w-full",children:[f.jsxs("h1",{className:"font-medium text-xl text-dark-grey",children:[f.jsx("span",{className:"lg:inline-block hidden capitalize",children:g}),f.jsxs(ee,{to:`/user/${y}`,className:"mx-1 text-black underline",children:["@",y]}),f.jsx("span",{className:"font-normal",children:i==="new_user"?f.jsx("span",{className:"text-green-700",children:"has signed up as a new user!"}):k?i==="like"?"liked your blog":i==="comment"?"commented on":"replied on":"replied on"})]}),i==="new_user"?null:!k||i==="reply"?f.jsx("div",{className:"p-4 mt-4 rounded-md bg-grey",children:f.jsx("p",{children:(u==null?void 0:u.comment)||"Original comment not available"})}):f.jsx(ee,{to:`/blog/${p}`,className:"font-medium text-dark-grey hover:underline line-clamp-1",children:m})]})]}),i==="new_user"?f.jsxs("p",{className:"ml-14 pl-5 font-gelasio text-xl my-5 text-green-700",children:["A new user has signed up: ",f.jsx("b",{children:g})," (@",y,")"]}):!k&&i==="reply"&&c?f.jsx("p",{className:"ml-14 pl-5 font-gelasio text-xl my-5",children:c.comment||"Comment content not available"}):!k&&i==="reply"&&!c?f.jsx("p",{className:"ml-14 pl-5 font-gelasio text-xl my-5 text-dark-grey italic",children:"Comment has been deleted"}):k&&i!=="like"&&c?f.jsx("p",{className:"ml-14 pl-5 font-gelasio text-xl my-5",children:c.comment||"Comment content not available"}):k&&i!=="like"&&!c?f.jsx("p",{className:"ml-14 pl-5 font-gelasio text-xl my-5 text-dark-grey italic",children:"Comment has been deleted"}):"",f.jsx("p",{className:"ml-14 pl-5 mt-3",children:Ao(l)}),!k&&i==="reply"?f.jsx("div",{className:"ml-14 pl-5 mt-3 flex gap-8",children:a&&a._id?f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"underline hover:text-black px-2 py-1",onClick:j,children:"Edit"}),f.jsx("button",{className:"underline hover:text-black px-2 py-1",onClick:j,children:"Reply"})]}):f.jsx("button",{className:"underline hover:text-black px-2 py-1",onClick:j,children:"Reply"})}):k&&i!=="like"&&i!=="new_user"?f.jsx("div",{className:"ml-14 pl-5 mt-3 flex gap-8",children:a&&a._id?f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"underline hover:text-black px-2 py-1",onClick:j,children:"Edit"}),f.jsx("button",{className:"underline hover:text-black px-2 py-1",onClick:j,children:"Reply"})]}):f.jsx("button",{className:"underline hover:text-black px-2 py-1",onClick:j,children:"Reply"})}):"",f.jsx("div",{className:"ml-14 pl-5 mt-3 flex gap-8",children:v&&((w==null?void 0:w._id)===(d==null?void 0:d._id)||(w==null?void 0:w.isAdmin))&&f.jsx("button",{className:"text-red-500 underline hover:text-red-700 font-medium px-2 py-1",style:{color:"#ef4444"},onClick:R=>B(v,R.target),children:"Delete Notification"})}),r?f.jsx("div",{className:"mt-8",children:f.jsx(WD,{_id:b,blog_author:d,index:e,replyingTo:c==null?void 0:c._id,setReplying:o,notification_id:v,notificationData:n})}):"",a&&a._id?f.jsxs("div",{className:"ml-14 pl-5 mt-4 p-4 bg-grey/30 rounded-md border-l-4 border-blue-500",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("img",{src:N||"/src/imgs/user profile.png",className:"w-6 h-6 rounded-full",alt:E}),f.jsxs("span",{className:"text-sm text-dark-grey",children:[f.jsx(ee,{to:`/user/${E}`,className:"font-medium text-black underline",children:E}),f.jsx("span",{className:"ml-1",children:"replied:"})]})]}),f.jsx("p",{className:"font-gelasio text-lg ml-8",children:a.comment||"Reply content not available"})]}):a===null?f.jsx("div",{className:"ml-14 pl-5 mt-4 p-3 bg-grey/20 rounded-md text-center",children:f.jsx("p",{className:"text-dark-grey italic text-sm",children:"Reply has been deleted"})}):""]})},qD=({children:t})=>{const[e,n]=C.useState("checking"),[r,o]=C.useState(null);return C.useEffect(()=>{(async()=>{var i;try{const a=await G.get("http://localhost:3000/api/new-notification",{timeout:5e3,headers:{Authorization:"Bearer test"}});n("connected")}catch(a){a.code==="ERR_NETWORK"||a.message.includes("ECONNREFUSED")?(n("disconnected"),o("Server is not running. Please start the server on port 3000.")):((i=a.response)==null?void 0:i.status)===401?n("connected"):(n("error"),o("Server connection error: "+a.message))}})()},[]),e==="checking"?f.jsx("div",{className:"text-center p-4",children:"Checking server connection..."}):e==="disconnected"?f.jsxs("div",{className:"text-center p-8 bg-red-50 border border-red-200 rounded-lg",children:[f.jsx("h2",{className:"text-xl font-bold text-red-800 mb-2",children:"Server Connection Error"}),f.jsx("p",{className:"text-red-600 mb-4",children:r}),f.jsxs("div",{className:"text-sm text-gray-600",children:[f.jsx("p",{children:"To fix this:"}),f.jsxs("ol",{className:"list-decimal list-inside mt-2",children:[f.jsx("li",{children:"Open a terminal"}),f.jsxs("li",{children:["Navigate to the server directory: ",f.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"cd mern-blogging-website/server"})]}),f.jsxs("li",{children:["Start the server: ",f.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"npm start"})]}),f.jsx("li",{children:"Refresh this page"})]})]})]}):e==="error"?f.jsxs("div",{className:"text-center p-8 bg-yellow-50 border border-yellow-200 rounded-lg",children:[f.jsx("h2",{className:"text-xl font-bold text-yellow-800 mb-2",children:"Server Error"}),f.jsx("p",{className:"text-yellow-600",children:r})]}):t},KD=()=>{let{userAuth:t,userAuth:{access_token:e,new_notification_available:n},setUserAuth:r}=C.useContext(ye);const[o,s]=C.useState({results:[],totalDocs:0,page:1}),i=(t==null?void 0:t.isAdmin)||(t==null?void 0:t.admin)||(t==null?void 0:t.role)==="admin",[a,l]=C.useState(i?"all":"reply");let c=i?["all","like","comment","reply"]:["reply"];const u=({page:h,deletedDocCount:v=0})=>{G.post("http://localhost:3000/api/notifications",{page:h,filter:a,deletedDocCount:v},{headers:{Authorization:`Bearer ${e}`}}).then(async({data:{notifications:g}})=>{n&&r({...t,new_notification_available:!1}),G.post("http://localhost:3000/api/seen-notifications",{},{headers:{Authorization:`Bearer ${e}`}});let y=await Bo({state:o,data:g,page:h,countRoute:"/all-notifications-count",data_to_send:{filter:a},user:e});s(y)}).catch(g=>{console.error("Error fetching notifications:",g),(g.code==="ERR_NETWORK"||g.message.includes("ECONNREFUSED"))&&console.error("Server connection failed. Make sure the server is running on port 3000.")})};C.useEffect(()=>{e?u({page:1}):console.warn("No access token available. User may not be logged in.")},[e,a]);const d=h=>{let v=h.target;l(v.innerHTML.toLowerCase()),s(null)};return f.jsx(qD,{children:f.jsxs("div",{children:[f.jsx("h1",{className:"max-md:hidden",children:i?"Recent Notifications":"Notifications"}),i&&f.jsx("div",{className:"my-8 flex gap-6",children:c.map((h,v)=>f.jsx("button",{className:`py-2 ${a===h?"btn-dark":"btn-light"}`,onClick:d,children:h},v))}),o===null?f.jsx(Oe,{}):f.jsx(f.Fragment,{children:o&&o.results&&o.results.length?Array.from({length:Math.ceil(o.results.length/5)}).map((h,v)=>f.jsxs("div",{children:[o.results.slice(v*5,(v+1)*5).map((g,y)=>f.jsx(Me,{transition:{delay:(v*5+y)*.08},children:f.jsx(GD,{data:g,index:v*5+y,notificationState:{notifications:o,setNotifications:s}})},v*5+y)),v===Math.floor((o.results.length-1)/5)&&f.jsx(Xn,{state:o,fetchDataFun:u,additionalParam:{deletedDocCount:o==null?void 0:o.deletedDocCount}})]},v)):f.jsx(Pt,{message:"Nothing available"})})]})})},YD=({stats:t})=>{const e=(t==null?void 0:t.total_likes)??0,n=(t==null?void 0:t.total_reads)??0,r=(t==null?void 0:t.total_comments)??0;return f.jsxs("div",{className:"flex gap-2 max-lg:mb-6 max-lg:pb-6 border-grey max-lg:border-b",children:[f.jsxs("div",{className:"flex flex-col items-center w-full h-full justify-center p-4 px-6",children:[f.jsx("h1",{className:"text-xl lg:text-2xl mb-2",children:e.toLocaleString()}),f.jsx("p",{className:"max-lg:text-dark-grey capitalize",children:"Likes"})]}),f.jsxs("div",{className:"flex flex-col items-center w-full h-full justify-center p-4 px-6 border-grey border-l",children:[f.jsx("h1",{className:"text-xl lg:text-2xl mb-2",children:n.toLocaleString()}),f.jsx("p",{className:"max-lg:text-dark-grey capitalize",children:"Views"})]}),f.jsxs("div",{className:"flex flex-col items-center w-full h-full justify-center p-4 px-6 border-grey border-l",children:[f.jsx("h1",{className:"text-xl lg:text-2xl mb-2",children:r.toLocaleString()}),f.jsx("p",{className:"max-lg:text-dark-grey capitalize",children:"Comments"})]})]})},XD=({blog:t})=>{let{banner:e,blog_id:n,title:r,publishedAt:o,activity:s}=t,{userAuth:{access_token:i}}=C.useContext(ye),[a,l]=C.useState(!1);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex gap-10 border-b border-grey pb-6 items-center max-md:px-4",children:[f.jsx("img",{src:e,className:"max-md:hidden lg:hidden xl:block w-28 h-28 flex-none bg-grey object-cover"}),f.jsxs("div",{className:"flex flex-col justify-between py-2 w-full min-w-[300px]",children:[f.jsxs("div",{children:[f.jsx(ee,{to:`/blog/${n}`,className:"blog-title mb-4 hover:underline",children:r}),f.jsxs("p",{className:"line-clamp-1",children:["Published on ",Ao(o)]})]}),f.jsxs("div",{className:"flex gap-6 mt-3",children:[f.jsx(ee,{to:`/editor/${t.blog_id||t._id}`,className:"pr-4 py-2 underline",children:"Edit"}),f.jsx("button",{className:"pr-4 py-2 underline",onClick:()=>l(c=>!c),children:"Stats"}),f.jsx("button",{className:"pr-4 py-2 underline text-red-500 hover:text-red-700 font-medium",style:{color:"#ef4444"},onClick:c=>$S(t,i,c.target),children:"Delete"})]})]})]}),a?f.jsx("div",{children:f.jsx(YD,{stats:s})}):""]})},JD=({blog:t})=>{let{title:e,des:n,blog_id:r,index:o}=t,{userAuth:{access_token:s}}=C.useContext(ye);return o++,f.jsxs("div",{className:"flex gap-5 lg:gap-10 pb-6 border-b mb-6 border-grey",children:[f.jsx("h1",{className:"blog-index text-center pl-4 md:pl-6 flex-none",children:o<10?"0"+o:o}),f.jsxs("div",{children:[f.jsx("h1",{className:"blog-title mb-3",children:e}),f.jsx("p",{className:"line-clamp-2 font-gelasio",children:n.length?n:"No Description"}),f.jsxs("div",{className:"flex gap-6 mt-3",children:[f.jsx(ee,{to:`/editor/${t.blog_id||t.id||r}`,className:"pr-4 py-2 underline",children:"Edit"}),f.jsx("button",{className:"pr-4 py-2 underline text-red-500 hover:text-red-700 font-medium",style:{color:"#ef4444"},onClick:i=>$S(t,s,i.target),children:"Delete"})]})]})]})},$S=(t,e,n)=>{let{index:r,blogId:o,setStateFunc:s}=t;const i=t.blog_id||t.blogId||t.id||o;n.setAttribute("disabled",!0),G.post("http://localhost:3000/api/delete-blog",{blogId:i},{headers:{Authorization:`Bearer ${e}`}}).then(({data:a})=>{n.removeAttribute("disabled"),s(l=>{let{deletedDocCount:c,totalDocs:u,results:d}=l;return d.splice(r,1),c||(c=0),!d.length&&u-1>=0?null:{...l,totalDocs:u-1,deletedDocCount:c+1}})}).catch(a=>{n.removeAttribute("disabled"),alert("Failed to delete blog. Please try again."),console.log(a)})},QD=()=>{const[t,e]=C.useState(null),[n,r]=C.useState(null),[o,s]=C.useState(""),[i,a]=C.useState({blogs:!1,drafts:!1}),[l,c]=C.useState({blogs:null,drafts:null}),[u]=Lp();let d=u.get("tab");const{userAuth:h}=C.useContext(ye),v=h==null?void 0:h.access_token,g=async({page:x,draft:b,deleteDocCount:m=0})=>{var w,E,N,P;const p=b?"drafts":"blogs";if(!i[p]){a(k=>({...k,[p]:!0})),c(k=>({...k,[p]:null}));try{console.log(`Fetching ${b?"drafts":"published blogs"}...`);const k=await G.post("http://localhost:3000/api/user-written-blogs",{page:x,draft:b,query:o,deleteDocCount:m},{headers:{Authorization:`Bearer ${v}`},timeout:1e4});console.log(`${b?"Drafts":"Published blogs"} response:`,k.data);let S=await Bo({state:b?n:t,data:k.data.blogs,page:x,user:v,countRoute:"/user-written-blogs-count",data_to_send:{draft:b,query:o}});console.log(`Formatted ${b?"drafts":"blogs"} data:`,S),x>1?b?r(_=>({...S,results:[...(_==null?void 0:_.results)||[],...S.results||[]]})):e(_=>({...S,results:[...(_==null?void 0:_.results)||[],...S.results||[]]})):b?r(S):e(S)}catch(k){console.error(`Error fetching ${b?"drafts":"published blogs"}:`,k);let S="Failed to load blogs";((w=k.response)==null?void 0:w.status)===401?S="Authentication required. Please log in again.":((E=k.response)==null?void 0:E.status)===403?S="You don't have permission to view these blogs.":k.code==="ECONNABORTED"?S="Request timed out. Please try again.":(P=(N=k.response)==null?void 0:N.data)!=null&&P.error&&(S=k.response.data.error),c(_=>({..._,[p]:S})),b?r({results:[],page:1,totalDocs:0}):e({results:[],page:1,totalDocs:0})}finally{a(k=>({...k,[p]:!1}))}}};C.useEffect(()=>{console.log("ManageBlogs useEffect triggered"),console.log("access_token:",v?v.substring(0,20)+"...":"null"),console.log("userAuth:",h),v?(console.log("Loading blogs and drafts with token:",v.substring(0,20)+"..."),g({page:1,draft:!1}),g({page:1,draft:!0})):console.log("No access token available, skipping blog loading")},[v]),C.useEffect(()=>{v&&o!==void 0&&(e(null),r(null),c({blogs:null,drafts:null}),g({page:1,draft:!1}),g({page:1,draft:!0}))},[o]);const y=x=>{c(b=>({...b,[x]:null})),g(x==="drafts"?{page:1,draft:!0}:{page:1,draft:!1})};return f.jsxs(f.Fragment,{children:[f.jsx(An,{}),!v&&f.jsxs("div",{className:"text-center py-8",children:[f.jsx("p",{className:"text-red-500 mb-2",children:"Please log in to view your blogs"}),f.jsx(ee,{to:"/login",className:"text-yellow-300 hover:text-yellow-500",children:"Go to Login"})]}),v&&f.jsx(f.Fragment,{children:f.jsxs(_c,{routes:["Published Blogs","Drafts"],defaultActiveIndex:d!="draft"?0:1,children:[i.blogs?f.jsx(Oe,{}):l.blogs?f.jsxs("div",{className:"text-center py-8",children:[f.jsx("p",{className:"text-red-500 mb-2",children:l.blogs}),f.jsx("button",{onClick:()=>y("blogs"),className:"text-yellow-400 hover:text-yellow-500",children:"Try again"})]}):t===null?f.jsx(Oe,{}):Array.isArray(t.results)&&t.results.length?f.jsxs(f.Fragment,{children:[t.results.map((x,b)=>(console.log("Published blog:",x),f.jsx(Me,{transition:{delay:b*.04},children:f.jsx(XD,{blog:{...x,index:b,setStateFunc:e},index:b})},b))),f.jsx("div",{className:"flex justify-center mt-4",children:f.jsx(Xn,{state:t,fetchDataFun:({page:x,draft:b})=>g({page:x,draft:b}),additionalParam:{draft:!1}})})]}):f.jsx(Pt,{message:"No published blogs"}),i.drafts?f.jsx(Oe,{}):l.drafts?f.jsxs("div",{className:"text-center py-8",children:[f.jsx("p",{className:"text-red-500 mb-2",children:l.drafts}),f.jsx("button",{onClick:()=>y("drafts"),className:"text-yellow-300 hover:text-yellow-400",children:"Try again"})]}):n===null?f.jsx(Oe,{}):Array.isArray(n.results)&&n.results.length?f.jsxs(f.Fragment,{children:[n.results.map((x,b)=>f.jsx(Me,{transition:{delay:b*.04},children:f.jsx(JD,{blog:{...x,index:b,setStateFunc:r},index:b})},b)),f.jsx("div",{className:"flex justify-center mt-4",children:f.jsx(Xn,{state:n,fetchDataFun:({page:x,draft:b})=>g({page:x,draft:b}),additionalParam:{draft:!0}})})]}):f.jsx(Pt,{message:"No draft blogs"})]})})]})},py={subject:"",name:"",email:"",explanation:""},my={subject:"",name:"",email:"",explanation:""},ZD=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,e6=()=>{const[t,e]=C.useState(py),[n,r]=C.useState(!1),[o,s]=C.useState(null),[i,a]=C.useState(my),l=C.useRef(),c=(y,x)=>{let b="";return x||(b="Required"),y==="email"&&x&&!ZD.test(x)&&(b="Invalid email"),b},u=y=>{const{name:x,value:b}=y.target;e(m=>({...m,[x]:b})),a(m=>({...m,[x]:c(x,b)}))},d=(y,x="",b="")=>{const m=l.current;if(!m)return;const p=m.selectionStart,w=m.selectionEnd,E=m.value.substring(p,w)||b,N=m.value.substring(0,p)+y+E+x+m.value.substring(w);e(P=>({...P,explanation:N})),setTimeout(()=>{m.focus(),m.selectionStart=m.selectionEnd=p+y.length+E.length+x.length},0)},h=y=>{switch(y){case"image":{const x=prompt("Enter image URL:");x&&d("![Image](",")",x);break}case"color":{const x=prompt("Enter color (e.g., red or #ff0000):");x&&d(`[color=${x}]`,"[/color]");break}case"text":d("**","**","bold");break;case"align":d("[center]","[/center]");break;case"link":{const x=prompt("Enter URL:");x&&d("[Link text](",")",x);break}}},v=()=>{const y={};return Object.keys(t).forEach(x=>{y[x]=c(x,t[x])}),a(y),Object.values(y).every(x=>!x)},g=async y=>{if(y.preventDefault(),!!v()){r(!0),s(null);try{const x=await fetch("http://localhost:3000/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),b=await x.json();x.ok?(s({type:"success",text:b.message}),H.success(b.message||"Message sent successfully!"),e(py),a(my)):(s({type:"error",text:b.error||"Failed to send message."}),H.error(b.error||"Failed to send message."))}catch{s({type:"error",text:"Failed to send message."}),H.error("Failed to send message.")}finally{r(!1)}}};return f.jsxs("div",{className:"min-h-screen bg-gray-50 px-[5vw] py-6",children:[f.jsx(An,{}),o&&f.jsx("div",{className:`mb-4 p-3 rounded text-sm ${o.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:o.text}),f.jsx("div",{className:"max-w-6xl mx-auto",children:f.jsxs("form",{onSubmit:g,className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 flex flex-col gap-6",encType:"multipart/form-data",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm sm:text-base text-gray-700 mb-1",children:"Subject"}),f.jsx("input",{name:"subject",value:t.subject,onChange:u,type:"text",className:`w-full rounded-md border ${i.subject?"border-red-400":"border-gray-200"} bg-grey px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-400 placeholder-gray-300 text-sm sm:text-base`,placeholder:"Subject"}),i.subject&&f.jsx("div",{className:"text-xs text-red-500 mt-1",children:i.subject})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm sm:text-base text-gray-700 mb-1",children:"Name"}),f.jsx("input",{name:"name",value:t.name,onChange:u,type:"text",className:`w-full rounded-md border ${i.name?"border-red-400":"border-gray-200"} bg-grey px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-400 placeholder-gray-300 text-sm sm:text-base`,placeholder:"Name"}),i.name&&f.jsx("div",{className:"text-xs text-red-500 mt-1",children:i.name})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm sm:text-base text-gray-700 mb-1",children:"Email"}),f.jsx("input",{name:"email",value:t.email,onChange:u,type:"email",className:`w-full rounded-md border ${i.email?"border-red-400":"border-gray-200"} bg-grey px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-400 placeholder-gray-300 text-sm sm:text-base`,placeholder:"Email"}),i.email&&f.jsx("div",{className:"text-xs text-red-500 mt-1",children:i.email})]})]}),f.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-sm sm:text-base text-gray-700 mb-1",children:"Explanation"}),f.jsxs("div",{className:"bg-gray-100 rounded-lg p-3 sm:p-4",children:[f.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[f.jsxs("button",{type:"button",onClick:()=>h("image"),className:"bg-white border border-gray-200 rounded px-2 py-1 text-xs flex items-center gap-1 hover:bg-gray-50",children:[f.jsx("i",{className:"fi fi-rs-picture"})," Image"]}),f.jsxs("button",{type:"button",onClick:()=>h("color"),className:"bg-white border border-gray-200 rounded px-2 py-1 text-xs flex items-center gap-1 hover:bg-gray-50",children:[f.jsx("i",{className:"fi fi-rc-eye-dropper"})," Color"]}),f.jsxs("button",{type:"button",onClick:()=>h("text"),className:"bg-white border border-gray-200 rounded px-2 py-1 text-xs flex items-center gap-1 hover:bg-gray-50",children:[f.jsx("i",{className:"fi fi-rr-text"})," Text"]}),f.jsxs("button",{type:"button",onClick:()=>h("align"),className:"bg-white border border-gray-200 rounded px-2 py-1 text-xs flex items-center gap-1 hover:bg-gray-50",children:[f.jsx("i",{className:"fi fi-rr-symbol"})," Align"]}),f.jsxs("button",{type:"button",onClick:()=>h("link"),className:"bg-white border border-gray-200 rounded px-2 py-1 text-xs flex items-center gap-1 hover:bg-gray-50",children:[f.jsx("i",{className:"fi fi-rr-link-alt"})," Link"]})]}),f.jsx("textarea",{ref:l,name:"explanation",value:t.explanation,onChange:u,className:`w-full h-32 sm:h-40 rounded-md border ${i.explanation?"border-red-400":"border-gray-200"} p-3 bg-gray-50 focus:outline-none resize-none placeholder-gray-300 text-sm sm:text-base`,placeholder:"Type..."}),i.explanation&&f.jsx("div",{className:"text-xs text-red-500 mt-1",children:i.explanation})]})]})}),f.jsx("div",{className:"flex flex-col sm:flex-row justify-end items-stretch sm:items-center gap-2",children:f.jsxs("button",{type:"submit",disabled:n,className:"bg-yellow-400 hover:bg-yellow-500 text-white font-semibold px-4 sm:px-6 py-2 rounded-lg flex items-center gap-2 shadow-md disabled:opacity-50 w-full sm:w-auto",children:[f.jsx("i",{className:"fi fi-rs-paper-plane"})," ",n?f.jsxs("span",{className:"flex items-center",children:[f.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Sending..."]}):"Send"]})})]})})]})},t6=()=>f.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[f.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mt-10 flex flex-col md:flex-row gap-6 items-center shadow-sm",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-gray-800 mb-4",children:"We pay attention to your needs and do the best ."}),f.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In Islamic storytelling, every detail matterswhether it's the wisdom of the past or the inspiration for the future. Etiam ac purus vitae magna cursus viverra."}),f.jsx("p",{className:"text-gray-600 text-sm md:text-base mt-2",children:"Suspendisse potenti nullam et molestie ac feugiat sed lectus vestibulum. Ullamcorper morbi tincidunt ornare massa eget. Dictum varius duis at consectetur lorem."})]}),f.jsx("div",{className:"flex-1 flex justify-center min-w-[250px] max-w-md",children:f.jsx("div",{className:"relative w-full h-48 md:h-56 rounded-lg overflow-hidden shadow-md",children:f.jsx("img",{src:oh,alt:"Blog Banner",className:"w-full h-full object-cover"})})})]}),f.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mt-10 flex flex-col md:flex-row gap-6 items-center shadow-sm",children:[f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx("iframe",{title:"Islamic Stories Location",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3153.019019234263!2d-122.4194154846817!3d37.7749297797597!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8085809c5b0e6b1b%3A0x4a0b0b0b0b0b0b0b!2sMosque!5e0!3m2!1sen!2sus!4v1680000000000!5m2!1sen!2sus",width:"100%",height:"220",style:{border:0,borderRadius:"12px",width:"100%"},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})}),f.jsxs("div",{className:"flex-1 min-w-0 md:pl-8",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Islamic Stories Information"}),f.jsxs("ul",{className:"space-y-3 text-gray-700 text-sm",children:[f.jsxs("li",{children:[f.jsx("span",{className:"font-medium",children:"Email:"})," info@islamicstories.com"]}),f.jsxs("li",{children:[f.jsx("span",{className:"font-medium",children:"Phone Number:"})," +1 (234) 567-8910"]}),f.jsxs("li",{children:[f.jsx("span",{className:"font-medium",children:"Fax:"})," +1 (234) 567-8911"]}),f.jsxs("li",{children:[f.jsx("span",{className:"font-medium",children:"Address:"})," 1234 Faith Ave, City, Country, 12345"]}),f.jsxs("li",{children:[f.jsx("span",{className:"font-medium",children:"Open:"})," 24 Hours a Day, 7 Days a Week"]})]})]})]}),f.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mt-10 shadow-sm",children:[f.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center",children:[f.jsx("span",{className:"text-yellow-500 mr-2 text-xl",children:""})," Islamic Stories Team"]}),f.jsxs("div",{className:"flex gap-6 overflow-x-auto pb-2",children:[f.jsxs("div",{className:"bg-white rounded-lg shadow p-4 min-w-[180px] flex flex-col items-center",children:[f.jsx("img",{src:"https://randomuser.me/api/portraits/men/32.jpg",alt:"Designer",className:"w-20 h-20 rounded-full object-cover mb-3"}),f.jsx("div",{className:"text-gray-500 text-sm",children:"Designer"}),f.jsx("div",{className:"font-semibold mt-1",children:"Ahmad Farooq"})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow p-4 min-w-[180px] flex flex-col items-center",children:[f.jsx("img",{src:"https://randomuser.me/api/portraits/women/44.jpg",alt:"Programmer",className:"w-20 h-20 rounded-full object-cover mb-3"}),f.jsx("div",{className:"text-gray-500 text-sm",children:"Programmer"}),f.jsx("div",{className:"font-semibold mt-1",children:"Sara Khan"})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow p-4 min-w-[180px] flex flex-col items-center",children:[f.jsx("img",{src:"https://randomuser.me/api/portraits/men/65.jpg",alt:"Marketing",className:"w-20 h-20 rounded-full object-cover mb-3"}),f.jsx("div",{className:"text-gray-500 text-sm",children:"Marketing"}),f.jsx("div",{className:"font-semibold mt-1",children:"Bilal Hussain"})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow p-4 min-w-[180px] flex flex-col items-center",children:[f.jsx("img",{src:"https://randomuser.me/api/portraits/women/68.jpg",alt:"Administration",className:"w-20 h-20 rounded-full object-cover mb-3"}),f.jsx("div",{className:"text-gray-500 text-sm",children:"Administration"}),f.jsx("div",{className:"font-semibold mt-1",children:"Fatima Zahra"})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow p-4 min-w-[180px] flex flex-col items-center",children:[f.jsx("img",{src:"https://randomuser.me/api/portraits/men/12.jpg",alt:"CEO",className:"w-20 h-20 rounded-full object-cover mb-3"}),f.jsx("div",{className:"text-gray-500 text-sm",children:"CEO"}),f.jsx("div",{className:"font-semibold mt-1",children:"Yusuf Ali"})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow p-4 min-w-[180px] flex flex-col items-center",children:[f.jsx("img",{src:"https://randomuser.me/api/portraits/men/23.jpg",alt:"Financial",className:"w-20 h-20 rounded-full object-cover mb-3"}),f.jsx("div",{className:"text-gray-500 text-sm",children:"Financial"}),f.jsx("div",{className:"font-semibold mt-1",children:"Imran Siddiqui"})]})]})]})]}),n6=()=>{const t=[{title:"About Us",description:"Learn more about Islamic Stories and our mission",link:"/about",icon:""},{title:"Contact Us",description:"Get in touch with our team",link:"/contact",icon:""},{title:"Categories",description:"Explore stories by category",link:"/categories",icon:""}];return f.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Pages"}),f.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map((e,n)=>f.jsxs(ee,{to:e.link,className:"block p-6 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 border border-gray-200",children:[f.jsxs("div",{className:"flex items-center mb-4",children:[f.jsx("span",{className:"text-2xl mr-3",children:e.icon}),f.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:e.title})]}),f.jsx("p",{className:"text-gray-600",children:e.description})]},n))}),f.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"More Coming Soon"}),f.jsx("p",{className:"text-gray-600",children:"We're constantly adding new pages and features to enhance your experience. Stay tuned for more content and functionality!"})]})]})},gy=()=>{const{categories:t,setCategories:e}=C.useContext(Nu),{categoryName:n}=Uo(),[r,o]=C.useState(null),[s,i]=C.useState(!0),a=async(l=1)=>{try{let c;n?c=await G.post("http://localhost:3000/api/search-blogs",{tag:n,page:l}):c=await G.post("http://localhost:3000/api/latest-blogs",{page:l});const{data:u}=c;if(u.blogs&&Array.isArray(u.blogs)){const d=await Bo({state:r,data:u.blogs,page:l,countRoute:n?"/search-blogs-count":"/all-latest-blogs-count",create_new_arr:l===1,data_to_send:n?{tag:n}:{}});if(d&&o(d),t.length===0&&e&&l===1){const h=["islam","prophets","religion","basics","sahaba","anbiya"],v=u.blogs.flatMap(y=>y.tags||[]),g=Array.from(new Set([...h,...v]));e(g)}}i(!1)}catch(c){console.error("Error fetching blogs:",c),o(u=>u||{results:[],page:1,totalDocs:0}),i(!1)}};return C.useEffect(()=>{o(null),i(!0),a(1)},[n]),s?f.jsx(Oe,{}):f.jsxs("div",{className:"max-w-screen-2xl w-full mx-auto px-4 py-8",children:[f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r&&r.results&&r.results.length>0?r.results.map(l=>{var c,u,d,h;return f.jsx(Il,{post:{banner:l.banner,title:l.title,description:l.des||l.description,author:{avatar:(u=(c=l.author)==null?void 0:c.personal_info)==null?void 0:u.profile_img,name:(h=(d=l.author)==null?void 0:d.personal_info)==null?void 0:h.fullname},date:l.publishedAt||l.date,blog_id:l.blog_id||l._id}},l._id||l.blog_id)}):f.jsxs("div",{className:"col-span-full text-center text-gray-500",children:["No blogs found",n?` for '${n}'`:"","."]})}),r&&f.jsx("div",{className:"flex justify-center mt-8",children:f.jsx(Xn,{state:r,fetchDataFun:a})})]})},r6=()=>{const[t]=Lp(),e=Ln(),{setUserAuth:n}=C.useContext(ye),[r,o]=C.useState("Verifying your email..."),[s,i]=C.useState("");return C.useEffect(()=>{const a=t.get("token");if(!a){o(""),i("Invalid verification link.");return}G.get(`http://localhost:3000/api/verify-user?token=${a}`).then(async({data:l})=>{console.log("Verification response:",l),l.access_token?(o("Email verified! Logging you in..."),Ut({access_token:l.access_token,...l.user},n),console.log("updateUserAuth called with:",{access_token:l.access_token,...l.user}),H.success("Email verified! You are now logged in."),setTimeout(()=>{e("/")},1500)):l.message?(o(l.message),H.success(l.message)):(o(""),i("Verification failed."))}).catch(l=>{var c,u;o(""),i(((u=(c=l==null?void 0:l.response)==null?void 0:c.data)==null?void 0:u.error)||"Verification failed.")})},[t,e,n]),f.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen",children:f.jsxs("div",{className:"bg-white p-8 rounded shadow-md w-full max-w-md text-center",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Email Verification"}),r&&f.jsx("p",{className:"text-green-700 mb-2",children:r}),s&&f.jsx("p",{className:"text-red-600 mb-2",children:s})]})})},o6=()=>{const[t]=Lp(),e=Ln(),[n,r]=C.useState("Verifying your subscription..."),[o,s]=C.useState("");return C.useEffect(()=>{const i=t.get("token");if(!i){r(""),s("Invalid verification link.");return}G.get(`http://localhost:3000/api/verify-newsletter?token=${i}`).then(({data:a})=>{r("Subscription verified! Thank you for subscribing."),H.success("Subscription verified!"),setTimeout(()=>{e("/")},2e3)}).catch(a=>{var l,c;r(""),s(((c=(l=a==null?void 0:a.response)==null?void 0:l.data)==null?void 0:c.error)||"Verification failed.")})},[t,e]),f.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen",children:f.jsxs("div",{className:"bg-white p-8 rounded shadow-md w-full max-w-md text-center",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Newsletter Verification"}),n&&f.jsx("p",{className:"text-green-700 mb-2",children:n}),o&&f.jsx("p",{className:"text-red-600 mb-2",children:o})]})})},ye=C.createContext({}),Bm=C.createContext({}),Nu=C.createContext({}),s6=window.matchMedia("(prefers-color-scheme: dark)").matches,i6=()=>{const t=sessionStorage.getItem("user");if(t)try{return JSON.parse(t)}catch{return sessionStorage.removeItem("user"),null}return null},a6=()=>{const[t,e]=C.useState(i6),[n,r]=C.useState(()=>s6?"dark":"light"),[o,s]=C.useState([]),[i,a]=C.useState([]);return C.useEffect(()=>{let l=mu("theme");L1(e),l?r(()=>(document.body.setAttribute("data-theme",l),l)):document.body.setAttribute("data-theme",n)},[]),C.useEffect(()=>{console.log("App.jsx: userAuth value:",t)},[t]),C.useEffect(()=>{console.log("Server Domain:","http://localhost:3000")},[]),C.useEffect(()=>{(async()=>{try{const{data:c}=await _n.post("http://localhost:3000/api/latest-blogs",{page:1}),u=(c.blogs||[]).filter(d=>d.banner&&d.blog_id).slice(0,12);s(u)}catch{s([])}})()},[]),f.jsx(Bm.Provider,{value:{theme:n,setTheme:r},children:f.jsx(ye.Provider,{value:{userAuth:t,setUserAuth:e},children:f.jsxs(Nu.Provider,{value:{blogImages:o,setBlogImages:s,categories:i,setCategories:a},children:[f.jsx(j4,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),f.jsx(s_,{children:f.jsxs(Ce,{path:"/",element:f.jsx(cA,{}),children:[f.jsx(Ce,{index:!0,element:f.jsx(xD,{})}),f.jsx(Ce,{path:"editor",element:f.jsx(ey,{})}),f.jsx(Ce,{path:"editor/:blog_id",element:f.jsx(ey,{})}),f.jsxs(Ce,{path:"dashboard",element:f.jsx(hy,{}),children:[f.jsx(Ce,{path:"blogs",element:f.jsx(QD,{})}),f.jsx(Ce,{path:"notification",element:f.jsx(KD,{})})]}),f.jsxs(Ce,{path:"settings",element:f.jsx(hy,{}),children:[f.jsx(Ce,{path:"edit-profile",element:f.jsx(HD,{})}),f.jsx(Ce,{path:"change-password",element:f.jsx(VD,{})})]}),f.jsx(Ce,{path:"login",element:f.jsx(Nd,{type:"login"})}),f.jsx(Ce,{path:"signin",element:f.jsx(Nd,{type:"login"})}),f.jsx(Ce,{path:"signup",element:f.jsx(Nd,{type:"signup"})}),f.jsx(Ce,{path:"search/:query",element:f.jsx(kD,{})}),f.jsx(Ce,{path:"user/:id",element:f.jsx(_D,{})}),f.jsx(Ce,{path:"blog/:blog_id",element:f.jsx(zD,{})}),f.jsx(Ce,{path:"categories/:categoryName",element:f.jsx(gy,{})}),f.jsx(Ce,{path:"categories",element:f.jsx(gy,{})}),f.jsx(Ce,{path:"contact",element:f.jsx(e6,{})}),f.jsx(Ce,{path:"about",element:f.jsx(t6,{})}),f.jsx(Ce,{path:"pages",element:f.jsx(n6,{})}),f.jsx(Ce,{path:"verify-user",element:f.jsx(r6,{})}),f.jsx(Ce,{path:"verify-newsletter",element:f.jsx(o6,{})}),f.jsx(Ce,{path:"*",element:f.jsx(US,{})})]})})]})})})};Fd.createRoot(document.getElementById("root")).render(f.jsx(f_,{children:f.jsx(a6,{})}));
