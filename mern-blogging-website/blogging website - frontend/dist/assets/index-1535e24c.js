var SS=Object.defineProperty;var ES=(t,e,n)=>e in t?SS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Td=(t,e,n)=>(ES(t,typeof e!="symbol"?e+"":e,n),n);function TS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Gr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ey={exports:{}},Lc={},ty={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var na=Symbol.for("react.element"),CS=Symbol.for("react.portal"),_S=Symbol.for("react.fragment"),NS=Symbol.for("react.strict_mode"),jS=Symbol.for("react.profiler"),IS=Symbol.for("react.provider"),PS=Symbol.for("react.context"),LS=Symbol.for("react.forward_ref"),AS=Symbol.for("react.suspense"),BS=Symbol.for("react.memo"),OS=Symbol.for("react.lazy"),Sm=Symbol.iterator;function MS(t){return t===null||typeof t!="object"?null:(t=Sm&&t[Sm]||t["@@iterator"],typeof t=="function"?t:null)}var ny={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ry=Object.assign,oy={};function Li(t,e,n){this.props=t,this.context=e,this.refs=oy,this.updater=n||ny}Li.prototype.isReactComponent={};Li.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Li.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iy(){}iy.prototype=Li.prototype;function kh(t,e,n){this.props=t,this.context=e,this.refs=oy,this.updater=n||ny}var Sh=kh.prototype=new iy;Sh.constructor=kh;ry(Sh,Li.prototype);Sh.isPureReactComponent=!0;var Em=Array.isArray,sy=Object.prototype.hasOwnProperty,Eh={current:null},ay={key:!0,ref:!0,__self:!0,__source:!0};function ly(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)sy.call(e,r)&&!ay.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:na,type:t,key:i,ref:s,props:o,_owner:Eh.current}}function RS(t,e){return{$$typeof:na,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Th(t){return typeof t=="object"&&t!==null&&t.$$typeof===na}function DS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Tm=/\/+/g;function Cd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DS(""+t.key):e.toString(36)}function nl(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case na:case CS:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+Cd(s,0):r,Em(o)?(n="",t!=null&&(n=t.replace(Tm,"$&/")+"/"),nl(o,e,n,"",function(c){return c})):o!=null&&(Th(o)&&(o=RS(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Tm,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",Em(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Cd(i,a);s+=nl(i,e,n,l,o)}else if(l=MS(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Cd(i,a++),s+=nl(i,e,n,l,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ja(t,e,n){if(t==null)return t;var r=[],o=0;return nl(t,r,"","",function(i){return e.call(n,i,o++)}),r}function FS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wt={current:null},rl={transition:null},US={ReactCurrentDispatcher:wt,ReactCurrentBatchConfig:rl,ReactCurrentOwner:Eh};le.Children={map:ja,forEach:function(t,e,n){ja(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ja(t,function(){e++}),e},toArray:function(t){return ja(t,function(e){return e})||[]},only:function(t){if(!Th(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=Li;le.Fragment=_S;le.Profiler=jS;le.PureComponent=kh;le.StrictMode=NS;le.Suspense=AS;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=US;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ry({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=Eh.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)sy.call(e,l)&&!ay.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:na,type:t.type,key:o,ref:i,props:r,_owner:s}};le.createContext=function(t){return t={$$typeof:PS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IS,_context:t},t.Consumer=t};le.createElement=ly;le.createFactory=function(t){var e=ly.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:LS,render:t}};le.isValidElement=Th;le.lazy=function(t){return{$$typeof:OS,_payload:{_status:-1,_result:t},_init:FS}};le.memo=function(t,e){return{$$typeof:BS,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=rl.transition;rl.transition={};try{t()}finally{rl.transition=e}};le.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};le.useCallback=function(t,e){return wt.current.useCallback(t,e)};le.useContext=function(t){return wt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return wt.current.useDeferredValue(t)};le.useEffect=function(t,e){return wt.current.useEffect(t,e)};le.useId=function(){return wt.current.useId()};le.useImperativeHandle=function(t,e,n){return wt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return wt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return wt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return wt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return wt.current.useReducer(t,e,n)};le.useRef=function(t){return wt.current.useRef(t)};le.useState=function(t){return wt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return wt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return wt.current.useTransition()};le.version="18.2.0";ty.exports=le;var _=ty.exports;const Q=Gr(_),zS=TS({__proto__:null,default:Q},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $S=_,VS=Symbol.for("react.element"),HS=Symbol.for("react.fragment"),WS=Object.prototype.hasOwnProperty,GS=$S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qS={key:!0,ref:!0,__self:!0,__source:!0};function cy(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)WS.call(e,r)&&!qS.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:VS,type:t,key:i,ref:s,props:o,_owner:GS.current}}Lc.Fragment=HS;Lc.jsx=cy;Lc.jsxs=cy;ey.exports=Lc;var f=ey.exports,Au={},dy={exports:{}},Ut={},uy={exports:{}},fy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,M){var R=B.length;B.push(M);e:for(;0<R;){var z=R-1>>>1,V=B[z];if(0<o(V,M))B[z]=M,B[R]=V,R=z;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var M=B[0],R=B.pop();if(R!==M){B[0]=R;e:for(var z=0,V=B.length,te=V>>>1;z<te;){var Y=2*(z+1)-1,pe=B[Y],me=Y+1,je=B[me];if(0>o(pe,R))me<V&&0>o(je,pe)?(B[z]=je,B[me]=R,z=me):(B[z]=pe,B[Y]=R,z=Y);else if(me<V&&0>o(je,R))B[z]=je,B[me]=R,z=me;else break e}}return M}function o(B,M){var R=B.sortIndex-M.sortIndex;return R!==0?R:B.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,u=null,h=3,v=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(B){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=B)r(c),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(c)}}function x(B){if(y=!1,p(B),!g)if(n(l)!==null)g=!0,A(E);else{var M=n(c);M!==null&&D(x,M.startTime-B)}}function E(B,M){g=!1,y&&(y=!1,b(k),k=-1),v=!0;var R=h;try{for(p(M),u=n(l);u!==null&&(!(u.expirationTime>M)||B&&!T());){var z=u.callback;if(typeof z=="function"){u.callback=null,h=u.priorityLevel;var V=z(u.expirationTime<=M);M=t.unstable_now(),typeof V=="function"?u.callback=V:u===n(l)&&r(l),p(M)}else r(l);u=n(l)}if(u!==null)var te=!0;else{var Y=n(c);Y!==null&&D(x,Y.startTime-M),te=!1}return te}finally{u=null,h=R,v=!1}}var N=!1,j=null,k=-1,S=5,C=-1;function T(){return!(t.unstable_now()-C<S)}function I(){if(j!==null){var B=t.unstable_now();C=B;var M=!0;try{M=j(!0,B)}finally{M?P():(N=!1,j=null)}}else N=!1}var P;if(typeof m=="function")P=function(){m(I)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,L=O.port2;O.port1.onmessage=I,P=function(){L.postMessage(null)}}else P=function(){w(I,0)};function A(B){j=B,N||(N=!0,P())}function D(B,M){k=w(function(){B(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){g||v||(g=!0,A(E))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var R=h;h=M;try{return B()}finally{h=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,M){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var R=h;h=B;try{return M()}finally{h=R}},t.unstable_scheduleCallback=function(B,M,R){var z=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?z+R:z):R=z,B){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=R+V,B={id:d++,callback:M,priorityLevel:B,startTime:R,expirationTime:V,sortIndex:-1},R>z?(B.sortIndex=R,e(c,B),n(l)===null&&B===n(c)&&(y?(b(k),k=-1):y=!0,D(x,R-z))):(B.sortIndex=V,e(l,B),g||v||(g=!0,A(E))),B},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(B){var M=h;return function(){var R=h;h=M;try{return B.apply(this,arguments)}finally{h=R}}}})(fy);uy.exports=fy;var KS=uy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy=_,Dt=KS;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var py=new Set,_s={};function Ao(t,e){yi(t,e),yi(t+"Capture",e)}function yi(t,e){for(_s[t]=e,t=0;t<e.length;t++)py.add(e[t])}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bu=Object.prototype.hasOwnProperty,YS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cm={},_m={};function XS(t){return Bu.call(_m,t)?!0:Bu.call(Cm,t)?!1:YS.test(t)?_m[t]=!0:(Cm[t]=!0,!1)}function JS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function QS(t,e,n,r){if(e===null||typeof e>"u"||JS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kt(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lt[t]=new kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lt[e]=new kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lt[t]=new kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lt[t]=new kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lt[t]=new kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lt[t]=new kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lt[t]=new kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lt[t]=new kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lt[t]=new kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ch=/[\-:]([a-z])/g;function _h(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ch,_h);lt[e]=new kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ch,_h);lt[e]=new kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ch,_h);lt[e]=new kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lt[t]=new kt(t,1,!1,t.toLowerCase(),null,!1,!1)});lt.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lt[t]=new kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nh(t,e,n,r){var o=lt.hasOwnProperty(e)?lt[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(QS(e,n,o,r)&&(n=null),r||o===null?XS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ir=hy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ia=Symbol.for("react.element"),Wo=Symbol.for("react.portal"),Go=Symbol.for("react.fragment"),jh=Symbol.for("react.strict_mode"),Ou=Symbol.for("react.profiler"),my=Symbol.for("react.provider"),gy=Symbol.for("react.context"),Ih=Symbol.for("react.forward_ref"),Mu=Symbol.for("react.suspense"),Ru=Symbol.for("react.suspense_list"),Ph=Symbol.for("react.memo"),hr=Symbol.for("react.lazy"),vy=Symbol.for("react.offscreen"),Nm=Symbol.iterator;function $i(t){return t===null||typeof t!="object"?null:(t=Nm&&t[Nm]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,_d;function ts(t){if(_d===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_d=e&&e[1]||""}return`
`+_d+t}var Nd=!1;function jd(t,e){if(!t||Nd)return"";Nd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Nd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ts(t):""}function ZS(t){switch(t.tag){case 5:return ts(t.type);case 16:return ts("Lazy");case 13:return ts("Suspense");case 19:return ts("SuspenseList");case 0:case 2:case 15:return t=jd(t.type,!1),t;case 11:return t=jd(t.type.render,!1),t;case 1:return t=jd(t.type,!0),t;default:return""}}function Du(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Go:return"Fragment";case Wo:return"Portal";case Ou:return"Profiler";case jh:return"StrictMode";case Mu:return"Suspense";case Ru:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gy:return(t.displayName||"Context")+".Consumer";case my:return(t._context.displayName||"Context")+".Provider";case Ih:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ph:return e=t.displayName||null,e!==null?e:Du(t.type)||"Memo";case hr:e=t._payload,t=t._init;try{return Du(t(e))}catch{}}return null}function eE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Du(e);case 8:return e===jh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tE(t){var e=yy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pa(t){t._valueTracker||(t._valueTracker=tE(t))}function by(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fu(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xy(t,e){e=e.checked,e!=null&&Nh(t,"checked",e,!1)}function Uu(t,e){xy(t,e);var n=zr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zu(t,e.type,n):e.hasOwnProperty("defaultValue")&&zu(t,e.type,zr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Im(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zu(t,e,n){(e!=="number"||jl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ns=Array.isArray;function li(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zr(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function $u(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(ns(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zr(n)}}function wy(t,e){var n=zr(e.value),r=zr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Lm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ky(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ky(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var La,Sy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(La=La||document.createElement("div"),La.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=La.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ns(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nE=["Webkit","ms","Moz","O"];Object.keys(ls).forEach(function(t){nE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ls[e]=ls[t]})});function Ey(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ls.hasOwnProperty(t)&&ls[t]?(""+e).trim():e+"px"}function Ty(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Ey(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var rE=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hu(t,e){if(e){if(rE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Wu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gu=null;function Lh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qu=null,ci=null,di=null;function Am(t){if(t=ia(t)){if(typeof qu!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Rc(e),qu(t.stateNode,t.type,e))}}function Cy(t){ci?di?di.push(t):di=[t]:ci=t}function _y(){if(ci){var t=ci,e=di;if(di=ci=null,Am(t),e)for(t=0;t<e.length;t++)Am(e[t])}}function Ny(t,e){return t(e)}function jy(){}var Id=!1;function Iy(t,e,n){if(Id)return t(e,n);Id=!0;try{return Ny(t,e,n)}finally{Id=!1,(ci!==null||di!==null)&&(jy(),_y())}}function js(t,e){var n=t.stateNode;if(n===null)return null;var r=Rc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Ku=!1;if(Jn)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){Ku=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{Ku=!1}function oE(t,e,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var cs=!1,Il=null,Pl=!1,Yu=null,iE={onError:function(t){cs=!0,Il=t}};function sE(t,e,n,r,o,i,s,a,l){cs=!1,Il=null,oE.apply(iE,arguments)}function aE(t,e,n,r,o,i,s,a,l){if(sE.apply(this,arguments),cs){if(cs){var c=Il;cs=!1,Il=null}else throw Error(W(198));Pl||(Pl=!0,Yu=c)}}function Bo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Py(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bm(t){if(Bo(t)!==t)throw Error(W(188))}function lE(t){var e=t.alternate;if(!e){if(e=Bo(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Bm(o),t;if(i===r)return Bm(o),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function Ly(t){return t=lE(t),t!==null?Ay(t):null}function Ay(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ay(t);if(e!==null)return e;t=t.sibling}return null}var By=Dt.unstable_scheduleCallback,Om=Dt.unstable_cancelCallback,cE=Dt.unstable_shouldYield,dE=Dt.unstable_requestPaint,Ve=Dt.unstable_now,uE=Dt.unstable_getCurrentPriorityLevel,Ah=Dt.unstable_ImmediatePriority,Oy=Dt.unstable_UserBlockingPriority,Ll=Dt.unstable_NormalPriority,fE=Dt.unstable_LowPriority,My=Dt.unstable_IdlePriority,Ac=null,xn=null;function hE(t){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Ac,t,void 0,(t.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:gE,pE=Math.log,mE=Math.LN2;function gE(t){return t>>>=0,t===0?32:31-(pE(t)/mE|0)|0}var Aa=64,Ba=4194304;function rs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Al(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=rs(a):(i&=s,i!==0&&(r=rs(i)))}else s=n&~o,s!==0?r=rs(s):i!==0&&(r=rs(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-an(e),o=1<<n,r|=t[n],e&=~o;return r}function vE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yE(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-an(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=vE(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Xu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ry(){var t=Aa;return Aa<<=1,!(Aa&4194240)&&(Aa=64),t}function Pd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ra(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-an(e),t[e]=n}function bE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-an(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function Bh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-an(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var ge=0;function Dy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Fy,Oh,Uy,zy,$y,Ju=!1,Oa=[],Nr=null,jr=null,Ir=null,Is=new Map,Ps=new Map,gr=[],xE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mm(t,e){switch(t){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":Is.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ps.delete(e.pointerId)}}function Hi(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=ia(e),e!==null&&Oh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function wE(t,e,n,r,o){switch(e){case"focusin":return Nr=Hi(Nr,t,e,n,r,o),!0;case"dragenter":return jr=Hi(jr,t,e,n,r,o),!0;case"mouseover":return Ir=Hi(Ir,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return Is.set(i,Hi(Is.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ps.set(i,Hi(Ps.get(i)||null,t,e,n,r,o)),!0}return!1}function Vy(t){var e=lo(t.target);if(e!==null){var n=Bo(e);if(n!==null){if(e=n.tag,e===13){if(e=Py(n),e!==null){t.blockedOn=e,$y(t.priority,function(){Uy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ol(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gu=r,n.target.dispatchEvent(r),Gu=null}else return e=ia(n),e!==null&&Oh(e),t.blockedOn=n,!1;e.shift()}return!0}function Rm(t,e,n){ol(t)&&n.delete(e)}function kE(){Ju=!1,Nr!==null&&ol(Nr)&&(Nr=null),jr!==null&&ol(jr)&&(jr=null),Ir!==null&&ol(Ir)&&(Ir=null),Is.forEach(Rm),Ps.forEach(Rm)}function Wi(t,e){t.blockedOn===e&&(t.blockedOn=null,Ju||(Ju=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,kE)))}function Ls(t){function e(o){return Wi(o,t)}if(0<Oa.length){Wi(Oa[0],t);for(var n=1;n<Oa.length;n++){var r=Oa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Nr!==null&&Wi(Nr,t),jr!==null&&Wi(jr,t),Ir!==null&&Wi(Ir,t),Is.forEach(e),Ps.forEach(e),n=0;n<gr.length;n++)r=gr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gr.length&&(n=gr[0],n.blockedOn===null);)Vy(n),n.blockedOn===null&&gr.shift()}var ui=ir.ReactCurrentBatchConfig,Bl=!0;function SE(t,e,n,r){var o=ge,i=ui.transition;ui.transition=null;try{ge=1,Mh(t,e,n,r)}finally{ge=o,ui.transition=i}}function EE(t,e,n,r){var o=ge,i=ui.transition;ui.transition=null;try{ge=4,Mh(t,e,n,r)}finally{ge=o,ui.transition=i}}function Mh(t,e,n,r){if(Bl){var o=Qu(t,e,n,r);if(o===null)zd(t,e,r,Ol,n),Mm(t,r);else if(wE(o,t,e,n,r))r.stopPropagation();else if(Mm(t,r),e&4&&-1<xE.indexOf(t)){for(;o!==null;){var i=ia(o);if(i!==null&&Fy(i),i=Qu(t,e,n,r),i===null&&zd(t,e,r,Ol,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else zd(t,e,r,null,n)}}var Ol=null;function Qu(t,e,n,r){if(Ol=null,t=Lh(r),t=lo(t),t!==null)if(e=Bo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Py(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ol=t,null}function Hy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uE()){case Ah:return 1;case Oy:return 4;case Ll:case fE:return 16;case My:return 536870912;default:return 16}default:return 16}}var Sr=null,Rh=null,il=null;function Wy(){if(il)return il;var t,e=Rh,n=e.length,r,o="value"in Sr?Sr.value:Sr.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return il=o.slice(t,1<r?1-r:void 0)}function sl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ma(){return!0}function Dm(){return!1}function zt(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ma:Dm,this.isPropagationStopped=Dm,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ma)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ma)},persist:function(){},isPersistent:Ma}),e}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dh=zt(Ai),oa=De({},Ai,{view:0,detail:0}),TE=zt(oa),Ld,Ad,Gi,Bc=De({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gi&&(Gi&&t.type==="mousemove"?(Ld=t.screenX-Gi.screenX,Ad=t.screenY-Gi.screenY):Ad=Ld=0,Gi=t),Ld)},movementY:function(t){return"movementY"in t?t.movementY:Ad}}),Fm=zt(Bc),CE=De({},Bc,{dataTransfer:0}),_E=zt(CE),NE=De({},oa,{relatedTarget:0}),Bd=zt(NE),jE=De({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),IE=zt(jE),PE=De({},Ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LE=zt(PE),AE=De({},Ai,{data:0}),Um=zt(AE),BE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ME={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ME[t])?!!e[t]:!1}function Fh(){return RE}var DE=De({},oa,{key:function(t){if(t.key){var e=BE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fh,charCode:function(t){return t.type==="keypress"?sl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FE=zt(DE),UE=De({},Bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zm=zt(UE),zE=De({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fh}),$E=zt(zE),VE=De({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),HE=zt(VE),WE=De({},Bc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GE=zt(WE),qE=[9,13,27,32],Uh=Jn&&"CompositionEvent"in window,ds=null;Jn&&"documentMode"in document&&(ds=document.documentMode);var KE=Jn&&"TextEvent"in window&&!ds,Gy=Jn&&(!Uh||ds&&8<ds&&11>=ds),$m=String.fromCharCode(32),Vm=!1;function qy(t,e){switch(t){case"keyup":return qE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ky(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qo=!1;function YE(t,e){switch(t){case"compositionend":return Ky(e);case"keypress":return e.which!==32?null:(Vm=!0,$m);case"textInput":return t=e.data,t===$m&&Vm?null:t;default:return null}}function XE(t,e){if(qo)return t==="compositionend"||!Uh&&qy(t,e)?(t=Wy(),il=Rh=Sr=null,qo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gy&&e.locale!=="ko"?null:e.data;default:return null}}var JE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JE[t.type]:e==="textarea"}function Yy(t,e,n,r){Cy(r),e=Ml(e,"onChange"),0<e.length&&(n=new Dh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var us=null,As=null;function QE(t){sb(t,0)}function Oc(t){var e=Xo(t);if(by(e))return t}function ZE(t,e){if(t==="change")return e}var Xy=!1;if(Jn){var Od;if(Jn){var Md="oninput"in document;if(!Md){var Wm=document.createElement("div");Wm.setAttribute("oninput","return;"),Md=typeof Wm.oninput=="function"}Od=Md}else Od=!1;Xy=Od&&(!document.documentMode||9<document.documentMode)}function Gm(){us&&(us.detachEvent("onpropertychange",Jy),As=us=null)}function Jy(t){if(t.propertyName==="value"&&Oc(As)){var e=[];Yy(e,As,t,Lh(t)),Iy(QE,e)}}function eT(t,e,n){t==="focusin"?(Gm(),us=e,As=n,us.attachEvent("onpropertychange",Jy)):t==="focusout"&&Gm()}function tT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oc(As)}function nT(t,e){if(t==="click")return Oc(e)}function rT(t,e){if(t==="input"||t==="change")return Oc(e)}function oT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cn=typeof Object.is=="function"?Object.is:oT;function Bs(t,e){if(cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Bu.call(e,o)||!cn(t[o],e[o]))return!1}return!0}function qm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Km(t,e){var n=qm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qm(n)}}function Qy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Qy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zy(){for(var t=window,e=jl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jl(t.document)}return e}function zh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iT(t){var e=Zy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Qy(n.ownerDocument.documentElement,n)){if(r!==null&&zh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=Km(n,i);var s=Km(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sT=Jn&&"documentMode"in document&&11>=document.documentMode,Ko=null,Zu=null,fs=null,ef=!1;function Ym(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ef||Ko==null||Ko!==jl(r)||(r=Ko,"selectionStart"in r&&zh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fs&&Bs(fs,r)||(fs=r,r=Ml(Zu,"onSelect"),0<r.length&&(e=new Dh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ko)))}function Ra(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yo={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionend:Ra("Transition","TransitionEnd")},Rd={},eb={};Jn&&(eb=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function Mc(t){if(Rd[t])return Rd[t];if(!Yo[t])return t;var e=Yo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in eb)return Rd[t]=e[n];return t}var tb=Mc("animationend"),nb=Mc("animationiteration"),rb=Mc("animationstart"),ob=Mc("transitionend"),ib=new Map,Xm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qr(t,e){ib.set(t,e),Ao(e,[t])}for(var Dd=0;Dd<Xm.length;Dd++){var Fd=Xm[Dd],aT=Fd.toLowerCase(),lT=Fd[0].toUpperCase()+Fd.slice(1);qr(aT,"on"+lT)}qr(tb,"onAnimationEnd");qr(nb,"onAnimationIteration");qr(rb,"onAnimationStart");qr("dblclick","onDoubleClick");qr("focusin","onFocus");qr("focusout","onBlur");qr(ob,"onTransitionEnd");yi("onMouseEnter",["mouseout","mouseover"]);yi("onMouseLeave",["mouseout","mouseover"]);yi("onPointerEnter",["pointerout","pointerover"]);yi("onPointerLeave",["pointerout","pointerover"]);Ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cT=new Set("cancel close invalid load scroll toggle".split(" ").concat(os));function Jm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aE(r,e,void 0,t),t.currentTarget=null}function sb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Jm(o,a,c),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Jm(o,a,c),i=l}}}if(Pl)throw t=Yu,Pl=!1,Yu=null,t}function Te(t,e){var n=e[sf];n===void 0&&(n=e[sf]=new Set);var r=t+"__bubble";n.has(r)||(ab(e,t,2,!1),n.add(r))}function Ud(t,e,n){var r=0;e&&(r|=4),ab(n,t,r,e)}var Da="_reactListening"+Math.random().toString(36).slice(2);function Os(t){if(!t[Da]){t[Da]=!0,py.forEach(function(n){n!=="selectionchange"&&(cT.has(n)||Ud(n,!1,t),Ud(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Da]||(e[Da]=!0,Ud("selectionchange",!1,e))}}function ab(t,e,n,r){switch(Hy(e)){case 1:var o=SE;break;case 4:o=EE;break;default:o=Mh}n=o.bind(null,e,n,t),o=void 0,!Ku||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function zd(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=lo(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}Iy(function(){var c=i,d=Lh(n),u=[];e:{var h=ib.get(t);if(h!==void 0){var v=Dh,g=t;switch(t){case"keypress":if(sl(n)===0)break e;case"keydown":case"keyup":v=FE;break;case"focusin":g="focus",v=Bd;break;case"focusout":g="blur",v=Bd;break;case"beforeblur":case"afterblur":v=Bd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Fm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=_E;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=$E;break;case tb:case nb:case rb:v=IE;break;case ob:v=HE;break;case"scroll":v=TE;break;case"wheel":v=GE;break;case"copy":case"cut":case"paste":v=LE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=zm}var y=(e&4)!==0,w=!y&&t==="scroll",b=y?h!==null?h+"Capture":null:h;y=[];for(var m=c,p;m!==null;){p=m;var x=p.stateNode;if(p.tag===5&&x!==null&&(p=x,b!==null&&(x=js(m,b),x!=null&&y.push(Ms(m,x,p)))),w)break;m=m.return}0<y.length&&(h=new v(h,g,null,n,d),u.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",h&&n!==Gu&&(g=n.relatedTarget||n.fromElement)&&(lo(g)||g[Qn]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(g=n.relatedTarget||n.toElement,v=c,g=g?lo(g):null,g!==null&&(w=Bo(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=c),v!==g)){if(y=Fm,x="onMouseLeave",b="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=zm,x="onPointerLeave",b="onPointerEnter",m="pointer"),w=v==null?h:Xo(v),p=g==null?h:Xo(g),h=new y(x,m+"leave",v,n,d),h.target=w,h.relatedTarget=p,x=null,lo(d)===c&&(y=new y(b,m+"enter",g,n,d),y.target=p,y.relatedTarget=w,x=y),w=x,v&&g)t:{for(y=v,b=g,m=0,p=y;p;p=Uo(p))m++;for(p=0,x=b;x;x=Uo(x))p++;for(;0<m-p;)y=Uo(y),m--;for(;0<p-m;)b=Uo(b),p--;for(;m--;){if(y===b||b!==null&&y===b.alternate)break t;y=Uo(y),b=Uo(b)}y=null}else y=null;v!==null&&Qm(u,h,v,y,!1),g!==null&&w!==null&&Qm(u,w,g,y,!0)}}e:{if(h=c?Xo(c):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var E=ZE;else if(Hm(h))if(Xy)E=rT;else{E=tT;var N=eT}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=nT);if(E&&(E=E(t,c))){Yy(u,E,n,d);break e}N&&N(t,h,c),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&zu(h,"number",h.value)}switch(N=c?Xo(c):window,t){case"focusin":(Hm(N)||N.contentEditable==="true")&&(Ko=N,Zu=c,fs=null);break;case"focusout":fs=Zu=Ko=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,Ym(u,n,d);break;case"selectionchange":if(sT)break;case"keydown":case"keyup":Ym(u,n,d)}var j;if(Uh)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qo?qy(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Gy&&n.locale!=="ko"&&(qo||k!=="onCompositionStart"?k==="onCompositionEnd"&&qo&&(j=Wy()):(Sr=d,Rh="value"in Sr?Sr.value:Sr.textContent,qo=!0)),N=Ml(c,k),0<N.length&&(k=new Um(k,t,null,n,d),u.push({event:k,listeners:N}),j?k.data=j:(j=Ky(n),j!==null&&(k.data=j)))),(j=KE?YE(t,n):XE(t,n))&&(c=Ml(c,"onBeforeInput"),0<c.length&&(d=new Um("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=j))}sb(u,e)})}function Ms(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ml(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=js(t,n),i!=null&&r.unshift(Ms(t,i,o)),i=js(t,e),i!=null&&r.push(Ms(t,i,o))),t=t.return}return r}function Uo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qm(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=js(n,i),l!=null&&s.unshift(Ms(n,l,a))):o||(l=js(n,i),l!=null&&s.push(Ms(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var dT=/\r\n?/g,uT=/\u0000|\uFFFD/g;function Zm(t){return(typeof t=="string"?t:""+t).replace(dT,`
`).replace(uT,"")}function Fa(t,e,n){if(e=Zm(e),Zm(t)!==e&&n)throw Error(W(425))}function Rl(){}var tf=null,nf=null;function rf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var of=typeof setTimeout=="function"?setTimeout:void 0,fT=typeof clearTimeout=="function"?clearTimeout:void 0,eg=typeof Promise=="function"?Promise:void 0,hT=typeof queueMicrotask=="function"?queueMicrotask:typeof eg<"u"?function(t){return eg.resolve(null).then(t).catch(pT)}:of;function pT(t){setTimeout(function(){throw t})}function $d(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Ls(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Ls(e)}function Pr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bi=Math.random().toString(36).slice(2),gn="__reactFiber$"+Bi,Rs="__reactProps$"+Bi,Qn="__reactContainer$"+Bi,sf="__reactEvents$"+Bi,mT="__reactListeners$"+Bi,gT="__reactHandles$"+Bi;function lo(t){var e=t[gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qn]||n[gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tg(t);t!==null;){if(n=t[gn])return n;t=tg(t)}return e}t=n,n=t.parentNode}return null}function ia(t){return t=t[gn]||t[Qn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Rc(t){return t[Rs]||null}var af=[],Jo=-1;function Kr(t){return{current:t}}function Ne(t){0>Jo||(t.current=af[Jo],af[Jo]=null,Jo--)}function ke(t,e){Jo++,af[Jo]=t.current,t.current=e}var $r={},ht=Kr($r),jt=Kr(!1),xo=$r;function bi(t,e){var n=t.type.contextTypes;if(!n)return $r;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function It(t){return t=t.childContextTypes,t!=null}function Dl(){Ne(jt),Ne(ht)}function ng(t,e,n){if(ht.current!==$r)throw Error(W(168));ke(ht,e),ke(jt,n)}function lb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(W(108,eE(t)||"Unknown",o));return De({},n,r)}function Fl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$r,xo=ht.current,ke(ht,t),ke(jt,jt.current),!0}function rg(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=lb(t,e,xo),r.__reactInternalMemoizedMergedChildContext=t,Ne(jt),Ne(ht),ke(ht,t)):Ne(jt),ke(jt,n)}var On=null,Dc=!1,Vd=!1;function cb(t){On===null?On=[t]:On.push(t)}function vT(t){Dc=!0,cb(t)}function Yr(){if(!Vd&&On!==null){Vd=!0;var t=0,e=ge;try{var n=On;for(ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}On=null,Dc=!1}catch(o){throw On!==null&&(On=On.slice(t+1)),By(Ah,Yr),o}finally{ge=e,Vd=!1}}return null}var Qo=[],Zo=0,Ul=null,zl=0,Wt=[],Gt=0,wo=null,Dn=1,Fn="";function no(t,e){Qo[Zo++]=zl,Qo[Zo++]=Ul,Ul=t,zl=e}function db(t,e,n){Wt[Gt++]=Dn,Wt[Gt++]=Fn,Wt[Gt++]=wo,wo=t;var r=Dn;t=Fn;var o=32-an(r)-1;r&=~(1<<o),n+=1;var i=32-an(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Dn=1<<32-an(e)+o|n<<o|r,Fn=i+t}else Dn=1<<i|n<<o|r,Fn=t}function $h(t){t.return!==null&&(no(t,1),db(t,1,0))}function Vh(t){for(;t===Ul;)Ul=Qo[--Zo],Qo[Zo]=null,zl=Qo[--Zo],Qo[Zo]=null;for(;t===wo;)wo=Wt[--Gt],Wt[Gt]=null,Fn=Wt[--Gt],Wt[Gt]=null,Dn=Wt[--Gt],Wt[Gt]=null}var Rt=null,Mt=null,Pe=!1,nn=null;function ub(t,e){var n=qt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function og(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rt=t,Mt=Pr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rt=t,Mt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wo!==null?{id:Dn,overflow:Fn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rt=t,Mt=null,!0):!1;default:return!1}}function lf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cf(t){if(Pe){var e=Mt;if(e){var n=e;if(!og(t,e)){if(lf(t))throw Error(W(418));e=Pr(n.nextSibling);var r=Rt;e&&og(t,e)?ub(r,n):(t.flags=t.flags&-4097|2,Pe=!1,Rt=t)}}else{if(lf(t))throw Error(W(418));t.flags=t.flags&-4097|2,Pe=!1,Rt=t}}}function ig(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rt=t}function Ua(t){if(t!==Rt)return!1;if(!Pe)return ig(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rf(t.type,t.memoizedProps)),e&&(e=Mt)){if(lf(t))throw fb(),Error(W(418));for(;e;)ub(t,e),e=Pr(e.nextSibling)}if(ig(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mt=Pr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mt=null}}else Mt=Rt?Pr(t.stateNode.nextSibling):null;return!0}function fb(){for(var t=Mt;t;)t=Pr(t.nextSibling)}function xi(){Mt=Rt=null,Pe=!1}function Hh(t){nn===null?nn=[t]:nn.push(t)}var yT=ir.ReactCurrentBatchConfig;function en(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var $l=Kr(null),Vl=null,ei=null,Wh=null;function Gh(){Wh=ei=Vl=null}function qh(t){var e=$l.current;Ne($l),t._currentValue=e}function df(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fi(t,e){Vl=t,Wh=ei=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ct=!0),t.firstContext=null)}function Jt(t){var e=t._currentValue;if(Wh!==t)if(t={context:t,memoizedValue:e,next:null},ei===null){if(Vl===null)throw Error(W(308));ei=t,Vl.dependencies={lanes:0,firstContext:t}}else ei=ei.next=t;return e}var co=null;function Kh(t){co===null?co=[t]:co.push(t)}function hb(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,Kh(e)):(n.next=o.next,o.next=n),e.interleaved=n,Zn(t,r)}function Zn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pr=!1;function Yh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Lr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,Zn(t,n)}return o=r.interleaved,o===null?(e.next=e,Kh(r)):(e.next=o.next,o.next=e),r.interleaved=e,Zn(t,n)}function al(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bh(t,n)}}function sg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hl(t,e,n,r){var o=t.updateQueue;pr=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var u=o.baseState;s=0,d=c=l=null,a=i;do{var h=a.lane,v=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,y=a;switch(h=e,v=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){u=g.call(v,u,h);break e}u=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(v,u,h):g,h==null)break e;u=De({},u,h);break e;case 2:pr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=u):d=d.next=v,s|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(1);if(d===null&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);So|=s,t.lanes=s,t.memoizedState=u}}function ag(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(W(191,o));o.call(r)}}}var mb=new hy.Component().refs;function uf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fc={isMounted:function(t){return(t=t._reactInternals)?Bo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xt(),o=Br(t),i=Gn(r,o);i.payload=e,n!=null&&(i.callback=n),e=Lr(t,i,o),e!==null&&(ln(e,t,o,r),al(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xt(),o=Br(t),i=Gn(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Lr(t,i,o),e!==null&&(ln(e,t,o,r),al(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xt(),r=Br(t),o=Gn(n,r);o.tag=2,e!=null&&(o.callback=e),e=Lr(t,o,r),e!==null&&(ln(e,t,r,n),al(e,t,r))}};function lg(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!Bs(n,r)||!Bs(o,i):!0}function gb(t,e,n){var r=!1,o=$r,i=e.contextType;return typeof i=="object"&&i!==null?i=Jt(i):(o=It(e)?xo:ht.current,r=e.contextTypes,i=(r=r!=null)?bi(t,o):$r),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function cg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fc.enqueueReplaceState(e,e.state,null)}function ff(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=mb,Yh(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=Jt(i):(i=It(e)?xo:ht.current,o.context=bi(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(uf(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Fc.enqueueReplaceState(o,o.state,null),Hl(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function qi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=o.refs;a===mb&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function za(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dg(t){var e=t._init;return e(t._payload)}function vb(t){function e(b,m){if(t){var p=b.deletions;p===null?(b.deletions=[m],b.flags|=16):p.push(m)}}function n(b,m){if(!t)return null;for(;m!==null;)e(b,m),m=m.sibling;return null}function r(b,m){for(b=new Map;m!==null;)m.key!==null?b.set(m.key,m):b.set(m.index,m),m=m.sibling;return b}function o(b,m){return b=Or(b,m),b.index=0,b.sibling=null,b}function i(b,m,p){return b.index=p,t?(p=b.alternate,p!==null?(p=p.index,p<m?(b.flags|=2,m):p):(b.flags|=2,m)):(b.flags|=1048576,m)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,m,p,x){return m===null||m.tag!==6?(m=Xd(p,b.mode,x),m.return=b,m):(m=o(m,p),m.return=b,m)}function l(b,m,p,x){var E=p.type;return E===Go?d(b,m,p.props.children,x,p.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===hr&&dg(E)===m.type)?(x=o(m,p.props),x.ref=qi(b,m,p),x.return=b,x):(x=hl(p.type,p.key,p.props,null,b.mode,x),x.ref=qi(b,m,p),x.return=b,x)}function c(b,m,p,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=Jd(p,b.mode,x),m.return=b,m):(m=o(m,p.children||[]),m.return=b,m)}function d(b,m,p,x,E){return m===null||m.tag!==7?(m=go(p,b.mode,x,E),m.return=b,m):(m=o(m,p),m.return=b,m)}function u(b,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Xd(""+m,b.mode,p),m.return=b,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ia:return p=hl(m.type,m.key,m.props,null,b.mode,p),p.ref=qi(b,null,m),p.return=b,p;case Wo:return m=Jd(m,b.mode,p),m.return=b,m;case hr:var x=m._init;return u(b,x(m._payload),p)}if(ns(m)||$i(m))return m=go(m,b.mode,p,null),m.return=b,m;za(b,m)}return null}function h(b,m,p,x){var E=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return E!==null?null:a(b,m,""+p,x);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ia:return p.key===E?l(b,m,p,x):null;case Wo:return p.key===E?c(b,m,p,x):null;case hr:return E=p._init,h(b,m,E(p._payload),x)}if(ns(p)||$i(p))return E!==null?null:d(b,m,p,x,null);za(b,p)}return null}function v(b,m,p,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return b=b.get(p)||null,a(m,b,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ia:return b=b.get(x.key===null?p:x.key)||null,l(m,b,x,E);case Wo:return b=b.get(x.key===null?p:x.key)||null,c(m,b,x,E);case hr:var N=x._init;return v(b,m,p,N(x._payload),E)}if(ns(x)||$i(x))return b=b.get(p)||null,d(m,b,x,E,null);za(m,x)}return null}function g(b,m,p,x){for(var E=null,N=null,j=m,k=m=0,S=null;j!==null&&k<p.length;k++){j.index>k?(S=j,j=null):S=j.sibling;var C=h(b,j,p[k],x);if(C===null){j===null&&(j=S);break}t&&j&&C.alternate===null&&e(b,j),m=i(C,m,k),N===null?E=C:N.sibling=C,N=C,j=S}if(k===p.length)return n(b,j),Pe&&no(b,k),E;if(j===null){for(;k<p.length;k++)j=u(b,p[k],x),j!==null&&(m=i(j,m,k),N===null?E=j:N.sibling=j,N=j);return Pe&&no(b,k),E}for(j=r(b,j);k<p.length;k++)S=v(j,b,k,p[k],x),S!==null&&(t&&S.alternate!==null&&j.delete(S.key===null?k:S.key),m=i(S,m,k),N===null?E=S:N.sibling=S,N=S);return t&&j.forEach(function(T){return e(b,T)}),Pe&&no(b,k),E}function y(b,m,p,x){var E=$i(p);if(typeof E!="function")throw Error(W(150));if(p=E.call(p),p==null)throw Error(W(151));for(var N=E=null,j=m,k=m=0,S=null,C=p.next();j!==null&&!C.done;k++,C=p.next()){j.index>k?(S=j,j=null):S=j.sibling;var T=h(b,j,C.value,x);if(T===null){j===null&&(j=S);break}t&&j&&T.alternate===null&&e(b,j),m=i(T,m,k),N===null?E=T:N.sibling=T,N=T,j=S}if(C.done)return n(b,j),Pe&&no(b,k),E;if(j===null){for(;!C.done;k++,C=p.next())C=u(b,C.value,x),C!==null&&(m=i(C,m,k),N===null?E=C:N.sibling=C,N=C);return Pe&&no(b,k),E}for(j=r(b,j);!C.done;k++,C=p.next())C=v(j,b,k,C.value,x),C!==null&&(t&&C.alternate!==null&&j.delete(C.key===null?k:C.key),m=i(C,m,k),N===null?E=C:N.sibling=C,N=C);return t&&j.forEach(function(I){return e(b,I)}),Pe&&no(b,k),E}function w(b,m,p,x){if(typeof p=="object"&&p!==null&&p.type===Go&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ia:e:{for(var E=p.key,N=m;N!==null;){if(N.key===E){if(E=p.type,E===Go){if(N.tag===7){n(b,N.sibling),m=o(N,p.props.children),m.return=b,b=m;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===hr&&dg(E)===N.type){n(b,N.sibling),m=o(N,p.props),m.ref=qi(b,N,p),m.return=b,b=m;break e}n(b,N);break}else e(b,N);N=N.sibling}p.type===Go?(m=go(p.props.children,b.mode,x,p.key),m.return=b,b=m):(x=hl(p.type,p.key,p.props,null,b.mode,x),x.ref=qi(b,m,p),x.return=b,b=x)}return s(b);case Wo:e:{for(N=p.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){n(b,m.sibling),m=o(m,p.children||[]),m.return=b,b=m;break e}else{n(b,m);break}else e(b,m);m=m.sibling}m=Jd(p,b.mode,x),m.return=b,b=m}return s(b);case hr:return N=p._init,w(b,m,N(p._payload),x)}if(ns(p))return g(b,m,p,x);if($i(p))return y(b,m,p,x);za(b,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(n(b,m.sibling),m=o(m,p),m.return=b,b=m):(n(b,m),m=Xd(p,b.mode,x),m.return=b,b=m),s(b)):n(b,m)}return w}var wi=vb(!0),yb=vb(!1),sa={},wn=Kr(sa),Ds=Kr(sa),Fs=Kr(sa);function uo(t){if(t===sa)throw Error(W(174));return t}function Xh(t,e){switch(ke(Fs,e),ke(Ds,t),ke(wn,sa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vu(e,t)}Ne(wn),ke(wn,e)}function ki(){Ne(wn),Ne(Ds),Ne(Fs)}function bb(t){uo(Fs.current);var e=uo(wn.current),n=Vu(e,t.type);e!==n&&(ke(Ds,t),ke(wn,n))}function Jh(t){Ds.current===t&&(Ne(wn),Ne(Ds))}var Ae=Kr(0);function Wl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hd=[];function Qh(){for(var t=0;t<Hd.length;t++)Hd[t]._workInProgressVersionPrimary=null;Hd.length=0}var ll=ir.ReactCurrentDispatcher,Wd=ir.ReactCurrentBatchConfig,ko=0,Re=null,Xe=null,tt=null,Gl=!1,hs=!1,Us=0,bT=0;function ct(){throw Error(W(321))}function Zh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cn(t[n],e[n]))return!1;return!0}function ep(t,e,n,r,o,i){if(ko=i,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ll.current=t===null||t.memoizedState===null?ST:ET,t=n(r,o),hs){i=0;do{if(hs=!1,Us=0,25<=i)throw Error(W(301));i+=1,tt=Xe=null,e.updateQueue=null,ll.current=TT,t=n(r,o)}while(hs)}if(ll.current=ql,e=Xe!==null&&Xe.next!==null,ko=0,tt=Xe=Re=null,Gl=!1,e)throw Error(W(300));return t}function tp(){var t=Us!==0;return Us=0,t}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Re.memoizedState=tt=t:tt=tt.next=t,tt}function Qt(){if(Xe===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=tt===null?Re.memoizedState:tt.next;if(e!==null)tt=e,Xe=t;else{if(t===null)throw Error(W(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},tt===null?Re.memoizedState=tt=t:tt=tt.next=t}return tt}function zs(t,e){return typeof e=="function"?e(t):e}function Gd(t){var e=Qt(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=Xe,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,c=i;do{var d=c.lane;if((ko&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,s=r):l=l.next=u,Re.lanes|=d,So|=d}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=a,cn(r,e.memoizedState)||(Ct=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,Re.lanes|=i,So|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qd(t){var e=Qt(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);cn(i,e.memoizedState)||(Ct=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function xb(){}function wb(t,e){var n=Re,r=Qt(),o=e(),i=!cn(r.memoizedState,o);if(i&&(r.memoizedState=o,Ct=!0),r=r.queue,np(Eb.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,$s(9,Sb.bind(null,n,r,o,e),void 0,null),nt===null)throw Error(W(349));ko&30||kb(n,e,o)}return o}function kb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Sb(t,e,n,r){e.value=n,e.getSnapshot=r,Tb(e)&&Cb(t)}function Eb(t,e,n){return n(function(){Tb(e)&&Cb(t)})}function Tb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cn(t,n)}catch{return!0}}function Cb(t){var e=Zn(t,1);e!==null&&ln(e,t,1,-1)}function ug(t){var e=pn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:t},e.queue=t,t=t.dispatch=kT.bind(null,Re,t),[e.memoizedState,t]}function $s(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _b(){return Qt().memoizedState}function cl(t,e,n,r){var o=pn();Re.flags|=t,o.memoizedState=$s(1|e,n,void 0,r===void 0?null:r)}function Uc(t,e,n,r){var o=Qt();r=r===void 0?null:r;var i=void 0;if(Xe!==null){var s=Xe.memoizedState;if(i=s.destroy,r!==null&&Zh(r,s.deps)){o.memoizedState=$s(e,n,i,r);return}}Re.flags|=t,o.memoizedState=$s(1|e,n,i,r)}function fg(t,e){return cl(8390656,8,t,e)}function np(t,e){return Uc(2048,8,t,e)}function Nb(t,e){return Uc(4,2,t,e)}function jb(t,e){return Uc(4,4,t,e)}function Ib(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Pb(t,e,n){return n=n!=null?n.concat([t]):null,Uc(4,4,Ib.bind(null,e,t),n)}function rp(){}function Lb(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ab(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Bb(t,e,n){return ko&21?(cn(n,e)||(n=Ry(),Re.lanes|=n,So|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ct=!0),t.memoizedState=n)}function xT(t,e){var n=ge;ge=n!==0&&4>n?n:4,t(!0);var r=Wd.transition;Wd.transition={};try{t(!1),e()}finally{ge=n,Wd.transition=r}}function Ob(){return Qt().memoizedState}function wT(t,e,n){var r=Br(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mb(t))Rb(e,n);else if(n=hb(t,e,n,r),n!==null){var o=xt();ln(n,t,r,o),Db(n,e,r)}}function kT(t,e,n){var r=Br(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mb(t))Rb(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,cn(a,s)){var l=e.interleaved;l===null?(o.next=o,Kh(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=hb(t,e,o,r),n!==null&&(o=xt(),ln(n,t,r,o),Db(n,e,r))}}function Mb(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function Rb(t,e){hs=Gl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Db(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bh(t,n)}}var ql={readContext:Jt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},ST={readContext:Jt,useCallback:function(t,e){return pn().memoizedState=[t,e===void 0?null:e],t},useContext:Jt,useEffect:fg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cl(4194308,4,Ib.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cl(4194308,4,t,e)},useInsertionEffect:function(t,e){return cl(4,2,t,e)},useMemo:function(t,e){var n=pn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wT.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=pn();return t={current:t},e.memoizedState=t},useState:ug,useDebugValue:rp,useDeferredValue:function(t){return pn().memoizedState=t},useTransition:function(){var t=ug(!1),e=t[0];return t=xT.bind(null,t[1]),pn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,o=pn();if(Pe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),nt===null)throw Error(W(349));ko&30||kb(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,fg(Eb.bind(null,r,i,t),[t]),r.flags|=2048,$s(9,Sb.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=pn(),e=nt.identifierPrefix;if(Pe){var n=Fn,r=Dn;n=(r&~(1<<32-an(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Us++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ET={readContext:Jt,useCallback:Lb,useContext:Jt,useEffect:np,useImperativeHandle:Pb,useInsertionEffect:Nb,useLayoutEffect:jb,useMemo:Ab,useReducer:Gd,useRef:_b,useState:function(){return Gd(zs)},useDebugValue:rp,useDeferredValue:function(t){var e=Qt();return Bb(e,Xe.memoizedState,t)},useTransition:function(){var t=Gd(zs)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:xb,useSyncExternalStore:wb,useId:Ob,unstable_isNewReconciler:!1},TT={readContext:Jt,useCallback:Lb,useContext:Jt,useEffect:np,useImperativeHandle:Pb,useInsertionEffect:Nb,useLayoutEffect:jb,useMemo:Ab,useReducer:qd,useRef:_b,useState:function(){return qd(zs)},useDebugValue:rp,useDeferredValue:function(t){var e=Qt();return Xe===null?e.memoizedState=t:Bb(e,Xe.memoizedState,t)},useTransition:function(){var t=qd(zs)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:xb,useSyncExternalStore:wb,useId:Ob,unstable_isNewReconciler:!1};function Si(t,e){try{var n="",r=e;do n+=ZS(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function Kd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CT=typeof WeakMap=="function"?WeakMap:Map;function Fb(t,e,n){n=Gn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yl||(Yl=!0,Sf=r),hf(t,e)},n}function Ub(t,e,n){n=Gn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){hf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hf(t,e),typeof r!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function hg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CT;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=UT.bind(null,t,e,n),e.then(t,t))}function pg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mg(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gn(-1,1),e.tag=2,Lr(n,e,1))),n.lanes|=1),t)}var _T=ir.ReactCurrentOwner,Ct=!1;function yt(t,e,n,r){e.child=t===null?yb(e,null,n,r):wi(e,t.child,n,r)}function gg(t,e,n,r,o){n=n.render;var i=e.ref;return fi(e,o),r=ep(t,e,n,r,i,o),n=tp(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,er(t,e,o)):(Pe&&n&&$h(e),e.flags|=1,yt(t,e,r,o),e.child)}function vg(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!up(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,zb(t,e,i,r,o)):(t=hl(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Bs,n(s,r)&&t.ref===e.ref)return er(t,e,o)}return e.flags|=1,t=Or(i,r),t.ref=e.ref,t.return=e,e.child=t}function zb(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(Bs(i,r)&&t.ref===e.ref)if(Ct=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(Ct=!0);else return e.lanes=t.lanes,er(t,e,o)}return pf(t,e,n,r,o)}function $b(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(ni,Bt),Bt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(ni,Bt),Bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ke(ni,Bt),Bt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ke(ni,Bt),Bt|=r;return yt(t,e,o,n),e.child}function Vb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pf(t,e,n,r,o){var i=It(n)?xo:ht.current;return i=bi(e,i),fi(e,o),n=ep(t,e,n,r,i,o),r=tp(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,er(t,e,o)):(Pe&&r&&$h(e),e.flags|=1,yt(t,e,n,o),e.child)}function yg(t,e,n,r,o){if(It(n)){var i=!0;Fl(e)}else i=!1;if(fi(e,o),e.stateNode===null)dl(t,e),gb(e,n,r),ff(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Jt(c):(c=It(n)?xo:ht.current,c=bi(e,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";u||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&cg(e,s,r,c),pr=!1;var h=e.memoizedState;s.state=h,Hl(e,r,s,o),l=e.memoizedState,a!==r||h!==l||jt.current||pr?(typeof d=="function"&&(uf(e,n,d,r),l=e.memoizedState),(a=pr||lg(e,n,a,r,h,l,c))?(u||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,pb(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:en(e.type,a),s.props=c,u=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Jt(l):(l=It(n)?xo:ht.current,l=bi(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==u||h!==l)&&cg(e,s,r,l),pr=!1,h=e.memoizedState,s.state=h,Hl(e,r,s,o);var g=e.memoizedState;a!==u||h!==g||jt.current||pr?(typeof v=="function"&&(uf(e,n,v,r),g=e.memoizedState),(c=pr||lg(e,n,c,r,h,g,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return mf(t,e,n,r,i,o)}function mf(t,e,n,r,o,i){Vb(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&rg(e,n,!1),er(t,e,i);r=e.stateNode,_T.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=wi(e,t.child,null,i),e.child=wi(e,null,a,i)):yt(t,e,a,i),e.memoizedState=r.state,o&&rg(e,n,!0),e.child}function Hb(t){var e=t.stateNode;e.pendingContext?ng(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ng(t,e.context,!1),Xh(t,e.containerInfo)}function bg(t,e,n,r,o){return xi(),Hh(o),e.flags|=256,yt(t,e,n,r),e.child}var gf={dehydrated:null,treeContext:null,retryLane:0};function vf(t){return{baseLanes:t,cachePool:null,transitions:null}}function Wb(t,e,n){var r=e.pendingProps,o=Ae.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),ke(Ae,o&1),t===null)return cf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Vc(s,r,0,null),t=go(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=vf(n),e.memoizedState=gf,t):op(e,s));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return NT(t,e,s,r,a,o,n);if(i){i=r.fallback,s=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Or(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=Or(a,i):(i=go(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?vf(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=gf,r}return i=t.child,t=i.sibling,r=Or(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function op(t,e){return e=Vc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $a(t,e,n,r){return r!==null&&Hh(r),wi(e,t.child,null,n),t=op(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NT(t,e,n,r,o,i,s){if(n)return e.flags&256?(e.flags&=-257,r=Kd(Error(W(422))),$a(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Vc({mode:"visible",children:r.children},o,0,null),i=go(i,o,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&wi(e,t.child,null,s),e.child.memoizedState=vf(s),e.memoizedState=gf,i);if(!(e.mode&1))return $a(t,e,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=Kd(i,r,void 0),$a(t,e,s,r)}if(a=(s&t.childLanes)!==0,Ct||a){if(r=nt,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Zn(t,o),ln(r,t,o,-1))}return dp(),r=Kd(Error(W(421))),$a(t,e,s,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=zT.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,Mt=Pr(o.nextSibling),Rt=e,Pe=!0,nn=null,t!==null&&(Wt[Gt++]=Dn,Wt[Gt++]=Fn,Wt[Gt++]=wo,Dn=t.id,Fn=t.overflow,wo=e),e=op(e,r.children),e.flags|=4096,e)}function xg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),df(t.return,e,n)}function Yd(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Gb(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(yt(t,e,r.children,n),r=Ae.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xg(t,n,e);else if(t.tag===19)xg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Ae,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Wl(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),Yd(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Wl(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}Yd(e,!0,n,null,i);break;case"together":Yd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function er(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),So|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Or(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Or(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jT(t,e,n){switch(e.tag){case 3:Hb(e),xi();break;case 5:bb(e);break;case 1:It(e.type)&&Fl(e);break;case 4:Xh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;ke($l,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(Ae,Ae.current&1),e.flags|=128,null):n&e.child.childLanes?Wb(t,e,n):(ke(Ae,Ae.current&1),t=er(t,e,n),t!==null?t.sibling:null);ke(Ae,Ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Gb(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ke(Ae,Ae.current),r)break;return null;case 22:case 23:return e.lanes=0,$b(t,e,n)}return er(t,e,n)}var qb,yf,Kb,Yb;qb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yf=function(){};Kb=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,uo(wn.current);var i=null;switch(n){case"input":o=Fu(t,o),r=Fu(t,r),i=[];break;case"select":o=De({},o,{value:void 0}),r=De({},r,{value:void 0}),i=[];break;case"textarea":o=$u(t,o),r=$u(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rl)}Hu(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_s.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_s.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Te("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Yb=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ki(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function IT(t,e,n){var r=e.pendingProps;switch(Vh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(e),null;case 1:return It(e.type)&&Dl(),dt(e),null;case 3:return r=e.stateNode,ki(),Ne(jt),Ne(ht),Qh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ua(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nn!==null&&(Cf(nn),nn=null))),yf(t,e),dt(e),null;case 5:Jh(e);var o=uo(Fs.current);if(n=e.type,t!==null&&e.stateNode!=null)Kb(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return dt(e),null}if(t=uo(wn.current),Ua(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[gn]=e,r[Rs]=i,t=(e.mode&1)!==0,n){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(o=0;o<os.length;o++)Te(os[o],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":jm(r,i),Te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Te("invalid",r);break;case"textarea":Pm(r,i),Te("invalid",r)}Hu(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Fa(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Fa(r.textContent,a,t),o=["children",""+a]):_s.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Te("scroll",r)}switch(n){case"input":Pa(r),Im(r,i,!0);break;case"textarea":Pa(r),Lm(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Rl)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ky(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[gn]=e,t[Rs]=r,qb(t,e,!1,!1),e.stateNode=t;e:{switch(s=Wu(n,r),n){case"dialog":Te("cancel",t),Te("close",t),o=r;break;case"iframe":case"object":case"embed":Te("load",t),o=r;break;case"video":case"audio":for(o=0;o<os.length;o++)Te(os[o],t);o=r;break;case"source":Te("error",t),o=r;break;case"img":case"image":case"link":Te("error",t),Te("load",t),o=r;break;case"details":Te("toggle",t),o=r;break;case"input":jm(t,r),o=Fu(t,r),Te("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=De({},r,{value:void 0}),Te("invalid",t);break;case"textarea":Pm(t,r),o=$u(t,r),Te("invalid",t);break;default:o=r}Hu(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Ty(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Sy(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ns(t,l):typeof l=="number"&&Ns(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_s.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Te("scroll",t):l!=null&&Nh(t,i,l,s))}switch(n){case"input":Pa(t),Im(t,r,!1);break;case"textarea":Pa(t),Lm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?li(t,!!r.multiple,i,!1):r.defaultValue!=null&&li(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Rl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dt(e),null;case 6:if(t&&e.stateNode!=null)Yb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=uo(Fs.current),uo(wn.current),Ua(e)){if(r=e.stateNode,n=e.memoizedProps,r[gn]=e,(i=r.nodeValue!==n)&&(t=Rt,t!==null))switch(t.tag){case 3:Fa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fa(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gn]=e,e.stateNode=r}return dt(e),null;case 13:if(Ne(Ae),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&Mt!==null&&e.mode&1&&!(e.flags&128))fb(),xi(),e.flags|=98560,i=!1;else if(i=Ua(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[gn]=e}else xi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dt(e),i=!1}else nn!==null&&(Cf(nn),nn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ae.current&1?Je===0&&(Je=3):dp())),e.updateQueue!==null&&(e.flags|=4),dt(e),null);case 4:return ki(),yf(t,e),t===null&&Os(e.stateNode.containerInfo),dt(e),null;case 10:return qh(e.type._context),dt(e),null;case 17:return It(e.type)&&Dl(),dt(e),null;case 19:if(Ne(Ae),i=e.memoizedState,i===null)return dt(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Ki(i,!1);else{if(Je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Wl(t),s!==null){for(e.flags|=128,Ki(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Ae,Ae.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ve()>Ei&&(e.flags|=128,r=!0,Ki(i,!1),e.lanes=4194304)}else{if(!r)if(t=Wl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ki(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Pe)return dt(e),null}else 2*Ve()-i.renderingStartTime>Ei&&n!==1073741824&&(e.flags|=128,r=!0,Ki(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ve(),e.sibling=null,n=Ae.current,ke(Ae,r?n&1|2:n&1),e):(dt(e),null);case 22:case 23:return cp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Bt&1073741824&&(dt(e),e.subtreeFlags&6&&(e.flags|=8192)):dt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function PT(t,e){switch(Vh(e),e.tag){case 1:return It(e.type)&&Dl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ki(),Ne(jt),Ne(ht),Qh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jh(e),null;case 13:if(Ne(Ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));xi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(Ae),null;case 4:return ki(),null;case 10:return qh(e.type._context),null;case 22:case 23:return cp(),null;case 24:return null;default:return null}}var Va=!1,ft=!1,LT=typeof WeakSet=="function"?WeakSet:Set,q=null;function ti(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(t,e,r)}else n.current=null}function bf(t,e,n){try{n()}catch(r){Ue(t,e,r)}}var wg=!1;function AT(t,e){if(tf=Bl,t=Zy(),zh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,u=t,h=null;t:for(;;){for(var v;u!==n||o!==0&&u.nodeType!==3||(a=s+o),u!==i||r!==0&&u.nodeType!==3||(l=s+r),u.nodeType===3&&(s+=u.nodeValue.length),(v=u.firstChild)!==null;)h=u,u=v;for(;;){if(u===t)break t;if(h===n&&++c===o&&(a=s),h===i&&++d===r&&(l=s),(v=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(nf={focusedElem:t,selectionRange:n},Bl=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,w=g.memoizedState,b=e.stateNode,m=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:en(e.type,y),w);b.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(x){Ue(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return g=wg,wg=!1,g}function ps(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&bf(e,n,i)}o=o.next}while(o!==r)}}function zc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function xf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Xb(t){var e=t.alternate;e!==null&&(t.alternate=null,Xb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gn],delete e[Rs],delete e[sf],delete e[mT],delete e[gT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jb(t){return t.tag===5||t.tag===3||t.tag===4}function kg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rl));else if(r!==4&&(t=t.child,t!==null))for(wf(t,e,n),t=t.sibling;t!==null;)wf(t,e,n),t=t.sibling}function kf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(kf(t,e,n),t=t.sibling;t!==null;)kf(t,e,n),t=t.sibling}var it=null,tn=!1;function cr(t,e,n){for(n=n.child;n!==null;)Qb(t,e,n),n=n.sibling}function Qb(t,e,n){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Ac,n)}catch{}switch(n.tag){case 5:ft||ti(n,e);case 6:var r=it,o=tn;it=null,cr(t,e,n),it=r,tn=o,it!==null&&(tn?(t=it,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(tn?(t=it,n=n.stateNode,t.nodeType===8?$d(t.parentNode,n):t.nodeType===1&&$d(t,n),Ls(t)):$d(it,n.stateNode));break;case 4:r=it,o=tn,it=n.stateNode.containerInfo,tn=!0,cr(t,e,n),it=r,tn=o;break;case 0:case 11:case 14:case 15:if(!ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&bf(n,e,s),o=o.next}while(o!==r)}cr(t,e,n);break;case 1:if(!ft&&(ti(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ue(n,e,a)}cr(t,e,n);break;case 21:cr(t,e,n);break;case 22:n.mode&1?(ft=(r=ft)||n.memoizedState!==null,cr(t,e,n),ft=r):cr(t,e,n);break;default:cr(t,e,n)}}function Sg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LT),e.forEach(function(r){var o=$T.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Zt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:it=a.stateNode,tn=!1;break e;case 3:it=a.stateNode.containerInfo,tn=!0;break e;case 4:it=a.stateNode.containerInfo,tn=!0;break e}a=a.return}if(it===null)throw Error(W(160));Qb(i,s,o),it=null,tn=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){Ue(o,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Zb(e,t),e=e.sibling}function Zb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zt(e,t),fn(t),r&4){try{ps(3,t,t.return),zc(3,t)}catch(y){Ue(t,t.return,y)}try{ps(5,t,t.return)}catch(y){Ue(t,t.return,y)}}break;case 1:Zt(e,t),fn(t),r&512&&n!==null&&ti(n,n.return);break;case 5:if(Zt(e,t),fn(t),r&512&&n!==null&&ti(n,n.return),t.flags&32){var o=t.stateNode;try{Ns(o,"")}catch(y){Ue(t,t.return,y)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&xy(o,i),Wu(a,s);var c=Wu(a,i);for(s=0;s<l.length;s+=2){var d=l[s],u=l[s+1];d==="style"?Ty(o,u):d==="dangerouslySetInnerHTML"?Sy(o,u):d==="children"?Ns(o,u):Nh(o,d,u,c)}switch(a){case"input":Uu(o,i);break;case"textarea":wy(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?li(o,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?li(o,!!i.multiple,i.defaultValue,!0):li(o,!!i.multiple,i.multiple?[]:"",!1))}o[Rs]=i}catch(y){Ue(t,t.return,y)}}break;case 6:if(Zt(e,t),fn(t),r&4){if(t.stateNode===null)throw Error(W(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(y){Ue(t,t.return,y)}}break;case 3:if(Zt(e,t),fn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ls(e.containerInfo)}catch(y){Ue(t,t.return,y)}break;case 4:Zt(e,t),fn(t);break;case 13:Zt(e,t),fn(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(ap=Ve())),r&4&&Sg(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ft=(c=ft)||d,Zt(e,t),ft=c):Zt(e,t),fn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(q=t,d=t.child;d!==null;){for(u=q=d;q!==null;){switch(h=q,v=h.child,h.tag){case 0:case 11:case 14:case 15:ps(4,h,h.return);break;case 1:ti(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Ue(r,n,y)}}break;case 5:ti(h,h.return);break;case 22:if(h.memoizedState!==null){Tg(u);continue}}v!==null?(v.return=h,q=v):Tg(u)}d=d.sibling}e:for(d=null,u=t;;){if(u.tag===5){if(d===null){d=u;try{o=u.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=u.stateNode,l=u.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ey("display",s))}catch(y){Ue(t,t.return,y)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(y){Ue(t,t.return,y)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Zt(e,t),fn(t),r&4&&Sg(t);break;case 21:break;default:Zt(e,t),fn(t)}}function fn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Jb(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ns(o,""),r.flags&=-33);var i=kg(t);kf(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=kg(t);wf(t,a,s);break;default:throw Error(W(161))}}catch(l){Ue(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BT(t,e,n){q=t,ex(t)}function ex(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var o=q,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Va;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||ft;a=Va;var c=ft;if(Va=s,(ft=l)&&!c)for(q=o;q!==null;)s=q,l=s.child,s.tag===22&&s.memoizedState!==null?Cg(o):l!==null?(l.return=s,q=l):Cg(o);for(;i!==null;)q=i,ex(i),i=i.sibling;q=o,Va=a,ft=c}Eg(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,q=i):Eg(t)}}function Eg(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ft||zc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ft)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:en(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ag(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ag(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&Ls(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}ft||e.flags&512&&xf(e)}catch(h){Ue(e,e.return,h)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function Tg(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function Cg(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zc(4,e)}catch(l){Ue(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){Ue(e,o,l)}}var i=e.return;try{xf(e)}catch(l){Ue(e,i,l)}break;case 5:var s=e.return;try{xf(e)}catch(l){Ue(e,s,l)}}}catch(l){Ue(e,e.return,l)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var OT=Math.ceil,Kl=ir.ReactCurrentDispatcher,ip=ir.ReactCurrentOwner,Kt=ir.ReactCurrentBatchConfig,fe=0,nt=null,Ge=null,st=0,Bt=0,ni=Kr(0),Je=0,Vs=null,So=0,$c=0,sp=0,ms=null,Tt=null,ap=0,Ei=1/0,Bn=null,Yl=!1,Sf=null,Ar=null,Ha=!1,Er=null,Xl=0,gs=0,Ef=null,ul=-1,fl=0;function xt(){return fe&6?Ve():ul!==-1?ul:ul=Ve()}function Br(t){return t.mode&1?fe&2&&st!==0?st&-st:yT.transition!==null?(fl===0&&(fl=Ry()),fl):(t=ge,t!==0||(t=window.event,t=t===void 0?16:Hy(t.type)),t):1}function ln(t,e,n,r){if(50<gs)throw gs=0,Ef=null,Error(W(185));ra(t,n,r),(!(fe&2)||t!==nt)&&(t===nt&&(!(fe&2)&&($c|=n),Je===4&&vr(t,st)),Pt(t,r),n===1&&fe===0&&!(e.mode&1)&&(Ei=Ve()+500,Dc&&Yr()))}function Pt(t,e){var n=t.callbackNode;yE(t,e);var r=Al(t,t===nt?st:0);if(r===0)n!==null&&Om(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Om(n),e===1)t.tag===0?vT(_g.bind(null,t)):cb(_g.bind(null,t)),hT(function(){!(fe&6)&&Yr()}),n=null;else{switch(Dy(r)){case 1:n=Ah;break;case 4:n=Oy;break;case 16:n=Ll;break;case 536870912:n=My;break;default:n=Ll}n=lx(n,tx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tx(t,e){if(ul=-1,fl=0,fe&6)throw Error(W(327));var n=t.callbackNode;if(hi()&&t.callbackNode!==n)return null;var r=Al(t,t===nt?st:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jl(t,r);else{e=r;var o=fe;fe|=2;var i=rx();(nt!==t||st!==e)&&(Bn=null,Ei=Ve()+500,mo(t,e));do try{DT();break}catch(a){nx(t,a)}while(1);Gh(),Kl.current=i,fe=o,Ge!==null?e=0:(nt=null,st=0,e=Je)}if(e!==0){if(e===2&&(o=Xu(t),o!==0&&(r=o,e=Tf(t,o))),e===1)throw n=Vs,mo(t,0),vr(t,r),Pt(t,Ve()),n;if(e===6)vr(t,r);else{if(o=t.current.alternate,!(r&30)&&!MT(o)&&(e=Jl(t,r),e===2&&(i=Xu(t),i!==0&&(r=i,e=Tf(t,i))),e===1))throw n=Vs,mo(t,0),vr(t,r),Pt(t,Ve()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:ro(t,Tt,Bn);break;case 3:if(vr(t,r),(r&130023424)===r&&(e=ap+500-Ve(),10<e)){if(Al(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){xt(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=of(ro.bind(null,t,Tt,Bn),e);break}ro(t,Tt,Bn);break;case 4:if(vr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-an(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OT(r/1960))-r,10<r){t.timeoutHandle=of(ro.bind(null,t,Tt,Bn),r);break}ro(t,Tt,Bn);break;case 5:ro(t,Tt,Bn);break;default:throw Error(W(329))}}}return Pt(t,Ve()),t.callbackNode===n?tx.bind(null,t):null}function Tf(t,e){var n=ms;return t.current.memoizedState.isDehydrated&&(mo(t,e).flags|=256),t=Jl(t,e),t!==2&&(e=Tt,Tt=n,e!==null&&Cf(e)),t}function Cf(t){Tt===null?Tt=t:Tt.push.apply(Tt,t)}function MT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!cn(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vr(t,e){for(e&=~sp,e&=~$c,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-an(e),r=1<<n;t[n]=-1,e&=~r}}function _g(t){if(fe&6)throw Error(W(327));hi();var e=Al(t,0);if(!(e&1))return Pt(t,Ve()),null;var n=Jl(t,e);if(t.tag!==0&&n===2){var r=Xu(t);r!==0&&(e=r,n=Tf(t,r))}if(n===1)throw n=Vs,mo(t,0),vr(t,e),Pt(t,Ve()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ro(t,Tt,Bn),Pt(t,Ve()),null}function lp(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(Ei=Ve()+500,Dc&&Yr())}}function Eo(t){Er!==null&&Er.tag===0&&!(fe&6)&&hi();var e=fe;fe|=1;var n=Kt.transition,r=ge;try{if(Kt.transition=null,ge=1,t)return t()}finally{ge=r,Kt.transition=n,fe=e,!(fe&6)&&Yr()}}function cp(){Bt=ni.current,Ne(ni)}function mo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fT(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(Vh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dl();break;case 3:ki(),Ne(jt),Ne(ht),Qh();break;case 5:Jh(r);break;case 4:ki();break;case 13:Ne(Ae);break;case 19:Ne(Ae);break;case 10:qh(r.type._context);break;case 22:case 23:cp()}n=n.return}if(nt=t,Ge=t=Or(t.current,null),st=Bt=e,Je=0,Vs=null,sp=$c=So=0,Tt=ms=null,co!==null){for(e=0;e<co.length;e++)if(n=co[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}co=null}return t}function nx(t,e){do{var n=Ge;try{if(Gh(),ll.current=ql,Gl){for(var r=Re.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Gl=!1}if(ko=0,tt=Xe=Re=null,hs=!1,Us=0,ip.current=null,n===null||n.return===null){Je=1,Vs=e,Ge=null;break}e:{var i=t,s=n.return,a=n,l=e;if(e=st,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=pg(s);if(v!==null){v.flags&=-257,mg(v,s,a,i,e),v.mode&1&&hg(i,c,e),e=v,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){hg(i,c,e),dp();break e}l=Error(W(426))}}else if(Pe&&a.mode&1){var w=pg(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),mg(w,s,a,i,e),Hh(Si(l,a));break e}}i=l=Si(l,a),Je!==4&&(Je=2),ms===null?ms=[i]:ms.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=Fb(i,l,e);sg(i,b);break e;case 1:a=l;var m=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ar===null||!Ar.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Ub(i,a,e);sg(i,x);break e}}i=i.return}while(i!==null)}ix(n)}catch(E){e=E,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(1)}function rx(){var t=Kl.current;return Kl.current=ql,t===null?ql:t}function dp(){(Je===0||Je===3||Je===2)&&(Je=4),nt===null||!(So&268435455)&&!($c&268435455)||vr(nt,st)}function Jl(t,e){var n=fe;fe|=2;var r=rx();(nt!==t||st!==e)&&(Bn=null,mo(t,e));do try{RT();break}catch(o){nx(t,o)}while(1);if(Gh(),fe=n,Kl.current=r,Ge!==null)throw Error(W(261));return nt=null,st=0,Je}function RT(){for(;Ge!==null;)ox(Ge)}function DT(){for(;Ge!==null&&!cE();)ox(Ge)}function ox(t){var e=ax(t.alternate,t,Bt);t.memoizedProps=t.pendingProps,e===null?ix(t):Ge=e,ip.current=null}function ix(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PT(n,e),n!==null){n.flags&=32767,Ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Je=6,Ge=null;return}}else if(n=IT(n,e,Bt),n!==null){Ge=n;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);Je===0&&(Je=5)}function ro(t,e,n){var r=ge,o=Kt.transition;try{Kt.transition=null,ge=1,FT(t,e,n,r)}finally{Kt.transition=o,ge=r}return null}function FT(t,e,n,r){do hi();while(Er!==null);if(fe&6)throw Error(W(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(bE(t,i),t===nt&&(Ge=nt=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ha||(Ha=!0,lx(Ll,function(){return hi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Kt.transition,Kt.transition=null;var s=ge;ge=1;var a=fe;fe|=4,ip.current=null,AT(t,n),Zb(n,t),iT(nf),Bl=!!tf,nf=tf=null,t.current=n,BT(n),dE(),fe=a,ge=s,Kt.transition=i}else t.current=n;if(Ha&&(Ha=!1,Er=t,Xl=o),i=t.pendingLanes,i===0&&(Ar=null),hE(n.stateNode),Pt(t,Ve()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Yl)throw Yl=!1,t=Sf,Sf=null,t;return Xl&1&&t.tag!==0&&hi(),i=t.pendingLanes,i&1?t===Ef?gs++:(gs=0,Ef=t):gs=0,Yr(),null}function hi(){if(Er!==null){var t=Dy(Xl),e=Kt.transition,n=ge;try{if(Kt.transition=null,ge=16>t?16:t,Er===null)var r=!1;else{if(t=Er,Er=null,Xl=0,fe&6)throw Error(W(331));var o=fe;for(fe|=4,q=t.current;q!==null;){var i=q,s=i.child;if(q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(q=c;q!==null;){var d=q;switch(d.tag){case 0:case 11:case 15:ps(8,d,i)}var u=d.child;if(u!==null)u.return=d,q=u;else for(;q!==null;){d=q;var h=d.sibling,v=d.return;if(Xb(d),d===c){q=null;break}if(h!==null){h.return=v,q=h;break}q=v}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}q=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,q=s;else e:for(;q!==null;){if(i=q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ps(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,q=b;break e}q=i.return}}var m=t.current;for(q=m;q!==null;){s=q;var p=s.child;if(s.subtreeFlags&2064&&p!==null)p.return=s,q=p;else e:for(s=m;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zc(9,a)}}catch(E){Ue(a,a.return,E)}if(a===s){q=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,q=x;break e}q=a.return}}if(fe=o,Yr(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Ac,t)}catch{}r=!0}return r}finally{ge=n,Kt.transition=e}}return!1}function Ng(t,e,n){e=Si(n,e),e=Fb(t,e,1),t=Lr(t,e,1),e=xt(),t!==null&&(ra(t,1,e),Pt(t,e))}function Ue(t,e,n){if(t.tag===3)Ng(t,t,n);else for(;e!==null;){if(e.tag===3){Ng(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ar===null||!Ar.has(r))){t=Si(n,t),t=Ub(e,t,1),e=Lr(e,t,1),t=xt(),e!==null&&(ra(e,1,t),Pt(e,t));break}}e=e.return}}function UT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xt(),t.pingedLanes|=t.suspendedLanes&n,nt===t&&(st&n)===n&&(Je===4||Je===3&&(st&130023424)===st&&500>Ve()-ap?mo(t,0):sp|=n),Pt(t,e)}function sx(t,e){e===0&&(t.mode&1?(e=Ba,Ba<<=1,!(Ba&130023424)&&(Ba=4194304)):e=1);var n=xt();t=Zn(t,e),t!==null&&(ra(t,e,n),Pt(t,n))}function zT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sx(t,n)}function $T(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),sx(t,n)}var ax;ax=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jt.current)Ct=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ct=!1,jT(t,e,n);Ct=!!(t.flags&131072)}else Ct=!1,Pe&&e.flags&1048576&&db(e,zl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dl(t,e),t=e.pendingProps;var o=bi(e,ht.current);fi(e,n),o=ep(null,e,r,t,o,n);var i=tp();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,It(r)?(i=!0,Fl(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Yh(e),o.updater=Fc,e.stateNode=o,o._reactInternals=e,ff(e,r,t,n),e=mf(null,e,r,!0,i,n)):(e.tag=0,Pe&&i&&$h(e),yt(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(dl(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=HT(r),t=en(r,t),o){case 0:e=pf(null,e,r,t,n);break e;case 1:e=yg(null,e,r,t,n);break e;case 11:e=gg(null,e,r,t,n);break e;case 14:e=vg(null,e,r,en(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:en(r,o),pf(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:en(r,o),yg(t,e,r,o,n);case 3:e:{if(Hb(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,o=i.element,pb(t,e),Hl(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=Si(Error(W(423)),e),e=bg(t,e,r,n,o);break e}else if(r!==o){o=Si(Error(W(424)),e),e=bg(t,e,r,n,o);break e}else for(Mt=Pr(e.stateNode.containerInfo.firstChild),Rt=e,Pe=!0,nn=null,n=yb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xi(),r===o){e=er(t,e,n);break e}yt(t,e,r,n)}e=e.child}return e;case 5:return bb(e),t===null&&cf(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,rf(r,o)?s=null:i!==null&&rf(r,i)&&(e.flags|=32),Vb(t,e),yt(t,e,s,n),e.child;case 6:return t===null&&cf(e),null;case 13:return Wb(t,e,n);case 4:return Xh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wi(e,null,r,n):yt(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:en(r,o),gg(t,e,r,o,n);case 7:return yt(t,e,e.pendingProps,n),e.child;case 8:return yt(t,e,e.pendingProps.children,n),e.child;case 12:return yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,ke($l,r._currentValue),r._currentValue=s,i!==null)if(cn(i.value,s)){if(i.children===o.children&&!jt.current){e=er(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Gn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),df(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(W(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),df(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}yt(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,fi(e,n),o=Jt(o),r=r(o),e.flags|=1,yt(t,e,r,n),e.child;case 14:return r=e.type,o=en(r,e.pendingProps),o=en(r.type,o),vg(t,e,r,o,n);case 15:return zb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:en(r,o),dl(t,e),e.tag=1,It(r)?(t=!0,Fl(e)):t=!1,fi(e,n),gb(e,r,o),ff(e,r,o,n),mf(null,e,r,!0,t,n);case 19:return Gb(t,e,n);case 22:return $b(t,e,n)}throw Error(W(156,e.tag))};function lx(t,e){return By(t,e)}function VT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(t,e,n,r){return new VT(t,e,n,r)}function up(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HT(t){if(typeof t=="function")return up(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ih)return 11;if(t===Ph)return 14}return 2}function Or(t,e){var n=t.alternate;return n===null?(n=qt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hl(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")up(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Go:return go(n.children,o,i,e);case jh:s=8,o|=8;break;case Ou:return t=qt(12,n,e,o|2),t.elementType=Ou,t.lanes=i,t;case Mu:return t=qt(13,n,e,o),t.elementType=Mu,t.lanes=i,t;case Ru:return t=qt(19,n,e,o),t.elementType=Ru,t.lanes=i,t;case vy:return Vc(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case my:s=10;break e;case gy:s=9;break e;case Ih:s=11;break e;case Ph:s=14;break e;case hr:s=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=qt(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function go(t,e,n,r){return t=qt(7,t,r,e),t.lanes=n,t}function Vc(t,e,n,r){return t=qt(22,t,r,e),t.elementType=vy,t.lanes=n,t.stateNode={isHidden:!1},t}function Xd(t,e,n){return t=qt(6,t,null,e),t.lanes=n,t}function Jd(t,e,n){return e=qt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WT(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pd(0),this.expirationTimes=Pd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pd(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function fp(t,e,n,r,o,i,s,a,l){return t=new WT(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=qt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yh(i),t}function GT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cx(t){if(!t)return $r;t=t._reactInternals;e:{if(Bo(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(It(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(It(n))return lb(t,n,e)}return e}function dx(t,e,n,r,o,i,s,a,l){return t=fp(n,r,!0,t,o,i,s,a,l),t.context=cx(null),n=t.current,r=xt(),o=Br(n),i=Gn(r,o),i.callback=e??null,Lr(n,i,o),t.current.lanes=o,ra(t,o,r),Pt(t,r),t}function Hc(t,e,n,r){var o=e.current,i=xt(),s=Br(o);return n=cx(n),e.context===null?e.context=n:e.pendingContext=n,e=Gn(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Lr(o,e,s),t!==null&&(ln(t,o,s,i),al(t,o,s)),s}function Ql(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hp(t,e){jg(t,e),(t=t.alternate)&&jg(t,e)}function qT(){return null}var ux=typeof reportError=="function"?reportError:function(t){console.error(t)};function pp(t){this._internalRoot=t}Wc.prototype.render=pp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Hc(t,e,null,null)};Wc.prototype.unmount=pp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Eo(function(){Hc(null,t,null,null)}),e[Qn]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var e=zy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gr.length&&e!==0&&e<gr[n].priority;n++);gr.splice(n,0,t),n===0&&Vy(t)}};function mp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ig(){}function KT(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=Ql(s);i.call(c)}}var s=dx(e,r,t,0,null,!1,!1,"",Ig);return t._reactRootContainer=s,t[Qn]=s.current,Os(t.nodeType===8?t.parentNode:t),Eo(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=Ql(l);a.call(c)}}var l=fp(t,0,!1,null,null,!1,!1,"",Ig);return t._reactRootContainer=l,t[Qn]=l.current,Os(t.nodeType===8?t.parentNode:t),Eo(function(){Hc(e,l,n,r)}),l}function qc(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=Ql(s);a.call(l)}}Hc(e,s,t,o)}else s=KT(n,e,t,o,r);return Ql(s)}Fy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rs(e.pendingLanes);n!==0&&(Bh(e,n|1),Pt(e,Ve()),!(fe&6)&&(Ei=Ve()+500,Yr()))}break;case 13:Eo(function(){var r=Zn(t,1);if(r!==null){var o=xt();ln(r,t,1,o)}}),hp(t,1)}};Oh=function(t){if(t.tag===13){var e=Zn(t,134217728);if(e!==null){var n=xt();ln(e,t,134217728,n)}hp(t,134217728)}};Uy=function(t){if(t.tag===13){var e=Br(t),n=Zn(t,e);if(n!==null){var r=xt();ln(n,t,e,r)}hp(t,e)}};zy=function(){return ge};$y=function(t,e){var n=ge;try{return ge=t,e()}finally{ge=n}};qu=function(t,e,n){switch(e){case"input":if(Uu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=Rc(r);if(!o)throw Error(W(90));by(r),Uu(r,o)}}}break;case"textarea":wy(t,n);break;case"select":e=n.value,e!=null&&li(t,!!n.multiple,e,!1)}};Ny=lp;jy=Eo;var YT={usingClientEntryPoint:!1,Events:[ia,Xo,Rc,Cy,_y,lp]},Yi={findFiberByHostInstance:lo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},XT={bundleType:Yi.bundleType,version:Yi.version,rendererPackageName:Yi.rendererPackageName,rendererConfig:Yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ly(t),t===null?null:t.stateNode},findFiberByHostInstance:Yi.findFiberByHostInstance||qT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wa.isDisabled&&Wa.supportsFiber)try{Ac=Wa.inject(XT),xn=Wa}catch{}}Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YT;Ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mp(e))throw Error(W(200));return GT(t,e,null,n)};Ut.createRoot=function(t,e){if(!mp(t))throw Error(W(299));var n=!1,r="",o=ux;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=fp(t,1,!1,null,null,n,!1,r,o),t[Qn]=e.current,Os(t.nodeType===8?t.parentNode:t),new pp(e)};Ut.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=Ly(e),t=t===null?null:t.stateNode,t};Ut.flushSync=function(t){return Eo(t)};Ut.hydrate=function(t,e,n){if(!Gc(e))throw Error(W(200));return qc(null,t,e,!0,n)};Ut.hydrateRoot=function(t,e,n){if(!mp(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=ux;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=dx(e,null,t,1,n??null,o,!1,i,s),t[Qn]=e.current,Os(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Wc(e)};Ut.render=function(t,e,n){if(!Gc(e))throw Error(W(200));return qc(null,t,e,!1,n)};Ut.unmountComponentAtNode=function(t){if(!Gc(t))throw Error(W(40));return t._reactRootContainer?(Eo(function(){qc(null,null,t,!1,function(){t._reactRootContainer=null,t[Qn]=null})}),!0):!1};Ut.unstable_batchedUpdates=lp;Ut.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gc(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return qc(t,e,n,!1,r)};Ut.version="18.2.0-next-9e3b772b8-20220608";function fx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fx)}catch(t){console.error(t)}}fx(),dy.exports=Ut;var JT=dy.exports,Pg=JT;Au.createRoot=Pg.createRoot,Au.hydrateRoot=Pg.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hs(){return Hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hs.apply(this,arguments)}var Tr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Tr||(Tr={}));const Lg="popstate";function QT(t){t===void 0&&(t={});function e(r,o){let{pathname:i,search:s,hash:a}=r.location;return _f("",{pathname:i,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Zl(o)}return eC(e,n,null,t)}function He(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZT(){return Math.random().toString(36).substr(2,8)}function Ag(t,e){return{usr:t.state,key:t.key,idx:e}}function _f(t,e,n,r){return n===void 0&&(n=null),Hs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Oi(e):e,{state:n,key:e&&e.key||r||ZT()})}function Zl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Oi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eC(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a=Tr.Pop,l=null,c=d();c==null&&(c=0,s.replaceState(Hs({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function u(){a=Tr.Pop;let w=d(),b=w==null?null:w-c;c=w,l&&l({action:a,location:y.location,delta:b})}function h(w,b){a=Tr.Push;let m=_f(y.location,w,b);n&&n(m,w),c=d()+1;let p=Ag(m,c),x=y.createHref(m);try{s.pushState(p,"",x)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;o.location.assign(x)}i&&l&&l({action:a,location:y.location,delta:1})}function v(w,b){a=Tr.Replace;let m=_f(y.location,w,b);n&&n(m,w),c=d();let p=Ag(m,c),x=y.createHref(m);s.replaceState(p,"",x),i&&l&&l({action:a,location:y.location,delta:0})}function g(w){let b=o.location.origin!=="null"?o.location.origin:o.location.href,m=typeof w=="string"?w:Zl(w);return He(b,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,b)}let y={get action(){return a},get location(){return t(o,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(Lg,u),l=w,()=>{o.removeEventListener(Lg,u),l=null}},createHref(w){return e(o,w)},createURL:g,encodeLocation(w){let b=g(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:v,go(w){return s.go(w)}};return y}var Bg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Bg||(Bg={}));function tC(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Oi(e):e,o=vp(r.pathname||"/",n);if(o==null)return null;let i=hx(t);nC(i);let s=null;for(let a=0;s==null&&a<i.length;++a)s=uC(i[a],pC(o));return s}function hx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,s,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(He(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Mr([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(He(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),hx(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:cC(c,i.index),routesMeta:d})};return t.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let l of px(i.path))o(i,s,l)}),e}function px(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=px(r.join("/")),a=[];return a.push(...s.map(l=>l===""?i:[i,l].join("/"))),o&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function nC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rC=/^:\w+$/,oC=3,iC=2,sC=1,aC=10,lC=-2,Og=t=>t==="*";function cC(t,e){let n=t.split("/"),r=n.length;return n.some(Og)&&(r+=lC),e&&(r+=iC),n.filter(o=>!Og(o)).reduce((o,i)=>o+(rC.test(i)?oC:i===""?sC:aC),r)}function dC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function uC(t,e){let{routesMeta:n}=t,r={},o="/",i=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,c=o==="/"?e:e.slice(o.length)||"/",d=fC({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let u=a.route;i.push({params:r,pathname:Mr([o,d.pathname]),pathnameBase:yC(Mr([o,d.pathnameBase])),route:u}),d.pathnameBase!=="/"&&(o=Mr([o,d.pathnameBase]))}return i}function fC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hC(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,d,u)=>{if(d==="*"){let h=a[u]||"";s=i.slice(0,i.length-h.length).replace(/(.)\/+$/,"$1")}return c[d]=mC(a[u]||"",d),c},{}),pathname:i,pathnameBase:s,pattern:t}}function hC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),gp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function pC(t){try{return decodeURI(t)}catch(e){return gp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mC(t,e){try{return decodeURIComponent(t)}catch(n){return gp(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function vp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Oi(t):t;return{pathname:n?n.startsWith("/")?n:vC(n,e):e,search:bC(r),hash:xC(o)}}function vC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Qd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yp(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bp(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=Oi(t):(o=Hs({},t),He(!o.pathname||!o.pathname.includes("?"),Qd("?","pathname","search",o)),He(!o.pathname||!o.pathname.includes("#"),Qd("#","pathname","hash",o)),He(!o.search||!o.search.includes("#"),Qd("#","search","hash",o)));let i=t===""||o.pathname==="",s=i?"/":o.pathname,a;if(r||s==null)a=n;else{let u=e.length-1;if(s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),u-=1;o.pathname=h.join("/")}a=u>=0?e[u]:"/"}let l=gC(o,a),c=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Mr=t=>t.join("/").replace(/\/\/+/g,"/"),yC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mx=["post","put","patch","delete"];new Set(mx);const kC=["get",...mx];new Set(kC);/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ec(){return ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ec.apply(this,arguments)}const xp=_.createContext(null),gx=_.createContext(null),Oo=_.createContext(null),Kc=_.createContext(null),_n=_.createContext({outlet:null,matches:[],isDataRoute:!1}),vx=_.createContext(null);function SC(t,e){let{relative:n}=e===void 0?{}:e;Mi()||He(!1);let{basename:r,navigator:o}=_.useContext(Oo),{hash:i,pathname:s,search:a}=wp(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Mr([r,s])),o.createHref({pathname:l,search:a,hash:i})}function Mi(){return _.useContext(Kc)!=null}function Xr(){return Mi()||He(!1),_.useContext(Kc).location}function yx(t){_.useContext(Oo).static||_.useLayoutEffect(t)}function Nn(){let{isDataRoute:t}=_.useContext(_n);return t?DC():EC()}function EC(){Mi()||He(!1);let t=_.useContext(xp),{basename:e,navigator:n}=_.useContext(Oo),{matches:r}=_.useContext(_n),{pathname:o}=Xr(),i=JSON.stringify(yp(r).map(l=>l.pathnameBase)),s=_.useRef(!1);return yx(()=>{s.current=!0}),_.useCallback(function(l,c){if(c===void 0&&(c={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let d=bp(l,JSON.parse(i),o,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Mr([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,i,o,t])}const TC=_.createContext(null);function CC(t){let e=_.useContext(_n).outlet;return e&&_.createElement(TC.Provider,{value:t},e)}function Mo(){let{matches:t}=_.useContext(_n),e=t[t.length-1];return e?e.params:{}}function wp(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=_.useContext(_n),{pathname:o}=Xr(),i=JSON.stringify(yp(r).map(s=>s.pathnameBase));return _.useMemo(()=>bp(t,JSON.parse(i),o,n==="path"),[t,i,o,n])}function _C(t,e){return NC(t,e)}function NC(t,e,n){Mi()||He(!1);let{navigator:r}=_.useContext(Oo),{matches:o}=_.useContext(_n),i=o[o.length-1],s=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=Xr(),c;if(e){var d;let y=typeof e=="string"?Oi(e):e;a==="/"||(d=y.pathname)!=null&&d.startsWith(a)||He(!1),c=y}else c=l;let u=c.pathname||"/",h=a==="/"?u:u.slice(a.length)||"/",v=tC(t,{pathname:h}),g=AC(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Mr([a,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:Mr([a,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n);return e&&g?_.createElement(Kc.Provider,{value:{location:ec({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Tr.Pop}},g):g}function jC(){let t=RC(),e=wC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:o},n):null,i)}const IC=_.createElement(jC,null);class PC extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?_.createElement(_n.Provider,{value:this.props.routeContext},_.createElement(vx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LC(t){let{routeContext:e,match:n,children:r}=t,o=_.useContext(xp);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(_n.Provider,{value:e},r)}function AC(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let i=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=i.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||He(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,c)=>{let d=l.route.id?s==null?void 0:s[l.route.id]:null,u=null;n&&(u=l.route.errorElement||IC);let h=e.concat(i.slice(0,c+1)),v=()=>{let g;return d?g=u:l.route.Component?g=_.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,_.createElement(LC,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?_.createElement(PC,{location:n.location,revalidation:n.revalidation,component:u,error:d,children:v(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):v()},null)}var Nf;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Nf||(Nf={}));var Ws;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Ws||(Ws={}));function BC(t){let e=_.useContext(xp);return e||He(!1),e}function OC(t){let e=_.useContext(gx);return e||He(!1),e}function MC(t){let e=_.useContext(_n);return e||He(!1),e}function bx(t){let e=MC(),n=e.matches[e.matches.length-1];return n.route.id||He(!1),n.route.id}function RC(){var t;let e=_.useContext(vx),n=OC(Ws.UseRouteError),r=bx(Ws.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function DC(){let{router:t}=BC(Nf.UseNavigateStable),e=bx(Ws.UseNavigateStable),n=_.useRef(!1);return yx(()=>{n.current=!0}),_.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,ec({fromRouteId:e},i)))},[t,e])}function kp(t){let{to:e,replace:n,state:r,relative:o}=t;Mi()||He(!1);let{matches:i}=_.useContext(_n),{pathname:s}=Xr(),a=Nn(),l=bp(e,yp(i).map(d=>d.pathnameBase),s,o==="path"),c=JSON.stringify(l);return _.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:o}),[a,c,o,n,r]),null}function xx(t){return CC(t.context)}function Ce(t){He(!1)}function FC(t){let{basename:e="/",children:n=null,location:r,navigationType:o=Tr.Pop,navigator:i,static:s=!1}=t;Mi()&&He(!1);let a=e.replace(/^\/*/,"/"),l=_.useMemo(()=>({basename:a,navigator:i,static:s}),[a,i,s]);typeof r=="string"&&(r=Oi(r));let{pathname:c="/",search:d="",hash:u="",state:h=null,key:v="default"}=r,g=_.useMemo(()=>{let y=vp(c,a);return y==null?null:{location:{pathname:y,search:d,hash:u,state:h,key:v},navigationType:o}},[a,c,d,u,h,v,o]);return g==null?null:_.createElement(Oo.Provider,{value:l},_.createElement(Kc.Provider,{children:n,value:g}))}function UC(t){let{children:e,location:n}=t;return _C(jf(e),n)}var Mg;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Mg||(Mg={}));new Promise(()=>{});function jf(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,o)=>{if(!_.isValidElement(r))return;let i=[...e,o];if(r.type===_.Fragment){n.push.apply(n,jf(r.props.children,i));return}r.type!==Ce&&He(!1),!r.props.index||!r.props.children||He(!1);let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=jf(r.props.children,i)),n.push(s)}),n}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tc.apply(this,arguments)}function wx(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function zC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $C(t,e){return t.button===0&&(!e||e==="_self")&&!zC(t)}function If(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function VC(t,e){let n=If(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(o=>{n.append(r,o)});return n}const HC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],WC=["aria-current","caseSensitive","className","end","style","to","children"],GC="startTransition",Rg=zS[GC];function qC(t){let{basename:e,children:n,future:r,window:o}=t,i=_.useRef();i.current==null&&(i.current=QT({window:o,v5Compat:!0}));let s=i.current,[a,l]=_.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=_.useCallback(u=>{c&&Rg?Rg(()=>l(u)):l(u)},[l,c]);return _.useLayoutEffect(()=>s.listen(d),[s,d]),_.createElement(FC,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s})}const KC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ee=_.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:i,replace:s,state:a,target:l,to:c,preventScrollReset:d}=e,u=wx(e,HC),{basename:h}=_.useContext(Oo),v,g=!1;if(typeof c=="string"&&YC.test(c)&&(v=c,KC))try{let m=new URL(window.location.href),p=c.startsWith("//")?new URL(m.protocol+c):new URL(c),x=vp(p.pathname,h);p.origin===m.origin&&x!=null?c=x+p.search+p.hash:g=!0}catch{}let y=SC(c,{relative:o}),w=XC(c,{replace:s,state:a,target:l,preventScrollReset:d,relative:o});function b(m){r&&r(m),m.defaultPrevented||w(m)}return _.createElement("a",tc({},u,{href:v||y,onClick:g||i?r:b,ref:n,target:l}))}),Xi=_.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:o=!1,className:i="",end:s=!1,style:a,to:l,children:c}=e,d=wx(e,WC),u=wp(l,{relative:d.relative}),h=Xr(),v=_.useContext(gx),{navigator:g}=_.useContext(Oo),y=g.encodeLocation?g.encodeLocation(u).pathname:u.pathname,w=h.pathname,b=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;o||(w=w.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase());let m=w===y||!s&&w.startsWith(y)&&w.charAt(y.length)==="/",p=b!=null&&(b===y||!s&&b.startsWith(y)&&b.charAt(y.length)==="/"),x=m?r:void 0,E;typeof i=="function"?E=i({isActive:m,isPending:p}):E=[i,m?"active":null,p?"pending":null].filter(Boolean).join(" ");let N=typeof a=="function"?a({isActive:m,isPending:p}):a;return _.createElement(ee,tc({},d,{"aria-current":x,className:E,ref:n,style:N,to:l}),typeof c=="function"?c({isActive:m,isPending:p}):c)});var Dg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(Dg||(Dg={}));var Fg;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Fg||(Fg={}));function XC(t,e){let{target:n,replace:r,state:o,preventScrollReset:i,relative:s}=e===void 0?{}:e,a=Nn(),l=Xr(),c=wp(t,{relative:s});return _.useCallback(d=>{if($C(d,n)){d.preventDefault();let u=r!==void 0?r:Zl(l)===Zl(c);a(t,{replace:u,state:o,preventScrollReset:i,relative:s})}},[l,a,c,r,o,n,t,i,s])}function Sp(t){let e=_.useRef(If(t)),n=_.useRef(!1),r=Xr(),o=_.useMemo(()=>VC(r.search,n.current?null:e.current),[r.search]),i=Nn(),s=_.useCallback((a,l)=>{const c=If(typeof a=="function"?a(o):a);n.current=!0,i("?"+c,l)},[i,o]);return[o,s]}const kx=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Yc=_.createContext({}),Xc=_.createContext(null),Jc=typeof document<"u",Ep=Jc?_.useLayoutEffect:_.useEffect,Sx=_.createContext({strict:!1}),Tp=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),JC="framerAppearId",Ex="data-"+Tp(JC);function QC(t,e,n,r){const{visualElement:o}=_.useContext(Yc),i=_.useContext(Sx),s=_.useContext(Xc),a=_.useContext(kx).reducedMotion,l=_.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;_.useInsertionEffect(()=>{c&&c.update(n,s)});const d=_.useRef(!!(n[Ex]&&!window.HandoffComplete));return Ep(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),_.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function ri(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ZC(t,e,n){return _.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ri(n)&&(n.current=r))},[e])}function Gs(t){return typeof t=="string"||Array.isArray(t)}function Qc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Cp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_p=["initial",...Cp];function Zc(t){return Qc(t.animate)||_p.some(e=>Gs(t[e]))}function Tx(t){return!!(Zc(t)||t.variants)}function e_(t,e){if(Zc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Gs(n)?n:void 0,animate:Gs(r)?r:void 0}}return t.inherit!==!1?e:{}}function t_(t){const{initial:e,animate:n}=e_(t,_.useContext(Yc));return _.useMemo(()=>({initial:e,animate:n}),[Ug(e),Ug(n)])}function Ug(t){return Array.isArray(t)?t.join(" "):t}const zg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qs={};for(const t in zg)qs[t]={isEnabled:e=>zg[t].some(n=>!!e[n])};function n_(t){for(const e in t)qs[e]={...qs[e],...t[e]}}const Np=_.createContext({}),Cx=_.createContext({}),r_=Symbol.for("motionComponentSymbol");function o_({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&n_(t);function i(a,l){let c;const d={..._.useContext(kx),...a,layoutId:i_(a)},{isStatic:u}=d,h=t_(a),v=r(a,u);if(!u&&Jc){h.visualElement=QC(o,v,d,e);const g=_.useContext(Cx),y=_.useContext(Sx).strict;h.visualElement&&(c=h.visualElement.loadFeatures(d,y,t,g))}return _.createElement(Yc.Provider,{value:h},c&&h.visualElement?_.createElement(c,{visualElement:h.visualElement,...d}):null,n(o,a,ZC(v,h.visualElement,l),v,u,h.visualElement))}const s=_.forwardRef(i);return s[r_]=o,s}function i_({layoutId:t}){const e=_.useContext(Np).id;return e&&t!==void 0?e+"-"+t:t}function s_(t){function e(r,o={}){return o_(t(r,o))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,o)=>(n.has(o)||n.set(o,e(o)),n.get(o))})}const a_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jp(t){return typeof t!="string"||t.includes("-")?!1:!!(a_.indexOf(t)>-1||/[A-Z]/.test(t))}const nc={};function l_(t){Object.assign(nc,t)}const aa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ro=new Set(aa);function _x(t,{layout:e,layoutId:n}){return Ro.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!nc[t]||t==="opacity")}const Lt=t=>!!(t&&t.getVelocity),c_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},d_=aa.length;function u_(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<d_;s++){const a=aa[s];if(t[a]!==void 0){const l=c_[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(t,r?"":i):n&&r&&(i="none"),i}const Nx=t=>e=>typeof e=="string"&&e.startsWith(t),jx=Nx("--"),Pf=Nx("var(--"),f_=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,h_=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Vr=(t,e,n)=>Math.min(Math.max(n,t),e),Do={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vs={...Do,transform:t=>Vr(0,1,t)},Ga={...Do,default:1},ys=t=>Math.round(t*1e5)/1e5,ed=/(-)?([\d]*\.?[\d])+/g,Ix=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,p_=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function la(t){return typeof t=="string"}const ca=t=>({test:e=>la(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),fr=ca("deg"),kn=ca("%"),Z=ca("px"),m_=ca("vh"),g_=ca("vw"),$g={...kn,parse:t=>kn.parse(t)/100,transform:t=>kn.transform(t*100)},Vg={...Do,transform:Math.round},Px={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,size:Z,top:Z,right:Z,bottom:Z,left:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,rotate:fr,rotateX:fr,rotateY:fr,rotateZ:fr,scale:Ga,scaleX:Ga,scaleY:Ga,scaleZ:Ga,skew:fr,skewX:fr,skewY:fr,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:vs,originX:$g,originY:$g,originZ:Z,zIndex:Vg,fillOpacity:vs,strokeOpacity:vs,numOctaves:Vg};function Ip(t,e,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=t;let l=!1,c=!1,d=!0;for(const u in e){const h=e[u];if(jx(u)){i[u]=h;continue}const v=Px[u],g=h_(h,v);if(Ro.has(u)){if(l=!0,s[u]=g,!d)continue;h!==(v.default||0)&&(d=!1)}else u.startsWith("origin")?(c=!0,a[u]=g):o[u]=g}if(e.transform||(l||r?o.transform=u_(t.transform,n,d,r):o.transform&&(o.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:v=0}=a;o.transformOrigin=`${u} ${h} ${v}`}}const Pp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Lx(t,e,n){for(const r in e)!Lt(e[r])&&!_x(r,n)&&(t[r]=e[r])}function v_({transformTemplate:t},e,n){return _.useMemo(()=>{const r=Pp();return Ip(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function y_(t,e,n){const r=t.style||{},o={};return Lx(o,r,t),Object.assign(o,v_(t,e,n)),t.transformValues?t.transformValues(o):o}function b_(t,e,n){const r={},o=y_(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=o,r}const x_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||x_.has(t)}let Ax=t=>!rc(t);function w_(t){t&&(Ax=e=>e.startsWith("on")?!rc(e):t(e))}try{w_(require("@emotion/is-prop-valid").default)}catch{}function k_(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(Ax(o)||n===!0&&rc(o)||!e&&!rc(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function Hg(t,e,n){return typeof t=="string"?t:Z.transform(e+n*t)}function S_(t,e,n){const r=Hg(e,t.x,t.width),o=Hg(n,t.y,t.height);return`${r} ${o}`}const E_={offset:"stroke-dashoffset",array:"stroke-dasharray"},T_={offset:"strokeDashoffset",array:"strokeDasharray"};function C_(t,e,n=1,r=0,o=!0){t.pathLength=1;const i=o?E_:T_;t[i.offset]=Z.transform(-r);const s=Z.transform(e),a=Z.transform(n);t[i.array]=`${s} ${a}`}function Lp(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},d,u,h){if(Ip(t,c,d,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:g,dimensions:y}=t;v.transform&&(y&&(g.transform=v.transform),delete v.transform),y&&(o!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=S_(y,o!==void 0?o:.5,i!==void 0?i:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),s!==void 0&&C_(v,s,a,l,!1)}const Bx=()=>({...Pp(),attrs:{}}),Ap=t=>typeof t=="string"&&t.toLowerCase()==="svg";function __(t,e,n,r){const o=_.useMemo(()=>{const i=Bx();return Lp(i,e,{enableHardwareAcceleration:!1},Ap(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Lx(i,t.style,t),o.style={...i,...o.style}}return o}function N_(t=!1){return(n,r,o,{latestValues:i},s)=>{const l=(jp(n)?__:b_)(r,i,s,n),d={...k_(r,typeof n=="string",t),...l,ref:o},{children:u}=r,h=_.useMemo(()=>Lt(u)?u.get():u,[u]);return _.createElement(n,{...d,children:h})}}function Ox(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const Mx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Rx(t,e,n,r){Ox(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(Mx.has(o)?o:Tp(o),e.attrs[o])}function Bp(t,e){const{style:n}=t,r={};for(const o in n)(Lt(n[o])||e.style&&Lt(e.style[o])||_x(o,t))&&(r[o]=n[o]);return r}function Dx(t,e){const n=Bp(t,e);for(const r in t)if(Lt(t[r])||Lt(e[r])){const o=aa.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=t[r]}return n}function Op(t,e,n,r={},o={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),e}function Fx(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const oc=t=>Array.isArray(t),j_=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),I_=t=>oc(t)?t[t.length-1]||0:t;function pl(t){const e=Lt(t)?t.get():t;return j_(e)?e.toValue():e}function P_({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,o,i){const s={latestValues:L_(r,o,i,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const Ux=t=>(e,n)=>{const r=_.useContext(Yc),o=_.useContext(Xc),i=()=>P_(t,e,r,o);return n?i():Fx(i)};function L_(t,e,n,r){const o={},i=r(t,{});for(const h in i)o[h]=pl(i[h]);let{initial:s,animate:a}=t;const l=Zc(t),c=Tx(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const u=d?a:s;return u&&typeof u!="boolean"&&!Qc(u)&&(Array.isArray(u)?u:[u]).forEach(v=>{const g=Op(t,v);if(!g)return;const{transitionEnd:y,transition:w,...b}=g;for(const m in b){let p=b[m];if(Array.isArray(p)){const x=d?p.length-1:0;p=p[x]}p!==null&&(o[m]=p)}for(const m in y)o[m]=y[m]}),o}const ze=t=>t;class Wg{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function A_(t){let e=new Wg,n=new Wg,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const u=d&&o,h=u?e:n;return c&&s.add(l),h.add(l)&&u&&o&&(r=e.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(o){i=!0;return}if(o=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const d=e.order[c];d(l),s.has(d)&&(a.schedule(d),t())}o=!1,i&&(i=!1,a.process(l))}};return a}const qa=["prepare","read","update","preRender","render","postRender"],B_=40;function O_(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=qa.reduce((u,h)=>(u[h]=A_(()=>n=!0),u),{}),s=u=>i[u].process(o),a=()=>{const u=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(u-o.timestamp,B_),1),o.timestamp=u,o.isProcessing=!0,qa.forEach(s),o.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,o.isProcessing||t(a)};return{schedule:qa.reduce((u,h)=>{const v=i[h];return u[h]=(g,y=!1,w=!1)=>(n||l(),v.schedule(g,y,w)),u},{}),cancel:u=>qa.forEach(h=>i[h].cancel(u)),state:o,steps:i}}const{schedule:Se,cancel:tr,state:ut,steps:Zd}=O_(typeof requestAnimationFrame<"u"?requestAnimationFrame:ze,!0),M_={useVisualState:Ux({scrapeMotionValuesFromProps:Dx,createRenderState:Bx,onMount:(t,e,{renderState:n,latestValues:r})=>{Se.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Se.render(()=>{Lp(n,r,{enableHardwareAcceleration:!1},Ap(e.tagName),t.transformTemplate),Rx(e,n)})}})},R_={useVisualState:Ux({scrapeMotionValuesFromProps:Bp,createRenderState:Pp})};function D_(t,{forwardMotionProps:e=!1},n,r){return{...jp(t)?M_:R_,preloadedFeatures:n,useRender:N_(e),createVisualElement:r,Component:t}}function Un(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const zx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function td(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const F_=t=>e=>zx(e)&&t(e,td(e));function qn(t,e,n,r){return Un(t,e,F_(n),r)}const U_=(t,e)=>n=>e(t(n)),Rr=(...t)=>t.reduce(U_);function $x(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Gg=$x("dragHorizontal"),qg=$x("dragVertical");function Vx(t){let e=!1;if(t==="y")e=qg();else if(t==="x")e=Gg();else{const n=Gg(),r=qg();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function Hx(){const t=Vx(!0);return t?(t(),!1):!0}class Jr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Kg(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),o=(i,s)=>{if(i.pointerType==="touch"||Hx())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Se.update(()=>a[r](i,s))};return qn(t.current,n,o,{passive:!t.getProps()[r]})}class z_ extends Jr{mount(){this.unmount=Rr(Kg(this.node,!0),Kg(this.node,!1))}unmount(){}}class $_ extends Jr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rr(Un(this.node.current,"focus",()=>this.onFocus()),Un(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Wx=(t,e)=>e?t===e?!0:Wx(t,e.parentElement):!1;function eu(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,td(n))}class V_ extends Jr{constructor(){super(...arguments),this.removeStartListeners=ze,this.removeEndListeners=ze,this.removeAccessibleListeners=ze,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=qn(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:u}=this.node.getProps();Se.update(()=>{!u&&!Wx(this.node.current,a.target)?d&&d(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=qn(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Rr(i,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||eu("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&Se.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Un(this.node.current,"keyup",s),eu("down",(a,l)=>{this.startPress(a,l)})},n=Un(this.node.current,"keydown",e),r=()=>{this.isPressing&&eu("cancel",(i,s)=>this.cancelPress(i,s))},o=Un(this.node.current,"blur",r);this.removeAccessibleListeners=Rr(n,o)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Se.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Hx()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Se.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=qn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Un(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Rr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Lf=new WeakMap,tu=new WeakMap,H_=t=>{const e=Lf.get(t.target);e&&e(t)},W_=t=>{t.forEach(H_)};function G_({root:t,...e}){const n=t||document;tu.has(n)||tu.set(n,{});const r=tu.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(W_,{root:t,...e})),r[o]}function q_(t,e,n){const r=G_(e);return Lf.set(t,n),r.observe(t),()=>{Lf.delete(t),r.unobserve(t)}}const K_={some:0,all:1};class Y_ extends Jr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:K_[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:u}=this.node.getProps(),h=c?d:u;h&&h(l)};return q_(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(X_(e,n))&&this.startObserver()}unmount(){}}function X_({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const J_={inView:{Feature:Y_},tap:{Feature:V_},focus:{Feature:$_},hover:{Feature:z_}};function Gx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Q_(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function Z_(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function nd(t,e,n){const r=t.getProps();return Op(r,e,n!==void 0?n:r.custom,Q_(t),Z_(t))}let e2=ze,Mp=ze;const Dr=t=>t*1e3,Kn=t=>t/1e3,t2={current:!1},qx=t=>Array.isArray(t)&&typeof t[0]=="number";function Kx(t){return!!(!t||typeof t=="string"&&Yx[t]||qx(t)||Array.isArray(t)&&t.every(Kx))}const is=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Yx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:is([0,.65,.55,1]),circOut:is([.55,0,1,.45]),backIn:is([.31,.01,.66,-.59]),backOut:is([.33,1.53,.69,.99])};function Xx(t){if(t)return qx(t)?is(t):Array.isArray(t)?t.map(Xx):Yx[t]}function n2(t,e,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=Xx(a);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function r2(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const Jx=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,o2=1e-7,i2=12;function s2(t,e,n,r,o){let i,s,a=0;do s=e+(n-e)/2,i=Jx(s,r,o)-t,i>0?n=s:e=s;while(Math.abs(i)>o2&&++a<i2);return s}function da(t,e,n,r){if(t===e&&n===r)return ze;const o=i=>s2(i,0,1,t,n);return i=>i===0||i===1?i:Jx(o(i),e,r)}const a2=da(.42,0,1,1),l2=da(0,0,.58,1),Qx=da(.42,0,.58,1),c2=t=>Array.isArray(t)&&typeof t[0]!="number",Zx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ew=t=>e=>1-t(1-e),Rp=t=>1-Math.sin(Math.acos(t)),tw=ew(Rp),d2=Zx(Rp),nw=da(.33,1.53,.69,.99),Dp=ew(nw),u2=Zx(Dp),f2=t=>(t*=2)<1?.5*Dp(t):.5*(2-Math.pow(2,-10*(t-1))),h2={linear:ze,easeIn:a2,easeInOut:Qx,easeOut:l2,circIn:Rp,circInOut:d2,circOut:tw,backIn:Dp,backInOut:u2,backOut:nw,anticipate:f2},Yg=t=>{if(Array.isArray(t)){Mp(t.length===4);const[e,n,r,o]=t;return da(e,n,r,o)}else if(typeof t=="string")return h2[t];return t},Fp=(t,e)=>n=>!!(la(n)&&p_.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),rw=(t,e,n)=>r=>{if(!la(r))return r;const[o,i,s,a]=r.match(ed);return{[t]:parseFloat(o),[e]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},p2=t=>Vr(0,255,t),nu={...Do,transform:t=>Math.round(p2(t))},fo={test:Fp("rgb","red"),parse:rw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+nu.transform(t)+", "+nu.transform(e)+", "+nu.transform(n)+", "+ys(vs.transform(r))+")"};function m2(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Af={test:Fp("#"),parse:m2,transform:fo.transform},oi={test:Fp("hsl","hue"),parse:rw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+kn.transform(ys(e))+", "+kn.transform(ys(n))+", "+ys(vs.transform(r))+")"},vt={test:t=>fo.test(t)||Af.test(t)||oi.test(t),parse:t=>fo.test(t)?fo.parse(t):oi.test(t)?oi.parse(t):Af.parse(t),transform:t=>la(t)?t:t.hasOwnProperty("red")?fo.transform(t):oi.transform(t)},Oe=(t,e,n)=>-n*t+n*e+t;function ru(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function g2({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,i=0,s=0;if(!e)o=i=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;o=ru(l,a,t+1/3),i=ru(l,a,t),s=ru(l,a,t-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const ou=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},v2=[Af,fo,oi],y2=t=>v2.find(e=>e.test(t));function Xg(t){const e=y2(t);let n=e.parse(t);return e===oi&&(n=g2(n)),n}const ow=(t,e)=>{const n=Xg(t),r=Xg(e),o={...n};return i=>(o.red=ou(n.red,r.red,i),o.green=ou(n.green,r.green,i),o.blue=ou(n.blue,r.blue,i),o.alpha=Oe(n.alpha,r.alpha,i),fo.transform(o))};function b2(t){var e,n;return isNaN(t)&&la(t)&&(((e=t.match(ed))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Ix))===null||n===void 0?void 0:n.length)||0)>0}const iw={regex:f_,countKey:"Vars",token:"${v}",parse:ze},sw={regex:Ix,countKey:"Colors",token:"${c}",parse:vt.parse},aw={regex:ed,countKey:"Numbers",token:"${n}",parse:Do.parse};function iu(t,{regex:e,countKey:n,token:r,parse:o}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(o)))}function ic(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&iu(n,iw),iu(n,sw),iu(n,aw),n}function lw(t){return ic(t).values}function cw(t){const{values:e,numColors:n,numVars:r,tokenised:o}=ic(t),i=e.length;return s=>{let a=o;for(let l=0;l<i;l++)l<r?a=a.replace(iw.token,s[l]):l<r+n?a=a.replace(sw.token,vt.transform(s[l])):a=a.replace(aw.token,ys(s[l]));return a}}const x2=t=>typeof t=="number"?0:t;function w2(t){const e=lw(t);return cw(t)(e.map(x2))}const Hr={test:b2,parse:lw,createTransformer:cw,getAnimatableNone:w2},dw=(t,e)=>n=>`${n>0?e:t}`;function uw(t,e){return typeof t=="number"?n=>Oe(t,e,n):vt.test(t)?ow(t,e):t.startsWith("var(")?dw(t,e):hw(t,e)}const fw=(t,e)=>{const n=[...t],r=n.length,o=t.map((i,s)=>uw(i,e[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},k2=(t,e)=>{const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=uw(t[o],e[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},hw=(t,e)=>{const n=Hr.createTransformer(e),r=ic(t),o=ic(e);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?Rr(fw(r.values,o.values),n):dw(t,e)},Ks=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Jg=(t,e)=>n=>Oe(t,e,n);function S2(t){return typeof t=="number"?Jg:typeof t=="string"?vt.test(t)?ow:hw:Array.isArray(t)?fw:typeof t=="object"?k2:Jg}function E2(t,e,n){const r=[],o=n||S2(t[0]),i=t.length-1;for(let s=0;s<i;s++){let a=o(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||ze:e;a=Rr(l,a)}r.push(a)}return r}function pw(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const i=t.length;if(Mp(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=E2(e,r,o),a=s.length,l=c=>{let d=0;if(a>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const u=Ks(t[d],t[d+1],c);return s[d](u)};return n?c=>l(Vr(t[0],t[i-1],c)):l}function T2(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=Ks(0,e,r);t.push(Oe(n,1,o))}}function C2(t){const e=[0];return T2(e,t.length-1),e}function _2(t,e){return t.map(n=>n*e)}function N2(t,e){return t.map(()=>e||Qx).splice(0,t.length-1)}function sc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=c2(r)?r.map(Yg):Yg(r),i={done:!1,value:e[0]},s=_2(n&&n.length===e.length?n:C2(e),t),a=pw(s,e,{ease:Array.isArray(o)?o:N2(e,o)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function mw(t,e){return e?t*(1e3/e):0}const j2=5;function gw(t,e,n){const r=Math.max(e-j2,0);return mw(n-t(r),e-r)}const su=.001,I2=.01,Qg=10,P2=.05,L2=1;function A2({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let o,i;e2(t<=Dr(Qg));let s=1-e;s=Vr(P2,L2,s),t=Vr(I2,Qg,Kn(t)),s<1?(o=c=>{const d=c*s,u=d*t,h=d-n,v=Bf(c,s),g=Math.exp(-u);return su-h/v*g},i=c=>{const u=c*s*t,h=u*n+n,v=Math.pow(s,2)*Math.pow(c,2)*t,g=Math.exp(-u),y=Bf(Math.pow(c,2),s);return(-o(c)+su>0?-1:1)*((h-v)*g)/y}):(o=c=>{const d=Math.exp(-c*t),u=(c-n)*t+1;return-su+d*u},i=c=>{const d=Math.exp(-c*t),u=(n-c)*(t*t);return d*u});const a=5/t,l=O2(o,i,a);if(t=Dr(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const B2=12;function O2(t,e,n){let r=n;for(let o=1;o<B2;o++)r=r-t(r)/e(r);return r}function Bf(t,e){return t*Math.sqrt(1-e*e)}const M2=["duration","bounce"],R2=["stiffness","damping","mass"];function Zg(t,e){return e.some(n=>t[n]!==void 0)}function D2(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Zg(t,R2)&&Zg(t,M2)){const n=A2(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function vw({keyframes:t,restDelta:e,restSpeed:n,...r}){const o=t[0],i=t[t.length-1],s={done:!1,value:o},{stiffness:a,damping:l,mass:c,duration:d,velocity:u,isResolvedFromDuration:h}=D2({...r,velocity:-Kn(r.velocity||0)}),v=u||0,g=l/(2*Math.sqrt(a*c)),y=i-o,w=Kn(Math.sqrt(a/c)),b=Math.abs(y)<5;n||(n=b?.01:2),e||(e=b?.005:.5);let m;if(g<1){const p=Bf(w,g);m=x=>{const E=Math.exp(-g*w*x);return i-E*((v+g*w*y)/p*Math.sin(p*x)+y*Math.cos(p*x))}}else if(g===1)m=p=>i-Math.exp(-w*p)*(y+(v+w*y)*p);else{const p=w*Math.sqrt(g*g-1);m=x=>{const E=Math.exp(-g*w*x),N=Math.min(p*x,300);return i-E*((v+g*w*y)*Math.sinh(N)+p*y*Math.cosh(N))/p}}return{calculatedDuration:h&&d||null,next:p=>{const x=m(p);if(h)s.done=p>=d;else{let E=v;p!==0&&(g<1?E=gw(m,p,x):E=0);const N=Math.abs(E)<=n,j=Math.abs(i-x)<=e;s.done=N&&j}return s.value=s.done?i:x,s}}}function e0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:d}){const u=t[0],h={done:!1,value:u},v=k=>a!==void 0&&k<a||l!==void 0&&k>l,g=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let y=n*e;const w=u+y,b=s===void 0?w:s(w);b!==w&&(y=b-u);const m=k=>-y*Math.exp(-k/r),p=k=>b+m(k),x=k=>{const S=m(k),C=p(k);h.done=Math.abs(S)<=c,h.value=h.done?b:C};let E,N;const j=k=>{v(h.value)&&(E=k,N=vw({keyframes:[h.value,g(h.value)],velocity:gw(p,k,h.value),damping:o,stiffness:i,restDelta:c,restSpeed:d}))};return j(0),{calculatedDuration:null,next:k=>{let S=!1;return!N&&E===void 0&&(S=!0,x(k),j(k)),E!==void 0&&k>E?N.next(k-E):(!S&&x(k),h)}}}const F2=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Se.update(e,!0),stop:()=>tr(e),now:()=>ut.isProcessing?ut.timestamp:performance.now()}},t0=2e4;function n0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<t0;)e+=n,r=t.next(e);return e>=t0?1/0:e}const U2={decay:e0,inertia:e0,tween:sc,keyframes:sc,spring:vw};function ac({autoplay:t=!0,delay:e=0,driver:n=F2,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:u,...h}){let v=1,g=!1,y,w;const b=()=>{w=new Promise(z=>{y=z})};b();let m;const p=U2[o]||sc;let x;p!==sc&&typeof r[0]!="number"&&(x=pw([0,100],r,{clamp:!1}),r=[0,100]);const E=p({...h,keyframes:r});let N;a==="mirror"&&(N=p({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let j="idle",k=null,S=null,C=null;E.calculatedDuration===null&&i&&(E.calculatedDuration=n0(E));const{calculatedDuration:T}=E;let I=1/0,P=1/0;T!==null&&(I=T+s,P=I*(i+1)-s);let O=0;const L=z=>{if(S===null)return;v>0&&(S=Math.min(S,z)),v<0&&(S=Math.min(z-P/v,S)),k!==null?O=k:O=Math.round(z-S)*v;const V=O-e*(v>=0?1:-1),te=v>=0?V<0:V>P;O=Math.max(V,0),j==="finished"&&k===null&&(O=P);let Y=O,pe=E;if(i){const rt=Math.min(O,P)/I;let Le=Math.floor(rt),Fe=rt%1;!Fe&&rt>=1&&(Fe=1),Fe===1&&Le--,Le=Math.min(Le,i+1),!!(Le%2)&&(a==="reverse"?(Fe=1-Fe,s&&(Fe-=s/I)):a==="mirror"&&(pe=N)),Y=Vr(0,1,Fe)*I}const me=te?{done:!1,value:r[0]}:pe.next(Y);x&&(me.value=x(me.value));let{done:je}=me;!te&&T!==null&&(je=v>=0?O>=P:O<=0);const Et=k===null&&(j==="finished"||j==="running"&&je);return u&&u(me.value),Et&&B(),me},A=()=>{m&&m.stop(),m=void 0},D=()=>{j="idle",A(),y(),b(),S=C=null},B=()=>{j="finished",d&&d(),A(),y()},M=()=>{if(g)return;m||(m=n(L));const z=m.now();l&&l(),k!==null?S=z-k:(!S||j==="finished")&&(S=z),j==="finished"&&b(),C=S,k=null,j="running",m.start()};t&&M();const R={then(z,V){return w.then(z,V)},get time(){return Kn(O)},set time(z){z=Dr(z),O=z,k!==null||!m||v===0?k=z:S=m.now()-z/v},get duration(){const z=E.calculatedDuration===null?n0(E):E.calculatedDuration;return Kn(z)},get speed(){return v},set speed(z){z===v||!m||(v=z,R.time=Kn(O))},get state(){return j},play:M,pause:()=>{j="paused",k=O},stop:()=>{g=!0,j!=="idle"&&(j="idle",c&&c(),D())},cancel:()=>{C!==null&&L(C),D()},complete:()=>{j="finished"},sample:z=>(S=0,L(z))};return R}function z2(t){let e;return()=>(e===void 0&&(e=t()),e)}const $2=z2(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),V2=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ka=10,H2=2e4,W2=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Kx(e.ease);function G2(t,e,{onUpdate:n,onComplete:r,...o}){if(!($2()&&V2.has(e)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,l,c=!1;const d=()=>{l=new Promise(p=>{a=p})};d();let{keyframes:u,duration:h=300,ease:v,times:g}=o;if(W2(e,o)){const p=ac({...o,repeat:0,delay:0});let x={done:!1,value:u[0]};const E=[];let N=0;for(;!x.done&&N<H2;)x=p.sample(N),E.push(x.value),N+=Ka;g=void 0,u=E,h=N-Ka,v="linear"}const y=n2(t.owner.current,e,u,{...o,duration:h,ease:v,times:g}),w=()=>{c=!1,y.cancel()},b=()=>{c=!0,Se.update(w),a(),d()};return y.onfinish=()=>{c||(t.set(r2(u,o)),r&&r(),b())},{then(p,x){return l.then(p,x)},attachTimeline(p){return y.timeline=p,y.onfinish=null,ze},get time(){return Kn(y.currentTime||0)},set time(p){y.currentTime=Dr(p)},get speed(){return y.playbackRate},set speed(p){y.playbackRate=p},get duration(){return Kn(h)},play:()=>{s||(y.play(),tr(w))},pause:()=>y.pause(),stop:()=>{if(s=!0,y.playState==="idle")return;const{currentTime:p}=y;if(p){const x=ac({...o,autoplay:!1});t.setWithVelocity(x.sample(p-Ka).value,x.sample(p).value,Ka)}b()},complete:()=>{c||y.finish()},cancel:b}}function q2({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const o=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ze,pause:ze,stop:ze,then:i=>(i(),Promise.resolve()),cancel:ze,complete:ze});return e?ac({keyframes:[0,1],duration:0,delay:e,onComplete:o}):o()}const K2={type:"spring",stiffness:500,damping:25,restSpeed:10},Y2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),X2={type:"keyframes",duration:.8},J2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Q2=(t,{keyframes:e})=>e.length>2?X2:Ro.has(t)?t.startsWith("scale")?Y2(e[1]):K2:J2,Of=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Hr.test(e)||e==="0")&&!e.startsWith("url(")),Z2=new Set(["brightness","contrast","saturate","opacity"]);function eN(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ed)||[];if(!r)return t;const o=n.replace(r,"");let i=Z2.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+o+")"}const tN=/([a-z-]*)\(.*?\)/g,Mf={...Hr,getAnimatableNone:t=>{const e=t.match(tN);return e?e.map(eN).join(" "):t}},nN={...Px,color:vt,backgroundColor:vt,outlineColor:vt,fill:vt,stroke:vt,borderColor:vt,borderTopColor:vt,borderRightColor:vt,borderBottomColor:vt,borderLeftColor:vt,filter:Mf,WebkitFilter:Mf},Up=t=>nN[t];function yw(t,e){let n=Up(t);return n!==Mf&&(n=Hr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const bw=t=>/^0[^.\s]+$/.test(t);function rN(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||bw(t)}function oN(t,e,n,r){const o=Of(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?s:i[c-1]),rN(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(o&&l.length&&a)for(let c=0;c<l.length;c++){const d=l[c];i[d]=yw(e,a)}return i}function iN({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function zp(t,e){return t[e]||t.default||t}const sN={skipAnimations:!1},$p=(t,e,n,r={})=>o=>{const i=zp(r,t)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Dr(s);const l=oN(e,t,n,i),c=l[0],d=l[l.length-1],u=Of(t,c),h=Of(t,d);let v={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:g=>{e.set(g),i.onUpdate&&i.onUpdate(g)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(iN(i)||(v={...v,...Q2(t,v)}),v.duration&&(v.duration=Dr(v.duration)),v.repeatDelay&&(v.repeatDelay=Dr(v.repeatDelay)),!u||!h||t2.current||i.type===!1||sN.skipAnimations)return q2(v);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=G2(e,t,v);if(g)return g}return ac(v)};function lc(t){return!!(Lt(t)&&t.add)}const xw=t=>/^\-?\d*\.?\d+$/.test(t);function Vp(t,e){t.indexOf(e)===-1&&t.push(e)}function Hp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Wp{constructor(){this.subscriptions=[]}add(e){return Vp(this.subscriptions,e),()=>Hp(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const aN=t=>!isNaN(parseFloat(t));class lN{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=ut;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,Se.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Se.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=aN(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Wp);const r=this.events[e].add(n);return e==="change"?()=>{r(),Se.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?mw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ti(t,e){return new lN(t,e)}const ww=t=>e=>e.test(t),cN={test:t=>t==="auto",parse:t=>t},kw=[Do,Z,kn,fr,g_,m_,cN],Ji=t=>kw.find(ww(t)),dN=[...kw,vt,Hr],uN=t=>dN.find(ww(t));function fN(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ti(n))}function hN(t,e){const n=nd(t,e);let{transitionEnd:r={},transition:o={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=I_(i[s]);fN(t,s,a)}}function pN(t,e,n){var r,o;const i=Object.keys(e).filter(a=>!t.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const l=i[a],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(o=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&o!==void 0?o:e[l]),d!=null&&(typeof d=="string"&&(xw(d)||bw(d))?d=parseFloat(d):!uN(d)&&Hr.test(c)&&(d=yw(l,c)),t.addValue(l,Ti(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function mN(t,e){return e?(e[t]||e.default||e).from:void 0}function gN(t,e,n){const r={};for(const o in t){const i=mN(o,e);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function vN({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function yN(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function Sw(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const c=[],d=o&&t.animationState&&t.animationState.getState()[o];for(const u in a){const h=t.getValue(u),v=a[u];if(!h||v===void 0||d&&vN(d,u))continue;const g={delay:n,elapsed:0,...zp(i||{},u)};if(window.HandoffAppearAnimations){const b=t.getProps()[Ex];if(b){const m=window.HandoffAppearAnimations(b,u,h,Se);m!==null&&(g.elapsed=m,g.isHandoff=!0)}}let y=!g.isHandoff&&!yN(h,v);if(g.type==="spring"&&(h.getVelocity()||g.velocity)&&(y=!1),h.animation&&(y=!1),y)continue;h.start($p(u,h,v,t.shouldReduceMotion&&Ro.has(u)?{type:!1}:g));const w=h.animation;lc(l)&&(l.add(u),w.then(()=>l.remove(u))),c.push(w)}return s&&Promise.all(c).then(()=>{s&&hN(t,s)}),c}function Rf(t,e,n={}){const r=nd(t,e,n.custom);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(Sw(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:u}=o;return bN(t,e,c+l,d,u,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[l,c]=a==="beforeChildren"?[i,s]:[s,i];return l().then(()=>c())}else return Promise.all([i(),s(n.delay)])}function bN(t,e,n=0,r=0,o=1,i){const s=[],a=(t.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(xN).forEach((c,d)=>{c.notify("AnimationStart",e),s.push(Rf(c,e,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function xN(t,e){return t.sortNodePosition(e)}function wN(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(i=>Rf(t,i,n));r=Promise.all(o)}else if(typeof e=="string")r=Rf(t,e,n);else{const o=typeof e=="function"?nd(t,e,n.custom):e;r=Promise.all(Sw(t,o,n))}return r.then(()=>t.notify("AnimationComplete",e))}const kN=[...Cp].reverse(),SN=Cp.length;function EN(t){return e=>Promise.all(e.map(({animation:n,options:r})=>wN(t,n,r)))}function TN(t){let e=EN(t);const n=_N();let r=!0;const o=(l,c)=>{const d=nd(t,c);if(d){const{transition:u,transitionEnd:h,...v}=d;l={...l,...v,...h}}return l};function i(l){e=l(t)}function s(l,c){const d=t.getProps(),u=t.getVariantContext(!0)||{},h=[],v=new Set;let g={},y=1/0;for(let b=0;b<SN;b++){const m=kN[b],p=n[m],x=d[m]!==void 0?d[m]:u[m],E=Gs(x),N=m===c?p.isActive:null;N===!1&&(y=b);let j=x===u[m]&&x!==d[m]&&E;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),p.protectedKeys={...g},!p.isActive&&N===null||!x&&!p.prevProp||Qc(x)||typeof x=="boolean")continue;let S=CN(p.prevProp,x)||m===c&&p.isActive&&!j&&E||b>y&&E,C=!1;const T=Array.isArray(x)?x:[x];let I=T.reduce(o,{});N===!1&&(I={});const{prevResolvedValues:P={}}=p,O={...P,...I},L=A=>{S=!0,v.has(A)&&(C=!0,v.delete(A)),p.needsAnimating[A]=!0};for(const A in O){const D=I[A],B=P[A];if(g.hasOwnProperty(A))continue;let M=!1;oc(D)&&oc(B)?M=!Gx(D,B):M=D!==B,M?D!==void 0?L(A):v.add(A):D!==void 0&&v.has(A)?L(A):p.protectedKeys[A]=!0}p.prevProp=x,p.prevResolvedValues=I,p.isActive&&(g={...g,...I}),r&&t.blockInitialAnimation&&(S=!1),S&&(!j||C)&&h.push(...T.map(A=>({animation:A,options:{type:m,...l}})))}if(v.size){const b={};v.forEach(m=>{const p=t.getBaseTarget(m);p!==void 0&&(b[m]=p)}),h.push({animation:b})}let w=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(h):Promise.resolve()}function a(l,c,d){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(v=>{var g;return(g=v.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const h=s(d,l);for(const v in n)n[v].protectedKeys={};return h}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function CN(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Gx(e,t):!1}function to(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _N(){return{animate:to(!0),whileInView:to(),whileHover:to(),whileTap:to(),whileDrag:to(),whileFocus:to(),exit:to()}}class NN extends Jr{constructor(e){super(e),e.animationState||(e.animationState=TN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Qc(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let jN=0;class IN extends Jr{constructor(){super(...arguments),this.id=jN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const PN={animation:{Feature:NN},exit:{Feature:IN}},r0=(t,e)=>Math.abs(t-e);function LN(t,e){const n=r0(t.x,e.x),r=r0(t.y,e.y);return Math.sqrt(n**2+r**2)}class Ew{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=lu(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,v=LN(u.offset,{x:0,y:0})>=3;if(!h&&!v)return;const{point:g}=u,{timestamp:y}=ut;this.history.push({...g,timestamp:y});const{onStart:w,onMove:b}=this.handlers;h||(w&&w(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=au(h,this.transformPagePoint),Se.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{this.end();const{onEnd:v,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=lu(u.type==="pointercancel"?this.lastMoveEventInfo:au(h,this.transformPagePoint),this.history);this.startEvent&&v&&v(u,w),g&&g(u,w)},!zx(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const s=td(e),a=au(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=ut;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,lu(a,this.history)),this.removeListeners=Rr(qn(this.contextWindow,"pointermove",this.handlePointerMove),qn(this.contextWindow,"pointerup",this.handlePointerUp),qn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),tr(this.updatePoint)}}function au(t,e){return e?{point:e(t.point)}:t}function o0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function lu({point:t},e){return{point:t,delta:o0(t,Tw(e)),offset:o0(t,AN(e)),velocity:BN(e,.1)}}function AN(t){return t[0]}function Tw(t){return t[t.length-1]}function BN(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=Tw(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Dr(e)));)n--;if(!r)return{x:0,y:0};const i=Kn(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Ft(t){return t.max-t.min}function Df(t,e=0,n=.01){return Math.abs(t-e)<=n}function i0(t,e,n,r=.5){t.origin=r,t.originPoint=Oe(e.min,e.max,t.origin),t.scale=Ft(n)/Ft(e),(Df(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Oe(n.min,n.max,t.origin)-t.originPoint,(Df(t.translate)||isNaN(t.translate))&&(t.translate=0)}function bs(t,e,n,r){i0(t.x,e.x,n.x,r?r.originX:void 0),i0(t.y,e.y,n.y,r?r.originY:void 0)}function s0(t,e,n){t.min=n.min+e.min,t.max=t.min+Ft(e)}function ON(t,e,n){s0(t.x,e.x,n.x),s0(t.y,e.y,n.y)}function a0(t,e,n){t.min=e.min-n.min,t.max=t.min+Ft(e)}function xs(t,e,n){a0(t.x,e.x,n.x),a0(t.y,e.y,n.y)}function MN(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Oe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Oe(n,t,r.max):Math.min(t,n)),t}function l0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function RN(t,{top:e,left:n,bottom:r,right:o}){return{x:l0(t.x,n,o),y:l0(t.y,e,r)}}function c0(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function DN(t,e){return{x:c0(t.x,e.x),y:c0(t.y,e.y)}}function FN(t,e){let n=.5;const r=Ft(t),o=Ft(e);return o>r?n=Ks(e.min,e.max-r,t.min):r>o&&(n=Ks(t.min,t.max-o,e.min)),Vr(0,1,n)}function UN(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ff=.35;function zN(t=Ff){return t===!1?t=0:t===!0&&(t=Ff),{x:d0(t,"left","right"),y:d0(t,"top","bottom")}}function d0(t,e,n){return{min:u0(t,e),max:u0(t,n)}}function u0(t,e){return typeof t=="number"?t:t[e]||0}const f0=()=>({translate:0,scale:1,origin:0,originPoint:0}),ii=()=>({x:f0(),y:f0()}),h0=()=>({min:0,max:0}),We=()=>({x:h0(),y:h0()});function Vt(t){return[t("x"),t("y")]}function Cw({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function $N({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function VN(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function cu(t){return t===void 0||t===1}function Uf({scale:t,scaleX:e,scaleY:n}){return!cu(t)||!cu(e)||!cu(n)}function oo(t){return Uf(t)||_w(t)||t.z||t.rotate||t.rotateX||t.rotateY}function _w(t){return p0(t.x)||p0(t.y)}function p0(t){return t&&t!=="0%"}function cc(t,e,n){const r=t-n,o=e*r;return n+o}function m0(t,e,n,r,o){return o!==void 0&&(t=cc(t,o,r)),cc(t,n,r)+e}function zf(t,e=0,n=1,r,o){t.min=m0(t.min,e,n,r,o),t.max=m0(t.max,e,n,r,o)}function Nw(t,{x:e,y:n}){zf(t.x,e.translate,e.scale,e.originPoint),zf(t.y,n.translate,n.scale,n.originPoint)}function HN(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&si(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,Nw(t,s)),r&&oo(i.latestValues)&&si(t,i.latestValues))}e.x=g0(e.x),e.y=g0(e.y)}function g0(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function mr(t,e){t.min=t.min+e,t.max=t.max+e}function v0(t,e,[n,r,o]){const i=e[o]!==void 0?e[o]:.5,s=Oe(t.min,t.max,i);zf(t,e[n],e[r],s,e.scale)}const WN=["x","scaleX","originX"],GN=["y","scaleY","originY"];function si(t,e){v0(t.x,e,WN),v0(t.y,e,GN)}function jw(t,e){return Cw(VN(t.getBoundingClientRect(),e))}function qN(t,e,n){const r=jw(t,n),{scroll:o}=e;return o&&(mr(r.x,o.offset.x),mr(r.y,o.offset.y)),r}const Iw=({current:t})=>t?t.ownerDocument.defaultView:null,KN=new WeakMap;class YN{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=We(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(td(d,"page").point)},i=(d,u)=>{const{drag:h,dragPropagation:v,onDragStart:g}=this.getProps();if(h&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Vx(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vt(w=>{let b=this.getAxisMotionValue(w).get()||0;if(kn.test(b)){const{projection:m}=this.visualElement;if(m&&m.layout){const p=m.layout.layoutBox[w];p&&(b=Ft(p)*(parseFloat(b)/100))}}this.originPoint[w]=b}),g&&Se.update(()=>g(d,u),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},s=(d,u)=>{const{dragPropagation:h,dragDirectionLock:v,onDirectionLock:g,onDrag:y}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:w}=u;if(v&&this.currentDirection===null){this.currentDirection=XN(w),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",u.point,w),this.updateAxis("y",u.point,w),this.visualElement.render(),y&&y(d,u)},a=(d,u)=>this.stop(d,u),l=()=>Vt(d=>{var u;return this.getAnimationState(d)==="paused"&&((u=this.getAxisMotionValue(d).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Ew(e,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Iw(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&Se.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!Ya(e,o,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=MN(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&ri(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=RN(o.layoutBox,n):this.constraints=!1,this.elastic=zN(r),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Vt(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=UN(o.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ri(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=qN(r,o.root,this.visualElement.getTransformPagePoint());let s=DN(o.layout.layoutBox,i);if(n){const a=n($N(s));this.hasMutatedConstraints=!!a,a&&(s=Cw(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Vt(d=>{if(!Ya(d,n,this.currentDirection))return;let u=l&&l[d]||{};s&&(u={min:0,max:0});const h=o?200:1e6,v=o?40:1e7,g={type:"inertia",velocity:r?e[d]:0,bounceStiffness:h,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...u};return this.startAxisValueAnimation(d,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start($p(e,r,0,n))}stopAnimation(){Vt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Vt(n=>{const{drag:r}=this.getProps();if(!Ya(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(e[n]-Oe(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ri(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Vt(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();o[s]=FN({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vt(s=>{if(!Ya(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(Oe(l,c,o[s]))})}addListeners(){if(!this.visualElement.current)return;KN.set(this.visualElement,this);const e=this.visualElement.current,n=qn(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ri(l)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=Un(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Vt(d=>{const u=this.getAxisMotionValue(d);u&&(this.originPoint[d]+=l[d].translate,u.set(u.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=Ff,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function Ya(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function XN(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class JN extends Jr{constructor(e){super(e),this.removeGroupControls=ze,this.removeListeners=ze,this.controls=new YN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ze}unmount(){this.removeGroupControls(),this.removeListeners()}}const y0=t=>(e,n)=>{t&&Se.update(()=>t(e,n))};class QN extends Jr{constructor(){super(...arguments),this.removePointerDownListener=ze}onPointerDown(e){this.session=new Ew(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Iw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:y0(e),onStart:y0(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&Se.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=qn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function ZN(){const t=_.useContext(Xc);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,o=_.useId();return _.useEffect(()=>r(o),[]),!e&&n?[!1,()=>n&&n(o)]:[!0]}const ml={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function b0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Qi={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Z.test(t))t=parseFloat(t);else return t;const n=b0(t,e.target.x),r=b0(t,e.target.y);return`${n}% ${r}%`}},ej={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=Hr.parse(t);if(o.length>5)return r;const i=Hr.createTransformer(t),s=typeof o[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;o[0+s]/=a,o[1+s]/=l;const c=Oe(a,l,.5);return typeof o[2+s]=="number"&&(o[2+s]/=c),typeof o[3+s]=="number"&&(o[3+s]/=c),i(o)}};class tj extends Q.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=e;l_(nj),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ml.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||Se.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Pw(t){const[e,n]=ZN(),r=_.useContext(Np);return Q.createElement(tj,{...t,layoutGroup:r,switchLayoutGroup:_.useContext(Cx),isPresent:e,safeToRemove:n})}const nj={borderRadius:{...Qi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qi,borderTopRightRadius:Qi,borderBottomLeftRadius:Qi,borderBottomRightRadius:Qi,boxShadow:ej},Lw=["TopLeft","TopRight","BottomLeft","BottomRight"],rj=Lw.length,x0=t=>typeof t=="string"?parseFloat(t):t,w0=t=>typeof t=="number"||Z.test(t);function oj(t,e,n,r,o,i){o?(t.opacity=Oe(0,n.opacity!==void 0?n.opacity:1,ij(r)),t.opacityExit=Oe(e.opacity!==void 0?e.opacity:1,0,sj(r))):i&&(t.opacity=Oe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<rj;s++){const a=`border${Lw[s]}Radius`;let l=k0(e,a),c=k0(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||w0(l)===w0(c)?(t[a]=Math.max(Oe(x0(l),x0(c),r),0),(kn.test(c)||kn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Oe(e.rotate||0,n.rotate||0,r))}function k0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ij=Aw(0,.5,tw),sj=Aw(.5,.95,ze);function Aw(t,e,n){return r=>r<t?0:r>e?1:n(Ks(t,e,r))}function S0(t,e){t.min=e.min,t.max=e.max}function $t(t,e){S0(t.x,e.x),S0(t.y,e.y)}function E0(t,e,n,r,o){return t-=e,t=cc(t,1/n,r),o!==void 0&&(t=cc(t,1/o,r)),t}function aj(t,e=0,n=1,r=.5,o,i=t,s=t){if(kn.test(e)&&(e=parseFloat(e),e=Oe(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=Oe(i.min,i.max,r);t===i&&(a-=e),t.min=E0(t.min,e,n,a,o),t.max=E0(t.max,e,n,a,o)}function T0(t,e,[n,r,o],i,s){aj(t,e[n],e[r],e[o],e.scale,i,s)}const lj=["x","scaleX","originX"],cj=["y","scaleY","originY"];function C0(t,e,n,r){T0(t.x,e,lj,n?n.x:void 0,r?r.x:void 0),T0(t.y,e,cj,n?n.y:void 0,r?r.y:void 0)}function _0(t){return t.translate===0&&t.scale===1}function Bw(t){return _0(t.x)&&_0(t.y)}function dj(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function Ow(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function N0(t){return Ft(t.x)/Ft(t.y)}class uj{constructor(){this.members=[]}add(e){Vp(this.members,e),e.scheduleRender()}remove(e){if(Hp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function j0(t,e,n){let r="";const o=t.x.translate/e.x,i=t.y.translate/e.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const fj=(t,e)=>t.depth-e.depth;class hj{constructor(){this.children=[],this.isDirty=!1}add(e){Vp(this.children,e),this.isDirty=!0}remove(e){Hp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fj),this.isDirty=!1,this.children.forEach(e)}}function pj(t,e){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=e&&(tr(r),t(i-e))};return Se.read(r,!0),()=>tr(r)}function mj(t){window.MotionDebug&&window.MotionDebug.record(t)}function gj(t){return t instanceof SVGElement&&t.tagName!=="svg"}function vj(t,e,n){const r=Lt(t)?t:Ti(t);return r.start($p("",r,e,n)),r.animation}const I0=["","X","Y","Z"],yj={visibility:"hidden"},P0=1e3;let bj=0;const io={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Mw({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=e==null?void 0:e()){this.id=bj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,io.totalNodes=io.resolvedTargetDeltas=io.recalculatedProjection=0,this.nodes.forEach(kj),this.nodes.forEach(_j),this.nodes.forEach(Nj),this.nodes.forEach(Sj),mj(io)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new hj)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Wp),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=gj(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let u;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=pj(h,250),ml.hasAnimatedSinceResize&&(ml.hasAnimatedSinceResize=!1,this.nodes.forEach(A0))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeTargetChanged:v,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||Aj,{onLayoutAnimationStart:w,onLayoutAnimationComplete:b}=d.getProps(),m=!this.targetLayout||!Ow(this.targetLayout,g)||v,p=!h&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||p||h&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,p);const x={...zp(y,"layout"),onPlay:w,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else h||A0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,tr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jj),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const u=this.path[d];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(L0);return}this.isUpdating||this.nodes.forEach(Tj),this.isUpdating=!1,this.nodes.forEach(Cj),this.nodes.forEach(xj),this.nodes.forEach(wj),this.clearAllSnapshots();const a=performance.now();ut.delta=Vr(0,1e3/60,a-ut.timestamp),ut.timestamp=a,ut.isProcessing=!0,Zd.update.process(ut),Zd.preRender.process(ut),Zd.render.process(ut),ut.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Ej),this.sharedNodes.forEach(Ij)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=We(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Bw(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;s&&(a||oo(this.latestValues)||d)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),Bj(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return We();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(mr(a.x,l.offset.x),mr(a.y,l.offset.y)),a}removeElementScroll(s){const a=We();$t(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:u}=c;if(c!==this.root&&d&&u.layoutScroll){if(d.isRoot){$t(a,s);const{scroll:h}=this.root;h&&(mr(a.x,-h.offset.x),mr(a.y,-h.offset.y))}mr(a.x,d.offset.x),mr(a.y,d.offset.y)}}return a}applyTransform(s,a=!1){const l=We();$t(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&si(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),oo(d.latestValues)&&si(l,d.latestValues)}return oo(this.latestValues)&&si(l,this.latestValues),l}removeTransform(s){const a=We();$t(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!oo(c.latestValues))continue;Uf(c.latestValues)&&c.updateSnapshot();const d=We(),u=c.measurePageBox();$t(d,u),C0(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return oo(this.latestValues)&&C0(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ut.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=ut.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),xs(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),$t(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=We(),this.targetWithTransforms=We()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ON(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$t(this.target,this.layout.layoutBox),Nw(this.target,this.targetDelta)):$t(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),xs(this.relativeTargetOrigin,this.target,v.target),$t(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}io.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Uf(this.parent.latestValues)||_w(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ut.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;$t(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,v=this.treeScale.y;HN(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=ii(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ii(),this.projectionDeltaWithTransform=ii());const y=this.projectionTransform;bs(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=j0(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==h||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),io.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},u=ii();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=We(),v=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=v!==g,w=this.getStack(),b=!w||w.members.length<=1,m=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(Lj));this.animationProgress=0;let p;this.mixTargetDelta=x=>{const E=x/1e3;B0(u.x,s.x,E),B0(u.y,s.y,E),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xs(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Pj(this.relativeTarget,this.relativeTargetOrigin,h,E),p&&dj(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||(p=We()),$t(p,this.relativeTarget)),y&&(this.animationValues=d,oj(d,c,this.latestValues,E,m,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(tr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Se.update(()=>{ml.hasAnimatedSinceResize=!0,this.currentAnimation=vj(0,P0,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(P0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&Rw(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||We();const u=Ft(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+u;const h=Ft(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}$t(a,l),si(a,d),bs(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new uj),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<I0.length;d++){const u="rotate"+I0[d];l[u]&&(c[u]=l[u],s.setStaticValue(u,0))}s.render();for(const d in c)s.setStaticValue(d,c[d]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return yj;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=pl(s==null?void 0:s.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=pl(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!oo(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),c.transform=j0(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:v,y:g}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${g.origin*100}% 0`,u.animationValues?c.opacity=u===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in nc){if(h[y]===void 0)continue;const{correct:w,applyTo:b}=nc[y],m=c.transform==="none"?h[y]:w(h[y],u);if(b){const p=b.length;for(let x=0;x<p;x++)c[b[x]]=m}else c[y]=m}return this.options.layoutId&&(c.pointerEvents=u===this?pl(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(L0),this.root.sharedNodes.clear()}}}function xj(t){t.updateLayout()}function wj(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:i}=t.options,s=n.source!==t.layout.source;i==="size"?Vt(u=>{const h=s?n.measuredBox[u]:n.layoutBox[u],v=Ft(h);h.min=r[u].min,h.max=h.min+v}):Rw(i,n.layoutBox,r)&&Vt(u=>{const h=s?n.measuredBox[u]:n.layoutBox[u],v=Ft(r[u]);h.max=h.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[u].max=t.relativeTarget[u].min+v)});const a=ii();bs(a,r,n.layoutBox);const l=ii();s?bs(l,t.applyTransform(o,!0),n.measuredBox):bs(l,r,n.layoutBox);const c=!Bw(a);let d=!1;if(!t.resumeFrom){const u=t.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:v}=u;if(h&&v){const g=We();xs(g,n.layoutBox,h.layoutBox);const y=We();xs(y,r,v.layoutBox),Ow(g,y)||(d=!0),u.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=g,t.relativeParent=u)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function kj(t){io.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Sj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Ej(t){t.clearSnapshot()}function L0(t){t.clearMeasurements()}function Tj(t){t.isLayoutDirty=!1}function Cj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function A0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _j(t){t.resolveTargetDelta()}function Nj(t){t.calcProjection()}function jj(t){t.resetRotation()}function Ij(t){t.removeLeadSnapshot()}function B0(t,e,n){t.translate=Oe(e.translate,0,n),t.scale=Oe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function O0(t,e,n,r){t.min=Oe(e.min,n.min,r),t.max=Oe(e.max,n.max,r)}function Pj(t,e,n,r){O0(t.x,e.x,n.x,r),O0(t.y,e.y,n.y,r)}function Lj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Aj={duration:.45,ease:[.4,0,.1,1]},M0=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),R0=M0("applewebkit/")&&!M0("chrome/")?Math.round:ze;function D0(t){t.min=R0(t.min),t.max=R0(t.max)}function Bj(t){D0(t.x),D0(t.y)}function Rw(t,e,n){return t==="position"||t==="preserve-aspect"&&!Df(N0(e),N0(n),.2)}const Oj=Mw({attachResizeListener:(t,e)=>Un(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),du={current:void 0},Dw=Mw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!du.current){const t=new Oj({});t.mount(window),t.setOptions({layoutScroll:!0}),du.current=t}return du.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Mj={pan:{Feature:QN},drag:{Feature:JN,ProjectionNode:Dw,MeasureLayout:Pw}},Rj=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Dj(t){const e=Rj.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function $f(t,e,n=1){const[r,o]=Dj(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const s=i.trim();return xw(s)?parseFloat(s):s}else return Pf(o)?$f(o,e,n+1):o}function Fj(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(o=>{const i=o.get();if(!Pf(i))return;const s=$f(i,r);s&&o.set(s)});for(const o in e){const i=e[o];if(!Pf(i))continue;const s=$f(i,r);s&&(e[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:e,transitionEnd:n}}const Uj=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Fw=t=>Uj.has(t),zj=t=>Object.keys(t).some(Fw),F0=t=>t===Do||t===Z,U0=(t,e)=>parseFloat(t.split(", ")[e]),z0=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return U0(o[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?U0(i[1],t):0}},$j=new Set(["x","y","z"]),Vj=aa.filter(t=>!$j.has(t));function Hj(t){const e=[];return Vj.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ci={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:z0(4,13),y:z0(5,14)};Ci.translateX=Ci.x;Ci.translateY=Ci.y;const Wj=(t,e,n)=>{const r=e.measureViewportBox(),o=e.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Ci[c](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const d=e.getValue(c);d&&d.jump(a[c]),t[c]=Ci[c](l,i)}),t},Gj=(t,e,n={},r={})=>{e={...e},r={...r};const o=Object.keys(e).filter(Fw);let i=[],s=!1;const a=[];if(o.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],u=Ji(d);const h=e[l];let v;if(oc(h)){const g=h.length,y=h[0]===null?1:0;d=h[y],u=Ji(d);for(let w=y;w<g&&h[w]!==null;w++)v?Mp(Ji(h[w])===v):v=Ji(h[w])}else v=Ji(h);if(u!==v)if(F0(u)&&F0(v)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&v===Z&&(e[l]=h.map(parseFloat))}else u!=null&&u.transform&&(v!=null&&v.transform)&&(d===0||h===0)?d===0?c.set(v.transform(d)):e[l]=u.transform(h):(s||(i=Hj(t),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=Wj(e,t,a);return i.length&&i.forEach(([d,u])=>{t.getValue(d).set(u)}),t.render(),Jc&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function qj(t,e,n,r){return zj(e)?Gj(t,e,n,r):{target:e,transitionEnd:r}}const Kj=(t,e,n,r)=>{const o=Fj(t,e,r);return e=o.target,r=o.transitionEnd,qj(t,e,n,r)},Vf={current:null},Uw={current:!1};function Yj(){if(Uw.current=!0,!!Jc)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Vf.current=t.matches;t.addListener(e),e()}else Vf.current=!1}function Xj(t,e,n){const{willChange:r}=e;for(const o in e){const i=e[o],s=n[o];if(Lt(i))t.addValue(o,i),lc(r)&&r.add(o);else if(Lt(s))t.addValue(o,Ti(i,{owner:t})),lc(r)&&r.remove(o);else if(s!==i)if(t.hasValue(o)){const a=t.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(o);t.addValue(o,Ti(a!==void 0?a:i,{owner:t}))}}for(const o in n)e[o]===void 0&&t.removeValue(o);return e}const $0=new WeakMap,zw=Object.keys(qs),Jj=zw.length,V0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Qj=_p.length;class Zj{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Se.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=Zc(n),this.isVariantNode=Tx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const u in d){const h=d[u];a[u]!==void 0&&Lt(h)&&(h.set(a[u],!1),lc(c)&&c.add(u))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,$0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Uw.current||Yj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){$0.delete(this.current),this.projection&&this.projection.unmount(),tr(this.notifyUpdate),tr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ro.has(e),o=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Se.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,o,i){let s,a;for(let l=0;l<Jj;l++){const c=zw[l],{isEnabled:d,Feature:u,ProjectionNode:h,MeasureLayout:v}=qs[c];h&&(s=h),d(n)&&(!this.features[c]&&u&&(this.features[c]=new u(this)),v&&(a=v))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:u,layoutScroll:h,layoutRoot:v}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||u&&ri(u),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:v})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):We()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<V0.length;r++){const o=V0[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=e["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=Xj(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Qj;r++){const o=_p[r],i=this.props[o];(Gs(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ti(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=Op(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Lt(i)?i:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Wp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class $w extends Zj{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:o},i){let s=gN(r,e||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){pN(this,r,s);const a=Kj(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function eI(t){return window.getComputedStyle(t)}class tI extends $w{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Ro.has(n)){const r=Up(n);return r&&r.default||0}else{const r=eI(e),o=(jx(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return jw(e,n)}build(e,n,r,o){Ip(e,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Bp(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Lt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,o){Ox(e,n,r,o)}}class nI extends $w{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ro.has(n)){const r=Up(n);return r&&r.default||0}return n=Mx.has(n)?n:Tp(n),e.getAttribute(n)}measureInstanceViewportBox(){return We()}scrapeMotionValuesFromProps(e,n){return Dx(e,n)}build(e,n,r,o){Lp(e,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(e,n,r,o){Rx(e,n,r,o)}mount(e){this.isSVGTag=Ap(e.tagName),super.mount(e)}}const rI=(t,e)=>jp(t)?new nI(e,{enableHardwareAcceleration:!1}):new tI(e,{enableHardwareAcceleration:!0}),oI={layout:{ProjectionNode:Dw,MeasureLayout:Pw}},iI={...PN,...J_,...Mj,...oI},sI=s_((t,e)=>D_(t,e,iI,rI));function Vw(){const t=_.useRef(!1);return Ep(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function aI(){const t=Vw(),[e,n]=_.useState(0),r=_.useCallback(()=>{t.current&&n(e+1)},[e]);return[_.useCallback(()=>Se.postRender(r),[r]),e]}class lI extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function cI({children:t,isPresent:e}){const n=_.useId(),r=_.useRef(null),o=_.useRef({width:0,height:0,top:0,left:0});return _.useInsertionEffect(()=>{const{width:i,height:s,top:a,left:l}=o.current;if(e||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),_.createElement(lI,{isPresent:e,childRef:r,sizeRef:o},_.cloneElement(t,{ref:r}))}const uu=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=Fx(dI),l=_.useId(),c=_.useMemo(()=>({id:l,initial:e,isPresent:n,custom:o,onExitComplete:d=>{a.set(d,!0);for(const u of a.values())if(!u)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[n]);return _.useMemo(()=>{a.forEach((d,u)=>a.set(u,!1))},[n]),_.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=_.createElement(cI,{isPresent:n},t)),_.createElement(Xc.Provider,{value:c},t)};function dI(){return new Map}function uI(t){return _.useEffect(()=>()=>t(),[])}const so=t=>t.key||"";function fI(t,e){t.forEach(n=>{const r=so(n);e.set(r,n)})}function hI(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const pI=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=_.useContext(Np).forceRender||aI()[0],l=Vw(),c=hI(t);let d=c;const u=_.useRef(new Map).current,h=_.useRef(d),v=_.useRef(new Map).current,g=_.useRef(!0);if(Ep(()=>{g.current=!1,fI(c,v),h.current=d}),uI(()=>{g.current=!0,v.clear(),u.clear()}),g.current)return _.createElement(_.Fragment,null,d.map(m=>_.createElement(uu,{key:so(m),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},m)));d=[...d];const y=h.current.map(so),w=c.map(so),b=y.length;for(let m=0;m<b;m++){const p=y[m];w.indexOf(p)===-1&&!u.has(p)&&u.set(p,void 0)}return s==="wait"&&u.size&&(d=[]),u.forEach((m,p)=>{if(w.indexOf(p)!==-1)return;const x=v.get(p);if(!x)return;const E=y.indexOf(p);let N=m;if(!N){const j=()=>{u.delete(p);const k=Array.from(v.keys()).filter(S=>!w.includes(S));if(k.forEach(S=>v.delete(S)),h.current=c.filter(S=>{const C=so(S);return C===p||k.includes(C)}),!u.size){if(l.current===!1)return;a(),r&&r()}};N=_.createElement(uu,{key:so(x),isPresent:!1,onExitComplete:j,custom:e,presenceAffectsLayout:i,mode:s},x),u.set(p,N)}d.splice(E,0,N)}),d=d.map(m=>{const p=m.key;return u.has(p)?m:_.createElement(uu,{key:so(m),isPresent:!0,presenceAffectsLayout:i,mode:s},m)}),_.createElement(_.Fragment,null,u.size?d:d.map(m=>_.cloneElement(m)))},Me=({children:t,keyValue:e,initial:n={opacity:0},animate:r={opacity:1},transition:o={duration:1},className:i})=>f.jsx(pI,{children:f.jsx(sI.div,{initial:n,animate:r,transition:o,className:i,children:t},e)});function Hw(t,e){return function(){return t.apply(e,arguments)}}const{toString:mI}=Object.prototype,{getPrototypeOf:Gp}=Object,rd=(t=>e=>{const n=mI.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),jn=t=>(t=t.toLowerCase(),e=>rd(e)===t),od=t=>e=>typeof e===t,{isArray:Ri}=Array,Ys=od("undefined");function gI(t){return t!==null&&!Ys(t)&&t.constructor!==null&&!Ys(t.constructor)&&Yt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ww=jn("ArrayBuffer");function vI(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Ww(t.buffer),e}const yI=od("string"),Yt=od("function"),Gw=od("number"),id=t=>t!==null&&typeof t=="object",bI=t=>t===!0||t===!1,gl=t=>{if(rd(t)!=="object")return!1;const e=Gp(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},xI=jn("Date"),wI=jn("File"),kI=jn("Blob"),SI=jn("FileList"),EI=t=>id(t)&&Yt(t.pipe),TI=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Yt(t.append)&&((e=rd(t))==="formdata"||e==="object"&&Yt(t.toString)&&t.toString()==="[object FormData]"))},CI=jn("URLSearchParams"),_I=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ua(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),Ri(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let a;for(r=0;r<s;r++)a=i[r],e.call(null,t[a],a,t)}}function qw(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const Kw=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Yw=t=>!Ys(t)&&t!==Kw;function Hf(){const{caseless:t}=Yw(this)&&this||{},e={},n=(r,o)=>{const i=t&&qw(e,o)||o;gl(e[i])&&gl(r)?e[i]=Hf(e[i],r):gl(r)?e[i]=Hf({},r):Ri(r)?e[i]=r.slice():e[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&ua(arguments[r],n);return e}const NI=(t,e,n,{allOwnKeys:r}={})=>(ua(e,(o,i)=>{n&&Yt(o)?t[i]=Hw(o,n):t[i]=o},{allOwnKeys:r}),t),jI=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),II=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},PI=(t,e,n,r)=>{let o,i,s;const a={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),i=o.length;i-- >0;)s=o[i],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&Gp(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},LI=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},AI=t=>{if(!t)return null;if(Ri(t))return t;let e=t.length;if(!Gw(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},BI=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Gp(Uint8Array)),OI=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=r.next())&&!o.done;){const i=o.value;e.call(t,i[0],i[1])}},MI=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},RI=jn("HTMLFormElement"),DI=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),H0=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),FI=jn("RegExp"),Xw=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ua(n,(o,i)=>{e(o,i,t)!==!1&&(r[i]=o)}),Object.defineProperties(t,r)},UI=t=>{Xw(t,(e,n)=>{if(Yt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Yt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},zI=(t,e)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return Ri(t)?r(t):r(String(t).split(e)),n},$I=()=>{},VI=(t,e)=>(t=+t,Number.isFinite(t)?t:e),fu="abcdefghijklmnopqrstuvwxyz",W0="0123456789",Jw={DIGIT:W0,ALPHA:fu,ALPHA_DIGIT:fu+fu.toUpperCase()+W0},HI=(t=16,e=Jw.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function WI(t){return!!(t&&Yt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const GI=t=>{const e=new Array(10),n=(r,o)=>{if(id(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[o]=r;const i=Ri(r)?[]:{};return ua(r,(s,a)=>{const l=n(s,o+1);!Ys(l)&&(i[a]=l)}),e[o]=void 0,i}}return r};return n(t,0)},qI=jn("AsyncFunction"),KI=t=>t&&(id(t)||Yt(t))&&Yt(t.then)&&Yt(t.catch),$={isArray:Ri,isArrayBuffer:Ww,isBuffer:gI,isFormData:TI,isArrayBufferView:vI,isString:yI,isNumber:Gw,isBoolean:bI,isObject:id,isPlainObject:gl,isUndefined:Ys,isDate:xI,isFile:wI,isBlob:kI,isRegExp:FI,isFunction:Yt,isStream:EI,isURLSearchParams:CI,isTypedArray:BI,isFileList:SI,forEach:ua,merge:Hf,extend:NI,trim:_I,stripBOM:jI,inherits:II,toFlatObject:PI,kindOf:rd,kindOfTest:jn,endsWith:LI,toArray:AI,forEachEntry:OI,matchAll:MI,isHTMLForm:RI,hasOwnProperty:H0,hasOwnProp:H0,reduceDescriptors:Xw,freezeMethods:UI,toObjectSet:zI,toCamelCase:DI,noop:$I,toFiniteNumber:VI,findKey:qw,global:Kw,isContextDefined:Yw,ALPHABET:Jw,generateString:HI,isSpecCompliantForm:WI,toJSONObject:GI,isAsyncFn:qI,isThenable:KI};function ue(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}$.inherits(ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Qw=ue.prototype,Zw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Zw[t]={value:t}});Object.defineProperties(ue,Zw);Object.defineProperty(Qw,"isAxiosError",{value:!0});ue.from=(t,e,n,r,o,i)=>{const s=Object.create(Qw);return $.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ue.call(s,t.message,e,n,r,o),s.cause=t,s.name=t.name,i&&Object.assign(s,i),s};const YI=null;function Wf(t){return $.isPlainObject(t)||$.isArray(t)}function e1(t){return $.endsWith(t,"[]")?t.slice(0,-2):t}function G0(t,e,n){return t?t.concat(e).map(function(o,i){return o=e1(o),!n&&i?"["+o+"]":o}).join(n?".":""):e}function XI(t){return $.isArray(t)&&!t.some(Wf)}const JI=$.toFlatObject($,{},null,function(e){return/^is[A-Z]/.test(e)});function sd(t,e,n){if(!$.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,w){return!$.isUndefined(w[y])});const r=n.metaTokens,o=n.visitor||d,i=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(e);if(!$.isFunction(o))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if($.isDate(g))return g.toISOString();if(!l&&$.isBlob(g))throw new ue("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(g)||$.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,y,w){let b=g;if(g&&!w&&typeof g=="object"){if($.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if($.isArray(g)&&XI(g)||($.isFileList(g)||$.endsWith(y,"[]"))&&(b=$.toArray(g)))return y=e1(y),b.forEach(function(p,x){!($.isUndefined(p)||p===null)&&e.append(s===!0?G0([y],x,i):s===null?y:y+"[]",c(p))}),!1}return Wf(g)?!0:(e.append(G0(w,y,i),c(g)),!1)}const u=[],h=Object.assign(JI,{defaultVisitor:d,convertValue:c,isVisitable:Wf});function v(g,y){if(!$.isUndefined(g)){if(u.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));u.push(g),$.forEach(g,function(b,m){(!($.isUndefined(b)||b===null)&&o.call(e,b,$.isString(m)?m.trim():m,y,h))===!0&&v(b,y?y.concat(m):[m])}),u.pop()}}if(!$.isObject(t))throw new TypeError("data must be an object");return v(t),e}function q0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function qp(t,e){this._pairs=[],t&&sd(t,this,e)}const t1=qp.prototype;t1.append=function(e,n){this._pairs.push([e,n])};t1.toString=function(e){const n=e?function(r){return e.call(this,r,q0)}:q0;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function QI(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function n1(t,e,n){if(!e)return t;const r=n&&n.encode||QI,o=n&&n.serialize;let i;if(o?i=o(e,n):i=$.isURLSearchParams(e)?e.toString():new qp(e,n).toString(r),i){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class ZI{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,function(r){r!==null&&e(r)})}}const K0=ZI,r1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},eP=typeof URLSearchParams<"u"?URLSearchParams:qp,tP=typeof FormData<"u"?FormData:null,nP=typeof Blob<"u"?Blob:null,rP=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),oP=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),yn={isBrowser:!0,classes:{URLSearchParams:eP,FormData:tP,Blob:nP},isStandardBrowserEnv:rP,isStandardBrowserWebWorkerEnv:oP,protocols:["http","https","file","blob","url","data"]};function iP(t,e){return sd(t,new yn.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return yn.isNode&&$.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function sP(t){return $.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function aP(t){const e={},n=Object.keys(t);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],e[i]=t[i];return e}function o1(t){function e(n,r,o,i){let s=n[i++];const a=Number.isFinite(+s),l=i>=n.length;return s=!s&&$.isArray(o)?o.length:s,l?($.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!a):((!o[s]||!$.isObject(o[s]))&&(o[s]=[]),e(n,r,o[s],i)&&$.isArray(o[s])&&(o[s]=aP(o[s])),!a)}if($.isFormData(t)&&$.isFunction(t.entries)){const n={};return $.forEachEntry(t,(r,o)=>{e(sP(r),o,n,0)}),n}return null}const lP={"Content-Type":void 0};function cP(t,e,n){if($.isString(t))try{return(e||JSON.parse)(t),$.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const ad={transitional:r1,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=$.isObject(e);if(i&&$.isHTMLForm(e)&&(e=new FormData(e)),$.isFormData(e))return o&&o?JSON.stringify(o1(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return iP(e,this.formSerializer).toString();if((a=$.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return sd(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),cP(e)):e}],transformResponse:[function(e){const n=this.transitional||ad.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(e&&$.isString(e)&&(r&&!this.responseType||o)){const s=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?ue.from(a,ue.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yn.classes.FormData,Blob:yn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};$.forEach(["delete","get","head"],function(e){ad.headers[e]={}});$.forEach(["post","put","patch"],function(e){ad.headers[e]=$.merge(lP)});const Kp=ad,dP=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uP=t=>{const e={};let n,r,o;return t&&t.split(`
`).forEach(function(s){o=s.indexOf(":"),n=s.substring(0,o).trim().toLowerCase(),r=s.substring(o+1).trim(),!(!n||e[n]&&dP[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Y0=Symbol("internals");function Zi(t){return t&&String(t).trim().toLowerCase()}function vl(t){return t===!1||t==null?t:$.isArray(t)?t.map(vl):String(t)}function fP(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const hP=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function hu(t,e,n,r,o){if($.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!$.isString(e)){if($.isString(r))return e.indexOf(r)!==-1;if($.isRegExp(r))return r.test(e)}}function pP(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function mP(t,e){const n=$.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,i,s){return this[r].call(this,e,o,i,s)},configurable:!0})})}class ld{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function i(a,l,c){const d=Zi(l);if(!d)throw new Error("header name must be a non-empty string");const u=$.findKey(o,d);(!u||o[u]===void 0||c===!0||c===void 0&&o[u]!==!1)&&(o[u||l]=vl(a))}const s=(a,l)=>$.forEach(a,(c,d)=>i(c,d,l));return $.isPlainObject(e)||e instanceof this.constructor?s(e,n):$.isString(e)&&(e=e.trim())&&!hP(e)?s(uP(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=Zi(e),e){const r=$.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return fP(o);if($.isFunction(n))return n.call(this,o,r);if($.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Zi(e),e){const r=$.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||hu(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function i(s){if(s=Zi(s),s){const a=$.findKey(r,s);a&&(!n||hu(r,r[a],a,n))&&(delete r[a],o=!0)}}return $.isArray(e)?e.forEach(i):i(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!e||hu(this,this[i],i,e,!0))&&(delete this[i],o=!0)}return o}normalize(e){const n=this,r={};return $.forEach(this,(o,i)=>{const s=$.findKey(r,i);if(s){n[s]=vl(o),delete n[i];return}const a=e?pP(i):String(i).trim();a!==i&&delete n[i],n[a]=vl(o),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return $.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&$.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[Y0]=this[Y0]={accessors:{}}).accessors,o=this.prototype;function i(s){const a=Zi(s);r[a]||(mP(o,s),r[a]=!0)}return $.isArray(e)?e.forEach(i):i(e),this}}ld.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.freezeMethods(ld.prototype);$.freezeMethods(ld);const Yn=ld;function pu(t,e){const n=this||Kp,r=e||n,o=Yn.from(r.headers);let i=r.data;return $.forEach(t,function(a){i=a.call(n,i,o.normalize(),e?e.status:void 0)}),o.normalize(),i}function i1(t){return!!(t&&t.__CANCEL__)}function fa(t,e,n){ue.call(this,t??"canceled",ue.ERR_CANCELED,e,n),this.name="CanceledError"}$.inherits(fa,ue,{__CANCEL__:!0});function gP(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ue("Request failed with status code "+n.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const vP=yn.isStandardBrowserEnv?function(){return{write:function(n,r,o,i,s,a){const l=[];l.push(n+"="+encodeURIComponent(r)),$.isNumber(o)&&l.push("expires="+new Date(o).toGMTString()),$.isString(i)&&l.push("path="+i),$.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function yP(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function bP(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function s1(t,e){return t&&!yP(e)?bP(t,e):e}const xP=yn.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function o(i){let s=i;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(s){const a=$.isString(s)?o(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function wP(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function kP(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o=0,i=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[i];s||(s=c),n[o]=l,r[o]=c;let u=i,h=0;for(;u!==o;)h+=n[u++],u=u%t;if(o=(o+1)%t,o===i&&(i=(i+1)%t),c-s<e)return;const v=d&&c-d;return v?Math.round(h*1e3/v):void 0}}function X0(t,e){let n=0;const r=kP(50,250);return o=>{const i=o.loaded,s=o.lengthComputable?o.total:void 0,a=i-n,l=r(a),c=i<=s;n=i;const d={loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&c?(s-i)/l:void 0,event:o};d[e?"download":"upload"]=!0,t(d)}}const SP=typeof XMLHttpRequest<"u",EP=SP&&function(t){return new Promise(function(n,r){let o=t.data;const i=Yn.from(t.headers).normalize(),s=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}$.isFormData(o)&&(yn.isStandardBrowserEnv||yn.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(t.auth){const v=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(v+":"+g))}const d=s1(t.baseURL,t.url);c.open(t.method.toUpperCase(),n1(d,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function u(){if(!c)return;const v=Yn.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),y={data:!s||s==="text"||s==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:v,config:t,request:c};gP(function(b){n(b),l()},function(b){r(b),l()},y),c=null}if("onloadend"in c?c.onloadend=u:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(u)},c.onabort=function(){c&&(r(new ue("Request aborted",ue.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new ue("Network Error",ue.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let g=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const y=t.transitional||r1;t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),r(new ue(g,y.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,t,c)),c=null},yn.isStandardBrowserEnv){const v=(t.withCredentials||xP(d))&&t.xsrfCookieName&&vP.read(t.xsrfCookieName);v&&i.set(t.xsrfHeaderName,v)}o===void 0&&i.setContentType(null),"setRequestHeader"in c&&$.forEach(i.toJSON(),function(g,y){c.setRequestHeader(y,g)}),$.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),s&&s!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",X0(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",X0(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=v=>{c&&(r(!v||v.type?new fa(null,t,c):v),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const h=wP(d);if(h&&yn.protocols.indexOf(h)===-1){r(new ue("Unsupported protocol "+h+":",ue.ERR_BAD_REQUEST,t));return}c.send(o||null)})},yl={http:YI,xhr:EP};$.forEach(yl,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const TP={getAdapter:t=>{t=$.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let o=0;o<e&&(n=t[o],!(r=$.isString(n)?yl[n.toLowerCase()]:n));o++);if(!r)throw r===!1?new ue(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error($.hasOwnProp(yl,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!$.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:yl};function mu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new fa(null,t)}function J0(t){return mu(t),t.headers=Yn.from(t.headers),t.data=pu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),TP.getAdapter(t.adapter||Kp.adapter)(t).then(function(r){return mu(t),r.data=pu.call(t,t.transformResponse,r),r.headers=Yn.from(r.headers),r},function(r){return i1(r)||(mu(t),r&&r.response&&(r.response.data=pu.call(t,t.transformResponse,r.response),r.response.headers=Yn.from(r.response.headers))),Promise.reject(r)})}const Q0=t=>t instanceof Yn?t.toJSON():t;function _i(t,e){e=e||{};const n={};function r(c,d,u){return $.isPlainObject(c)&&$.isPlainObject(d)?$.merge.call({caseless:u},c,d):$.isPlainObject(d)?$.merge({},d):$.isArray(d)?d.slice():d}function o(c,d,u){if($.isUndefined(d)){if(!$.isUndefined(c))return r(void 0,c,u)}else return r(c,d,u)}function i(c,d){if(!$.isUndefined(d))return r(void 0,d)}function s(c,d){if($.isUndefined(d)){if(!$.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,u){if(u in e)return r(c,d);if(u in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,d)=>o(Q0(c),Q0(d),!0)};return $.forEach(Object.keys(Object.assign({},t,e)),function(d){const u=l[d]||o,h=u(t[d],e[d],d);$.isUndefined(h)&&u!==a||(n[d]=h)}),n}const a1="1.4.0",Yp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Yp[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Z0={};Yp.transitional=function(e,n,r){function o(i,s){return"[Axios v"+a1+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,a)=>{if(e===!1)throw new ue(o(s," has been removed"+(n?" in "+n:"")),ue.ERR_DEPRECATED);return n&&!Z0[s]&&(Z0[s]=!0,console.warn(o(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,s,a):!0}};function CP(t,e,n){if(typeof t!="object")throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const i=r[o],s=e[i];if(s){const a=t[i],l=a===void 0||s(a,i,t);if(l!==!0)throw new ue("option "+i+" must be "+l,ue.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ue("Unknown option "+i,ue.ERR_BAD_OPTION)}}const Gf={assertOptions:CP,validators:Yp},dr=Gf.validators;class dc{constructor(e){this.defaults=e,this.interceptors={request:new K0,response:new K0}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=_i(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&Gf.assertOptions(r,{silentJSONParsing:dr.transitional(dr.boolean),forcedJSONParsing:dr.transitional(dr.boolean),clarifyTimeoutError:dr.transitional(dr.boolean)},!1),o!=null&&($.isFunction(o)?n.paramsSerializer={serialize:o}:Gf.assertOptions(o,{encode:dr.function,serialize:dr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s;s=i&&$.merge(i.common,i[n.method]),s&&$.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=Yn.concat(s,i);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let d,u=0,h;if(!l){const g=[J0.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),h=g.length,d=Promise.resolve(n);u<h;)d=d.then(g[u++],g[u++]);return d}h=a.length;let v=n;for(u=0;u<h;){const g=a[u++],y=a[u++];try{v=g(v)}catch(w){y.call(this,w);break}}try{d=J0.call(this,v)}catch(g){return Promise.reject(g)}for(u=0,h=c.length;u<h;)d=d.then(c[u++],c[u++]);return d}getUri(e){e=_i(this.defaults,e);const n=s1(e.baseURL,e.url);return n1(n,e.params,e.paramsSerializer)}}$.forEach(["delete","get","head","options"],function(e){dc.prototype[e]=function(n,r){return this.request(_i(r||{},{method:e,url:n,data:(r||{}).data}))}});$.forEach(["post","put","patch"],function(e){function n(r){return function(i,s,a){return this.request(_i(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}dc.prototype[e]=n(),dc.prototype[e+"Form"]=n(!0)});const bl=dc;class Xp{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const s=new Promise(a=>{r.subscribe(a),i=a}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},e(function(i,s,a){r.reason||(r.reason=new fa(i,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Xp(function(o){e=o}),cancel:e}}}const _P=Xp;function NP(t){return function(n){return t.apply(null,n)}}function jP(t){return $.isObject(t)&&t.isAxiosError===!0}const qf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qf).forEach(([t,e])=>{qf[e]=t});const IP=qf;function l1(t){const e=new bl(t),n=Hw(bl.prototype.request,e);return $.extend(n,bl.prototype,e,{allOwnKeys:!0}),$.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return l1(_i(t,o))},n}const Qe=l1(Kp);Qe.Axios=bl;Qe.CanceledError=fa;Qe.CancelToken=_P;Qe.isCancel=i1;Qe.VERSION=a1;Qe.toFormData=sd;Qe.AxiosError=ue;Qe.Cancel=Qe.CanceledError;Qe.all=function(e){return Promise.all(e)};Qe.spread=NP;Qe.isAxiosError=jP;Qe.mergeConfig=_i;Qe.AxiosHeaders=Yn;Qe.formToJSON=t=>o1($.isHTMLForm(t)?new FormData(t):t);Qe.HttpStatusCode=IP;Qe.default=Qe;const G=Qe,PP=(t,e)=>{sessionStorage.setItem(t,e)},cd=t=>sessionStorage.getItem(t),LP=t=>{sessionStorage.removeItem(t)},c1=async t=>{if(!t)return!1;try{return(await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/validate-token",{},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},timeout:5e3})).status===200}catch(e){return console.error("Token validation failed:",e),!1}},AP=async t=>{try{return(await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/refresh-token",{refreshToken:t},{headers:{"Content-Type":"application/json"},timeout:1e4})).data.access_token}catch(e){return console.error("Token refresh failed:",e),null}},dd=t=>{LP("user"),sessionStorage.clear(),t({access_token:null}),G.defaults.headers.common.Authorization=null},d1=async t=>{let e=cd("user");if(e)try{const n=JSON.parse(e);return n.access_token?await c1(n.access_token)?(t(n),G.defaults.headers.common.Authorization=`Bearer ${n.access_token}`,n):(console.log("Invalid token found, clearing session"),sessionStorage.clear(),t({access_token:null}),null):(t({access_token:null}),null)}catch(n){return console.error("Error parsing session data:",n),sessionStorage.clear(),t({access_token:null}),null}else return t({access_token:null}),null},Xt=(t,e)=>{PP("user",JSON.stringify(t)),e(t),t.access_token?G.defaults.headers.common.Authorization=`Bearer ${t.access_token}`:G.defaults.headers.common.Authorization=null},BP=Object.freeze(Object.defineProperty({__proto__:null,initializeUserAuth:d1,logoutUser:dd,refreshAccessToken:AP,updateUserAuth:Xt,validateToken:c1},Symbol.toStringTag,{value:"Module"})),ev=()=>{const{userAuth:{username:t,isAdmin:e,admin:n,role:r},setUserAuth:o}=_.useContext(ye),i=()=>{dd(o)},s=e||n||r==="admin";return f.jsx(Me,{className:"absolute right-0 z-50",transition:{duration:.2},children:f.jsxs("div",{className:"bg-white absolute right-0 border border-grey w-60 duration-200",children:[s&&f.jsxs(ee,{to:"/editor",className:"flex gap-2 link md:hidden pl-8 py-4",children:[f.jsx("i",{className:"fi fi-rr-file-edit"}),f.jsx("p",{children:"Write"})]}),f.jsx(ee,{to:`/user/${t}`,className:"link pl-8 py-4",children:"Profile"}),s&&f.jsx(ee,{to:"/dashboard/blogs",className:"link pl-8 py-4",children:"Dashboard"}),f.jsx(ee,{to:"/dashboard/notification",className:"link pl-8 py-4",children:"Notifications"}),f.jsx(ee,{to:"/settings/edit-profile",className:"link pl-8 py-4",children:"Settings"}),f.jsx("span",{className:"absolute border-t border-grey w-[100%]"}),f.jsxs("button",{className:"text-left p-4 hover:bg-grey w-full pl-8 py-4",onClick:i,children:[f.jsx("h1",{className:"font-bold text-xl mg-1",children:"Sign Out"}),f.jsxs("p",{className:"text-dark-grey",children:["@",t]})]})]})})};let OP={data:""},MP=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||OP,RP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,DP=/\/\*[^]*?\*\/|  +/g,tv=/\n+/g,yr=(t,e)=>{let n="",r="",o="";for(let i in t){let s=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+s+";":r+=i[1]=="f"?yr(s,i):i+"{"+yr(s,i[1]=="k"?"":e)+"}":typeof s=="object"?r+=yr(s,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=yr.p?yr.p(i,s):i+":"+s+";")}return n+(e&&o?e+"{"+o+"}":o)+r},Ln={},u1=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+u1(t[n]);return e}return t},FP=(t,e,n,r,o)=>{let i=u1(t),s=Ln[i]||(Ln[i]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(i));if(!Ln[s]){let l=i!==t?t:(c=>{let d,u,h=[{}];for(;d=RP.exec(c.replace(DP,""));)d[4]?h.shift():d[3]?(u=d[3].replace(tv," ").trim(),h.unshift(h[0][u]=h[0][u]||{})):h[0][d[1]]=d[2].replace(tv," ").trim();return h[0]})(t);Ln[s]=yr(o?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&Ln.g?Ln.g:null;return n&&(Ln.g=Ln[s]),((l,c,d,u)=>{u?c.data=c.data.replace(u,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(Ln[s],e,r,a),s},UP=(t,e,n)=>t.reduce((r,o,i)=>{let s=e[i];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":yr(a,""):a===!1?"":a}return r+o+(s??"")},"");function ud(t){let e=this||{},n=t.call?t(e.p):t;return FP(n.unshift?n.raw?UP(n,[].slice.call(arguments,1),e.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(e.p):o),{}):n,MP(e.target),e.g,e.o,e.k)}let f1,Kf,Yf;ud.bind({g:1});let nr=ud.bind({k:1});function zP(t,e,n,r){yr.p=e,f1=t,Kf=n,Yf=r}function Qr(t,e){let n=this||{};return function(){let r=arguments;function o(i,s){let a=Object.assign({},i),l=a.className||o.className;n.p=Object.assign({theme:Kf&&Kf()},a),n.o=/ *go\d+/.test(l),a.className=ud.apply(n,r)+(l?" "+l:""),e&&(a.ref=s);let c=t;return t[0]&&(c=a.as||t,delete a.as),Yf&&c[0]&&Yf(a),f1(c,a)}return e?e(o):o}}var $P=t=>typeof t=="function",uc=(t,e)=>$P(t)?t(e):t,VP=(()=>{let t=0;return()=>(++t).toString()})(),h1=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),HP=20,p1=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,HP)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return p1(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},xl=[],ho={toasts:[],pausedAt:void 0},Fo=t=>{ho=p1(ho,t),xl.forEach(e=>{e(ho)})},WP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},GP=(t={})=>{let[e,n]=_.useState(ho),r=_.useRef(ho);_.useEffect(()=>(r.current!==ho&&n(ho),xl.push(n),()=>{let i=xl.indexOf(n);i>-1&&xl.splice(i,1)}),[]);let o=e.toasts.map(i=>{var s,a,l;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((s=t[i.type])==null?void 0:s.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||WP[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:o}},qP=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||VP()}),ha=t=>(e,n)=>{let r=qP(e,t,n);return Fo({type:2,toast:r}),r.id},H=(t,e)=>ha("blank")(t,e);H.error=ha("error");H.success=ha("success");H.loading=ha("loading");H.custom=ha("custom");H.dismiss=t=>{Fo({type:3,toastId:t})};H.remove=t=>Fo({type:4,toastId:t});H.promise=(t,e,n)=>{let r=H.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(o=>{let i=e.success?uc(e.success,o):void 0;return i?H.success(i,{id:r,...n,...n==null?void 0:n.success}):H.dismiss(r),o}).catch(o=>{let i=e.error?uc(e.error,o):void 0;i?H.error(i,{id:r,...n,...n==null?void 0:n.error}):H.dismiss(r)}),t};var KP=(t,e)=>{Fo({type:1,toast:{id:t,height:e}})},YP=()=>{Fo({type:5,time:Date.now()})},ws=new Map,XP=1e3,JP=(t,e=XP)=>{if(ws.has(t))return;let n=setTimeout(()=>{ws.delete(t),Fo({type:4,toastId:t})},e);ws.set(t,n)},QP=t=>{let{toasts:e,pausedAt:n}=GP(t);_.useEffect(()=>{if(n)return;let i=Date.now(),s=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&H.dismiss(a.id);return}return setTimeout(()=>H.dismiss(a.id),l)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=_.useCallback(()=>{n&&Fo({type:6,time:Date.now()})},[n]),o=_.useCallback((i,s)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=s||{},d=e.filter(v=>(v.position||c)===(i.position||c)&&v.height),u=d.findIndex(v=>v.id===i.id),h=d.filter((v,g)=>g<u&&v.visible).length;return d.filter(v=>v.visible).slice(...a?[h+1]:[0,h]).reduce((v,g)=>v+(g.height||0)+l,0)},[e]);return _.useEffect(()=>{e.forEach(i=>{if(i.dismissed)JP(i.id,i.removeDelay);else{let s=ws.get(i.id);s&&(clearTimeout(s),ws.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:KP,startPause:YP,endPause:r,calculateOffset:o}}},ZP=nr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,e3=nr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,t3=nr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,n3=Qr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ZP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${e3} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${t3} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,r3=nr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,o3=Qr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${r3} 1s linear infinite;
`,i3=nr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,s3=nr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,a3=Qr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${i3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${s3} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,l3=Qr("div")`
  position: absolute;
`,c3=Qr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,d3=nr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,u3=Qr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${d3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,f3=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?_.createElement(u3,null,e):e:n==="blank"?null:_.createElement(c3,null,_.createElement(o3,{...r}),n!=="loading"&&_.createElement(l3,null,n==="error"?_.createElement(n3,{...r}):_.createElement(a3,{...r})))},h3=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,p3=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,m3="0%{opacity:0;} 100%{opacity:1;}",g3="0%{opacity:1;} 100%{opacity:0;}",v3=Qr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,y3=Qr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,b3=(t,e)=>{let n=t.includes("top")?1:-1,[r,o]=h1()?[m3,g3]:[h3(n),p3(n)];return{animation:e?`${nr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${nr(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},x3=_.memo(({toast:t,position:e,style:n,children:r})=>{let o=t.height?b3(t.position||e||"top-center",t.visible):{opacity:0},i=_.createElement(f3,{toast:t}),s=_.createElement(y3,{...t.ariaProps},uc(t.message,t));return _.createElement(v3,{className:t.className,style:{...o,...n,...t.style}},typeof r=="function"?r({icon:i,message:s}):_.createElement(_.Fragment,null,i,s))});zP(_.createElement);var w3=({id:t,className:e,style:n,onHeightUpdate:r,children:o})=>{let i=_.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return _.createElement("div",{ref:i,className:e,style:n},o)},k3=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:h1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...o}},S3=ud`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Xa=16,In=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:o,containerStyle:i,containerClassName:s})=>{let{toasts:a,handlers:l}=QP(n);return _.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Xa,left:Xa,right:Xa,bottom:Xa,pointerEvents:"none",...i},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let d=c.position||e,u=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),h=k3(d,u);return _.createElement(w3,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?S3:"",style:h},c.type==="custom"?uc(c.message,c):o?o(c):_.createElement(x3,{toast:c,position:d}))}))};const Ye={AUTH_REQUIRED:"Authentication required. Please log in again.",AUTH_EXPIRED:"Your session has expired. Please log in again.",AUTH_INVALID:"Invalid authentication. Please log in again.",PERMISSION_DENIED:"You don't have permission to perform this action.",ADMIN_REQUIRED:"Admin privileges are required for this action.",NETWORK_ERROR:"Network error. Please check your connection and try again.",TIMEOUT_ERROR:"Request timed out. Please try again.",SERVER_ERROR:"Server error. Please try again later.",VALIDATION_ERROR:"Please check your input and try again.",INVALID_DATA:"Invalid data provided. Please check your input.",FILE_TOO_LARGE:"File size is too large. Please choose a smaller file.",INVALID_FILE_TYPE:"Invalid file type. Please choose a supported file format.",UPLOAD_FAILED:"File upload failed. Please try again.",BLOG_NOT_FOUND:"Blog not found.",BLOG_SAVE_FAILED:"Failed to save blog. Please try again.",BLOG_PUBLISH_FAILED:"Failed to publish blog. Please try again.",DRAFT_SAVE_FAILED:"Failed to save draft. Please try again.",COMMENT_FAILED:"Failed to post comment. Please try again.",COMMENT_DELETE_FAILED:"Failed to delete comment. Please try again.",PROFILE_UPDATE_FAILED:"Failed to update profile. Please try again.",PASSWORD_CHANGE_FAILED:"Failed to change password. Please try again.",UNKNOWN_ERROR:"An unexpected error occurred. Please try again.",OPERATION_FAILED:"Operation failed. Please try again."},E3={400:Ye.VALIDATION_ERROR,401:Ye.AUTH_EXPIRED,403:Ye.PERMISSION_DENIED,404:Ye.BLOG_NOT_FOUND,408:Ye.TIMEOUT_ERROR,413:Ye.FILE_TOO_LARGE,415:Ye.INVALID_FILE_TYPE,500:Ye.SERVER_ERROR,502:Ye.SERVER_ERROR,503:Ye.SERVER_ERROR,504:Ye.TIMEOUT_ERROR},nv={ECONNABORTED:Ye.TIMEOUT_ERROR,ERR_NETWORK:Ye.NETWORK_ERROR,ERR_BAD_REQUEST:Ye.VALIDATION_ERROR,ERR_BAD_RESPONSE:Ye.SERVER_ERROR,ERR_BAD_OPTION:Ye.UNKNOWN_ERROR},Cr=(t,e=Ye.UNKNOWN_ERROR)=>{var n,r,o;if(typeof t=="string")return t;if(t!=null&&t.message&&typeof t.message=="string")return t.message;if((n=t==null?void 0:t.response)!=null&&n.status){const i=E3[t.response.status];if(i)return i;if((o=(r=t.response)==null?void 0:r.data)!=null&&o.error)return t.response.data.error}if(t!=null&&t.code&&nv[t.code])return nv[t.code];if((t==null?void 0:t.name)==="AxiosError"){if(t.code==="ECONNABORTED")return Ye.TIMEOUT_ERROR;if(t.code==="ERR_NETWORK")return Ye.NETWORK_ERROR}return e},Xn=G.create({timeout:1e4,headers:{"Content-Type":"application/json"}});Xn.interceptors.request.use(t=>{const e=sessionStorage.getItem("user");if(e)try{const n=JSON.parse(e);n.access_token&&(t.headers.Authorization=`Bearer ${n.access_token}`)}catch(n){console.error("Error parsing user session:",n)}return t},t=>Promise.reject(t));Xn.interceptors.response.use(t=>t,t=>{if(t.response){const{status:e}=t.response;if(e===401)return console.log("Authentication error detected, logging out user"),dd(()=>{window.location.href="/login"}),Promise.reject(new Error(Cr(t)));if(e===403)return Promise.reject(new Error(Cr(t)))}return t.code==="ECONNABORTED"?Promise.reject(new Error(Cr(t))):t.code==="ERR_NETWORK"?Promise.reject(new Error(Cr(t))):Promise.reject(t)});G.defaults.timeout=1e4;G.defaults.headers.common["Content-Type"]="application/json";G.interceptors.request.use(t=>{const e=sessionStorage.getItem("user");if(e)try{const n=JSON.parse(e);n.access_token&&(t.headers.Authorization=`Bearer ${n.access_token}`)}catch(n){console.error("Error parsing user session:",n)}return t},t=>Promise.reject(t));G.interceptors.response.use(t=>t,t=>{if(t.response){const{status:e}=t.response;if(e===401)return console.log("Authentication error detected, logging out user"),dd(()=>{window.location.href="/login"}),Promise.reject(new Error(Cr(t)));if(e===403)return Promise.reject(new Error(Cr(t)))}return t.code==="ECONNABORTED"?Promise.reject(new Error(Cr(t))):t.code==="ERR_NETWORK"?Promise.reject(new Error(Cr(t))):Promise.reject(t)});const fc="/assets/blog banner-4c269e06.png",hc="/assets/user profile-4613af22.png",Xf="/assets/logo-9831a3d7.png",T3="/assets/full-logo-faf49934.png",m1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAoCAYAAACSN4jeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVeSURBVHgBzZhrbBRVFMfPuTO77dKtSCm1BQklppJCjEIfFIkUaHk2IKUEaQwR0FSNaIhA1BZCY2hVPho/CMQH0aatUgU+FLQPln5oKxTKIwEkJWwFoTwKWNjtY2fmeHaBdi3dmV12WfkluzN375mZ/9x79pxzL8ATCkIQUEGB6cb54+P5Lkka0gjUUAIJHQLopirJ7c/sbzwPj0jAwjrmvhwnq8oqDWA+S0vnn6J0zG8DUSOg+EmT5P3xvzdeAz/xW1hH9tQMCdRNRMiCQIIAIQAHAlaYTGLriAPNdiN7Q2FnF0+PjnG6SvnN10II4Af+xV8lo2qP7DCw8831WWmZJGAnnyZBiEGkckWWCxN8jJ7wdWFHdvr7JKj+cYhywy6RLyvqd776hxR2NSv9Q0H0Jb+XT+HBwv7WrvbhGt/9g0XNTpmLKA5AkKHEUJQLZsU3HL7g28aLW/MzEhVFbSCCseAHhHBcEOwD1A6TYv5TEeiSRV8MoJQApOWwwUK2SgxUlBvZu6G46HP+WxuKYptjAml9XG2LbYjudv608qfa3eicnbZaQdyCQOO4eUNFdVF8w9ELRs/oH7HrczIWk6buNb6AtsWq1iK02RTwk8uzJ4+ThWm7BtLG+NqmU/5c0y+st9La2lX53Ev0j9m3taCiuJqWUggDHmGuWnkanzZSj0TddaO13pMjH47sBFvj6o9shjAh7qnDAs8xUsVhORclS+YVQnS7Uj8XRs3I2QJhxDNiSq35EgGN8e5Qrli0u7+OF56pJVjNo/U9hBHRV2OaPFiUGzmhW0S/3gbS2Lsdo7SoCggzMgEm/3fWBpCG98HwlW31mHWmB/wgq8S5jVB7FYKE8/MHskCYoGuFUAf+glocv+PzECRCg0msi2L1jIikNgg/Y1gcDtOzIFXqgjCjAUVxuCD9CC5pZvgfEIjYqWdAqhq0zwSKAF7QcN2lm1BRUCqEHeyUVYRWHDpagJNk+NY5YXnK9vSNR9/e4TK6HWnaXq6Z7WAIzuKvGToGp5EOAle4puvceNq75291GGy4kwF2xequu3KPvla1B0JEVundGq75sn31C61nomDtCj+42rvjUF8Crbmd6RHlhkPKOggR8z/rTtQTxT5/sXZz7BlPElcV+sZ95AUCfO1Mho+70rCLTAPWhJlplbkbIAS4NFW/GCCeQ7hfXUTOUw52aJGn1nZNo13OJB/24ovU8qXLIAiySh1L2J1XGZj92C+MSwzK7Zzz6TFXrN4ChP/FWJFWuXQ9PIqokjsrOF2V6dlw+XW+rshac+/ci5SKZQ3sT6+AAewHZZImb2rOr7Ab2c7clx/rcFhKLFffeFN2pEj694VVdYXWXQ8Jm1qWl6RK2MID+BT4xy+cP3bz9LRGn+tssxXblAXVCyLuOC1jelwwnV9gEfflsJ0n7UXcWkIRN3OHnhUOW/WF1ikDzUHwqL3Fo7YTAscdDd2xTjeFmR0ZauS1NQhahBgQQV2qkF+0fWKxP/jtoaG9svv0sdF5ye5xnQmBgeDHLpBqviRc0c1gckxB1B7UD/jOwcIom7fdkDe6XHXm0Oi8SeyLMBMeAySc6IpuIkmJ0UTvs0X1m6xfDbbR3QZILc97jy22wX0fCTFOToXrjuRXDek2hvsTGeVLEhWUfuPTkFUZ/NATshArm5b/7HPxa7ib05y/x95ytiqZ08i7fEM7BMdt9t2Pos6+kKonyk1AOzrFxcWiesLJFbzozOdLs3l1FWl0DYeMbg4pTbyKrxDRkZV/LCzzqyJ+5K2mlJYCE5y7NVXI2kTOpZyYaST7jJnTbR8SdvKxndunemMsJ07O+8EBAfIvZzP9J7slOesAAAAASUVORK5CYII=",g1="/assets/404-74f80113.png",rv=[fc,hc,Xf,T3,m1,g1,fc,hc,Xf],C3=({instagramImages:t,recentComments:e,categories:n})=>{t&&t.length>0;const r=(e&&e.length>0?e:[{commented_by:{personal_info:{fullname:"Ellismatrix"}},comment:"Wow Nice Docs This Look 🔥 Great! It Should Be Delicious. Thanks"},{commented_by:{personal_info:{fullname:"Cassia"}},comment:"Top & Best, I'll Be Cheer Up You Again In Next Game Go Go 👏"},{commented_by:{personal_info:{fullname:"Amanda"}},comment:"You Were So Amazing Today, Love! 💖 Great Match"},{commented_by:{personal_info:{fullname:"Denis Simonassi"}},comment:"It Was a Great Match Today Jane! You Did Great 🏆"},{commented_by:{personal_info:{fullname:"User Five"}},comment:"Another great story, keep up the good work!"}]).slice(0,4),o=n&&n.length>0?n:["Culture","Fashion","Food","Healthy Living","Technology"],i=(w,b=15)=>{if(!w)return"";const m=w.split(" ");return m.length<=b?w:m.slice(0,b).join(" ")+"..."},[s,a]=_.useState(""),[l,c]=_.useState(""),[d,u]=_.useState(""),[h,v]=_.useState(!1),g=async w=>{var b,m;w.preventDefault(),c(""),u(""),v(!0);try{const p=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/subscribe-newsletter",{email:s});c(p.data.message||"Subscribed successfully!"),u("success"),a("")}catch(p){c(((m=(b=p.response)==null?void 0:b.data)==null?void 0:m.error)||"Failed to subscribe. Please try again."),u("error")}finally{v(!1)}},y=Array.isArray(t)&&t.length>0&&t[0].banner?t.slice(0,12):rv.map((w,b)=>({banner:w,blog_id:null,_default:!0})).slice(0,12);return f.jsx("div",{className:"w-full pt-4 pb-0 px-2 sm:px-6 md:px-10",children:f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row gap-4 ",children:[f.jsxs("div",{className:"bg-grey rounded-r-xl px-2 sm:px-4 w-full md:w-2/5 lg:w-auto mb-4 md:mb-0",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 bg-gray-100 px-2 sm:px-6 rounded-3xl p-4 pb-2 shadow-md max-w-full sm:max-w-xl mx-auto",children:[f.jsxs("div",{className:"flex-1 min-w-[150px] sm:min-w-[180px]",children:[f.jsxs("h3",{className:"font-semibold text-base sm:text-lg mb-1 flex items-center gap-1",children:[f.jsx("span",{className:"text-yellow-400 text-lg",children:"•"})," Islamic Stories"]}),f.jsx("p",{className:"text-xs sm:text-sm text-gray-500 leading-relaxed mb-2 text-justify",children:"Lorem Ipsum Dolor Sit Amet, Consectetur Adipisicing Elit, Sed Do Eiusmod Tempor Incididunt Ut Labore Et Dolore Magna Aliqua. Egestas Purus Viverra Accumsan In Nisi Nisi."}),f.jsxs("h3",{className:"font-semibold text-base sm:text-lg mb-1 flex items-center gap-1 mt-6",children:[f.jsx("span",{className:"text-yellow-400 text-lg",children:"•"})," Newsletters"]}),f.jsxs("form",{onSubmit:g,className:"flex items-center border rounded-md overflow-hidden w-full max-w-xs bg-white",children:[f.jsx("input",{type:"email",placeholder:"Write Your Email ..",className:"flex-1 px-2 py-2 bg-transparent outline-none text-xs sm:text-sm",value:s,onChange:w=>a(w.target.value),required:!0,disabled:h}),f.jsx("button",{type:"submit",className:"bg-white px-2 py-2 text-gray-500 hover:text-gray-700 disabled:opacity-60",disabled:h,children:h?f.jsxs("svg",{className:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}):f.jsx("i",{className:"fi fi-rr-envelope"})})]}),l&&f.jsx("div",{className:`mt-2 text-xs ${d==="success"?"text-green-600":"text-red-500"}`,children:l})]}),f.jsxs("div",{className:"flex-1 min-w-[80px] sm:min-w-[100px] max-auto",children:[f.jsxs("h3",{className:"font-semibold text-base sm:text-lg mb-1 flex items-center gap-1",children:[f.jsx("span",{className:"text-yellow-400 text-lg",children:"•"})," Categories"]}),f.jsx("ul",{className:"text-xs sm:text-sm text-gray-500 space-y-1 pl-2 mb-2",style:{maxHeight:"7.5em",overflowY:"auto"},children:o.map((w,b)=>f.jsx("li",{children:w},b))}),f.jsxs("h3",{className:"font-semibold text-base sm:text-lg mb-1 flex items-center gap-1 mt-8 sm:mt-16 whitespace-nowrap",children:[f.jsx("span",{className:"text-yellow-400 text-lg",children:"•"})," Social Network"]}),f.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[f.jsxs("a",{href:"https://instagram.com/yourprofile",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-2 py-1 bg-pink-500 text-white rounded-md text-xs hover:bg-pink-600 transition",children:[f.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 1.366.062 2.633.334 3.608 1.308.974.974 1.246 2.241 1.308 3.608.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.062 1.366-.334 2.633-1.308 3.608-.974.974-2.241 1.246-3.608 1.308-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.366-.062-2.633-.334-3.608-1.308-.974-.974-1.246-2.241-1.308-3.608C2.175 15.647 2.163 15.267 2.163 12s.012-3.584.07-4.85c.062-1.366.334-2.633 1.308-3.608.974-.974 2.241-1.246 3.608-1.308C8.416 2.175 8.796 2.163 12 2.163zm0-2.163C8.741 0 8.332.013 7.052.072 5.771.131 4.659.425 3.678 1.406 2.697 2.387 2.403 3.499 2.344 4.78.013 8.332 0 8.741 0 12c0 3.259.013 3.668.072 4.948.059 1.281.353 2.393 1.334 3.374.981.981 2.093 1.275 3.374 1.334C8.332 23.987 8.741 24 12 24s3.668-.013 4.948-.072c1.281-.059 2.393-.353 3.374-1.334.981-.981 1.275-2.093 1.334-3.374.059-1.28.072-1.689.072-4.948s-.013-3.668-.072-4.948c-.059-1.281-.353-2.393-1.334-3.374-.981-.981-2.093-1.275-3.374-1.334C15.668.013 15.259 0 12 0z"}),f.jsx("path",{d:"M12 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324zm0 10.162a3.999 3.999 0 1 1 0-7.998 3.999 3.999 0 0 1 0 7.998zm6.406-11.845a1.44 1.44 0 1 0 0 2.88 1.44 1.44 0 0 0 0-2.88z"})]})," Instagram"]}),f.jsxs("a",{href:"https://twitter.com/yourprofile",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-2 py-1 bg-blue-400 text-white rounded-md text-xs hover:bg-blue-500 transition",children:[f.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M24 4.557a9.93 9.93 0 0 1-2.828.775 4.932 4.932 0 0 0 2.165-2.724c-.951.564-2.005.974-3.127 1.195a4.92 4.92 0 0 0-8.384 4.482C7.691 8.095 4.066 6.13 1.64 3.161c-.542.929-.856 2.01-.857 3.17 0 2.188 1.115 4.117 2.823 5.254a4.904 4.904 0 0 1-2.229-.616c-.054 2.281 1.581 4.415 3.949 4.89a4.936 4.936 0 0 1-2.224.084c.627 1.956 2.444 3.377 4.6 3.417A9.867 9.867 0 0 1 0 21.543a13.94 13.94 0 0 0 7.548 2.209c9.057 0 14.009-7.496 14.009-13.986 0-.21-.005-.423-.014-.634A9.936 9.936 0 0 0 24 4.557z"})})," Twitter"]})]})]})]}),f.jsxs("div",{className:"w-full bg-gray-300 py-2 mt-2 rounded-b-3xl px-2 sm:px-4 flex flex-col md:flex-row justify-between items-center text-xs text-gray-600 gap-2",children:[f.jsxs("span",{className:"text-center w-full md:w-auto",children:[f.jsx("a",{href:"/privacy-policy",className:"hover:underline",children:"Privacy Policy"})," | ",f.jsx("a",{href:"/terms-and-conditions",className:"hover:underline",children:"Terms & Conditions"})]}),f.jsxs("span",{className:"text-center w-full md:w-auto",children:["All Copyright (C) ",new Date().getFullYear()," Reserved"]})]})]}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full",children:[f.jsxs("div",{className:"flex-1 w-full md:w-1/2 sm:max-w-xs bg-gray-200 rounded-3xl p-4 flex flex-col gap-2 shadow-md mb-4 md:mb-0",children:[f.jsxs("h3",{className:"font-semibold text-base sm:text-lg mb-3 flex items-center gap-1",children:[f.jsx("span",{className:"text-yellow-400 text-lg",children:"•"})," New Comments"]}),f.jsx("div",{className:"flex flex-col gap-2",children:r.map((w,b)=>{var m,p,x;return f.jsxs("div",{className:"bg-white rounded-lg p-1.5 text-xs sm:text-sm shadow-sm min-h-0",children:[f.jsx("span",{className:"font-semibold text-gray-700 block leading-tight mb-0.5",children:((p=(m=w.commented_by)==null?void 0:m.personal_info)==null?void 0:p.fullname)||((x=w.commented_by)==null?void 0:x.fullname)||"User"}),f.jsx("span",{className:"text-gray-500 block leading-tight",children:i(w.comment,10)})]},b)})})]}),f.jsxs("div",{className:"flex-1 w-full md:w-1/2 sm:max-w-xs flex flex-col mb-4 md:mb-0",children:[f.jsxs("h3",{className:"font-semibold text-base sm:text-lg mb-3 flex items-center gap-1",children:[f.jsx("span",{className:"text-yellow-400 text-lg",children:"•"})," Follow On Instagram"]}),f.jsx("div",{className:"mt-2",children:f.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2",children:y.map((w,b)=>w.blog_id?f.jsx("a",{href:`/blog/${w.blog_id}`,target:"_blank",rel:"noopener noreferrer",children:f.jsx("img",{src:w.banner,alt:`Instagram post ${b+1}`,className:"w-full aspect-square object-cover rounded-md border border-gray-200"})},w.blog_id):f.jsx("img",{src:w.banner,alt:`Instagram post ${b+1}`,className:"w-full aspect-square object-cover rounded-md border border-gray-200 opacity-60"},b))})})]})]})]})})},_3=()=>{var L;const[t,e]=_.useState(!1),{userAuth:n,setUserAuth:r}=_.useContext(ye),{blogImages:o,categories:i}=_.useContext(kd);let{theme:s,setTheme:a}=_.useContext(km);const l=n==null?void 0:n.access_token,c=((L=n==null?void 0:n.personal_info)==null?void 0:L.profile_img)||(n==null?void 0:n.profile_img),d=n==null?void 0:n.new_notification_available,[u,h]=_.useState(!1),v=_.useRef(null),g=_.useRef(null),[y,w]=_.useState(!1),[b,m]=_.useState(!1),p=_.useRef(null),[x,E]=_.useState([]),N=Xr();let j=Nn();const S=!["/login","/signup"].includes(N.pathname),C=()=>{e(A=>!A)},T=()=>{setTimeout(()=>{e(!1)},200)},I=A=>{let D=A.target.value.trim();A.keyCode===13&&D.length&&j(`/search/${D}`)};_.useEffect(()=>{if(l){const A=()=>{Xn.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/new-notification",{headers:{Authorization:`Bearer ${l}`}}).then(({data:B})=>{const M={...n,...B};Xt(M,r)}).catch(B=>{console.error("Error checking notifications:",B),(B.code==="ERR_NETWORK"||B.message.includes("ECONNREFUSED"))&&console.error("Server connection failed. Make sure the server is running on port 3000.")})};A();const D=setInterval(A,3e4);return()=>clearInterval(D)}},[l]),_.useEffect(()=>{function A(D){v.current&&!v.current.contains(D.target)&&w(!1)}return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[]),_.useEffect(()=>{y&&p.current&&p.current.focus()},[y]),_.useEffect(()=>{w(!1)},[N.pathname]);const P=()=>{const A=s==="dark"?"light":"dark";a(A),document.body.setAttribute("data-theme",A),sessionStorage.setItem("theme",A)},O=()=>{if(d&&l){const A={...n,new_notification_available:!1};Xt(A,r),Xn.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/seen-notifications",{},{headers:{Authorization:`Bearer ${l}`}}).catch(D=>{console.log("Error marking notifications as seen:",D)})}};return _.useEffect(()=>{(async()=>{try{const{data:D}=await Xn.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/recent-comments");E(D.comments||[])}catch(D){console.error("Error fetching recent comments:",D),E([])}})()},[]),f.jsxs(f.Fragment,{children:[f.jsxs("nav",{className:"navbar flex items-center justify-between z-50 mb-2",children:[f.jsx(ee,{to:"/",className:"text-2xl font-bold text-[#185d4e] shrink-0 logo-text",children:"IslamicStories"}),f.jsxs("div",{className:"hidden md:flex space-x-6 mr-auto ml-8 items-center flex-nowrap",children:[f.jsx(ee,{to:"/",className:"text-gray-600 navHover",children:"Home"}),f.jsxs("div",{className:"relative",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[f.jsxs(ee,{to:"/categories",className:"text-gray-600 navHover flex items-center focus:outline-none",onClick:()=>m(!1),children:["Categories",f.jsx("i",{className:"fi fi-rr-angle-small-down ml-2 navHover pt-1"})]}),b&&f.jsx("div",{className:"absolute left-0 mt-2 w-48 bg-white rounded shadow-lg z-50",children:i.map((A,D)=>f.jsx(ee,{to:`/categories/${encodeURIComponent(A)}`,className:"block px-4 py-2 text-gray-700 hover:bg-gray-100 capitalize",onClick:()=>m(!1),children:A},A))})]}),f.jsx(ee,{to:"/contact",className:"text-gray-600 navHover",children:"Contact"}),f.jsx(ee,{to:"/about",className:"text-gray-600 navHover",children:"About"})]}),f.jsxs("div",{className:"flex items-center gap-5 shrink-0",children:[f.jsx("button",{className:"w-12 h-12 rounded-full bg-grey relative hover:bg-black/10 dark-hover flex items-center justify-center hidden md:flex",onClick:P,"aria-label":"Toggle theme",children:s==="dark"?f.jsx("i",{className:"fi fi-rr-sun text-xl "}):f.jsx("i",{className:"fi fi-rr-moon-stars text-xl"})}),l?f.jsxs(f.Fragment,{children:[n!=null&&n.isAdmin?f.jsxs(ee,{className:"border-2 border-grey rounded-full px-5 py-0 hidden md:block",to:"/editor",children:[f.jsx("i",{className:"fi fi-rr-file-edit text-sm pt-2 -ml-2"})," Write"]}):null,f.jsx(ee,{to:"/dashboard/notification",className:"hidden md:block",children:f.jsxs("button",{className:"w-12 h-12 rounded-full bg-grey relative hover:bg-black/10 dark-hover",onClick:O,children:[f.jsx("i",{className:"fi fi-rr-bell text-2xl block mt-1"}),d?f.jsx("span",{className:"bg-red w-3 h-3 rounded-full absolute z-10 top-2 right-2"}):""]})}),f.jsxs("div",{className:"relative hidden md:block",children:[f.jsx("button",{className:"w-12 h-12 ",onClick:C,onBlur:T,children:f.jsx("img",{src:c||"/default-profile.png",alt:"Profile",className:"w-full h-full object-cover rounded-full"})}),t&&f.jsx(ev,{})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(ee,{className:"btn-light py-2 hidden md:block",to:"/login",children:"Login"}),f.jsx(ee,{className:"btn-dark py-2 hidden md:block",to:"/signup",children:"SignUp"})]})]}),f.jsxs("div",{ref:g,className:"flex items-center gap-2 md:gap-6 ",children:[f.jsx("button",{className:"md:hidden bg-gray-100 w-12 h-12 rounded-full flex items-center justify-center",onClick:()=>w(A=>!A),children:f.jsx("i",{className:"fi fi-rr-search text-xl"})}),f.jsx("button",{className:"w-12 h-12 rounded-full bg-grey relative hover:bg-black/10 dark-hover flex items-center justify-center md:hidden",onClick:P,"aria-label":"Toggle theme",children:s==="dark"?f.jsx("i",{className:"fi fi-rr-sun text-xl "}):f.jsx("i",{className:"fi fi-rr-moon-stars text-xl"})}),l&&(n!=null&&n.isAdmin)?f.jsx(ee,{to:"/editor",className:"md:hidden",children:f.jsx("i",{className:"fi fi-rr-file-edit "})}):null,l&&f.jsxs(f.Fragment,{children:[f.jsx(ee,{to:"/dashboard/notification",className:"md:hidden",children:f.jsxs("button",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center relative",onClick:O,children:[f.jsx("i",{className:"fi fi-rr-bell text-xl"}),d?f.jsx("span",{className:"bg-red w-3 h-3 rounded-full absolute z-10 top-2 right-2"}):""]})}),f.jsxs("div",{className:"relative md:hidden",onClick:C,onBlur:T,children:[f.jsx("button",{className:"w-6 h-6",children:f.jsx("img",{src:c||"/default-profile.png",alt:"Profile",className:"w-full h-full object-cover rounded-full"})}),t?f.jsx(ev,{}):""]})]}),f.jsx("button",{className:"md:hidden ",onClick:()=>h(!u),children:f.jsx("i",{className:"fi fi-br-menu-burger text-xl "})})]}),f.jsx("div",{ref:v,className:"absolute bg-white mt-0.5 left-0 w-full border-b border-grey py-4 px-[5vw] md:block md:border-0 md:relative md:inset-0 md:p-0 md:w-auto md:show "+(y?"block":"hidden")+" md:hidden lg:hidden ",children:f.jsxs("div",{className:"relative",children:[f.jsx("input",{ref:p,type:"text",placeholder:"Search",className:"w-full md:w-auto bg-grey p-4 pl-6 pr-[12%] md:pr-6 rounded-full placeholder:text-dark-grey md:pl-12 md:hidden lg:hidden sm:text-sm ",onKeyDown:I}),f.jsx("i",{className:"fi fi-rr-search absolute right-[10%] top-1/2 -translate-y-1/2 text-2xl text-gray-500"})]})}),u&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-[9998] md:hidden",onClick:()=>h(!1)}),f.jsx("div",{className:"fixed md:hidden top-16 left-0 right-0 bg-white py-4 px-4 shadow-lg z-[9999] border-4 border-red-500",onClick:A=>A.stopPropagation(),children:f.jsxs("div",{className:"flex flex-col space-y-4",children:[f.jsx(ee,{to:"/",className:"text-gray-600 navHover",onClick:()=>h(!1),children:"Home"}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(ee,{to:"/categories",className:"text-gray-600 navHover flex-1",onClick:()=>{h(!1),m(!1)},children:"Categories"}),f.jsx("button",{className:"text-gray-600 navHover flex items-center text-left ml-2",onClick:()=>m(!b),"aria-label":"Show categories dropdown",children:f.jsx("i",{className:"fi fi-rr-angle-small-down navHover pt-1"})})]}),b&&f.jsx("div",{className:"ml-4 mt-1 bg-white rounded shadow-lg z-50",children:i.map((A,D)=>f.jsx(ee,{to:`/categories/${encodeURIComponent(A)}`,className:"block px-4 py-2 text-gray-700 hover:bg-gray-100 capitalize",onClick:()=>h(!1),children:A},A))}),f.jsx(ee,{to:"/contact",className:"text-gray-600 navHover",onClick:()=>h(!1),children:"Contact"}),f.jsx(ee,{to:"/about",className:"text-gray-600 navHover",onClick:()=>h(!1),children:"About"}),l?f.jsx(f.Fragment,{children:(n==null?void 0:n.isAdmin)&&f.jsxs(ee,{to:"/editor",className:"text-gray-600 navHover",onClick:()=>h(!1),children:[f.jsx("i",{className:"fi fi-rr-file-edit text-sm pt-2 -ml-2"})," Write"]})}):f.jsxs(f.Fragment,{children:[f.jsx(ee,{to:"/login",className:"text-gray-600 navHover",onClick:()=>h(!1),children:"Login"}),f.jsx(ee,{to:"/signup",className:"text-gray-600 navHover",onClick:()=>h(!1),children:"SignUp"})]})]})})]})]}),S&&f.jsxs("div",{className:"search hidden lg:block md:block py-2",children:[f.jsx("input",{type:"text",placeholder:"Search",className:"md:w-[400px] lg:w-[700px] sm:w-[400px] px-4 py-2 mr-auto border border-grey-100 rounded-md text-black",onKeyDown:I}),f.jsx("i",{className:"fi fi-rr-search text-1xl bg-black text-white p-3 rounded-md ml-2"})]}),f.jsx(xx,{}),f.jsx(C3,{instagramImages:o,recentComments:x,categories:i})]})},Mn=({name:t,type:e,placeholder:n,value:r,id:o,icon:i,disable:s=!1,onChange:a,readOnly:l=!1})=>{const[c,d]=_.useState(!1),u={name:t,type:e==="password"?c?"text":"password":e,placeholder:n,id:o,disabled:s,readOnly:l,className:"input-box",onChange:a,...e==="password"?{autoComplete:"current-password"}:{}};return r!==void 0&&a&&(u.value=r),f.jsxs("div",{className:"relative w-[100%] mb-4",children:[f.jsx("input",{...u}),f.jsx("i",{className:"fi "+i+" input-icon"}),e==="password"?f.jsx("i",{className:"fi fi-rr-eye"+(c?"":"-crossed")+" input-icon left-[auto] right-4 cursor-pointer",onClick:()=>d(h=>!h)}):""]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},N3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[n++];e[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){const i=t[n++],s=t[n++],a=t[n++],l=((o&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63)}}return e.join("")},y1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const i=t[o],s=o+1<t.length,a=s?t[o+1]:0,l=o+2<t.length,c=l?t[o+2]:0,d=i>>2,u=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,v=c&63;l||(v=64,s||(h=64)),r.push(n[d],n[u],n[h],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(v1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):N3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const c=o<t.length?n[t.charAt(o)]:64;++o;const u=o<t.length?n[t.charAt(o)]:64;if(++o,i==null||a==null||c==null||u==null)throw new j3;const h=i<<2|a>>4;if(r.push(h),c!==64){const v=a<<4&240|c>>2;if(r.push(v),u!==64){const g=c<<6&192|u;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class j3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I3=function(t){const e=v1(t);return y1.encodeByteArray(e,!0)},b1=function(t){return I3(t).replace(/\./g,"")},x1=function(t){try{return y1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=()=>P3().__FIREBASE_DEFAULTS__,A3=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},B3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&x1(t[1]);return e&&JSON.parse(e)},Jp=()=>{try{return L3()||A3()||B3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},O3=t=>{var e,n;return(n=(e=Jp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},w1=()=>{var t;return(t=Jp())===null||t===void 0?void 0:t.config},k1=t=>{var e;return(e=Jp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function R3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function D3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function F3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U3(){const t=pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function z3(){try{return typeof indexedDB=="object"}catch{return!1}}function $3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var i;e(((i=o.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3="FirebaseError";class Zr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=V3,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pa.prototype.create)}}class pa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,i=this.errors[e],s=i?H3(i,r):"Error",a=`${this.serviceName}: ${s} (${o}).`;return new Zr(o,a,r)}}function H3(t,e){return t.replace(W3,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const W3=/\{\$([^}]+)}/g;function G3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const i=t[o],s=e[o];if(ov(i)&&ov(s)){if(!pc(i,s))return!1}else if(i!==s)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function ov(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function q3(t,e){const n=new K3(t,e);return n.subscribe.bind(n)}class K3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Y3(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=gu),o.error===void 0&&(o.error=gu),o.complete===void 0&&(o.complete=gu);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gu(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t){return t&&t._delegate?t._delegate:t}class Ni{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new M3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(o)return null;throw i}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q3(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&s.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(o,i);const s=this.instances.get(o);return s&&e(s,o),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:J3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function J3(t){return t===ao?void 0:t}function Q3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new X3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const eL={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},tL=xe.INFO,nL={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},rL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=nL[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class S1{constructor(e){this.name=e,this._logLevel=tL,this._logHandler=rL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const oL=(t,e)=>e.some(n=>t instanceof n);let iv,sv;function iL(){return iv||(iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sL(){return sv||(sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E1=new WeakMap,Jf=new WeakMap,T1=new WeakMap,vu=new WeakMap,Qp=new WeakMap;function aL(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(Fr(t.result)),o()},s=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&E1.set(n,t)}).catch(()=>{}),Qp.set(e,t),e}function lL(t){if(Jf.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});Jf.set(t,e)}let Qf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||T1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cL(t){Qf=t(Qf)}function dL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(yu(this),e,...n);return T1.set(r,e.sort?e.sort():[e]),Fr(r)}:sL().includes(t)?function(...e){return t.apply(yu(this),e),Fr(E1.get(this))}:function(...e){return Fr(t.apply(yu(this),e))}}function uL(t){return typeof t=="function"?dL(t):(t instanceof IDBTransaction&&lL(t),oL(t,iL())?new Proxy(t,Qf):t)}function Fr(t){if(t instanceof IDBRequest)return aL(t);if(vu.has(t))return vu.get(t);const e=uL(t);return e!==t&&(vu.set(t,e),Qp.set(e,t)),e}const yu=t=>Qp.get(t);function fL(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(t,e),a=Fr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Fr(s.result),l.oldVersion,l.newVersion,Fr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const hL=["get","getKey","getAll","getAllKeys","count"],pL=["put","add","delete","clear"],bu=new Map;function av(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bu.get(e))return bu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=pL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||hL.includes(n)))return;const i=async function(s,...a){const l=this.transaction(s,o?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),o&&l.done]))[0]};return bu.set(e,i),i}cL(t=>({...t,get:(e,n,r)=>av(e,n)||t.get(e,n,r),has:(e,n)=>!!av(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zf="@firebase/app",lv="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new S1("@firebase/app"),vL="@firebase/app-compat",yL="@firebase/analytics-compat",bL="@firebase/analytics",xL="@firebase/app-check-compat",wL="@firebase/app-check",kL="@firebase/auth",SL="@firebase/auth-compat",EL="@firebase/database",TL="@firebase/database-compat",CL="@firebase/functions",_L="@firebase/functions-compat",NL="@firebase/installations",jL="@firebase/installations-compat",IL="@firebase/messaging",PL="@firebase/messaging-compat",LL="@firebase/performance",AL="@firebase/performance-compat",BL="@firebase/remote-config",OL="@firebase/remote-config-compat",ML="@firebase/storage",RL="@firebase/storage-compat",DL="@firebase/firestore",FL="@firebase/firestore-compat",UL="firebase",zL="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="[DEFAULT]",$L={[Zf]:"fire-core",[vL]:"fire-core-compat",[bL]:"fire-analytics",[yL]:"fire-analytics-compat",[wL]:"fire-app-check",[xL]:"fire-app-check-compat",[kL]:"fire-auth",[SL]:"fire-auth-compat",[EL]:"fire-rtdb",[TL]:"fire-rtdb-compat",[CL]:"fire-fn",[_L]:"fire-fn-compat",[NL]:"fire-iid",[jL]:"fire-iid-compat",[IL]:"fire-fcm",[PL]:"fire-fcm-compat",[LL]:"fire-perf",[AL]:"fire-perf-compat",[BL]:"fire-rc",[OL]:"fire-rc-compat",[ML]:"fire-gcs",[RL]:"fire-gcs-compat",[DL]:"fire-fst",[FL]:"fire-fst-compat","fire-js":"fire-js",[UL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new Map,th=new Map;function VL(t,e){try{t.container.addComponent(e)}catch(n){To.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xs(t){const e=t.name;if(th.has(e))return To.debug(`There were multiple attempts to register component ${e}.`),!1;th.set(e,t);for(const n of mc.values())VL(n,t);return!0}function C1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ur=new pa("app","Firebase",HL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=zL;function _1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:eh,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Ur.create("bad-app-name",{appName:String(o)});if(n||(n=w1()),!n)throw Ur.create("no-options");const i=mc.get(o);if(i){if(pc(n,i.options)&&pc(r,i.config))return i;throw Ur.create("duplicate-app",{appName:o})}const s=new Z3(o);for(const l of th.values())s.addComponent(l);const a=new WL(n,r,s);return mc.set(o,a),a}function GL(t=eh){const e=mc.get(t);if(!e&&t===eh&&w1())return _1();if(!e)throw Ur.create("no-app",{appName:t});return e}function pi(t,e,n){var r;let o=(r=$L[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const i=o.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${o}" with version "${e}":`];i&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),To.warn(a.join(" "));return}Xs(new Ni(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="firebase-heartbeat-database",KL=1,Js="firebase-heartbeat-store";let xu=null;function N1(){return xu||(xu=fL(qL,KL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Js)}}}).catch(t=>{throw Ur.create("idb-open",{originalErrorMessage:t.message})})),xu}async function YL(t){try{return await(await N1()).transaction(Js).objectStore(Js).get(j1(t))}catch(e){if(e instanceof Zr)To.warn(e.message);else{const n=Ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});To.warn(n.message)}}}async function cv(t,e){try{const r=(await N1()).transaction(Js,"readwrite");await r.objectStore(Js).put(e,j1(t)),await r.done}catch(n){if(n instanceof Zr)To.warn(n.message);else{const r=Ur.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});To.warn(r.message)}}}function j1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=1024,JL=30*24*60*60*1e3;class QL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const i=new Date(o.date).valueOf();return Date.now()-i<=JL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dv(),{heartbeatsToSend:n,unsentEntries:r}=ZL(this._heartbeatsCache.heartbeats),o=b1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function dv(){return new Date().toISOString().substring(0,10)}function ZL(t,e=XL){const n=[];let r=t.slice();for(const o of t){const i=n.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),uv(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),uv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z3()?$3().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await YL(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return cv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return cv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function uv(t){return b1(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t){Xs(new Ni("platform-logger",e=>new mL(e),"PRIVATE")),Xs(new Ni("heartbeat",e=>new QL(e),"PRIVATE")),pi(Zf,lv,t),pi(Zf,lv,"esm2017"),pi("fire-js","")}tA("");var nA="firebase",rA="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi(nA,rA,"app");function Zp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function I1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oA=I1,P1=new pa("auth","Firebase",I1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new S1("@firebase/auth");function iA(t,...e){gc.logLevel<=xe.WARN&&gc.warn(`Auth (${ga}): ${t}`,...e)}function wl(t,...e){gc.logLevel<=xe.ERROR&&gc.error(`Auth (${ga}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,...e){throw em(t,...e)}function Sn(t,...e){return em(t,...e)}function L1(t,e,n){const r=Object.assign(Object.assign({},oA()),{[e]:n});return new pa("auth","Firebase",r).create(e,{appName:t.name})}function sA(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Cn(t,"argument-error"),L1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function em(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return P1.create(t,...e)}function ie(t,e,...n){if(!t)throw em(e,...n)}function zn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wl(e),new Error(e)}function rr(t,e){t||zn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aA(){return fv()==="http:"||fv()==="https:"}function fv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aA()||D3()||"connection"in navigator)?navigator.onLine:!0}function cA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=R3()||F3()}get(){return lA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(t,e){rr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=new va(3e4,6e4);function B1(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ya(t,e,n,r,o={}){return O1(t,o,async()=>{let i={},s={};r&&(e==="GET"?s=r:i={body:JSON.stringify(r)});const a=ma(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),A1.fetch()(M1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function O1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},dA),e);try{const o=new hA(t),i=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Ja(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const a=i.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ja(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Ja(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Ja(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw L1(t,d,c);Cn(t,d)}}catch(o){if(o instanceof Zr)throw o;Cn(t,"network-request-failed",{message:String(o)})}}async function fA(t,e,n,r,o={}){const i=await ya(t,e,n,r,o);return"mfaPendingCredential"in i&&Cn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function M1(t,e,n,r){const o=`${e}${n}?${r}`;return t.config.emulator?tm(t.config,o):`${t.config.apiScheme}://${o}`}class hA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sn(this.auth,"network-request-failed")),uA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ja(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Sn(t,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(t,e){return ya(t,"POST","/v1/accounts:delete",e)}async function mA(t,e){return ya(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gA(t,e=!1){const n=Di(t),r=await n.getIdToken(e),o=nm(r);ie(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i=typeof o.firebase=="object"?o.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:ks(wu(o.auth_time)),issuedAtTime:ks(wu(o.iat)),expirationTime:ks(wu(o.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function wu(t){return Number(t)*1e3}function nm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wl("JWT malformed, contained fewer than 3 sections"),null;try{const o=x1(n);return o?JSON.parse(o):(wl("Failed to decode base64 JWT payload"),null)}catch(o){return wl("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function vA(t){const e=nm(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Zr&&yA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ks(this.lastLoginAt),this.creationTime=ks(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(t){var e;const n=t.auth,r=await t.getIdToken(),o=await Qs(t,mA(n,{idToken:r}));ie(o==null?void 0:o.users.length,n,"internal-error");const i=o.users[0];t._notifyReloadListener(i);const s=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?kA(i.providerUserInfo):[],a=wA(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new R1(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,u)}async function xA(t){const e=Di(t);await vc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wA(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function kA(t){return t.map(e=>{var{providerId:n}=e,r=Zp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(t,e){const n=await O1(t,{},async()=>{const r=ma({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:i}=t.config,s=M1(t,o,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",A1.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ie(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:i}=await SA(e,n);this.updateTokensAndExpiration(r,o,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:i}=n,s=new Zs;return r&&(ie(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),o&&(ie(typeof o=="string","internal-error",{appName:e}),s.accessToken=o),i&&(ie(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zs,this.toJSON())}_performRefresh(){return zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vo{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,i=Zp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new R1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Qs(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gA(this,e)}reload(){return xA(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Qs(this,pA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,i,s,a,l,c,d;const u=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(o=n.email)!==null&&o!==void 0?o:void 0,v=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:p,emailVerified:x,isAnonymous:E,providerData:N,stsTokenManager:j}=n;ie(p&&j,e,"internal-error");const k=Zs.fromJSON(this.name,j);ie(typeof p=="string",e,"internal-error"),ur(u,e.name),ur(h,e.name),ie(typeof x=="boolean",e,"internal-error"),ie(typeof E=="boolean",e,"internal-error"),ur(v,e.name),ur(g,e.name),ur(y,e.name),ur(w,e.name),ur(b,e.name),ur(m,e.name);const S=new vo({uid:p,auth:e,email:h,emailVerified:x,displayName:u,isAnonymous:E,photoURL:g,phoneNumber:v,tenantId:y,stsTokenManager:k,createdAt:b,lastLoginAt:m});return N&&Array.isArray(N)&&(S.providerData=N.map(C=>Object.assign({},C))),w&&(S._redirectEventId=w),S}static async _fromIdTokenResponse(e,n,r=!1){const o=new Zs;o.updateFromServerResponse(n);const i=new vo({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await vc(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=new Map;function $n(t){rr(t instanceof Function,"Expected a class definition");let e=hv.get(t);return e?(rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}D1.type="NONE";const pv=D1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t,e,n){return`firebase:${t}:${e}:${n}`}class mi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:i}=this.auth;this.fullUserKey=kl(this.userKey,o.apiKey,i),this.fullPersistenceKey=kl("persistence",o.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new mi($n(pv),e,r);const o=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=o[0]||$n(pv);const s=kl(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(s);if(d){const u=vo._fromJSON(e,d);c!==i&&(a=u),i=c;break}}catch{}const l=o.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new mi(i,e,r):(i=l[0],a&&await i._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(s)}catch{}})),new mi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(z1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(F1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(V1(e))return"Blackberry";if(H1(e))return"Webos";if(rm(e))return"Safari";if((e.includes("chrome/")||U1(e))&&!e.includes("edge/"))return"Chrome";if($1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function F1(t=pt()){return/firefox\//i.test(t)}function rm(t=pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function U1(t=pt()){return/crios\//i.test(t)}function z1(t=pt()){return/iemobile/i.test(t)}function $1(t=pt()){return/android/i.test(t)}function V1(t=pt()){return/blackberry/i.test(t)}function H1(t=pt()){return/webos/i.test(t)}function fd(t=pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EA(t=pt()){var e;return fd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TA(){return U3()&&document.documentMode===10}function W1(t=pt()){return fd(t)||$1(t)||H1(t)||V1(t)||/windows phone/i.test(t)||z1(t)}function CA(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(t,e=[]){let n;switch(t){case"Browser":n=mv(pt());break;case"Worker":n=`${mv(pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ga}/${r}`}async function q1(t,e){return ya(t,"GET","/v2/recaptchaConfig",B1(t,e))}function gv(t){return t!==void 0&&t.enterprise!==void 0}class K1{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Y1(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const i=Sn("internal-error");i.customData=o,n(i)},r.type="text/javascript",r.charset="UTF-8",_A().appendChild(r)})}function NA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const jA="https://www.google.com/recaptcha/enterprise.js?render=",IA="recaptcha-enterprise",PA="NO_RECAPTCHA";class LA{constructor(e){this.type=IA,this.auth=ba(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,a)=>{q1(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new K1(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function o(i,s,a){const l=window.grecaptcha;gv(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{s(c)}).catch(()=>{s(PA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,s)=>{r(this.auth).then(a=>{if(!n&&gv(window.grecaptcha))o(a,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}Y1(jA+a).then(()=>{o(a,i,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((s,a)=>{try{const l=e(i);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vv(this),this.idTokenSubscription=new vv(this),this.beforeStateQueue=new AA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$n(n)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await mi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let o=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=o==null?void 0:o._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(o=l.user,i=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(o)}catch(s){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Di(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence($n(e))})}async initializeRecaptchaConfig(){const e=await q1(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new K1(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new LA(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$n(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await mi.create(this,[$n(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(s,this,"internal-error"),s.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,r,o):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=G1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&iA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ba(t){return Di(t)}class vv{constructor(e){this.auth=e,this.observer=null,this.addObserver=q3(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t,e){const n=C1(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),i=n.getOptions();if(pc(i,e??{}))return o;Cn(o,"already-initialized")}return n.initialize({options:e})}function MA(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($n);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function RA(t,e,n){const r=ba(t);ie(r._canInitEmulator,r,"emulator-config-failed"),ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!!(n!=null&&n.disableWarnings),i=X1(e),{host:s,port:a}=DA(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||FA()}function X1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DA(t){const e=X1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const i=o[1];return{host:i,port:yv(r.substr(i.length+1))}}else{const[i,s]=r.split(":");return{host:i,port:yv(s)}}}function yv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zn("not implemented")}_getIdTokenResponse(e){return zn("not implemented")}_linkToIdToken(e,n){return zn("not implemented")}_getReauthenticationResolver(e){return zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gi(t,e){return fA(t,"POST","/v1/accounts:signInWithIdp",B1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="http://localhost";class Co extends J1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,i=Zp(n,["providerId","signInMethod"]);if(!r||!o)return null;const s=new Co(r,o);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return gi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gi(e,n)}buildRequest(){const e={requestUri:UA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ma(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends om{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends xa{constructor(){super("facebook.com")}static credential(e){return Co._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn extends xa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Co._fromParams({providerId:vn.PROVIDER_ID,signInMethod:vn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vn.credentialFromTaggedObject(e)}static credentialFromError(e){return vn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vn.credential(n,r)}catch{return null}}}vn.GOOGLE_SIGN_IN_METHOD="google.com";vn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends xa{constructor(){super("github.com")}static credential(e){return Co._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends xa{constructor(){super("twitter.com")}static credential(e,n){return Co._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return wr.credential(n,r)}catch{return null}}}wr.TWITTER_SIGN_IN_METHOD="twitter.com";wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const i=await vo._fromIdTokenResponse(e,r,o),s=bv(r);return new ji({user:i,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=bv(r);return new ji({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function bv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends Zr{constructor(e,n,r,o){var i;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,yc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new yc(e,n,r,o)}}function Q1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?yc._fromErrorAndOperation(t,i,e,r):i})}async function zA(t,e,n=!1){const r=await Qs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ji._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $A(t,e,n=!1){const{auth:r}=t,o="reauthenticate";try{const i=await Qs(t,Q1(r,o,e,t),n);ie(i.idToken,r,"internal-error");const s=nm(i.idToken);ie(s,r,"internal-error");const{sub:a}=s;return ie(t.uid===a,r,"user-mismatch"),ji._forOperation(t,o,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Cn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(t,e,n=!1){const r="signIn",o=await Q1(t,r,e),i=await ji._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(i.user),i}function HA(t,e,n,r){return Di(t).onIdTokenChanged(e,n,r)}function WA(t,e,n){return Di(t).beforeAuthStateChanged(e,n)}const bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bc,"1"),this.storage.removeItem(bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(){const t=pt();return rm(t)||fd(t)}const qA=1e3,KA=10;class ek extends Z1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=GA()&&CA(),this.fallbackToPolling=W1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const o=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},i=this.storage.getItem(r);TA()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,KA):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},qA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ek.type="LOCAL";const YA=ek;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk extends Z1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tk.type="SESSION";const nk=tk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new hd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:i}=n.data,s=this.handlersMap[o];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const a=Array.from(s).map(async c=>c(n.origin,i)),l=await XA(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let i,s;return new Promise((a,l)=>{const c=im("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:o,onMessage(u){const h=u;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(s),o.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[o.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return window}function QA(t){En().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(){return typeof En().WorkerGlobalScope<"u"&&typeof En().importScripts=="function"}async function ZA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function t4(){return rk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="firebaseLocalStorageDb",n4=1,xc="firebaseLocalStorage",ik="fbase_key";class wa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pd(t,e){return t.transaction([xc],e?"readwrite":"readonly").objectStore(xc)}function r4(){const t=indexedDB.deleteDatabase(ok);return new wa(t).toPromise()}function rh(){const t=indexedDB.open(ok,n4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xc,{keyPath:ik})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xc)?e(r):(r.close(),await r4(),e(await rh()))})})}async function xv(t,e,n){const r=pd(t,!0).put({[ik]:e,value:n});return new wa(r).toPromise()}async function o4(t,e){const n=pd(t,!1).get(e),r=await new wa(n).toPromise();return r===void 0?null:r.value}function wv(t,e){const n=pd(t,!0).delete(e);return new wa(n).toPromise()}const i4=800,s4=3;class sk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>s4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hd._getInstance(t4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ZA(),!this.activeServiceWorker)return;this.sender=new JA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rh();return await xv(e,bc,"1"),await wv(e,bc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>o4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const i=pd(o,!1).getAll();return new wa(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:o,value:i}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(i)&&(this.notifyListeners(o,i),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sk.type="LOCAL";const a4=sk;new va(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t,e){return e?$n(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm extends J1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function l4(t){return VA(t.auth,new sm(t),t.bypassAuthState)}function c4(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),$A(n,new sm(t),t.bypassAuthState)}async function d4(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),zA(n,new sm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n,r,o,i=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:i,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return l4;case"linkViaPopup":case"linkViaRedirect":return d4;case"reauthViaPopup":case"reauthViaRedirect":return c4;default:Cn(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=new va(2e3,1e4);async function f4(t,e,n){const r=ba(t);sA(t,e,om);const o=ak(r,n);return new po(r,"signInViaPopup",e,o).executeNotNull()}class po extends lk{constructor(e,n,r,o,i){super(e,n,o,i),this.provider=r,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u4.get())};e()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="pendingRedirect",Sl=new Map;class p4 extends lk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Sl.get(this.auth._key());if(!e){try{const r=await m4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sl.set(this.auth._key(),e)}return this.bypassAuthState||Sl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function m4(t,e){const n=y4(e),r=v4(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function g4(t,e){Sl.set(t._key(),e)}function v4(t){return $n(t._redirectPersistence)}function y4(t){return kl(h4,t.config.apiKey,t.name)}async function b4(t,e,n=!1){const r=ba(t),o=ak(r,e),s=await new p4(r,o,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=10*60*1e3;class w4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ck(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x4&&this.cachedEventUids.clear(),this.cachedEventUids.has(kv(e))}saveEventToCache(e){this.cachedEventUids.add(kv(e)),this.lastProcessedEventTime=Date.now()}}function kv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ck({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function k4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ck(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(t,e={}){return ya(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T4=/^https?/;async function C4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await S4(t);for(const n of e)try{if(_4(n))return}catch{}Cn(t,"unauthorized-domain")}function _4(t){const e=nh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!T4.test(n))return!1;if(E4.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=new va(3e4,6e4);function Sv(){const t=En().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function j4(t){return new Promise((e,n)=>{var r,o,i;function s(){Sv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sv(),n(Sn(t,"network-request-failed"))},timeout:N4.get()})}if(!((o=(r=En().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((i=En().gapi)===null||i===void 0)&&i.load)s();else{const a=NA("iframefcb");return En()[a]=()=>{gapi.load?s():n(Sn(t,"network-request-failed"))},Y1(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw El=null,e})}let El=null;function I4(t){return El=El||j4(t),El}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=new va(5e3,15e3),L4="__/auth/iframe",A4="emulator/auth/iframe",B4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M4(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tm(e,A4):`https://${t.config.authDomain}/${L4}`,r={apiKey:e.apiKey,appName:t.name,v:ga},o=O4.get(t.config.apiHost);o&&(r.eid=o);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ma(r).slice(1)}`}async function R4(t){const e=await I4(t),n=En().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:M4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B4,dontclear:!0},r=>new Promise(async(o,i)=>{await r.restyle({setHideOnLeave:!1});const s=Sn(t,"network-request-failed"),a=En().setTimeout(()=>{i(s)},P4.get());function l(){En().clearTimeout(a),o(r)}r.ping(l).then(l,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F4=500,U4=600,z4="_blank",$4="http://localhost";class Ev{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V4(t,e,n,r=F4,o=U4){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},D4),{width:r.toString(),height:o.toString(),top:i,left:s}),c=pt().toLowerCase();n&&(a=U1(c)?z4:n),F1(c)&&(e=e||$4,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[v,g])=>`${h}${v}=${g},`,"");if(EA(c)&&a!=="_self")return H4(e||"",a),new Ev(null);const u=window.open(e||"",a,d);ie(u,t,"popup-blocked");try{u.focus()}catch{}return new Ev(u)}function H4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="__/auth/handler",G4="emulator/auth/handler",q4=encodeURIComponent("fac");async function Tv(t,e,n,r,o,i){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ga,eventId:o};if(e instanceof om){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",G3(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,u]of Object.entries(i||{}))s[d]=u}if(e instanceof xa){const d=e.getScopes().filter(u=>u!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${q4}=${encodeURIComponent(l)}`:"";return`${K4(t)}?${ma(a).slice(1)}${c}`}function K4({config:t}){return t.emulator?tm(t,G4):`https://${t.authDomain}/${W4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku="webStorageSupport";class Y4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nk,this._completeRedirectFn=b4,this._overrideRedirectResult=g4}async _openPopup(e,n,r,o){var i;rr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await Tv(e,n,r,nh(),o);return V4(e,s,im())}async _openRedirect(e,n,r,o){await this._originValidation(e);const i=await Tv(e,n,r,nh(),o);return QA(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:i}=this.eventManagers[n];return o?Promise.resolve(o):(rr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await R4(e),r=new w4(e);return n.register("authEvent",o=>(ie(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ku,{type:ku},o=>{var i;const s=(i=o==null?void 0:o[0])===null||i===void 0?void 0:i[ku];s!==void 0&&n(!!s),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=C4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return W1()||rm()||fd()}}const X4=Y4;var Cv="@firebase/auth",_v="1.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Z4(t){Xs(new Ni("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ie(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:G1(t)},c=new BA(r,o,i,l);return MA(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xs(new Ni("auth-internal",e=>{const n=ba(e.getProvider("auth").getImmediate());return(r=>new J4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pi(Cv,_v,Q4(t)),pi(Cv,_v,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=5*60,tB=k1("authIdTokenMaxAge")||eB;let Nv=null;const nB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tB)return;const o=n==null?void 0:n.token;Nv!==o&&(Nv=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function rB(t=GL()){const e=C1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=OA(t,{popupRedirectResolver:X4,persistence:[a4,YA,nk]}),r=k1("authTokenSyncURL");if(r){const i=nB(r);WA(n,i,()=>i(n.currentUser)),HA(n,s=>i(s))}const o=O3("auth");return o&&RA(n,`http://${o}`),n}Z4("Browser");const oB={apiKey:"AIzaSyBpjxw01SgiPCe1t2QzZgtaYJG0euhmUXo",authDomain:"islamic-stories-website.firebaseapp.com",projectId:"islamic-stories-website",storageBucket:"islamic-stories-website.firebasestorage.app",messagingSenderId:"491374615407",appId:"1:491374615407:web:73474c703a2dff3394269a"};_1(oB);const iB=new vn,sB=rB(),aB=()=>f4(sB,iB).then(t=>({idToken:vn.credentialFromResult(t).idToken,user:t.user})),Su=({type:t})=>{let{userAuth:e,setUserAuth:n}=_.useContext(ye);const r=e==null?void 0:e.access_token,[o,i]=_.useState(!1),[s,a]=_.useState(""),[l,c]=_.useState("");console.log("Current access_token:",r);const d=(g,y)=>{console.log("Sending request to:","https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api"+g),console.log("Form data:",y),G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api"+g,y).then(({data:w})=>{g==="/signup"?(c("Signup successful! Please check your email to verify your account."),i(!0),a(y.email)):(g==="/login"||g==="/google-auth")&&Xt(w,n),console.log("Stored in sessionStorage:",sessionStorage.getItem("user"))}).catch(w=>{var m,p;const b=((p=(m=w==null?void 0:w.response)==null?void 0:m.data)==null?void 0:p.error)||"Login failed. Please try again.";(b.includes("verify your email")||b.includes("Failed to send verification email"))&&(i(!0),a(y.email)),H.error(b),console.error("Error response:",w==null?void 0:w.response)})},u=g=>{g.preventDefault();let y=t==="login"?"/login":"/signup",w=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,b=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/,m=document.getElementById("formElement");if(!m){console.error("Form element is not found");return}let p=new FormData(m),x={};for(let[S,C]of p.entries())x[S]=C;let{firstname:E,lastname:N,email:j,password:k}=x;if(t!=="login"){if(!E||E.length<1)return H.error("First name must be at least 1 letter long");if(!N||N.length<1)return H.error("Last name must be at least 1 letter long");if((E+" "+N).trim().length<3)return H.error("Fullname must be at least 3 letters long")}if(!j.length)return H.error("Enter Email");if(!w.test(j))return H.error("Email is invalid");if(!b.test(k))return H.error("Password should be 6 to 20 characters long with a numeric, 1 lowercase and 1 uppercase letter");d(y,x)},h=g=>{g.preventDefault(),aB().then(({idToken:y})=>{d("/google-auth",{id_token:y})}).catch(y=>(H.error("trouble login through google"),console.log(y)))},v=g=>{if(g.preventDefault(),!s){H.error("Enter your email to resend verification.");return}G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/resend-verification",{email:s}).then(({data:y})=>{H.success(y.message||"Verification email resent. Please check your inbox.")}).catch(y=>{var b,m;const w=((m=(b=y==null?void 0:y.response)==null?void 0:b.data)==null?void 0:m.error)||"Failed to resend verification email.";H.error(w)})};return r?f.jsx(kp,{to:"/"}):f.jsx(Me,{keyValue:t,children:f.jsxs("section",{className:"h-cover flex items-center justify-center",children:[f.jsx(In,{}),f.jsxs("form",{id:"formElement",className:"w-[80%] max-w-[400px]",onSubmit:u,children:[f.jsx("h1",{className:"text-4xl font-gelasio capitalize text-center mb-24",children:t==="login"?"Welcome back":"Join us today"}),l&&f.jsx("div",{className:"mb-4 text-green-700 text-center",children:l}),t!=="login"?f.jsxs(f.Fragment,{children:[f.jsx(Mn,{name:"firstname",type:"text",placeholder:"First Name",icon:"fi-rr-user"}),f.jsx(Mn,{name:"lastname",type:"text",placeholder:"Last Name",icon:"fi-rr-user"})]}):"",f.jsx(Mn,{name:"email",type:"email",placeholder:"Email",icon:"fi-rr-envelope",onChange:g=>a(g.target.value)}),f.jsx(Mn,{name:"password",type:"password",placeholder:"Password",icon:"fi-rr-key"}),f.jsx("button",{className:"btn-dark center w-[100%] mt-14 ml-3",type:"submit",children:t==="signup"?"Sign Up":"Login"}),o&&f.jsx("button",{className:"btn-dark w-full mt-4",onClick:v,type:"button",children:"Resend verification email"}),f.jsxs("div",{className:"relative w-full flex items-center gap-2 my-10 opacity-10 uppercase text-black font-bold",children:[f.jsx("hr",{className:"w-1/2 border-black"}),f.jsx("p",{children:"or"}),f.jsx("hr",{className:"w-1/2 border-black "})]}),f.jsxs("button",{className:"btn-dark flex items-center justify-center gap-4 w-[100%] center ml-3",onClick:h,children:[f.jsx("img",{src:m1,className:"w-5"}),"Continue with google"]}),t==="login"?f.jsxs("p",{className:"mt-6 text-dark-grey text-xl text-center",children:["Don't have an account?",f.jsx(ee,{to:"/signup",className:"underline text-black text-xl ml-1",children:"Join us today"})]}):f.jsxs("p",{className:"mt-6 text-dark-grey text-xl text-center",children:["Already a member?",f.jsx(ee,{to:"/login",className:"underline text-black text-xl ml-1",children:"Sign in here."})]})]})]})})};var lB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function md(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Eu(){}Object.assign(Eu,{default:Eu,register:Eu,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(n=>{const r=n instanceof Node;e.appendChild(r?n:document.createTextNode(n))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,n=window.getComputedStyle(e,null),r=parseInt(n.getPropertyValue("border-top-width")),o=parseInt(n.getPropertyValue("border-left-width")),i=this.offsetTop-e.offsetTop<e.scrollTop,s=this.offsetTop-e.offsetTop+this.clientHeight-r>e.scrollTop+e.clientHeight,a=this.offsetLeft-e.offsetLeft<e.scrollLeft,l=this.offsetLeft-e.offsetLeft+this.clientWidth-o>e.scrollLeft+e.clientWidth,c=i&&!s;(i||s)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-r+this.clientHeight/2),(a||l)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-o+this.clientWidth/2),(i||s||a||l)&&!t&&this.scrollIntoView(c)});let cB=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var dk=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(dk||{});const oe={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},dB={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function ka(t,e,n="log",r,o="color: inherit"){if(!("console"in window)||!window.console[n])return;const i=["info","log","warn","error"].includes(n),s=[];switch(ka.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!i||t)return;break}r&&s.push(r);const a="Editor.js 2.27.2",l=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;t&&(i?(s.unshift(l,o),e=`%c${a}%c ${e}`):e=`( ${a} )${e}`);try{i?r?console[n](`${e} %o`,...s):console[n](e,...s):console[n](e)}catch{}}ka.logLevel="VERBOSE";function uB(t){ka.logLevel=t}const ae=ka.bind(window,!1),on=ka.bind(window,!0);function _o(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function _e(t){return _o(t)==="function"||_o(t)==="asyncfunction"}function at(t){return _o(t)==="object"}function Wr(t){return _o(t)==="string"}function fB(t){return _o(t)==="boolean"}function jv(t){return _o(t)==="number"}function Iv(t){return _o(t)==="undefined"}function dn(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function uk(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function fk(t,e=()=>{},n=()=>{}){async function r(o,i,s){try{await o.function(o.data),await i(Iv(o.data)?{}:o.data)}catch{s(Iv(o.data)?{}:o.data)}}return t.reduce(async(o,i)=>(await o,r(i,e,n)),Promise.resolve())}function hk(t){return Array.prototype.slice.call(t)}function No(t,e){return function(){const n=this,r=arguments;window.setTimeout(()=>t.apply(n,r),e)}}function hB(t){return t.name.split(".").pop()}function pB(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function mB(t,e,n){let r;return(...o)=>{const i=this,s=()=>{r=null,n||t.apply(i,o)},a=n&&!r;window.clearTimeout(r),r=window.setTimeout(s,e),a&&t.apply(i,o)}}function oh(t,e,n=void 0){let r,o,i,s=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),s=null,i=t.apply(r,o),s||(r=o=null)};return function(){const c=Date.now();!a&&n.leading===!1&&(a=c);const d=e-(c-a);return r=this,o=arguments,d<=0||d>e?(s&&(clearTimeout(s),s=null),a=c,i=t.apply(r,o),s||(r=o=null)):!s&&n.trailing!==!1&&(s=setTimeout(l,d)),i}}function gB(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e&&(t[e]=!0),t}function wc(t){return t[0].toUpperCase()+t.slice(1)}function ih(t,...e){if(!e.length)return t;const n=e.shift();if(at(t)&&at(n))for(const r in n)at(n[r])?(t[r]||Object.assign(t,{[r]:{}}),ih(t[r],n[r])):Object.assign(t,{[r]:n[r]});return ih(t,...e)}function pk(t){const e=gB();return t=t.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function vB(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function yB(){return cB(10)}function bB(t){window.open(t,"_blank")}function xB(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function sh(t,e,n){const r=`«${e}» is deprecated and will be removed in the next major release. Please use the «${n}» instead.`;t&&on(r,"warn")}function Fi(t,e,n){const r=n.value?"value":"get",o=n[r],i=`#${e}Cache`;if(n[r]=function(...s){return this[i]===void 0&&(this[i]=o.apply(this,...s)),this[i]},r==="get"&&n.set){const s=n.set;n.set=function(a){delete t[i],s.apply(this,a)}}return n}const mk=650;function yo(){return window.matchMedia(`(max-width: ${mk}px)`).matches}const Pv=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function wB(t,e){const n=Array.isArray(t)||at(t),r=Array.isArray(e)||at(e);return n||r?JSON.stringify(t)===JSON.stringify(e):t===e}class F{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,n=null,r={}){const o=document.createElement(e);Array.isArray(n)?o.classList.add(...n):n&&o.classList.add(n);for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i]);return o}static text(e){return document.createTextNode(e)}static append(e,n){Array.isArray(n)?n.forEach(r=>e.appendChild(r)):e.appendChild(n)}static prepend(e,n){Array.isArray(n)?(n=n.reverse(),n.forEach(r=>e.prepend(r))):e.prepend(n)}static swap(e,n){const r=document.createElement("div"),o=e.parentNode;o.insertBefore(r,e),o.insertBefore(e,n),o.insertBefore(n,r),o.removeChild(r)}static find(e=document,n){return e.querySelector(n)}static get(e){return document.getElementById(e)}static findAll(e=document,n){return e.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return hk(e.querySelectorAll(F.allInputsSelector)).reduce((n,r)=>F.isNativeInput(r)||F.containsOnlyInlineElements(r)?[...n,r]:[...n,...F.getDeepestBlockElements(r)],[])}static getDeepestNode(e,n=!1){const r=n?"lastChild":"firstChild",o=n?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[r]){let i=e[r];if(F.isSingleTag(i)&&!F.isNativeInput(i)&&!F.isLineBreakTag(i))if(i[o])i=i[o];else if(i.parentNode[o])i=i.parentNode[o];else return i.parentNode;return this.getDeepestNode(i,n)}return e}static isElement(e){return jv(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return jv(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const n=["INPUT","TEXTAREA"];return e&&e.tagName?n.includes(e.tagName):!1}static canSetCaret(e){let n=!0;if(F.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=F.isContentEditable(e);return n}static isNodeEmpty(e){let n;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?n=e.value:n=e.textContent.replace("​",""),n.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e){e.normalize();const n=[e];for(;n.length>0;)if(e=n.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e))return!1;e.childNodes&&n.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const n=F.make("div");return n.innerHTML=e,n.childElementCount>0}static getContentLength(e){return F.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let n;Wr(e)?(n=document.createElement("div"),n.innerHTML=e):n=e;const r=o=>!F.blockElements.includes(o.tagName.toLowerCase())&&Array.from(o.children).every(r);return Array.from(n.children).every(r)}static getDeepestBlockElements(e){return F.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((n,r)=>[...n,...F.getDeepestBlockElements(r)],[])}static getHolder(e){return Wr(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const n=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,i=n.top+o,s=n.left+r;return{top:i,left:s,bottom:i+n.height,right:s+n.width}}}const kB={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},SB={Text:"",Link:"",Bold:"",Italic:""},EB={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},TB={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},gk={ui:kB,toolNames:SB,tools:EB,blockTunes:TB},zo=class{static ui(t,e){return zo._t(t,e)}static t(t,e){return zo._t(t,e)}static setDictionary(t){zo.currentDictionary=t}static _t(t,e){const n=zo.getNamespace(t);return!n||!n[e]?e:n[e]}static getNamespace(t){return t.split(".").reduce((e,n)=>!e||!Object.keys(e).length?{}:e[n],zo.currentDictionary)}};let _t=zo;_t.currentDictionary=gk;let vk=class extends Error{};class gd{constructor(){this.subscribers={}}on(e,n){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(n)}once(e,n){e in this.subscribers||(this.subscribers[e]=[]);const r=o=>{const i=n(o),s=this.subscribers[e].indexOf(r);return s!==-1&&this.subscribers[e].splice(s,1),i};this.subscribers[e].push(r)}emit(e,n){dn(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((r,o)=>{const i=o(r);return i!==void 0?i:r},n)}off(e,n){for(let r=0;r<this.subscribers[e].length;r++)if(this.subscribers[e][r]===n){delete this.subscribers[e][r];break}}destroy(){this.subscribers=null}}function Ss(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},call(e,n){return t.call(e,n)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()}})}class am{constructor(){this.allListeners=[]}on(e,n,r,o=!1){const i=xB("l"),s={id:i,element:e,eventType:n,handler:r,options:o};if(!this.findOne(e,n,r))return this.allListeners.push(s),e.addEventListener(n,r,o),i}off(e,n,r,o){const i=this.findAll(e,n,r);i.forEach((s,a)=>{const l=this.allListeners.indexOf(i[a]);l>-1&&(this.allListeners.splice(l,1),s.element.removeEventListener(s.eventType,s.handler,s.options))})}offById(e){const n=this.findById(e);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(e,n,r){const o=this.findAll(e,n,r);return o.length>0?o[0]:null}findAll(e,n,r){let o;const i=e?this.findByEventTarget(e):[];return e&&n&&r?o=i.filter(s=>s.eventType===n&&s.handler===r):e&&n?o=i.filter(s=>s.eventType===n):o=i,o}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(n=>{if(n.element===e)return n})}findByType(e){return this.allListeners.filter(n=>{if(n.eventType===e)return n})}findByHandler(e){return this.allListeners.filter(n=>{if(n.handler===e)return n})}findById(e){return this.allListeners.find(n=>n.id===e)}}class ce{constructor({config:e,eventsDispatcher:n}){if(this.nodes={},this.listeners=new am,this.readOnlyMutableListeners={on:(r,o,i,s=!1)=>{this.mutableListenerIds.push(this.listeners.on(r,o,i,s))},clearAll:()=>{for(const r of this.mutableListenerIds)this.listeners.offById(r);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===ce)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=n}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const n=this.nodes[e];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}}class J{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const n=e.anchorNode;return n?F.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(J.get())}static isSelectionAtEditor(e){if(!e)return!1;let n=e.anchorNode||e.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${J.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let n=e.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${J.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!J.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,n,r={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,n=e.createRange(),r.x=n.boundingLeft,r.y=n.boundingTop,r.width=n.boundingWidth,r.height=n.boundingHeight,r;if(!window.getSelection)return ae("Method window.getSelection is not supported","warn"),r;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return ae("Method SelectionUtils.rangeCount is not supported","warn"),r;if(e.rangeCount===0)return r;if(n=e.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(r=n.getBoundingClientRect()),r.x===0&&r.y===0){const o=document.createElement("span");if(o.getBoundingClientRect){o.appendChild(document.createTextNode("​")),n.insertNode(o),r=o.getBoundingClientRect();const i=o.parentNode;i.removeChild(o),i.normalize()}}return r}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,n=0){const r=document.createRange(),o=window.getSelection();return F.isNativeInput(e)?F.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=n,e.getBoundingClientRect()):void 0:(r.setStart(e,n),r.setEnd(e,n),o.removeAllRanges(),o.addRange(r),r.getBoundingClientRect())}static isRangeInsideContainer(e){const n=J.range;return n===null?!1:e.contains(n.startContainer)}static addFakeCursor(){const e=J.range;if(e===null)return;const n=F.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",e.collapse(),e.insertNode(n)}static isFakeCursorInsideContainer(e){return F.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const n=F.find(e,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=J.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),n=document.createRange();n.selectNodeContents(e.focusNode),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}findParentTag(e,n,r=10){const o=window.getSelection();let i=null;return!o||!o.anchorNode||!o.focusNode?null:([o.anchorNode,o.focusNode].forEach(s=>{let a=r;for(;a>0&&s.parentNode&&!(s.tagName===e&&(i=s,n&&s.classList&&!s.classList.contains(n)&&(i=null),i));)s=s.parentNode,a--}),i)}expandToTag(e){const n=window.getSelection();n.removeAllRanges();const r=document.createRange();r.selectNodeContents(e),n.addRange(r)}}function CB(t,e){const{type:n,target:r,addedNodes:o,removedNodes:i}=t;if(r===e)return!0;if(["characterData","attributes"].includes(n)){const l=r.nodeType===Node.TEXT_NODE?r.parentNode:r;return e.contains(l)}const s=Array.from(o).some(l=>e.contains(l)),a=Array.from(i).some(l=>e.contains(l));return s||a}const ah="redactor dom changed",yk="block changed",bk="fake cursor is about to be toggled",xk="fake cursor have been set";var kr=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(kr||{});let Vn=class hn extends gd{constructor({id:e=yB(),data:n,tool:r,api:o,readOnly:i,tunesData:s},a){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(l=void 0)=>{const c=l===void 0,d=l instanceof InputEvent;!c&&!d&&this.detectToolRootChange(l);let u;c||d?u=!0:u=!(l.length>0&&l.every(h=>{const{addedNodes:v,removedNodes:g,target:y}=h;return[...Array.from(v),...Array.from(g),y].some(w=>F.isElement(w)?w.dataset.mutationFree==="true":!1)})),u&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=r.name,this.id=e,this.settings=r.settings,this.config=r.settings.config||{},this.api=o,this.editorEventBus=a||null,this.blockAPI=new Ss(this),this.tool=r,this.toolInstance=r.create(n,this.blockAPI,i),this.tunes=r.tunes,this.composeTunes(s),this.holder=this.compose(),this.watchBlockMutations(),this.addInputEvents()}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=F.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const n=this.inputs.findIndex(r=>r===e||r.contains(e));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!dn(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return _e(this.toolInstance.merge)}get isEmpty(){const e=F.isEmpty(this.pluginsContent),n=!this.hasMedia;return e&&n}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set focused(e){this.holder.classList.toggle(hn.CSS.focused,e)}get focused(){return this.holder.classList.contains(hn.CSS.focused)}set selected(e){var n,r;this.holder.classList.toggle(hn.CSS.selected,e);const o=e===!0&&J.isRangeInsideContainer(this.holder),i=e===!1&&J.isFakeCursorInsideContainer(this.holder);(o||i)&&((n=this.editorEventBus)==null||n.emit(bk,{state:e}),o?J.addFakeCursor():J.removeFakeCursor(this.holder),(r=this.editorEventBus)==null||r.emit(xk,{state:e}))}get selected(){return this.holder.classList.contains(hn.CSS.selected)}set stretched(e){this.holder.classList.toggle(hn.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(hn.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(hn.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,n){if(_e(this.toolInstance[e])){e==="appendCallback"&&ae("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,n)}catch(r){ae(`Error during '${e}' call: ${r.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([i,s])=>{if(_e(s.save))try{n[i]=s.save()}catch(a){ae(`Tune ${s.constructor.name} save method throws an Error %o`,"warn",a)}});const r=window.performance.now();let o;return Promise.resolve(e).then(i=>(o=window.performance.now(),{id:this.id,tool:this.name,data:i,tunes:n,time:o-r})).catch(i=>{ae(`Saving process for ${this.name} tool failed due to the ${i}`,"log","red")})}async validate(e){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(e)),n}getTunes(){const e=document.createElement("div"),n=[],r=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[],o=[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(i=>i.render());return[r,o].flat().forEach(i=>{F.isElement(i)?e.appendChild(i):Array.isArray(i)?n.push(...i):n.push(i)}),[n,e]}updateCurrentInput(){this.currentInput=F.isNativeInput(document.activeElement)||!J.anchorNode?document.activeElement:J.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),_e(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data;return e.find(r=>Object.entries(r.data).some(([o,i])=>n[o]&&wB(n[o],i)))}compose(){const e=F.make("div",hn.CSS.wrapper),n=F.make("div",hn.CSS.content),r=this.toolInstance.render();this.toolRenderedElement=r,n.appendChild(this.toolRenderedElement);let o=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(i=>{if(_e(i.wrap))try{o=i.wrap(o)}catch(s){ae(`Tune ${i.constructor.name} wrap method throws an Error %o`,"warn",s)}}),e.appendChild(o),e}composeTunes(e){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(e[n.name],this.blockAPI))}),Object.entries(e).forEach(([n,r])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=r)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),F.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),F.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=n=>{const{mutations:r}=n;r.some(o=>CB(o,this.toolRenderedElement))&&this.didMutated(r)},(e=this.editorEventBus)==null||e.on(ah,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(ah,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const r=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=r}})}dropInputsCache(){this.cachedInputs=[]}};class _B extends ce{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,n={},r={},o,i,s,a)=>{const l=this.Editor.BlockManager.insert({id:a,tool:e,data:n,index:o,needToFocus:i,replace:s});return new Ss(l)},this.composeBlockData=async e=>{const n=this.Editor.Tools.blockTools.get(e);return new Vn({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=(e,n)=>{const{BlockManager:r}=this.Editor,o=r.getBlockById(e);if(!o){ae("blocks.update(): Block with passed id was not found","warn");return}const i=r.getBlockIndex(o);r.insert({id:o.id,tool:o.name,data:n,index:i,replace:!0,tunes:o.tunes})}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,n)=>this.swap(e,n),move:(e,n)=>this.move(e,n),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(e,n=!0)=>this.stretchBlock(e,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,update:this.update,composeBlockData:this.composeBlockData}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const n=this.Editor.BlockManager.getBlockById(e);if(!n){on("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(e){const n=this.Editor.BlockManager.getBlockByIndex(e);if(n===void 0){on("There is no block at index `"+e+"`","warn");return}return new Ss(n)}getById(e){const n=this.Editor.BlockManager.getBlockById(e);return n===void 0?(on("There is no block with id `"+e+"`","warn"),null):new Ss(n)}swap(e,n){ae("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,n)}move(e,n){this.Editor.BlockManager.move(e,n)}delete(e){try{this.Editor.BlockManager.removeBlock(e)}catch(n){on(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}clear(){this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}render(e){return this.Editor.BlockManager.clear(),this.Editor.Renderer.render(e.blocks)}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,n=!0){sh(!0,"blocks.stretchBlock()","BlockAPI");const r=this.Editor.BlockManager.getBlockByIndex(e);r&&(r.stretched=n)}insertNewBlock(){ae("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}}let NB=class extends ce{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,n),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,n),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,n),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,n),!0):!1,this.setToBlock=(e,n=this.Editor.Caret.positions.DEFAULT,r=0)=>this.Editor.BlockManager.blocks[e]?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e],n,r),!0):!1,this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}},jB=class extends ce{get methods(){return{emit:(e,n)=>this.emit(e,n),off:(e,n)=>this.off(e,n),on:(e,n)=>this.on(e,n)}}on(e,n){this.eventsDispatcher.on(e,n)}emit(e,n){this.eventsDispatcher.emit(e,n)}off(e,n){this.eventsDispatcher.off(e,n)}};class lm extends ce{static getNamespace(e){return e.isTune()?`blockTunes.${e.name}`:`tools.${e.name}`}get methods(){return{t:()=>{on("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e){return Object.assign(this.methods,{t:n=>_t.t(lm.getNamespace(e),n)})}}class IB extends ce{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e)})}}let PB=class extends ce{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}};class LB extends ce{get methods(){return{on:(e,n,r,o)=>this.on(e,n,r,o),off:(e,n,r,o)=>this.off(e,n,r,o),offById:e=>this.offById(e)}}on(e,n,r,o){return this.listeners.on(e,n,r,o)}off(e,n,r,o){this.listeners.off(e,n,r,o)}offById(e){this.listeners.offById(e)}}var lh={},AB={get exports(){return lh},set exports(t){lh=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=0)}([function(n,r,o){o(1),n.exports=function(){var i=o(6),s="cdx-notify--bounce-in",a=null;return{show:function(l){if(l.message){(function(){if(a)return!0;a=i.getWrapper(),document.body.appendChild(a)})();var c=null,d=l.time||8e3;switch(l.type){case"confirm":c=i.confirm(l);break;case"prompt":c=i.prompt(l);break;default:c=i.alert(l),window.setTimeout(function(){c.remove()},d)}a.appendChild(c),c.classList.add(s)}}}}()},function(n,r,o){var i=o(2);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(4)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var d=l[1]||"",u=l[3];if(!u)return d;if(c&&typeof btoa=="function"){var h=(g=u,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),v=u.sources.map(function(y){return"/*# sourceURL="+u.sourceRoot+y+" */"});return[d].concat(v).concat([h]).join(`
`)}var g;return[d].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var d=this[c][0];typeof d=="number"&&(l[d]=!0)}for(c=0;c<s.length;c++){var u=s[c];typeof u[0]=="number"&&l[u[0]]||(a&&!u[2]?u[2]=a:a&&(u[2]="("+u[2]+") and ("+a+")"),i.push(u))}},i}},function(n,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(k){var S={};return function(C){if(typeof C=="function")return C();if(S[C]===void 0){var T=(function(I){return document.querySelector(I)}).call(this,C);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}S[C]=T}return S[C]}}(),d=null,u=0,h=[],v=o(5);function g(k,S){for(var C=0;C<k.length;C++){var T=k[C],I=a[T.id];if(I){I.refs++;for(var P=0;P<I.parts.length;P++)I.parts[P](T.parts[P]);for(;P<T.parts.length;P++)I.parts.push(x(T.parts[P],S))}else{var O=[];for(P=0;P<T.parts.length;P++)O.push(x(T.parts[P],S));a[T.id]={id:T.id,refs:1,parts:O}}}}function y(k,S){for(var C=[],T={},I=0;I<k.length;I++){var P=k[I],O=S.base?P[0]+S.base:P[0],L={css:P[1],media:P[2],sourceMap:P[3]};T[O]?T[O].parts.push(L):C.push(T[O]={id:O,parts:[L]})}return C}function w(k,S){var C=c(k.insertInto);if(!C)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var T=h[h.length-1];if(k.insertAt==="top")T?T.nextSibling?C.insertBefore(S,T.nextSibling):C.appendChild(S):C.insertBefore(S,C.firstChild),h.push(S);else if(k.insertAt==="bottom")C.appendChild(S);else{if(typeof k.insertAt!="object"||!k.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=c(k.insertInto+" "+k.insertAt.before);C.insertBefore(S,I)}}function b(k){if(k.parentNode===null)return!1;k.parentNode.removeChild(k);var S=h.indexOf(k);S>=0&&h.splice(S,1)}function m(k){var S=document.createElement("style");return k.attrs.type===void 0&&(k.attrs.type="text/css"),p(S,k.attrs),w(k,S),S}function p(k,S){Object.keys(S).forEach(function(C){k.setAttribute(C,S[C])})}function x(k,S){var C,T,I,P;if(S.transform&&k.css){if(!(P=S.transform(k.css)))return function(){};k.css=P}if(S.singleton){var O=u++;C=d||(d=m(S)),T=j.bind(null,C,O,!1),I=j.bind(null,C,O,!0)}else k.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(C=function(L){var A=document.createElement("link");return L.attrs.type===void 0&&(L.attrs.type="text/css"),L.attrs.rel="stylesheet",p(A,L.attrs),w(L,A),A}(S),T=(function(L,A,D){var B=D.css,M=D.sourceMap,R=A.convertToAbsoluteUrls===void 0&&M;(A.convertToAbsoluteUrls||R)&&(B=v(B)),M&&(B+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(M))))+" */");var z=new Blob([B],{type:"text/css"}),V=L.href;L.href=URL.createObjectURL(z),V&&URL.revokeObjectURL(V)}).bind(null,C,S),I=function(){b(C),C.href&&URL.revokeObjectURL(C.href)}):(C=m(S),T=(function(L,A){var D=A.css,B=A.media;if(B&&L.setAttribute("media",B),L.styleSheet)L.styleSheet.cssText=D;else{for(;L.firstChild;)L.removeChild(L.firstChild);L.appendChild(document.createTextNode(D))}}).bind(null,C),I=function(){b(C)});return T(k),function(L){if(L){if(L.css===k.css&&L.media===k.media&&L.sourceMap===k.sourceMap)return;T(k=L)}else I()}}n.exports=function(k,S){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(S=S||{}).attrs=typeof S.attrs=="object"?S.attrs:{},S.singleton||typeof S.singleton=="boolean"||(S.singleton=l()),S.insertInto||(S.insertInto="head"),S.insertAt||(S.insertAt="bottom");var C=y(k,S);return g(C,S),function(T){for(var I=[],P=0;P<C.length;P++){var O=C[P];(L=a[O.id]).refs--,I.push(L)}for(T&&g(y(T,S),S),P=0;P<I.length;P++){var L;if((L=I[P]).refs===0){for(var A=0;A<L.parts.length;A++)L.parts[A]();delete a[L.id]}}}};var E,N=(E=[],function(k,S){return E[k]=S,E.filter(Boolean).join(`
`)});function j(k,S,C,T){var I=C?"":T.css;if(k.styleSheet)k.styleSheet.cssText=N(S,I);else{var P=document.createTextNode(I),O=k.childNodes;O[S]&&k.removeChild(O[S]),O.length?k.insertBefore(P,O[S]):k.appendChild(P)}}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var d,u=c.trim().replace(/^"(.*)"$/,function(h,v){return v}).replace(/^'(.*)'$/,function(h,v){return v});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?l:(d=u.indexOf("//")===0?u:u.indexOf("/")===0?s+u:a+u.replace(/^\.\//,""),"url("+JSON.stringify(d)+")")})}},function(n,r,o){var i,s,a,l,c,d,u,h,v;n.exports=(i="cdx-notifies",s="cdx-notify",a="cdx-notify__cross",l="cdx-notify__button--confirm",c="cdx-notify__button--cancel",d="cdx-notify__input",u="cdx-notify__button",h="cdx-notify__btns-wrapper",{alert:v=function(g){var y=document.createElement("DIV"),w=document.createElement("DIV"),b=g.message,m=g.style;return y.classList.add(s),m&&y.classList.add(s+"--"+m),y.innerHTML=b,w.classList.add(a),w.addEventListener("click",y.remove.bind(y)),y.appendChild(w),y},confirm:function(g){var y=v(g),w=document.createElement("div"),b=document.createElement("button"),m=document.createElement("button"),p=y.querySelector("."+a),x=g.cancelHandler,E=g.okHandler;return w.classList.add(h),b.innerHTML=g.okText||"Confirm",m.innerHTML=g.cancelText||"Cancel",b.classList.add(u),m.classList.add(u),b.classList.add(l),m.classList.add(c),x&&typeof x=="function"&&(m.addEventListener("click",x),p.addEventListener("click",x)),E&&typeof E=="function"&&b.addEventListener("click",E),b.addEventListener("click",y.remove.bind(y)),m.addEventListener("click",y.remove.bind(y)),w.appendChild(b),w.appendChild(m),y.appendChild(w),y},prompt:function(g){var y=v(g),w=document.createElement("div"),b=document.createElement("button"),m=document.createElement("input"),p=y.querySelector("."+a),x=g.cancelHandler,E=g.okHandler;return w.classList.add(h),b.innerHTML=g.okText||"Ok",b.classList.add(u),b.classList.add(l),m.classList.add(d),g.placeholder&&m.setAttribute("placeholder",g.placeholder),g.default&&(m.value=g.default),g.inputType&&(m.type=g.inputType),x&&typeof x=="function"&&p.addEventListener("click",x),E&&typeof E=="function"&&b.addEventListener("click",function(){E(m.value)}),b.addEventListener("click",y.remove.bind(y)),w.appendChild(m),w.appendChild(b),y.appendChild(w),y},getWrapper:function(){var g=document.createElement("DIV");return g.classList.add(i),g}})}])})})(AB);const BB=md(lh);let OB=class{show(e){BB.show(e)}},MB=class extends ce{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.notifier=new OB}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}},RB=class extends ce{get methods(){const e=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}};var ch={},DB={get exports(){return ch},set exports(t){ch=t}};(function(t,e){(function(n,r){t.exports=r()})(lB,function(){function n(u){var h=u.tags,v=Object.keys(h),g=v.map(function(y){return typeof h[y]}).every(function(y){return y==="object"||y==="boolean"||y==="function"});if(!g)throw new Error("The configuration was invalid");this.config=u}var r=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function o(u){return r.indexOf(u.nodeName)!==-1}var i=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function s(u){return i.indexOf(u.nodeName)!==-1}n.prototype.clean=function(u){const h=document.implementation.createHTMLDocument(),v=h.createElement("div");return v.innerHTML=u,this._sanitize(h,v),v.innerHTML},n.prototype._sanitize=function(u,h){var v=a(u,h),g=v.firstChild();if(g)do{if(g.nodeType===Node.TEXT_NODE)if(g.data.trim()===""&&(g.previousElementSibling&&o(g.previousElementSibling)||g.nextElementSibling&&o(g.nextElementSibling))){h.removeChild(g),this._sanitize(u,h);break}else continue;if(g.nodeType===Node.COMMENT_NODE){h.removeChild(g),this._sanitize(u,h);break}var y=s(g),w;y&&(w=Array.prototype.some.call(g.childNodes,o));var b=!!h.parentNode,m=o(h)&&o(g)&&b,p=g.nodeName.toLowerCase(),x=l(this.config,p,g),E=y&&w;if(E||c(g,x)||!this.config.keepNestedBlockElements&&m){if(!(g.nodeName==="SCRIPT"||g.nodeName==="STYLE"))for(;g.childNodes.length>0;)h.insertBefore(g.childNodes[0],g);h.removeChild(g),this._sanitize(u,h);break}for(var N=0;N<g.attributes.length;N+=1){var j=g.attributes[N];d(j,x,g)&&(g.removeAttribute(j.name),N=N-1)}this._sanitize(u,g)}while(g=v.nextSibling())};function a(u,h){return u.createTreeWalker(h,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function l(u,h,v){return typeof u.tags[h]=="function"?u.tags[h](v):u.tags[h]}function c(u,h){return typeof h>"u"?!0:typeof h=="boolean"?!h:!1}function d(u,h,v){var g=u.name.toLowerCase();return h===!0?!1:typeof h[g]=="function"?!h[g](u.value,v):typeof h[g]>"u"||h[g]===!1?!0:typeof h[g]=="string"?h[g]!==u.value:!1}return n})})(DB);const FB=ch;function wk(t,e){return t.map(n=>{const r=_e(e)?e(n.tool):e;return dn(r)||(n.data=cm(n.data,r)),n})}function Hn(t,e={}){const n={tags:e};return new FB(n).clean(t)}function cm(t,e){return Array.isArray(t)?UB(t,e):at(t)?zB(t,e):Wr(t)?$B(t,e):t}function UB(t,e){return t.map(n=>cm(n,e))}function zB(t,e){const n={};for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const o=t[r],i=VB(e[r])?e[r]:e;n[r]=cm(o,i)}return n}function $B(t,e){return at(e)?Hn(t,e):e===!1?Hn(t,{}):t}function VB(t){return at(t)||fB(t)||_e(t)}class HB extends ce{get methods(){return{clean:(e,n)=>this.clean(e,n)}}clean(e,n){return Hn(e,n)}}class WB extends ce{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(on(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class GB extends ce{get methods(){return{findParentTag:(e,n)=>this.findParentTag(e,n),expandToTag:e=>this.expandToTag(e)}}findParentTag(e,n){return new J().findParentTag(e,n)}expandToTag(e){new J().expandToTag(e)}}class qB extends ce{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class KB extends ce{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){on("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){on("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var dh={},YB={get exports(){return dh},set exports(t){dh=t}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(n,r,o){n.exports=o(1)},function(n,r,o){o.r(r),o.d(r,"default",function(){return i});class i{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(a,l,c){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const d=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},c);if(d.hidingDelay&&(this.hidingDelay=d.hidingDelay),this.nodes.content.innerHTML="",typeof l=="string")this.nodes.content.appendChild(document.createTextNode(l));else{if(!(l instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof l+" given.");this.nodes.content.appendChild(l)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),d.placement){case"top":this.placeTop(a,d);break;case"left":this.placeLeft(a,d);break;case"right":this.placeRight(a,d);break;case"bottom":default:this.placeBottom(a,d)}d&&d.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},d.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(a=!1){if(this.hidingDelay&&!a)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(a,l,c){a.addEventListener("mouseenter",()=>{this.show(a,l,c)}),a.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const a="codex-tooltips-style";if(document.getElementById(a))return;const l=o(2),c=this.make("style",null,{textContent:l.toString(),id:a});this.prepend(document.head,c)}placeBottom(a,l){const c=a.getBoundingClientRect(),d=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,u=c.bottom+window.pageYOffset+this.offsetTop+l.marginTop;this.applyPlacement("bottom",d,u)}placeTop(a,l){const c=a.getBoundingClientRect(),d=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,u=c.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",d,u)}placeLeft(a,l){const c=a.getBoundingClientRect(),d=c.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-l.marginLeft,u=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",d,u)}placeRight(a,l){const c=a.getBoundingClientRect(),d=c.right+this.offsetRight+l.marginRight,u=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",d,u)}applyPlacement(a,l,c){this.nodes.wrapper.classList.add(this.CSS.placement[a]),this.nodes.wrapper.style.left=l+"px",this.nodes.wrapper.style.top=c+"px"}make(a,l=null,c={}){const d=document.createElement(a);Array.isArray(l)?d.classList.add(...l):l&&d.classList.add(l);for(const u in c)c.hasOwnProperty(u)&&(d[u]=c[u]);return d}append(a,l){Array.isArray(l)?l.forEach(c=>a.appendChild(c)):a.appendChild(l)}prepend(a,l){Array.isArray(l)?(l=l.reverse()).forEach(c=>a.prepend(c)):a.prepend(l)}}},function(n,r){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(YB);const XB=md(dh);class dm{constructor(){this.lib=new XB}destroy(){this.lib.destroy()}show(e,n,r){this.lib.show(e,n,r)}hide(e=!1){this.lib.hide(e)}onHover(e,n,r){this.lib.onHover(e,n,r)}}class JB extends ce{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.tooltip=new dm}destroy(){this.tooltip.destroy()}get methods(){return{show:(e,n,r)=>this.show(e,n,r),hide:()=>this.hide(),onHover:(e,n,r)=>this.onHover(e,n,r)}}show(e,n,r){this.tooltip.show(e,n,r)}hide(){this.tooltip.hide()}onHover(e,n,r){this.tooltip.onHover(e,n,r)}}class QB extends ce{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function kk(t,e){const n={};return Object.entries(t).forEach(([r,o])=>{if(at(o)){const i=e?`${e}.${r}`:r;Object.values(o).every(s=>Wr(s))?n[r]=i:n[r]=kk(o,i);return}n[r]=o}),n}const sn=kk(gk);function ZB(t,e){const n={};return Object.keys(t).forEach(r=>{const o=e[r];o!==void 0?n[o]=t[r]:n[r]=t[r]}),n}const eO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',Sk='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',tO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',nO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',rO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',oO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',Lv='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',iO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',sO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',aO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',lO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';let Av=class Ke{constructor(e){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(Ke.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(Ke.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(Ke.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=e,this.nodes.root=this.make(e)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root.classList.contains(Ke.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){this.nodes.root.classList.toggle(Ke.CSS.active,e)}toggleHidden(e){this.nodes.root.classList.toggle(Ke.CSS.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e){const n=F.make("div",Ke.CSS.container);return e.name&&(n.dataset.itemName=e.name),this.nodes.icon=F.make("div",Ke.CSS.icon,{innerHTML:e.icon||rO}),n.appendChild(this.nodes.icon),n.appendChild(F.make("div",Ke.CSS.title,{innerHTML:e.title||""})),e.secondaryLabel&&n.appendChild(F.make("div",Ke.CSS.secondaryTitle,{textContent:e.secondaryLabel})),e.isActive&&n.classList.add(Ke.CSS.active),e.isDisabled&&n.classList.add(Ke.CSS.disabled),n}enableConfirmationMode(e){const n={...this.params,...e,confirmation:e.confirmation},r=this.make(n);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.add(Ke.CSS.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(Ke.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(Ke.CSS.noHover),this.nodes.root.classList.add(Ke.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){if(e.confirmation===void 0)try{e.onActivate(e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){this.nodes.icon.classList.contains(Ke.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(Ke.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}};const ss=class{constructor(t,e){this.cursor=-1,this.items=[],this.items=t||[],this.focusedCssClass=e}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(t){t<this.items.length&&t>=-1&&(this.dropCursor(),this.cursor=t,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(t){this.items=t}next(){this.cursor=this.leafNodesAndReturnIndex(ss.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(ss.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(t){if(this.items.length===0)return this.cursor;let e=this.cursor;return e===-1?e=t===ss.directions.RIGHT?-1:0:this.items[e].classList.remove(this.focusedCssClass),t===ss.directions.RIGHT?e=(e+1)%this.items.length:e=(this.items.length+e-1)%this.items.length,F.canSetCaret(this.items[e])&&No(()=>J.setCursor(this.items[e]),50)(),this.items[e].classList.add(this.focusedCssClass),e}};let $o=ss;$o.directions={RIGHT:"right",LEFT:"left"};let Ii=class uh{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(this.isEventReadyForHandling(n))switch(uh.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case oe.TAB:this.handleTabPress(n);break;case oe.LEFT:case oe.UP:this.flipLeft();break;case oe.RIGHT:case oe.DOWN:this.flipRight();break;case oe.ENTER:this.handleEnterPress(n);break}},this.iterator=new $o(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||uh.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[oe.TAB,oe.LEFT,oe.RIGHT,oe.ENTER,oe.UP,oe.DOWN]}activate(e,n){this.activated=!0,e&&this.iterator.setItems(e),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?$o.directions.LEFT:$o.directions.RIGHT){case $o.directions.RIGHT:this.flipRight();break;case $o.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),_e(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}};class Es{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:e,onSearch:n,placeholder:r}){this.listeners=new am,this.items=e,this.onSearch=n,this.render(r)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(e){this.wrapper=F.make("div",Es.CSS.wrapper);const n=F.make("div",Es.CSS.icon,{innerHTML:aO});this.input=F.make("input",Es.CSS.input,{placeholder:e}),this.wrapper.appendChild(n),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)})}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var n;const r=((n=e.title)==null?void 0:n.toLowerCase())||"",o=this.searchQuery.toLowerCase();return r.includes(o)}}const as=class{lock(){Pv?this.lockHard():document.body.classList.add(as.CSS.scrollLocked)}unlock(){Pv?this.unlockHard():document.body.classList.remove(as.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(as.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(as.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let Ek=as;Ek.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var cO=Object.defineProperty,dO=Object.getOwnPropertyDescriptor,uO=(t,e,n,r)=>{for(var o=r>1?void 0:r?dO(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&cO(e,n,o),o},ea=(t=>(t.Close="close",t))(ea||{});const ot=class extends gd{constructor(e){super(),this.scopeElement=document.body,this.listeners=new am,this.scrollLocker=new Ek,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find(n=>n.isFocused).onFocus()},this.items=e.items.map(n=>new Av(n)),e.scopeElement!==void 0&&(this.scopeElement=e.scopeElement),e.messages&&(this.messages={...this.messages,...e.messages}),e.customContentFlippableItems&&(this.customContentFlippableItems=e.customContentFlippableItems),this.make(),e.customContent&&this.addCustomContent(e.customContent),e.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(ot.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(ot.CSS.overlayHidden),this.nodes.popover.classList.add(ot.CSS.popoverOpened),this.flipper.activate(this.flippableElements),this.search!==void 0&&setTimeout(()=>{this.search.focus()},100),yo()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(ot.CSS.popoverOpened),this.nodes.popover.classList.remove(ot.CSS.popoverOpenTop),this.nodes.overlay.classList.add(ot.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach(e=>e.reset()),this.search!==void 0&&this.search.clear(),yo()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),yo()&&this.scrollLocker.unlock()}make(){this.nodes.popover=F.make("div",[ot.CSS.popover]),this.nodes.nothingFoundMessage=F.make("div",[ot.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=F.make("div",[ot.CSS.items]),this.items.forEach(e=>{this.nodes.items.appendChild(e.getElement())}),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",e=>{const n=this.getTargetItem(e);n!==void 0&&this.handleItemClick(n)}),this.nodes.wrapper=F.make("div"),this.nodes.overlay=F.make("div",[ot.CSS.overlay,ot.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new Es({items:this.items,placeholder:this.messages.search,onSearch:(n,r)=>{this.items.forEach(i=>{const s=!r.includes(i);i.toggleHidden(s)}),this.toggleNothingFoundMessage(r.length===0),this.toggleCustomContent(n!=="");const o=n===""?this.flippableElements:r.map(i=>i.getElement());this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(o))}});const e=this.search.getElement();e.classList.add(ot.CSS.search),this.nodes.popover.insertBefore(e,this.nodes.popover.firstChild)}addCustomContent(e){this.nodes.customContent=e,this.nodes.customContent.classList.add(ot.CSS.customContent),this.nodes.popover.insertBefore(e,this.nodes.popover.firstChild)}getTargetItem(e){return this.items.find(n=>e.composedPath().includes(n.getElement()))}handleItemClick(e){e.isDisabled||(this.items.filter(n=>n!==e).forEach(n=>n.reset()),e.handleClick(),this.toggleItemActivenessIfNeeded(e),e.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new Ii({items:this.flippableElements,focusedItemClass:Av.CSS.focused,allowedKeys:[oe.TAB,oe.UP,oe.DOWN,oe.ENTER]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const e=this.items.map(n=>n.getElement());return(this.customContentFlippableItems||[]).concat(e)}get height(){let e=0;if(this.nodes.popover===null)return e;const n=this.nodes.popover.cloneNode(!0);return n.style.visibility="hidden",n.style.position="absolute",n.style.top="-1000px",n.classList.add(ot.CSS.popoverOpened),document.body.appendChild(n),e=n.offsetHeight,n.remove(),e}get shouldOpenBottom(){const e=this.nodes.popover.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),r=this.height,o=e.top+r,i=e.top-r,s=Math.min(window.innerHeight,n.bottom);return i<n.top||o<=s}toggleNothingFoundMessage(e){this.nodes.nothingFoundMessage.classList.toggle(ot.CSS.nothingFoundMessageDisplayed,e)}toggleCustomContent(e){var n;(n=this.nodes.customContent)==null||n.classList.toggle(ot.CSS.customContentHidden,e)}toggleItemActivenessIfNeeded(e){if(e.toggle===!0&&e.toggleActive(),typeof e.toggle=="string"){const n=this.items.filter(r=>r.toggle===e.toggle);if(n.length===1){e.toggleActive();return}n.forEach(r=>{r.toggleActive(r===e)})}}};let um=ot;uO([Fi],um.prototype,"height",1);class fO extends ce{constructor(){super(...arguments),this.opened=!1,this.selection=new J,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;return(e=this.popover)==null?void 0:e.flipper}make(){this.nodes.wrapper=F.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(e=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),e.selected=!0,this.Editor.BlockSelection.clearCache();const[n,r]=e.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new um({searchable:!0,items:n.map(o=>this.resolveTuneAliases(o)),customContent:r,customContentFlippableItems:this.getControls(r),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:_t.ui(sn.ui.popover,"Nothing found"),search:_t.ui(sn.ui.popover,"Filter")}}),this.popover.on(ea.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened=!1,J.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(ea.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null)}getControls(e){const{StylesAPI:n}=this.Editor,r=e.querySelectorAll(`.${n.classes.settingsButton}, ${F.allInputsSelector}`);return Array.from(r)}resolveTuneAliases(e){const n=ZB(e,{label:"title"});return e.confirmation&&(n.confirmation=this.resolveTuneAliases(e.confirmation)),n}}class Ht extends ce{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=F.make("div",[Ht.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=F.make("div",Ht.CSS.conversionToolbarTools);const e=F.make("div",Ht.CSS.conversionToolbarLabel,{textContent:_t.ui(sn.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),F.append(this.nodes.wrapper,e),F.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(e){this.opened?this.close():this.open(),_e(e)&&(this.togglingCallback=e)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(Ht.CSS.conversionToolbarShowed),window.requestAnimationFrame(()=>{this.flipper.activate(this.tools.map(e=>e.button).filter(e=>!e.classList.contains(Ht.CSS.conversionToolHidden))),this.flipper.focusFirst(),_e(this.togglingCallback)&&this.togglingCallback(!0)})}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(Ht.CSS.conversionToolbarShowed),_e(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return this.tools.length===1?this.tools[0].name!==this.config.defaultBlock:!0}async replaceWithBlock(e,n){const r=this.Editor.BlockManager.currentBlock.tool,o=(await this.Editor.BlockManager.currentBlock.save()).data,i=this.Editor.Tools.blockTools.get(e);let s="";const a=r.conversionConfig.export;if(_e(a))s=a(o);else if(Wr(a))s=o[a];else{ae("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export.");return}const l=Hn(s,i.sanitizeConfig);let c={};const d=i.conversionConfig.import;if(_e(d))c=d(l);else if(Wr(d))c[d]=l;else{ae("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data.");return}n&&(c=Object.assign(c,n)),this.Editor.BlockManager.replace({tool:e,data:c}),this.Editor.BlockSelection.clearSelection(),this.close(),this.Editor.InlineToolbar.close(),No(()=>{this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)},10)()}addTools(){const e=this.Editor.Tools.blockTools;Array.from(e.entries()).forEach(([n,r])=>{const o=r.conversionConfig;!o||!o.import||r.toolbox.forEach(i=>this.addToolIfValid(n,i))})}addToolIfValid(e,n){dn(n)||!n.icon||this.addTool(e,n)}addTool(e,n){const r=F.make("div",[Ht.CSS.conversionTool]),o=F.make("div",[Ht.CSS.conversionToolIcon]);r.dataset.tool=e,o.innerHTML=n.icon,F.append(r,o),F.append(r,F.text(_t.t(sn.toolNames,n.title||wc(e)))),F.append(this.nodes.tools,r),this.tools.push({name:e,button:r,toolboxItem:n}),this.listeners.on(r,"click",async()=>{await this.replaceWithBlock(e,n.data)})}async filterTools(){const{currentBlock:e}=this.Editor.BlockManager,n=await e.getActiveToolboxEntry();function r(o,i){return o.icon===i.icon&&o.title===i.title}this.tools.forEach(o=>{let i=!1;if(n){const s=r(n,o.toolboxItem);i=o.button.dataset.tool===e.name&&s}o.button.hidden=i,o.button.classList.toggle(Ht.CSS.conversionToolHidden,i)})}enableFlipper(){this.flipper=new Ii({focusedItemClass:Ht.CSS.conversionToolFocused})}}var fh={},hO={get exports(){return fh},set exports(t){fh=t}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(n,r,o){function i(l,c){for(var d=0;d<c.length;d++){var u=c[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function s(l,c,d){return c&&i(l.prototype,c),d&&i(l,d),l}o.r(r);var a=function(){function l(c){var d=this;(function(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.commands={},this.keys={},this.name=c.name,this.parseShortcutName(c.name),this.element=c.on,this.callback=c.callback,this.executeShortcut=function(u){d.execute(u)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(l,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),s(l,[{key:"parseShortcutName",value:function(c){c=c.split("+");for(var d=0;d<c.length;d++){c[d]=c[d].toUpperCase();var u=!1;for(var h in l.supportedCommands)if(l.supportedCommands[h].includes(c[d])){u=this.commands[h]=!0;break}u||(this.keys[c[d]]=!0)}for(var v in l.supportedCommands)this.commands[v]||(this.commands[v]=!1)}},{key:"execute",value:function(c){var d,u={CMD:c.ctrlKey||c.metaKey,SHIFT:c.shiftKey,ALT:c.altKey},h=!0;for(d in this.commands)this.commands[d]!==u[d]&&(h=!1);var v,g=!0;for(v in this.keys)g=g&&c.keyCode===l.keyCodes[v];h&&g&&this.callback(c)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),l}();r.default=a}]).default})})(hO);const pO=md(fh);class mO{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const n=new pO({name:e.name,on:e.on,callback:e.handler}),r=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...r,n])}remove(e,n){const r=this.findShortcut(e,n);if(!r)return;r.remove();const o=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,o.filter(i=>i!==r))}findShortcut(e,n){return(this.registeredShortcuts.get(e)||[]).find(({name:r})=>r===n)}}const Pi=new mO;var gO=Object.defineProperty,vO=Object.getOwnPropertyDescriptor,Tk=(t,e,n,r)=>{for(var o=r>1?void 0:r?vO(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&gO(e,n,o),o},Tl=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))(Tl||{});const Ck=class extends gd{constructor({api:e,tools:n,i18nLabels:r}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=e,this.tools=n,this.i18nLabels=r}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new um({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(ea.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add(Ck.CSS.toolbox),this.nodes.toolbox}hasFocus(){var e;return(e=this.popover)==null?void 0:e.hasFocus()}destroy(){var e;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),(e=this.popover)==null||e.off(ea.Close,this.onPopoverClose)}toolButtonActivated(e,n){this.insertNewBlock(e,n)}open(){var e;this.isEmpty||((e=this.popover)==null||e.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var e;(e=this.popover)==null||e.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const e=[];return this.tools.forEach(n=>{n.toolbox&&e.push(n)}),e}get toolboxItemsToBeDisplayed(){const e=(n,r)=>({icon:n.icon,title:_t.t(sn.toolNames,n.title||wc(r.name)),name:r.name,onActivate:()=>{this.toolButtonActivated(r.name,n.data)},secondaryLabel:r.shortcut?pk(r.shortcut):""});return this.toolsToBeDisplayed.reduce((n,r)=>(Array.isArray(r.toolbox)?r.toolbox.forEach(o=>{n.push(e(o,r))}):r.toolbox!==void 0&&n.push(e(r.toolbox,r)),n),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&this.enableShortcutForTool(e.name,n)})}enableShortcutForTool(e,n){Pi.add({name:n,on:this.api.ui.nodes.redactor,handler:r=>{r.preventDefault(),this.insertNewBlock(e)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&Pi.remove(this.api.ui.nodes.redactor,n)})}async insertNewBlock(e,n){const r=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(r);if(!o)return;const i=o.isEmpty?r:r+1;let s;if(n){const l=await this.api.blocks.composeBlockData(e);s=Object.assign(l,n)}const a=this.api.blocks.insert(e,s,void 0,i,void 0,o.isEmpty);a.call(kr.APPEND_CALLBACK),this.api.caret.setToBlock(i),this.emit("toolbox-block-added",{block:a}),this.api.toolbar.close()}};let fm=Ck;Tk([Fi],fm.prototype,"toolsToBeDisplayed",1);Tk([Fi],fm.prototype,"toolboxItemsToBeDisplayed",1);const _k="block hovered";class yO extends ce{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.tooltip=new dm}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){return{opened:this.toolboxInstance.opened,close:()=>{this.toolboxInstance.close()},open:()=>{this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>this.toolboxInstance.toggle(),hasFocus:()=>this.toolboxInstance.hasFocus()}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):(this.drawUI(),this.enableModuleBindings())}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const n=e.holder,{isMobile:r}=this.Editor.UI,o=e.pluginsContent,i=window.getComputedStyle(o),s=parseInt(i.paddingTop,10),a=n.offsetHeight;let l;r?l=n.offsetTop+a:l=n.offsetTop+s,this.nodes.wrapper.style.top=`${Math.floor(l)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),this.toolboxInstance.close(),this.Editor.BlockSettings.close())}open(e=!0){No(()=>{this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()},50)()}make(){this.nodes.wrapper=F.make("div",this.CSS.toolbar),["content","actions"].forEach(n=>{this.nodes[n]=F.make("div",this.CSS[n])}),F.append(this.nodes.wrapper,this.nodes.content),F.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=F.make("div",this.CSS.plusButton,{innerHTML:sO}),F.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{this.tooltip.hide(!0),this.plusButtonClicked()},!1);const e=F.make("div");e.appendChild(document.createTextNode(_t.ui(sn.ui.toolbar.toolbox,"Add"))),e.appendChild(F.make("div",this.CSS.plusButtonShortcut,{textContent:"⇥ Tab"})),this.tooltip.onHover(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=F.make("span",this.CSS.settingsToggler,{innerHTML:iO}),F.append(this.nodes.actions,this.nodes.settingsToggler),this.tooltip.onHover(this.nodes.settingsToggler,_t.ui(sn.ui.blockTunes.toggler,"Click to tune"),{hidingDelay:400}),F.append(this.nodes.actions,this.makeToolbox()),F.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),F.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new fm({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:_t.ui(sn.ui.popover,"Filter"),nothingFound:_t.ui(sn.ui.popover,"Nothing found")}}),this.toolboxInstance.on(Tl.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Tl.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Tl.BlockAdded,({block:e})=>{const{BlockManager:n,Caret:r}=this.Editor,o=n.getBlockById(e.id);o.inputs.length===0&&(o===n.lastBlock?(n.insertAtEnd(),r.setToBlock(n.lastBlock)):r.setToBlock(n.nextBlock))}),this.toolboxInstance.make()}plusButtonClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{e.stopPropagation(),this.settingsTogglerClicked(),this.toolboxInstance.opened&&this.toolboxInstance.close(),this.tooltip.hide(!0)},!0),yo()||this.eventsDispatcher.on(_k,e=>{this.Editor.BlockSettings.opened||this.toolboxInstance.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy(),this.tooltip.destroy()}}var vd=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(vd||{}),Cl=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(Cl||{}),Nk=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(Nk||{}),Vo=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(Vo||{}),hm=(t=>(t.IsInline="isInline",t.Title="title",t))(hm||{}),jk=(t=>(t.IsTune="isTune",t))(jk||{});class pm{constructor({name:e,constructable:n,config:r,api:o,isDefault:i,isInternal:s=!1,defaultPlaceholder:a}){this.api=o,this.name=e,this.constructable=n,this.config=r,this.isDefault=i,this.isInternal=s,this.defaultPlaceholder=a}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(_e(this.constructable.reset))return this.constructable.reset()}prepare(){if(_e(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===1}isBlock(){return this.type===0}isTune(){return this.type===2}}class bO extends ce{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=yo()?20:6,this.buttonsList=null,this.width=0,this.flipper=null,this.tooltip=new dm}toggleReadOnly(e){e?(this.destroy(),this.Editor.ConversionToolbar.destroy()):this.make()}tryToShow(e=!1,n=!0){if(!this.allowedToShow()){e&&this.close();return}this.move(),this.open(n),this.Editor.Toolbar.close()}move(){const e=J.rect,n=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),r={x:e.x-n.left,y:e.y+e.height-n.top+this.toolbarVerticalMargin};e.width&&(r.x+=Math.floor(e.width/2));const o=r.x-this.width/2,i=r.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,o<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,i>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(r.x)+"px",this.nodes.wrapper.style.top=Math.floor(r.y)+"px"}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(([e,n])=>{const r=this.getToolShortcut(e);r&&Pi.remove(this.Editor.UI.nodes.redactor,r),_e(n.clear)&&n.clear()}),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}open(e=!0){if(this.opened)return;this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0,e&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;let n=Array.from(this.buttonsList);n.unshift(this.nodes.conversionToggler),n=n.filter(r=>!r.hidden),this.flipper.activate(n)}containsNode(e){return this.nodes.wrapper.contains(e)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}make(){this.nodes.wrapper=F.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=F.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=F.make("div",this.CSS.buttonsWrapper),this.nodes.actions=F.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",e=>{e.target.closest(`.${this.CSS.actionsWrapper}`)||e.preventDefault()}),F.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),F.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),F.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),this.recalculateWidth(),this.enableFlipper()}allowedToShow(){const e=["IMG","INPUT"],n=J.get(),r=J.text;if(!n||!n.anchorNode||n.isCollapsed||r.length<1)return!1;const o=F.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(n&&e.includes(o.tagName)||o.closest('[contenteditable="true"]')===null)return!1;const i=this.Editor.BlockManager.getBlock(n.anchorNode);return i?i.tool.inlineTools.size!==0:!1}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=F.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=F.make("div",this.CSS.conversionTogglerContent);const e=F.make("div",this.CSS.conversionTogglerArrow,{innerHTML:Sk});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(e),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",()=>{this.Editor.ConversionToolbar.toggle(n=>{!n&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()})}),yo()===!1&&this.tooltip.onHover(this.nodes.conversionToggler,_t.ui(sn.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}async setConversionTogglerContent(){const{BlockManager:e}=this.Editor,{currentBlock:n}=e,r=n.name,o=n.tool.conversionConfig,i=o&&o.export;this.nodes.conversionToggler.hidden=!i,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!i);const s=await n.getActiveToolboxEntry()||{};this.nodes.conversionTogglerContent.innerHTML=s.icon||s.title||wc(r)}prepareConversionToolbar(){const e=this.Editor.ConversionToolbar.make();F.append(this.nodes.wrapper,e)}addToolsFiltered(){const e=J.get(),n=this.Editor.BlockManager.getBlock(e.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(n.tool.inlineTools.values()).forEach(r=>{this.addTool(r)}),this.recalculateWidth()}addTool(e){const n=e.create(),r=n.render();if(!r){ae("Render method must return an instance of Node","warn",e.name);return}if(r.dataset.tool=e.name,this.nodes.buttons.appendChild(r),this.toolsInstances.set(e.name,n),_e(n.renderActions)){const a=n.renderActions();this.nodes.actions.appendChild(a)}this.listeners.on(r,"click",a=>{this.toolClicked(n),a.preventDefault()});const o=this.getToolShortcut(e.name);if(o)try{this.enableShortcuts(n,o)}catch{}const i=F.make("div"),s=_t.t(sn.toolNames,e.title||wc(e.name));i.appendChild(F.text(s)),o&&i.appendChild(F.make("div",this.CSS.inlineToolbarShortcut,{textContent:pk(o)})),yo()===!1&&this.tooltip.onHover(r,i,{placement:"top",hidingDelay:100}),n.checkState(J.get())}getToolShortcut(e){const{Tools:n}=this.Editor,r=n.inlineTools.get(e),o=n.internal.inlineTools;return Array.from(o.keys()).includes(e)?this.inlineTools[e][Nk.Shortcut]:r.shortcut}enableShortcuts(e,n){Pi.add({name:n,handler:r=>{const{currentBlock:o}=this.Editor.BlockManager;o&&o.tool.enabledInlineTools&&(r.preventDefault(),this.toolClicked(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){const n=J.range;e.surround(n),this.checkToolsState(),e.renderActions!==void 0&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach(e=>{e.checkState(J.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,r])=>{e[n]=r.create()}),e}enableFlipper(){this.flipper=new Ii({focusedItemClass:this.CSS.focusedButton,allowedKeys:[oe.ENTER,oe.TAB]})}}class xO extends ce{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case oe.BACKSPACE:this.backspace(e);break;case oe.ENTER:this.enter(e);break;case oe.DOWN:case oe.RIGHT:this.arrowRightAndDown(e);break;case oe.UP:case oe.LEFT:this.arrowLeftAndUp(e);break;case oe.TAB:this.tabPressed(e);break}}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&uk(e.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(e)))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}tabPressed(e){this.Editor.BlockSelection.clearSelection(e);const{BlockManager:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor,i=n.currentBlock;if(!i)return;const s=i.isEmpty,a=i.tool.isDefault&&s,l=!s&&o.opened,c=!s&&!J.isCollapsed&&r.opened;a?this.activateToolbox():!l&&!c&&this.activateBlockSettings()}dragOver(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!0}dragLeave(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!1}handleCommandC(e){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:n,BlockManager:r,Caret:o}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e).then(()=>{const i=r.removeSelectedBlocks(),s=r.insertDefaultBlockAtIndex(i,!0);o.setToBlock(s,o.positions.START),n.clearSelection(e)})}enter(e){const{BlockManager:n,UI:r}=this.Editor;if(n.currentBlock.tool.isLineBreaksEnabled||r.someToolbarOpened&&r.someFlipperButtonFocused||e.shiftKey)return;let o=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):this.Editor.Caret.isAtEnd?o=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):o=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(o),this.Editor.Toolbar.moveAndOpen(o),e.preventDefault()}backspace(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor,i=n.currentBlock,s=i.tool;if(i.selected||i.isEmpty&&i.currentInput===i.firstInput){e.preventDefault();const l=n.currentBlockIndex;n.previousBlock&&n.previousBlock.inputs.length===0?n.removeBlock(l-1):n.removeBlock(),o.setToBlock(n.currentBlock,l?o.positions.END:o.positions.START),this.Editor.Toolbar.close(),r.clearSelection(e);return}if(s.isLineBreaksEnabled&&!o.isAtStart)return;const a=n.currentBlockIndex===0;o.isAtStart&&J.isCollapsed&&i.currentInput===i.firstInput&&!a&&(e.preventDefault(),this.mergeBlocks())}mergeBlocks(){const{BlockManager:e,Caret:n,Toolbar:r}=this.Editor,o=e.previousBlock,i=e.currentBlock;if(i.name!==o.name||!o.mergeable){if(o.inputs.length===0||o.isEmpty){e.removeBlock(e.currentBlockIndex-1),n.setToBlock(e.currentBlock),r.close();return}n.navigatePrevious()&&r.close();return}n.createShadow(o.pluginsContent),e.mergeBlocks(o,i).then(()=>{n.restoreCaret(o.pluginsContent),o.pluginsContent.normalize(),r.close()})}arrowRightAndDown(e){const n=Ii.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===oe.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const r=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===oe.DOWN&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}(e.keyCode===oe.DOWN||e.keyCode===oe.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?e.preventDefault():No(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(Ii.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===oe.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const n=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===oe.UP&&n){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}(e.keyCode===oe.UP||e.keyCode===oe.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?e.preventDefault():No(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const n=e.keyCode===oe.ENTER&&this.Editor.Toolbar.toolbox.opened,r=e.keyCode===oe.ENTER&&this.Editor.BlockSettings.opened,o=e.keyCode===oe.ENTER&&this.Editor.InlineToolbar.opened,i=e.keyCode===oe.ENTER&&this.Editor.ConversionToolbar.opened,s=e.keyCode===oe.TAB;return!(e.shiftKey||s||n||r||o||i)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.moveAndOpen()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class Tu{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return hk(this.workingArea.children)}static set(e,n,r){return isNaN(Number(n))?(Reflect.set(e,n,r),!0):(e.insert(+n,r),!0)}static get(e,n){return isNaN(Number(n))?Reflect.get(e,n):e.get(+n)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,n){const r=this.blocks[n];F.swap(this.blocks[e].holder,r.holder),this.blocks[n]=this.blocks[e],this.blocks[e]=r}move(e,n){const r=this.blocks.splice(n,1)[0],o=e-1,i=Math.max(0,o),s=this.blocks[i];e>0?this.insertToDOM(r,"afterend",s):this.insertToDOM(r,"beforebegin",s),this.blocks.splice(e,0,r);const a=this.composeBlockEvent("move",{fromIndex:n,toIndex:e});r.call(kr.MOVED,a)}insert(e,n,r=!1){if(!this.length){this.push(n);return}e>this.length&&(e=this.length),r&&(this.blocks[e].holder.remove(),this.blocks[e].call(kr.REMOVED));const o=r?1:0;if(this.blocks.splice(e,o,n),e>0){const i=this.blocks[e-1];this.insertToDOM(n,"afterend",i)}else{const i=this.blocks[e+1];i?this.insertToDOM(n,"beforebegin",i):this.insertToDOM(n)}}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(kr.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(kr.REMOVED)),this.blocks.length=0}insertAfter(e,n){const r=this.blocks.indexOf(e);this.insert(r+1,n)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,n,r){n?r.holder.insertAdjacentElement(n,e.holder):this.workingArea.appendChild(e.holder),e.call(kr.RENDERED)}composeBlockEvent(e,n){return new CustomEvent(e,{detail:n})}}const Bv="block-removed",Ov="block-added",wO="block-moved",kO="block-changed";class SO extends ce{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new Tu(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:Tu.set,get:Tu.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:n={},id:r=void 0,tunes:o={}}){const i=this.Editor.ReadOnly.isEnabled,s=this.Editor.Tools.blockTools.get(e),a=new Vn({id:r,data:n,tool:s,api:this.Editor.API,readOnly:i,tunesData:o},this.eventsDispatcher);return i||this.bindBlockEvents(a),a}insert({id:e=void 0,tool:n=this.config.defaultBlock,data:r={},index:o,needToFocus:i=!0,replace:s=!1,tunes:a={}}={}){let l=o;l===void 0&&(l=this.currentBlockIndex+(s?0:1));const c=this.composeBlock({id:e,tool:n,data:r,tunes:a});return s&&this.blockDidMutated(Bv,this.getBlockByIndex(l),{index:l}),this._blocks.insert(l,c,s),this.blockDidMutated(Ov,c,{index:l}),i?this.currentBlockIndex=l:l<=this.currentBlockIndex&&this.currentBlockIndex++,c}replace({tool:e=this.config.defaultBlock,data:n={}}){return this.insert({tool:e,data:n,index:this.currentBlockIndex,replace:!0})}paste(e,n,r=!1){const o=this.insert({tool:e,replace:r});try{o.call(kr.ON_PASTE,n)}catch(i){ae(`${e}: onPaste callback call is failed`,"error",i)}return o}insertDefaultBlockAtIndex(e,n=!1){const r=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=r,this.blockDidMutated(Ov,r,{index:e}),n?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,r}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,n){const r=this._blocks.indexOf(n);if(n.isEmpty)return;const o=await n.data;dn(o)||await e.mergeWith(o),this.removeBlock(r),this.currentBlockIndex=this._blocks.indexOf(e)}removeBlock(e=this.currentBlockIndex){if(!this.validateIndex(e))throw new Error("Can't find a Block to remove");const n=this._blocks[e];n.destroy(),this._blocks.remove(e),this.blockDidMutated(Bv,n,{index:e}),this.currentBlockIndex>=e&&this.currentBlockIndex--,this.blocks.length?e===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,this.insert())}removeSelectedBlocks(){let e;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(n),e=n);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),n=F.make("div");n.appendChild(e);const r={text:F.isEmpty(n)?"":n.innerHTML};return this.insert({data:r})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(n=>n.id===e)}getBlock(e){F.isElement(e)||(e=e.parentNode);const n=this._blocks.nodes,r=e.closest(`.${Vn.CSS.wrapper}`),o=n.indexOf(r);if(o>=0)return this._blocks[o]}highlightCurrentNode(){this.clearFocused(),this.currentBlock.focused=!0}clearFocused(){this.blocks.forEach(e=>{e.focused=!1})}setCurrentBlockByChildNode(e){F.isElement(e)||(e=e.parentNode);const n=e.closest(`.${Vn.CSS.wrapper}`);if(!n)return;const r=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(r!=null&&r.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){F.isElement(e)||(e=e.parentNode);const n=e.closest(`.${Vn.CSS.wrapper}`);return this.blocks.find(r=>r.holder===n)}swap(e,n){this._blocks.swap(e,n),this.currentBlockIndex=n}move(e,n=this.currentBlockIndex){if(isNaN(e)||isNaN(n)){ae("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(n)){ae("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,n),this.currentBlockIndex=e,this.blockDidMutated(wO,this.currentBlock,{fromIndex:n,toIndex:e})}dropPointer(){this.currentBlockIndex=-1,this.clearFocused()}clear(e=!1){this._blocks.removeAll(),this.dropPointer(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",r=>{n.keydown(r)}),this.readOnlyMutableListeners.on(e.holder,"keyup",r=>{n.keyup(r)}),this.readOnlyMutableListeners.on(e.holder,"dragover",r=>{n.dragOver(r)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",r=>{n.dragLeave(r)}),e.on("didMutated",r=>this.blockDidMutated(kO,r,{index:this.getBlockIndex(r)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,n,r){const o=new CustomEvent(e,{detail:{target:new Ss(n),...r}});return this.eventsDispatcher.emit(yk,{event:o}),n}}class EO extends ce{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(n=>n.selected===!0)}set allBlocksSelected(e){const{BlockManager:n}=this.Editor;n.blocks.forEach(r=>{r.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new J,Pi.add({name:"CMD+A",handler:e=>{const{BlockManager:n,ReadOnly:r}=this.Editor;if(r.isEnabled){e.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){J.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:n}=this.Editor;let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),r.selected=!1,this.clearCache()}clearSelection(e,n=!1){const{BlockManager:r,Caret:o,RectangleSelection:i}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const s=e&&e instanceof KeyboardEvent,a=s&&uk(e.keyCode);if(this.anyBlockSelected&&s&&a&&!J.isSelectionExists){const l=r.removeSelectedBlocks();r.insertDefaultBlockAtIndex(l,!0),o.setToBlock(r.currentBlock),No(()=>{const c=e.key;o.insertContentAtCaretPosition(c.length>1?"":c)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||i.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const n=F.make("div");this.selectedBlocks.forEach(i=>{const s=Hn(i.holder.innerHTML,this.sanitizerConfig),a=F.make("p");a.innerHTML=s,n.appendChild(a)});const r=Array.from(n.childNodes).map(i=>i.textContent).join(`

`),o=n.innerHTML;return e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",o),Promise.all(this.selectedBlocks.map(i=>i.save())).then(i=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(i))}catch{}})}selectBlockByIndex(e){const{BlockManager:n}=this.Editor;n.clearFocused();let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),this.selection.save(),J.get().removeAllRanges(),r.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Pi.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),F.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(e.target).inputs;if(n.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(n.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),J.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class kc extends ce{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const e=J.get(),n=F.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);let r=e.focusNode;if(F.isNativeInput(n))return n.selectionEnd===0;if(!e.anchorNode)return!1;let o=r.textContent.search(/\S/);o===-1&&(o=0);let i=e.focusOffset;return r.nodeType!==Node.TEXT_NODE&&r.childNodes.length&&(r.childNodes[i]?(r=r.childNodes[i],i=0):(r=r.childNodes[i-1],i=r.textContent.length)),(F.isLineBreakTag(n)||F.isEmpty(n))&&this.getHigherLevelSiblings(r,"left").every(s=>{const a=F.isLineBreakTag(s),l=s.children.length===1&&F.isLineBreakTag(s.children[0]),c=a||l;return F.isEmpty(s)&&!c})&&i===o?!0:n===null||r===n&&i<=o}get isAtEnd(){const e=J.get();let n=e.focusNode;const r=F.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(F.isNativeInput(r))return r.selectionEnd===r.value.length;if(!e.focusNode)return!1;let o=e.focusOffset;if(n.nodeType!==Node.TEXT_NODE&&n.childNodes.length&&(n.childNodes[o-1]?(n=n.childNodes[o-1],o=n.textContent.length):(n=n.childNodes[0],o=0)),F.isLineBreakTag(r)||F.isEmpty(r)){const s=this.getHigherLevelSiblings(n,"right");if(s.every((a,l)=>l===s.length-1&&F.isLineBreakTag(a)||F.isEmpty(a)&&!F.isLineBreakTag(a))&&o===n.textContent.length)return!0}const i=r.textContent.replace(/\s+$/,"");return n===r&&o>=i.length}setToBlock(e,n=this.positions.DEFAULT,r=0){const{BlockManager:o}=this.Editor;let i;switch(n){case this.positions.START:i=e.firstInput;break;case this.positions.END:i=e.lastInput;break;default:i=e.currentInput}if(!i)return;const s=F.getDeepestNode(i,n===this.positions.END),a=F.getContentLength(s);switch(!0){case n===this.positions.START:r=0;break;case n===this.positions.END:case r>a:r=a;break}No(()=>{this.set(s,r)},20)(),o.setCurrentBlockByChildNode(e.holder),o.currentBlock.currentInput=i}setToInput(e,n=this.positions.DEFAULT,r=0){const{currentBlock:o}=this.Editor.BlockManager,i=F.getDeepestNode(e);switch(n){case this.positions.START:this.set(i,0);break;case this.positions.END:this.set(i,F.getContentLength(i));break;default:r&&this.set(i,r)}o.currentInput=e}set(e,n=0){const{top:r,bottom:o}=J.setCursor(e,n),{innerHeight:i}=window;r<0&&window.scrollBy(0,r),o>i&&window.scrollBy(0,o-i)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const e=J.get();if(e.rangeCount){const n=e.getRangeAt(0),r=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),r)if(F.isNativeInput(r)){const o=r,i=document.createDocumentFragment(),s=o.value.substring(0,o.selectionStart),a=o.value.substring(o.selectionStart);return i.textContent=a,o.value=s,i}else{const o=n.cloneRange();return o.selectNodeContents(r),o.setStart(n.endContainer,n.endOffset),o.extractContents()}}}navigateNext(){const{BlockManager:e}=this.Editor,{currentBlock:n,nextContentfulBlock:r}=e,{nextInput:o}=n,i=this.isAtEnd;let s=r;if(!s&&!o){if(n.tool.isDefault||!i)return!1;s=e.insertAtEnd()}return i?(o?this.setToInput(o,this.positions.START):this.setToBlock(s,this.positions.START),!0):!1}navigatePrevious(){const{currentBlock:e,previousContentfulBlock:n}=this.Editor.BlockManager;if(!e)return!1;const{previousInput:r}=e;return!n&&!r?!1:this.isAtStart?(r?this.setToInput(r,this.positions.END):this.setToBlock(n,this.positions.END),!0):!1}createShadow(e){const n=document.createElement("span");n.classList.add(kc.CSS.shadowCaret),e.insertAdjacentElement("beforeend",n)}restoreCaret(e){const n=e.querySelector(`.${kc.CSS.shadowCaret}`);n&&(new J().expandToTag(n),setTimeout(()=>{const r=document.createRange();r.selectNode(n),r.extractContents()},50))}insertContentAtCaretPosition(e){const n=document.createDocumentFragment(),r=document.createElement("div"),o=J.get(),i=J.range;r.innerHTML=e,Array.from(r.childNodes).forEach(l=>n.appendChild(l)),n.childNodes.length===0&&n.appendChild(new Text);const s=n.lastChild;i.deleteContents(),i.insertNode(n);const a=document.createRange();a.setStart(s,s.textContent.length),o.removeAllRanges(),o.addRange(a)}getHigherLevelSiblings(e,n){let r=e;const o=[];for(;r.parentNode&&r.parentNode.contentEditable!=="true";)r=r.parentNode;const i=n==="left"?"previousSibling":"nextSibling";for(;r[i];)r=r[i],o.push(r);return o}}class TO extends ce{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:n,BlockSelection:r}=this.Editor,o=n.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,i=n.getBlockByChildNode(e.target);if(!(!o||!i)&&i!==o){if(o===this.firstSelectedBlock){J.get().removeAllRanges(),o.selected=!0,i.selected=!0,r.clearCache();return}if(i===this.firstSelectedBlock){o.selected=!1,i.selected=!1,r.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(o,i),this.lastSelectedBlock=i}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==dB.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:n,BlockSelection:r}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,r.clearCache(),J.get().removeAllRanges());const o=n.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),i=n.blocks[o];i&&(this.lastSelectedBlock.selected!==i.selected?(i.selected=!0,r.clearCache()):(this.lastSelectedBlock.selected=!1,r.clearCache()),this.lastSelectedBlock=i,this.Editor.InlineToolbar.close(),i.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor,i=n.blocks.indexOf(this.firstSelectedBlock),s=n.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&i>-1&&s>-1)if(e&&e instanceof KeyboardEvent)switch(e.keyCode){case oe.DOWN:case oe.RIGHT:o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END);break;case oe.UP:case oe.LEFT:o.setToBlock(n.blocks[Math.min(i,s)],o.positions.START);break;default:o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END)}else o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:n}=this.Editor;J.isCollapsed||this.Editor.BlockSelection.clearSelection(e),n.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,n){const{BlockManager:r,BlockSelection:o}=this.Editor,i=r.blocks.indexOf(e),s=r.blocks.indexOf(n),a=e.selected!==n.selected;for(let l=Math.min(i,s);l<=Math.max(i,s);l++){const c=r.blocks[l];c!==this.firstSelectedBlock&&c!==(a?e:n)&&(r.blocks[l].selected=!r.blocks[l].selected,o.clearCache())}}}class CO extends ce{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:n,Caret:r,Paste:o}=this.Editor;e.preventDefault(),n.blocks.forEach(s=>{s.dropTarget=!1}),J.isAtEditor&&!J.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const i=n.setCurrentBlockByChildNode(e.target);if(i)this.Editor.Caret.setToBlock(i,r.positions.END);else{const s=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(s,r.positions.END)}await o.processDataTransfer(e.dataTransfer,!0)}processDragStart(){J.isAtEditor&&!J.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}class _O extends ce{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver(r=>{this.redactorChanged(r)}),this.eventsDispatcher.on(yk,r=>{this.particularBlockChanged(r.event)}),this.eventsDispatcher.on(bk,()=>{this.disable()}),this.eventsDispatcher.on(xk,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!_e(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(ah,{mutations:e})}}const Ik=class extends ce{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=e=>{try{const n=e.create({},{},!1);if(e.pasteConfig===!1){this.exceptionList.push(e.name);return}if(!_e(n.onPaste))return;this.getTagsConfig(e),this.getFilesConfig(e),this.getPatternsConfig(e)}catch(n){ae(`Paste handling for «${e.name}» Tool hasn't been set up because of the error`,"warn",n)}},this.handlePasteEvent=async e=>{const{BlockManager:n,Toolbar:r}=this.Editor;!n.currentBlock||this.isNativeBehaviour(e.target)&&!e.clipboardData.types.includes("Files")||n.currentBlock&&this.exceptionList.includes(n.currentBlock.name)||(e.preventDefault(),this.processDataTransfer(e.clipboardData),n.clearFocused(),r.close())}}async prepare(){this.processTools()}toggleReadOnly(e){e?this.unsetCallback():this.setCallback()}async processDataTransfer(e,n=!1){const{Tools:r}=this.Editor,o=e.types;if((o.includes?o.includes("Files"):o.contains("Files"))&&!dn(this.toolsFiles)){await this.processFiles(e.files);return}const i=e.getData(this.MIME_TYPE),s=e.getData("text/plain");let a=e.getData("text/html");if(i)try{this.insertEditorJSData(JSON.parse(i));return}catch{}n&&s.trim()&&a.trim()&&(a="<p>"+(a.trim()?a:s)+"</p>");const l=Object.keys(this.toolsTags).reduce((u,h)=>(u[h.toLowerCase()]=this.toolsTags[h].sanitizationConfig??{},u),{}),c=Object.assign({},l,r.getAllInlineToolsSanitizeConfig(),{br:{}}),d=Hn(a,c);!d.trim()||d.trim()===s||!F.isHTMLString(d)?await this.processText(s):await this.processText(d,!0)}async processText(e,n=!1){const{Caret:r,BlockManager:o}=this.Editor,i=n?this.processHTML(e):this.processPlain(e);if(!i.length)return;if(i.length===1){i[0].isBlock?this.processSingleBlock(i.pop()):this.processInlinePaste(i.pop());return}const s=o.currentBlock&&o.currentBlock.tool.isDefault&&o.currentBlock.isEmpty;i.map(async(a,l)=>this.insertBlock(a,l===0&&s)),o.currentBlock&&r.setToBlock(o.currentBlock,r.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const e=this.Editor.Tools.blockTools;Array.from(e.values()).forEach(this.processTool)}collectTagNames(e){return Wr(e)?[e]:at(e)?Object.keys(e):[]}getTagsConfig(e){if(e.pasteConfig===!1)return;const n=e.pasteConfig.tags||[],r=[];n.forEach(o=>{const i=this.collectTagNames(o);r.push(...i),i.forEach(s=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,s)){ae(`Paste handler for «${e.name}» Tool on «${s}» tag is skipped because it is already used by «${this.toolsTags[s].tool.name}» Tool.`,"warn");return}const a=at(o)?o[s]:null;this.toolsTags[s.toUpperCase()]={tool:e,sanitizationConfig:a}})}),this.tagsByTool[e.name]=r.map(o=>o.toUpperCase())}getFilesConfig(e){if(e.pasteConfig===!1)return;const{files:n={}}=e.pasteConfig;let{extensions:r,mimeTypes:o}=n;!r&&!o||(r&&!Array.isArray(r)&&(ae(`«extensions» property of the onDrop config for «${e.name}» Tool should be an array`),r=[]),o&&!Array.isArray(o)&&(ae(`«mimeTypes» property of the onDrop config for «${e.name}» Tool should be an array`),o=[]),o&&(o=o.filter(i=>pB(i)?!0:(ae(`MIME type value «${i}» for the «${e.name}» Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[e.name]={extensions:r||[],mimeTypes:o||[]})}getPatternsConfig(e){e.pasteConfig===!1||!e.pasteConfig.patterns||dn(e.pasteConfig.patterns)||Object.entries(e.pasteConfig.patterns).forEach(([n,r])=>{r instanceof RegExp||ae(`Pattern ${r} for «${e.name}» Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:n,pattern:r,tool:e})})}isNativeBehaviour(e){return F.isNativeInput(e)}async processFiles(e){const{BlockManager:n}=this.Editor;let r;r=await Promise.all(Array.from(e).map(i=>this.processFile(i))),r=r.filter(i=>!!i);const o=n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty;r.forEach((i,s)=>{n.paste(i.type,i.event,s===0&&o)})}async processFile(e){const n=hB(e),r=Object.entries(this.toolsFiles).find(([i,{mimeTypes:s,extensions:a}])=>{const[l,c]=e.type.split("/"),d=a.find(h=>h.toLowerCase()===n.toLowerCase()),u=s.find(h=>{const[v,g]=h.split("/");return v===l&&(g===c||g==="*")});return!!d||!!u});if(!r)return;const[o]=r;return{event:this.composePasteEvent("file",{file:e}),type:o}}processHTML(e){const{Tools:n}=this.Editor,r=F.make("DIV");return r.innerHTML=e,this.getNodes(r).map(o=>{let i,s=n.defaultTool,a=!1;switch(o.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:i=F.make("div"),i.appendChild(o);break;case Node.ELEMENT_NODE:i=o,a=!0,this.toolsTags[i.tagName]&&(s=this.toolsTags[i.tagName].tool);break}const{tags:l}=s.pasteConfig||{tags:[]},c=l.reduce((h,v)=>(this.collectTagNames(v).forEach(g=>{const y=at(v)?v[g]:null;h[g.toLowerCase()]=y||{}}),h),{}),d=Object.assign({},c,s.baseSanitizeConfig);if(i.tagName.toLowerCase()==="table"){const h=Hn(i.outerHTML,d);i=F.make("div",void 0,{innerHTML:h}).firstChild}else i.innerHTML=Hn(i.innerHTML,d);const u=this.composePasteEvent("tag",{data:i});return{content:i,isBlock:a,tool:s.name,event:u}}).filter(o=>{const i=F.isEmpty(o.content),s=F.isSingleTag(o.content);return!i||s})}processPlain(e){const{defaultBlock:n}=this.config;if(!e)return[];const r=n;return e.split(/\r?\n/).filter(o=>o.trim()).map(o=>{const i=F.make("div");i.textContent=o;const s=this.composePasteEvent("tag",{data:i});return{content:i,tool:r,isBlock:!1,event:s}})}async processSingleBlock(e){const{Caret:n,BlockManager:r}=this.Editor,{currentBlock:o}=r;if(!o||e.tool!==o.name||!F.containsOnlyInlineElements(e.content.innerHTML)){this.insertBlock(e,(o==null?void 0:o.tool.isDefault)&&o.isEmpty);return}n.insertContentAtCaretPosition(e.content.innerHTML)}async processInlinePaste(e){const{BlockManager:n,Caret:r}=this.Editor,{content:o}=e;if(n.currentBlock&&n.currentBlock.tool.isDefault&&o.textContent.length<Ik.PATTERN_PROCESSING_MAX_LENGTH){const i=await this.processPattern(o.textContent);if(i){const s=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty,a=n.paste(i.tool,i.event,s);r.setToBlock(a,r.positions.END);return}}if(n.currentBlock&&n.currentBlock.currentInput){const i=n.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,Hn(o.innerHTML,i))}else this.insertBlock(e)}async processPattern(e){const n=this.toolsPatterns.find(r=>{const o=r.pattern.exec(e);return o?e===o.shift():!1});return n?{event:this.composePasteEvent("pattern",{key:n.key,data:e}),tool:n.tool.name}:void 0}insertBlock(e,n=!1){const{BlockManager:r,Caret:o}=this.Editor,{currentBlock:i}=r;let s;if(n&&i&&i.isEmpty){s=r.paste(e.tool,e.event,!0),o.setToBlock(s,o.positions.END);return}s=r.paste(e.tool,e.event),o.setToBlock(s,o.positions.END)}insertEditorJSData(e){const{BlockManager:n,Caret:r,Tools:o}=this.Editor;wk(e,i=>o.blockTools.get(i).sanitizeConfig).forEach(({tool:i,data:s},a)=>{let l=!1;a===0&&(l=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty);const c=n.insert({tool:i,data:s,replace:l});r.setToBlock(c,r.positions.END)})}processElementNode(e,n,r){const o=Object.keys(this.toolsTags),i=e,{tool:s}=this.toolsTags[i.tagName]||{},a=this.tagsByTool[s==null?void 0:s.name]||[],l=o.includes(i.tagName),c=F.blockElements.includes(i.tagName.toLowerCase()),d=Array.from(i.children).some(({tagName:h})=>o.includes(h)&&!a.includes(h)),u=Array.from(i.children).some(({tagName:h})=>F.blockElements.includes(h.toLowerCase()));if(!c&&!l&&!d)return r.appendChild(i),[...n,r];if(l&&!d||c&&!u&&!d)return[...n,r,i]}getNodes(e){const n=Array.from(e.childNodes);let r;const o=(i,s)=>{if(F.isEmpty(s)&&!F.isSingleTag(s))return i;const a=i[i.length-1];let l=new DocumentFragment;switch(a&&F.isFragment(a)&&(l=i.pop()),s.nodeType){case Node.ELEMENT_NODE:if(r=this.processElementNode(s,i,l),r)return r;break;case Node.TEXT_NODE:return l.appendChild(s),[...i,l];default:return[...i,l]}return[...i,...Array.from(s.childNodes).reduce(o,[])]};return n.reduce(o,[])}composePasteEvent(e,n){return new CustomEvent(e,{detail:n})}};let Pk=Ik;Pk.PATTERN_PROCESSING_MAX_LENGTH=450;class NO extends ce{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:n}=e,r=[];Array.from(n.entries()).forEach(([o,i])=>{i.isReadOnlySupported||r.push(o)}),this.toolsDontSupportReadOnly=r,this.config.readOnly&&r.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly)}async toggle(e=!this.readOnlyEnabled){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const n=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const o in this.Editor)this.Editor[o].toggleReadOnly&&this.Editor[o].toggleReadOnly(e);if(n===e)return this.readOnlyEnabled;const r=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(r.blocks),this.readOnlyEnabled}throwCriticalError(){throw new vk(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class Ts extends ce{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,n){const r=document.elementFromPoint(e-window.pageXOffset,n-window.pageYOffset);r.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const o=[`.${Vn.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],i=r.closest("."+this.Editor.UI.CSS.editorWrapper),s=o.some(a=>!!r.closest(a));!i||s||(this.mousedown=!0,this.startX=e,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",oh(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",oh(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(F.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,n=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),r=F.make("div",Ts.CSS.overlay,{}),o=F.make("div",Ts.CSS.overlayContainer,{}),i=F.make("div",Ts.CSS.rect,{});return o.appendChild(i),r.appendChild(o),n.appendChild(r),this.overlayRectangle=i,{container:n,overlay:r}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:n,leftPos:r,index:o}=this.genInfoForMouseSelection(),i=this.startX>n&&this.mouseX>n,s=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(i||s),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),o!==void 0&&(this.trySelectNextBlock(o),this.inverseSelection(),J.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,r=document.elementFromPoint(e,n),o=this.Editor.BlockManager.getBlockByChildNode(r);let i;o!==void 0&&(i=this.Editor.BlockManager.blocks.findIndex(d=>d.holder===o.holder));const s=this.Editor.BlockManager.lastBlock.holder.querySelector("."+Vn.CSS.content),a=Number.parseInt(window.getComputedStyle(s).width,10)/2,l=e-a,c=e+a;return{index:i,leftPos:l,rightPos:c}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const n=this.stackOfSelected[this.stackOfSelected.length-1]===e,r=this.stackOfSelected.length,o=1,i=-1,s=0;if(n)return;const a=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0;let l=s;r>1&&(l=a?o:i);const c=e>this.stackOfSelected[r-1]&&l===o,d=e<this.stackOfSelected[r-1]&&l===i,u=!(c||d||l===s);if(!u&&(e>this.stackOfSelected[r-1]||this.stackOfSelected[r-1]===void 0)){let g=this.stackOfSelected[r-1]+1||e;for(g;g<=e;g++)this.addBlockInSelection(g);return}if(!u&&e<this.stackOfSelected[r-1]){for(let g=this.stackOfSelected[r-1]-1;g>=e;g--)this.addBlockInSelection(g);return}if(!u)return;let h=r-1,v;for(e>this.stackOfSelected[r-1]?v=()=>e>this.stackOfSelected[h]:v=()=>e<this.stackOfSelected[h];v();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[h]),this.stackOfSelected.pop(),h--}}class jO extends ce{async render(e){const n=e.map(o=>({function:()=>this.insertBlock(o)}));this.Editor.ModificationsObserver.disable();const r=await fk(n);return this.Editor.ModificationsObserver.enable(),this.Editor.UI.checkEmptiness(),r}async insertBlock(e){var n;const{Tools:r,BlockManager:o}=this.Editor,{type:i,data:s,tunes:a,id:l}=e;if(r.available.has(i))try{o.insert({id:l,tool:i,data:s,tunes:a})}catch(c){throw ae(`Block «${i}» skipped because of plugins error`,"warn",{data:s,error:c}),Error(c)}else{const c={savedData:{id:l,type:i,data:s},title:i};if(r.unavailable.has(i)){const u=(n=r.unavailable.get(i).toolbox[0])==null?void 0:n.title;c.title=u||c.title}const d=o.insert({id:l,tool:r.stubTool,data:c});d.stretched=!0,ae(`Tool «${i}» is not found. Check 'tools' property at your initial Editor.js config.`,"warn")}}}class IO extends ce{async save(){const{BlockManager:e,Tools:n}=this.Editor,r=e.blocks,o=[];try{r.forEach(a=>{o.push(this.getSavedData(a))});const i=await Promise.all(o),s=await wk(i,a=>n.blockTools.get(a).sanitizeConfig);return this.makeOutput(s)}catch(i){on("Saving failed due to the Error %o","error",i)}}async getSavedData(e){const n=await e.save(),r=n&&await e.validate(n.data);return{...n,isValid:r}}makeOutput(e){let n=0;const r=[];return ae("[Editor.js saving]:","groupCollapsed"),e.forEach(({id:o,tool:i,data:s,tunes:a,time:l,isValid:c})=>{if(n+=l,ae(`${i.charAt(0).toUpperCase()+i.slice(1)}`,"group"),c)ae(s),ae(void 0,"groupEnd");else{ae(`Block «${i}» skipped because saved data is invalid`),ae(void 0,"groupEnd");return}if(i===this.Editor.Tools.stubTool){r.push(s);return}const d={id:o,type:i,data:s,...!dn(a)&&{tunes:a}};r.push(d)}),ae("Total","log",n),ae(void 0,"groupEnd"),{time:+new Date,blocks:r,version:"2.27.2"}}}var hh={},PO={get exports(){return hh},set exports(t){hh=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=4)}([function(n,r,o){var i=o(1),s=o(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1};i(s,a),n.exports=s.locals||{}},function(n,r,o){var i,s=function(){return i===void 0&&(i=!!(window&&document&&document.all&&!window.atob)),i},a=function(){var p={};return function(x){if(p[x]===void 0){var E=document.querySelector(x);if(window.HTMLIFrameElement&&E instanceof window.HTMLIFrameElement)try{E=E.contentDocument.head}catch{E=null}p[x]=E}return p[x]}}(),l=[];function c(p){for(var x=-1,E=0;E<l.length;E++)if(l[E].identifier===p){x=E;break}return x}function d(p,x){for(var E={},N=[],j=0;j<p.length;j++){var k=p[j],S=x.base?k[0]+x.base:k[0],C=E[S]||0,T="".concat(S," ").concat(C);E[S]=C+1;var I=c(T),P={css:k[1],media:k[2],sourceMap:k[3]};I!==-1?(l[I].references++,l[I].updater(P)):l.push({identifier:T,updater:m(P,x),references:1}),N.push(T)}return N}function u(p){var x=document.createElement("style"),E=p.attributes||{};if(E.nonce===void 0){var N=o.nc;N&&(E.nonce=N)}if(Object.keys(E).forEach(function(k){x.setAttribute(k,E[k])}),typeof p.insert=="function")p.insert(x);else{var j=a(p.insert||"head");if(!j)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");j.appendChild(x)}return x}var h,v=(h=[],function(p,x){return h[p]=x,h.filter(Boolean).join(`
`)});function g(p,x,E,N){var j=E?"":N.media?"@media ".concat(N.media," {").concat(N.css,"}"):N.css;if(p.styleSheet)p.styleSheet.cssText=v(x,j);else{var k=document.createTextNode(j),S=p.childNodes;S[x]&&p.removeChild(S[x]),S.length?p.insertBefore(k,S[x]):p.appendChild(k)}}function y(p,x,E){var N=E.css,j=E.media,k=E.sourceMap;if(j?p.setAttribute("media",j):p.removeAttribute("media"),k&&btoa&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(k))))," */")),p.styleSheet)p.styleSheet.cssText=N;else{for(;p.firstChild;)p.removeChild(p.firstChild);p.appendChild(document.createTextNode(N))}}var w=null,b=0;function m(p,x){var E,N,j;if(x.singleton){var k=b++;E=w||(w=u(x)),N=g.bind(null,E,k,!1),j=g.bind(null,E,k,!0)}else E=u(x),N=y.bind(null,E,x),j=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(E)};return N(p),function(S){if(S){if(S.css===p.css&&S.media===p.media&&S.sourceMap===p.sourceMap)return;N(p=S)}else j()}}n.exports=function(p,x){(x=x||{}).singleton||typeof x.singleton=="boolean"||(x.singleton=s());var E=d(p=p||[],x);return function(N){if(N=N||[],Object.prototype.toString.call(N)==="[object Array]"){for(var j=0;j<E.length;j++){var k=c(E[j]);l[k].references--}for(var S=d(N,x),C=0;C<E.length;C++){var T=c(E[C]);l[T].references===0&&(l[T].updater(),l.splice(T,1))}E=S}}}},function(n,r,o){(r=o(3)(!1)).push([n.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),n.exports=r},function(n,r,o){n.exports=function(i){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,d){var u=c[1]||"",h=c[3];if(!h)return u;if(d&&typeof btoa=="function"){var v=(y=h,w=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),b="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(w),"/*# ".concat(b," */")),g=h.sources.map(function(m){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(m," */")});return[u].concat(g).concat([v]).join(`
`)}var y,w,b;return[u].join(`
`)}(a,i);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var d={};if(c)for(var u=0;u<this.length;u++){var h=this[u][0];h!=null&&(d[h]=!0)}for(var v=0;v<a.length;v++){var g=[].concat(a[v]);c&&d[g[0]]||(l&&(g[2]?g[2]="".concat(l," and ").concat(g[2]):g[2]=l),s.push(g))}},s}},function(n,r,o){o.r(r),o.d(r,"default",function(){return a}),o(0);function i(l,c){for(var d=0;d<c.length;d++){var u=c[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function s(l,c,d){return c&&i(l.prototype,c),d&&i(l,d),l}/**
 * Base Paragraph Block for the Editor.js.
 * Represents simple paragraph
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */var a=function(){function l(c){var d=c.data,u=c.config,h=c.api,v=c.readOnly;(function(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=h,this.readOnly=v,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=u.placeholder?u.placeholder:l.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=u.preserveBlank!==void 0&&u.preserveBlank,this.data=d}return s(l,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),s(l,[{key:"onKeyUp",value:function(c){c.code!=="Backspace"&&c.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var c=document.createElement("DIV");return c.classList.add(this._CSS.wrapper,this._CSS.block),c.contentEditable=!1,c.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(c.contentEditable=!0,c.addEventListener("keyup",this.onKeyUp)),c}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(c){var d={text:this.data.text+c.text};this.data=d}},{key:"validate",value:function(c){return!(c.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(c){return{text:c.innerHTML}}},{key:"onPaste",value:function(c){var d={text:c.detail.data.innerHTML};this.data=d}},{key:"data",get:function(){var c=this._element.innerHTML;return this._data.text=c,this._data},set:function(c){this._data=c||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}]),l}()}]).default})})(PO);const LO=md(hh);class mm{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=eO,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+B"}}mm.isInline=!0;mm.title="Bold";class gm{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=oO,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}gm.isInline=!0;gm.title="Italic";class vm{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new J}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Lv,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=lO,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=e.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=Lv,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const n=new J;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),ae("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const n=/^\/[^/\s]/.test(e),r=e.substring(0,1)==="#",o=/^\/\/[^/\s]/.test(e);return!n&&!r&&!o&&(e="http://"+e),e}insertLink(e){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}vm.isInline=!0;vm.title="Link";let Lk=class{constructor({data:e,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=F.make("div",this.CSS.wrapper),n='<svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52"><path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/></svg>',r=F.make("div",this.CSS.info),o=F.make("div",this.CSS.title,{textContent:this.title}),i=F.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=n,r.appendChild(o),r.appendChild(i),e.appendChild(r),e}};Lk.isReadOnlySupported=!0;class AO extends pm{constructor(){super(...arguments),this.type=vd.Inline}get title(){return this.constructable[hm.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class BO extends pm{constructor(){super(...arguments),this.type=vd.Tune}create(e,n){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:n,data:e})}}let mn=class Ho extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new Ho(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInline());return new Ho(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,n])=>n.isTune());return new Ho(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new Ho(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new Ho(e)}};var OO=Object.defineProperty,MO=Object.getOwnPropertyDescriptor,Ak=(t,e,n,r)=>{for(var o=r>1?void 0:r?MO(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&OO(e,n,o),o};class ym extends pm{constructor(){super(...arguments),this.type=vd.Block,this.inlineTools=new mn,this.tunes=new mn}create(e,n,r){return new this.constructable({data:e,block:n,readOnly:r,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return this.constructable[Vo.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[Vo.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[Vo.Toolbox],n=this.config[Cl.Toolbox];if(!dn(e)&&n!==!1)return n?Array.isArray(e)?Array.isArray(n)?n.map((r,o)=>{const i=e[o];return i?{...i,...r}:r}):[n]:Array.isArray(n)?n:[{...e,...n}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[Vo.ConversionConfig]}get enabledInlineTools(){return this.config[Cl.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Cl.EnabledBlockTunes]}get pasteConfig(){return this.constructable[Vo.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,n=this.baseSanitizeConfig;if(dn(e))return n;const r={};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const i=e[o];at(i)?r[o]=Object.assign({},n,i):r[o]=i}return r}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),e}}Ak([Fi],ym.prototype,"sanitizeConfig",1);Ak([Fi],ym.prototype,"baseSanitizeConfig",1);class RO{constructor(e,n,r){this.api=r,this.config=e,this.editorConfig=n}get(e){const{class:n,isInternal:r=!1,...o}=this.config[e],i=this.getConstructor(n);return new i({name:e,constructable:n,config:o,api:this.api,isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(e){switch(!0){case e[hm.IsInline]:return AO;case e[jk.IsTune]:return BO;default:return ym}}}class Bk{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:Sk,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const r=n.holder,o=r.getBoundingClientRect();let i=Math.abs(window.innerHeight-r.offsetHeight);o.top<window.innerHeight&&(i=window.scrollY+r.offsetHeight),window.scrollTo(0,i),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}Bk.isTune=!0;let Ok=class{constructor({api:e}){this.api=e}render(){return{icon:nO,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}};Ok.isTune=!0;class Mk{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:tO,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e),r=this.api.blocks.getBlockByIndex(e-1);if(e===0||!n||!r)throw new Error("Unable to move Block up since it is already the first");const o=n.holder,i=r.holder,s=o.getBoundingClientRect(),a=i.getBoundingClientRect();let l;a.top>0?l=Math.abs(s.top)-Math.abs(a.top):l=Math.abs(s.top)+a.height,window.scrollBy(0,-1*l),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}Mk.isTune=!0;var DO=Object.defineProperty,FO=Object.getOwnPropertyDescriptor,UO=(t,e,n,r)=>{for(var o=r>1?void 0:r?FO(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&DO(e,n,o),o};class Rk extends ce{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new mn,this.toolsUnavailable=new mn}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=ih({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new RO(e,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(e);if(n.length===0)return Promise.resolve();await fk(n,r=>{this.toolPrepareMethodSuccess(r)},r=>{this.toolPrepareMethodFallback(r)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(e,n.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{_e(e.reset)&&await e.reset()})}get internalTools(){return{bold:{class:mm,isInternal:!0},italic:{class:gm,isInternal:!0},link:{class:vm,isInternal:!0},paragraph:{class:LO,inlineToolbar:!0,isInternal:!0},stub:{class:Lk,isInternal:!0},moveUp:{class:Mk,isInternal:!0},delete:{class:Ok,isInternal:!0},moveDown:{class:Bk,isInternal:!0}}}toolPrepareMethodSuccess(e){const n=this.factory.get(e.toolName);if(n.isInline()){const r=["render","surround","checkState"].filter(o=>!n.create()[o]);if(r.length){ae(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",r),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const n=[];return Object.entries(e).forEach(([r,o])=>{n.push({function:_e(o.class.prepare)?o.class.prepare:()=>{},data:{toolName:r,config:o.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new mn(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new mn(e.enabledInlineTools.map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const n=new mn(e.enabledBlockTunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new mn([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new mn(this.config.tunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new mn([...n,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const n=this.config.tools[e];if(!_e(n)&&!_e(n.class))throw Error(`Tool «${e}» must be a constructor function or an object with function in the «class» property`)}}prepareConfig(){const e={};for(const n in this.config.tools)at(this.config.tools[n])?e[n]=this.config.tools[n]:e[n]={class:this.config.tools[n]};return e}}UO([Fi],Rk.prototype,"getAllInlineToolsSanitizeConfig",1);const zO=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s infinite linear;animation:editor-loader-spin .8s infinite linear;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;-webkit-transform:translateX(-50%) translateY(8px) scale(.94);transform:translate(-50%) translateY(8px) scale(.94);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.94);transform:translate(-23px) translateY(8px) scale(.94)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translate(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.94);transform:translate(-100%) translateY(8px) scale(.94);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translate(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width: 651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;class $O extends ce{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=mB(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorLoader:"codex-editor__loader",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${Vn.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}addLoader(){this.nodes.loader=F.make("div",this.CSS.editorLoader),this.nodes.wrapper.prepend(this.nodes.loader),this.nodes.redactor.classList.add(this.CSS.editorZoneHidden)}removeLoader(){this.nodes.loader.remove(),this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden)}async prepare(){this.checkIsMobile(),this.make(),this.addLoader(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor;return n.opened||r.opened||o.opened||e.toolbox.opened}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,n])=>n.flipper instanceof Ii).some(([e,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor;n.close(),r.close(),o.close(),e.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<mk}make(){this.nodes.holder=F.getHolder(this.config.holder),this.nodes.wrapper=F.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=F.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(F.get(e))return;const n=F.make("style",null,{id:e,textContent:zO.toString()});F.prepend(document.head,n)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",e=>{this.redactorClicked(e)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(document,"keydown",e=>{this.documentKeydown(e)},!0),this.readOnlyMutableListeners.on(document,"mousedown",e=>{this.documentClicked(e)},!0),this.readOnlyMutableListeners.on(document,"selectionchange",()=>{this.selectionChanged()},!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",oh(n=>{const r=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||r&&e!==r&&(e=r,this.eventsDispatcher.emit(_k,{block:this.Editor.BlockManager.getBlockByChildNode(r)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(e){switch(e.keyCode){case oe.ENTER:this.enterPressed(e);break;case oe.BACKSPACE:this.backspacePressed(e);break;case oe.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:n}=this.Editor.BlockManager,r=e.target.closest(`.${this.CSS.editorWrapper}`),o=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(n!==void 0&&r===null){this.Editor.BlockEvents.keydown(e);return}r||n&&o||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor;if(r.anyBlockSelected&&!J.isSelectionExists){const i=n.removeSelectedBlocks();o.setToBlock(n.insertDefaultBlockAtIndex(i,!0),o.positions.START),r.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:n,BlockSelection:r}=this.Editor,o=n.currentBlockIndex>=0;if(r.anyBlockSelected&&!J.isSelectionExists){r.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&o&&e.target.tagName==="BODY"){const i=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(i),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.moveAndOpen(i)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){if(!e.isTrusted)return;const n=e.target;this.nodes.holder.contains(n)||J.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const r=this.Editor.BlockSettings.nodes.wrapper.contains(n),o=this.Editor.Toolbar.nodes.settingsToggler.contains(n),i=r||o;if(this.Editor.BlockSettings.opened&&!i){this.Editor.BlockSettings.close();const s=this.Editor.BlockManager.getBlockByChildNode(n);this.Editor.Toolbar.moveAndOpen(s)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let n=e.target;if(n===this.nodes.redactor){const r=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;n=document.elementFromPoint(r,o)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n),this.Editor.BlockManager.highlightCurrentNode()}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){const{BlockSelection:n}=this.Editor;if(!J.isCollapsed)return;const r=()=>{e.stopImmediatePropagation(),e.stopPropagation()},o=e.target,i=e.metaKey||e.ctrlKey;if(F.isAnchor(o)&&i){r();const c=o.getAttribute("href"),d=vB(c);bB(d);return}const s=this.Editor.BlockManager.getBlockByIndex(-1),a=F.offset(s.holder).bottom,l=e.pageY;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!n.anyBlockSelected&&a<l){r();const{BlockManager:c,Caret:d,Toolbar:u}=this.Editor;(!c.lastBlock.tool.isDefault||!c.lastBlock.isEmpty)&&c.insertAtEnd(),d.setToTheLastBlock(),u.moveAndOpen(c.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:n}=this.Editor,r=J.anchorElement;if(e.isCrossBlockSelectionStarted&&n.anyBlockSelected&&J.get().removeAllRanges(),!r){J.range||this.Editor.InlineToolbar.close();return}const o=r.closest(`.${Vn.CSS.content}`)===null;if(o&&(this.Editor.InlineToolbar.containsNode(r)||this.Editor.InlineToolbar.close(),r.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(r);const i=o!==!0;this.Editor.InlineToolbar.tryToShow(!0,i)}}const VO={BlocksAPI:_B,CaretAPI:NB,EventsAPI:jB,I18nAPI:lm,API:IB,InlineToolbarAPI:PB,ListenersAPI:LB,NotifierAPI:MB,ReadOnlyAPI:RB,SanitizerAPI:HB,SaverAPI:WB,SelectionAPI:GB,StylesAPI:qB,ToolbarAPI:KB,TooltipAPI:JB,UiAPI:QB,BlockSettings:fO,ConversionToolbar:Ht,Toolbar:yO,InlineToolbar:bO,BlockEvents:xO,BlockManager:SO,BlockSelection:EO,Caret:kc,CrossBlockSelection:TO,DragNDrop:CO,ModificationsObserver:_O,Paste:Pk,ReadOnly:NO,RectangleSelection:Ts,Renderer:jO,Saver:IO,Tools:Rk,UI:$O};class HO{constructor(e){this.moduleInstances={},this.eventsDispatcher=new gd;let n,r;this.isReady=new Promise((o,i)=>{n=o,r=i}),Promise.resolve().then(async()=>{this.configuration=e,await this.validate(),await this.init(),await this.start(),on("I'm ready! (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧","log","","color: #E24A75"),setTimeout(async()=>{if(await this.render(),this.configuration.autofocus){const{BlockManager:o,Caret:i}=this.moduleInstances;i.setToBlock(o.blocks[0],i.positions.START),o.highlightCurrentNode()}this.moduleInstances.UI.removeLoader(),n()},500)}).catch(o=>{ae(`Editor.js is not ready because of ${o}`,"error"),r(o)})}set configuration(e){var n,r;at(e)?this.config={...e}:this.config={holder:e},sh(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=dk.VERBOSE),uB(this.config.logLevel),sh(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const o={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(dn(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[o]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&_t.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((r=this.config.i18n)==null?void 0:r.direction)||"ltr"}get configuration(){return this.config}async validate(){const{holderId:e,holder:n}=this.config;if(e&&n)throw Error("«holderId» and «holder» param can't assign at the same time.");if(Wr(n)&&!F.get(n))throw Error(`element with ID «${n}» is missing. Pass correct holder's ID.`);if(n&&at(n)&&!F.isElement(n))throw Error("«holder» value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,n)=>e.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(r){if(r instanceof vk)throw new Error(r.message);ae(`Module ${n} was skipped because of %o`,"warn",r)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(VO).forEach(([e,n])=>{try{this.moduleInstances[e]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){ae("[constructModules]",`Module ${e} skipped because`,"error",r)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const n={};for(const r in this.moduleInstances)r!==e&&(n[r]=this.moduleInstances[r]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class rn{static get version(){return"2.27.2"}constructor(e){let n=()=>{};at(e)&&_e(e.onReady)&&(n=e.onReady);const r=new HO(e);this.isReady=r.isReady.then(()=>{this.exportAPI(r),n()})}exportAPI(e){const n=["configuration"],r=()=>{Object.values(e.moduleInstances).forEach(o=>{_e(o.destroy)&&o.destroy(),o.listeners.removeAll()}),e=null;for(const o in this)Object.prototype.hasOwnProperty.call(this,o)&&delete this[o];Object.setPrototypeOf(this,null)};n.forEach(o=>{this[o]=e[o]}),this.destroy=r,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([o,i])=>{Object.entries(i).forEach(([s,a])=>{this[a]=e.moduleInstances.API.methods[o][s]})})}}var Dk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=14)}([function(n,r,o){var i=o(5),s=o(6),a=o(7),l=o(9);n.exports=function(c,d){return i(c)||s(c,d)||a(c,d)||l()}},function(n,r){function o(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n.exports=o=function(s){return typeof s}:n.exports=o=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},o(i)}n.exports=o},function(n,r){n.exports=function(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}},function(n,r){function o(i,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}n.exports=function(i,s,a){return s&&o(i.prototype,s),a&&o(i,a),i}},function(n,r){function o(i,s,a){var l,c,d,u,h;function v(){var y=Date.now()-u;y<s&&y>=0?l=setTimeout(v,s-y):(l=null,a||(h=i.apply(d,c),d=c=null))}s==null&&(s=100);var g=function(){d=this,c=arguments,u=Date.now();var y=a&&!l;return l||(l=setTimeout(v,s)),y&&(h=i.apply(d,c),d=c=null),h};return g.clear=function(){l&&(clearTimeout(l),l=null)},g.flush=function(){l&&(h=i.apply(d,c),d=c=null,clearTimeout(l),l=null)},g}o.debounce=o,n.exports=o},function(n,r){n.exports=function(o){if(Array.isArray(o))return o}},function(n,r){n.exports=function(o,i){if(typeof Symbol<"u"&&Symbol.iterator in Object(o)){var s=[],a=!0,l=!1,c=void 0;try{for(var d,u=o[Symbol.iterator]();!(a=(d=u.next()).done)&&(s.push(d.value),!i||s.length!==i);a=!0);}catch(h){l=!0,c=h}finally{try{a||u.return==null||u.return()}finally{if(l)throw c}}return s}}},function(n,r,o){var i=o(8);n.exports=function(s,a){if(s){if(typeof s=="string")return i(s,a);var l=Object.prototype.toString.call(s).slice(8,-1);return l==="Object"&&s.constructor&&(l=s.constructor.name),l==="Map"||l==="Set"?Array.from(l):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?i(s,a):void 0}}},function(n,r){n.exports=function(o,i){(i==null||i>o.length)&&(i=o.length);for(var s=0,a=new Array(i);s<i;s++)a[s]=o[s];return a}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r,o){var i=o(11),s=o(12);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1};i(s,a),n.exports=s.locals||{}},function(n,r,o){var i,s=function(){return i===void 0&&(i=!!(window&&document&&document.all&&!window.atob)),i},a=function(){var p={};return function(x){if(p[x]===void 0){var E=document.querySelector(x);if(window.HTMLIFrameElement&&E instanceof window.HTMLIFrameElement)try{E=E.contentDocument.head}catch{E=null}p[x]=E}return p[x]}}(),l=[];function c(p){for(var x=-1,E=0;E<l.length;E++)if(l[E].identifier===p){x=E;break}return x}function d(p,x){for(var E={},N=[],j=0;j<p.length;j++){var k=p[j],S=x.base?k[0]+x.base:k[0],C=E[S]||0,T="".concat(S," ").concat(C);E[S]=C+1;var I=c(T),P={css:k[1],media:k[2],sourceMap:k[3]};I!==-1?(l[I].references++,l[I].updater(P)):l.push({identifier:T,updater:m(P,x),references:1}),N.push(T)}return N}function u(p){var x=document.createElement("style"),E=p.attributes||{};if(E.nonce===void 0){var N=o.nc;N&&(E.nonce=N)}if(Object.keys(E).forEach(function(k){x.setAttribute(k,E[k])}),typeof p.insert=="function")p.insert(x);else{var j=a(p.insert||"head");if(!j)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");j.appendChild(x)}return x}var h,v=(h=[],function(p,x){return h[p]=x,h.filter(Boolean).join(`
`)});function g(p,x,E,N){var j=E?"":N.media?"@media ".concat(N.media," {").concat(N.css,"}"):N.css;if(p.styleSheet)p.styleSheet.cssText=v(x,j);else{var k=document.createTextNode(j),S=p.childNodes;S[x]&&p.removeChild(S[x]),S.length?p.insertBefore(k,S[x]):p.appendChild(k)}}function y(p,x,E){var N=E.css,j=E.media,k=E.sourceMap;if(j?p.setAttribute("media",j):p.removeAttribute("media"),k&&btoa&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(k))))," */")),p.styleSheet)p.styleSheet.cssText=N;else{for(;p.firstChild;)p.removeChild(p.firstChild);p.appendChild(document.createTextNode(N))}}var w=null,b=0;function m(p,x){var E,N,j;if(x.singleton){var k=b++;E=w||(w=u(x)),N=g.bind(null,E,k,!1),j=g.bind(null,E,k,!0)}else E=u(x),N=y.bind(null,E,x),j=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(E)};return N(p),function(S){if(S){if(S.css===p.css&&S.media===p.media&&S.sourceMap===p.sourceMap)return;N(p=S)}else j()}}n.exports=function(p,x){(x=x||{}).singleton||typeof x.singleton=="boolean"||(x.singleton=s());var E=d(p=p||[],x);return function(N){if(N=N||[],Object.prototype.toString.call(N)==="[object Array]"){for(var j=0;j<E.length;j++){var k=c(E[j]);l[k].references--}for(var S=d(N,x),C=0;C<E.length;C++){var T=c(E[C]);l[T].references===0&&(l[T].updater(),l.splice(T,1))}E=S}}}},function(n,r,o){(r=o(13)(!1)).push([n.i,`.embed-tool--loading .embed-tool__caption {
      display: none;
    }

    .embed-tool--loading .embed-tool__preloader {
      display: block;
    }

    .embed-tool--loading .embed-tool__content {
      display: none;
    }
  .embed-tool__preloader {
    display: none;
    position: relative;
    height: 200px;
    box-sizing: border-box;
    border-radius: 5px;
    border: 1px solid #e6e9eb;
  }
  .embed-tool__preloader::before {
      content: '';
      position: absolute;
      z-index: 3;
      left: 50%;
      top: 50%;
      width: 30px;
      height: 30px;
      margin-top: -25px;
      margin-left: -15px;
      border-radius: 50%;
      border: 2px solid #cdd1e0;
      border-top-color: #388ae5;
      box-sizing: border-box;
      animation: embed-preloader-spin 2s infinite linear;
    }
  .embed-tool__url {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    max-width: 250px;
    color: #7b7e89;
    font-size: 11px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .embed-tool__content {
    width: 100%;
  }
  .embed-tool__caption {
    margin-top: 7px;
  }
  .embed-tool__caption[contentEditable=true][data-placeholder]::before{
      position: absolute;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      opacity: 0;
    }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty::before {
         opacity: 1;
      }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus::before {
        opacity: 0;
      }

@keyframes embed-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),n.exports=r},function(n,r,o){n.exports=function(i){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,d){var u=c[1]||"",h=c[3];if(!h)return u;if(d&&typeof btoa=="function"){var v=(y=h,w=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),b="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(w),"/*# ".concat(b," */")),g=h.sources.map(function(m){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(m," */")});return[u].concat(g).concat([v]).join(`
`)}var y,w,b;return[u].join(`
`)}(a,i);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var d={};if(c)for(var u=0;u<this.length;u++){var h=this[u][0];h!=null&&(d[h]=!0)}for(var v=0;v<a.length;v++){var g=[].concat(a[v]);c&&d[g[0]]||(l&&(g[2]?g[2]="".concat(l," and ").concat(g[2]):g[2]=l),s.push(g))}},s}},function(n,r,o){o.r(r),o.d(r,"default",function(){return y});var i=o(1),s=o.n(i),a=o(0),l=o.n(a),c=o(2),d=o.n(c),u=o(3),h=o.n(u),v={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:function(w){var b=l()(w,2),m=b[0],p=b[1];if(!p&&m)return m;var x={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return p=p.slice(1).split("&").map(function(E){var N=E.split("="),j=l()(N,2),k=j[0],S=j[1];return m||k!=="v"?x[k]?S==="LL"||S.startsWith("RDMM")||S.startsWith("FL")?null:"".concat(x[k],"=").concat(S):null:(m=S,null)}).filter(function(E){return!!E}),m+"?"+p.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:function(w){return w.join("/")}},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:function(w){return w.join("/")}},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:function(w){return w.join("/embed/")}},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+?.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:function(w){return w.join("/status/")}},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:function(w){return w[1]}},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:function(w){return w.join("/")}},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'}},g=(o(10),o(4)),y=function(){function w(b){var m=b.data,p=b.api,x=b.readOnly;d()(this,w),this.api=p,this._data={},this.element=null,this.readOnly=x,this.data=m}return h()(w,[{key:"render",value:function(){var b=this;if(!this.data.service){var m=document.createElement("div");return this.element=m,m}var p=w.services[this.data.service].html,x=document.createElement("div"),E=document.createElement("div"),N=document.createElement("template"),j=this.createPreloader();x.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),E.classList.add(this.CSS.input,this.CSS.caption),x.appendChild(j),E.contentEditable=!this.readOnly,E.dataset.placeholder=this.api.i18n.t("Enter a caption"),E.innerHTML=this.data.caption||"",N.innerHTML=p,N.content.firstChild.setAttribute("src",this.data.embed),N.content.firstChild.classList.add(this.CSS.content);var k=this.embedIsReady(x);return x.appendChild(N.content.firstChild),x.appendChild(E),k.then(function(){x.classList.remove(b.CSS.containerLoading)}),this.element=x,x}},{key:"createPreloader",value:function(){var b=document.createElement("preloader"),m=document.createElement("div");return m.textContent=this.data.source,b.classList.add(this.CSS.preloader),m.classList.add(this.CSS.url),b.appendChild(m),b}},{key:"save",value:function(){return this.data}},{key:"onPaste",value:function(b){var m=b.detail,p=m.key,x=m.data,E=w.services[p],N=E.regex,j=E.embedUrl,k=E.width,S=E.height,C=E.id,T=C===void 0?function(O){return O.shift()}:C,I=N.exec(x).slice(1),P=j.replace(/<%= remote_id %>/g,T(I));this.data={service:p,source:x,embed:P,width:k,height:S}}},{key:"embedIsReady",value:function(b){var m=null;return new Promise(function(p,x){(m=new MutationObserver(Object(g.debounce)(p,450))).observe(b,{childList:!0,subtree:!0})}).then(function(){m.disconnect()})}},{key:"data",set:function(b){if(!(b instanceof Object))throw Error("Embed Tool data should be object");var m=b.service,p=b.source,x=b.embed,E=b.width,N=b.height,j=b.caption,k=j===void 0?"":j;this._data={service:m||this.data.service,source:p||this.data.source,embed:x||this.data.embed,width:E||this.data.width,height:N||this.data.height,caption:k||this.data.caption||""};var S=this.element;S&&S.parentNode.replaceChild(this.render(),S)},get:function(){if(this.element){var b=this.element.querySelector(".".concat(this.api.styles.input));this._data.caption=b?b.innerHTML:""}return this._data}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}}],[{key:"prepare",value:function(b){var m=b.config,p=(m===void 0?{}:m).services,x=p===void 0?{}:p,E=Object.entries(v),N=Object.entries(x).filter(function(k){var S=l()(k,2),C=(S[0],S[1]);return typeof C=="boolean"&&C===!0}).map(function(k){return l()(k,1)[0]}),j=Object.entries(x).filter(function(k){var S=l()(k,2),C=(S[0],S[1]);return s()(C)==="object"}).filter(function(k){var S=l()(k,2),C=(S[0],S[1]);return w.checkServiceConfig(C)}).map(function(k){var S=l()(k,2),C=S[0],T=S[1];return[C,{regex:T.regex,embedUrl:T.embedUrl,html:T.html,height:T.height,width:T.width,id:T.id}]});N.length&&(E=E.filter(function(k){var S=l()(k,1)[0];return N.includes(S)})),E=E.concat(j),w.services=E.reduce(function(k,S){var C=l()(S,2),T=C[0],I=C[1];return T in k?(k[T]=Object.assign({},k[T],I),k):(k[T]=I,k)},{}),w.patterns=E.reduce(function(k,S){var C=l()(S,2),T=C[0],I=C[1];return k[T]=I.regex,k},{})}},{key:"checkServiceConfig",value:function(b){var m=b.regex,p=b.embedUrl,x=b.html,E=b.height,N=b.width,j=b.id,k=m&&m instanceof RegExp&&p&&typeof p=="string"&&x&&typeof x=="string";return k=(k=(k=k&&(j===void 0||j instanceof Function))&&(E===void 0||Number.isFinite(E)))&&(N===void 0||Number.isFinite(N))}},{key:"pasteConfig",get:function(){return{patterns:w.patterns}}},{key:"isReadOnlySupported",get:function(){return!0}}]),w}()}]).default})})(Dk);var WO=Dk.exports;const GO=Gr(WO);var Fk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=4)}([function(n,r,o){var i=o(1),s=o(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1};i(s,a),n.exports=s.locals||{}},function(n,r,o){var i,s=function(){return i===void 0&&(i=!!(window&&document&&document.all&&!window.atob)),i},a=function(){var p={};return function(x){if(p[x]===void 0){var E=document.querySelector(x);if(window.HTMLIFrameElement&&E instanceof window.HTMLIFrameElement)try{E=E.contentDocument.head}catch{E=null}p[x]=E}return p[x]}}(),l=[];function c(p){for(var x=-1,E=0;E<l.length;E++)if(l[E].identifier===p){x=E;break}return x}function d(p,x){for(var E={},N=[],j=0;j<p.length;j++){var k=p[j],S=x.base?k[0]+x.base:k[0],C=E[S]||0,T="".concat(S," ").concat(C);E[S]=C+1;var I=c(T),P={css:k[1],media:k[2],sourceMap:k[3]};I!==-1?(l[I].references++,l[I].updater(P)):l.push({identifier:T,updater:m(P,x),references:1}),N.push(T)}return N}function u(p){var x=document.createElement("style"),E=p.attributes||{};if(E.nonce===void 0){var N=o.nc;N&&(E.nonce=N)}if(Object.keys(E).forEach(function(k){x.setAttribute(k,E[k])}),typeof p.insert=="function")p.insert(x);else{var j=a(p.insert||"head");if(!j)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");j.appendChild(x)}return x}var h,v=(h=[],function(p,x){return h[p]=x,h.filter(Boolean).join(`
`)});function g(p,x,E,N){var j=E?"":N.media?"@media ".concat(N.media," {").concat(N.css,"}"):N.css;if(p.styleSheet)p.styleSheet.cssText=v(x,j);else{var k=document.createTextNode(j),S=p.childNodes;S[x]&&p.removeChild(S[x]),S.length?p.insertBefore(k,S[x]):p.appendChild(k)}}function y(p,x,E){var N=E.css,j=E.media,k=E.sourceMap;if(j?p.setAttribute("media",j):p.removeAttribute("media"),k&&btoa&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(k))))," */")),p.styleSheet)p.styleSheet.cssText=N;else{for(;p.firstChild;)p.removeChild(p.firstChild);p.appendChild(document.createTextNode(N))}}var w=null,b=0;function m(p,x){var E,N,j;if(x.singleton){var k=b++;E=w||(w=u(x)),N=g.bind(null,E,k,!1),j=g.bind(null,E,k,!0)}else E=u(x),N=y.bind(null,E,x),j=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(E)};return N(p),function(S){if(S){if(S.css===p.css&&S.media===p.media&&S.sourceMap===p.sourceMap)return;N(p=S)}else j()}}n.exports=function(p,x){(x=x||{}).singleton||typeof x.singleton=="boolean"||(x.singleton=s());var E=d(p=p||[],x);return function(N){if(N=N||[],Object.prototype.toString.call(N)==="[object Array]"){for(var j=0;j<E.length;j++){var k=c(E[j]);l[k].references--}for(var S=d(N,x),C=0;C<E.length;C++){var T=c(E[C]);l[T].references===0&&(l[T].updater(),l.splice(T,1))}E=S}}}},function(n,r,o){(r=o(3)(!1)).push([n.i,`.cdx-list {
    margin: 0;
    padding-left: 40px;
    outline: none;
}

    .cdx-list__item {
        padding: 5.5px 0 5.5px 3px;
        line-height: 1.6em;
    }

    .cdx-list--unordered {
        list-style: disc;
    }

    .cdx-list--ordered {
        list-style: decimal;
    }

    .cdx-list-settings {
        display: flex;
    }

    .cdx-list-settings .cdx-settings-button {
            width: 50%;
        }
`,""]),n.exports=r},function(n,r,o){n.exports=function(i){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,d){var u=c[1]||"",h=c[3];if(!h)return u;if(d&&typeof btoa=="function"){var v=(y=h,w=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),b="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(w),"/*# ".concat(b," */")),g=h.sources.map(function(m){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(m," */")});return[u].concat(g).concat([v]).join(`
`)}var y,w,b;return[u].join(`
`)}(a,i);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var d={};if(c)for(var u=0;u<this.length;u++){var h=this[u][0];h!=null&&(d[h]=!0)}for(var v=0;v<a.length;v++){var g=[].concat(a[v]);c&&d[g[0]]||(l&&(g[2]?g[2]="".concat(l," and ").concat(g[2]):g[2]=l),s.push(g))}},s}},function(n,r,o){o.r(r),o.d(r,"default",function(){return v}),o(0);const i='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>';function s(g){return function(y){if(Array.isArray(y))return a(y)}(g)||function(y){if(typeof Symbol<"u"&&Symbol.iterator in Object(y))return Array.from(y)}(g)||function(y,w){if(y){if(typeof y=="string")return a(y,w);var b=Object.prototype.toString.call(y).slice(8,-1);if(b==="Object"&&y.constructor&&(b=y.constructor.name),b==="Map"||b==="Set")return Array.from(y);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return a(y,w)}}(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function a(g,y){(y==null||y>g.length)&&(y=g.length);for(var w=0,b=new Array(y);w<y;w++)b[w]=g[w];return b}function l(g,y){var w=Object.keys(g);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(g);y&&(b=b.filter(function(m){return Object.getOwnPropertyDescriptor(g,m).enumerable})),w.push.apply(w,b)}return w}function c(g){for(var y=1;y<arguments.length;y++){var w=arguments[y]!=null?arguments[y]:{};y%2?l(Object(w),!0).forEach(function(b){d(g,b,w[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(w)):l(Object(w)).forEach(function(b){Object.defineProperty(g,b,Object.getOwnPropertyDescriptor(w,b))})}return g}function d(g,y,w){return y in g?Object.defineProperty(g,y,{value:w,enumerable:!0,configurable:!0,writable:!0}):g[y]=w,g}function u(g,y){for(var w=0;w<y.length;w++){var b=y[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}function h(g,y,w){return y&&u(g.prototype,y),w&&u(g,w),g}var v=function(){function g(y){var w=y.data,b=y.config,m=y.api,p=y.readOnly;(function(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")})(this,g),this._elements={wrapper:null},this.api=m,this.readOnly=p,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:i,default:b.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',default:b.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(function(x){return x.default===!0}).name,items:[]},this.data=w}return h(g,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:i,title:"List"}}}]),h(g,[{key:"render",value:function(){var y=this;return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(function(w){y._elements.wrapper.appendChild(y._make("li",y.CSS.item,{innerHTML:w}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",function(w){switch(w.keyCode){case 13:y.getOutofList(w);break;case 8:y.backspace(w)}},!1),this._elements.wrapper}},{key:"save",value:function(){return this.data}},{key:"renderSettings",value:function(){var y=this;return this.settings.map(function(w){return c(c({},w),{},{isActive:y._data.style===w.name,closeOnActivate:!0,onActivate:function(){return y.toggleTune(w.name)}})})}},{key:"onPaste",value:function(y){var w=y.detail.data;this.data=this.pasteHandler(w)}},{key:"makeMainTag",value:function(y){var w=y==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,b=y==="ordered"?"ol":"ul";return this._make(b,[this.CSS.baseBlock,this.CSS.wrapper,w],{contentEditable:!this.readOnly})}},{key:"toggleTune",value:function(y){for(var w=this.makeMainTag(y);this._elements.wrapper.hasChildNodes();)w.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(w),this._elements.wrapper=w,this._data.style=y}},{key:"_make",value:function(y){var w,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=document.createElement(y);Array.isArray(b)?(w=p.classList).add.apply(w,s(b)):b&&p.classList.add(b);for(var x in m)p[x]=m[x];return p}},{key:"getOutofList",value:function(y){var w=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(!(w.length<2)){var b=w[w.length-1],m=this.currentItem;m!==b||b.textContent.trim().length||(m.parentElement.removeChild(m),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),y.preventDefault(),y.stopPropagation())}}},{key:"backspace",value:function(y){var w=this._elements.wrapper.querySelectorAll("."+this.CSS.item),b=w[0];b&&w.length<2&&!b.innerHTML.replace("<br>"," ").trim()&&y.preventDefault()}},{key:"selectItem",value:function(y){y.preventDefault();var w=window.getSelection(),b=w.anchorNode.parentNode.closest("."+this.CSS.item),m=new Range;m.selectNodeContents(b),w.removeAllRanges(),w.addRange(m)}},{key:"pasteHandler",value:function(y){var w,b=y.tagName;switch(b){case"OL":w="ordered";break;case"UL":case"LI":w="unordered"}var m={style:w,items:[]};if(b==="LI")m.items=[y.innerHTML];else{var p=Array.from(y.querySelectorAll("LI"));m.items=p.map(function(x){return x.innerHTML}).filter(function(x){return!!x.trim()})}return m}},{key:"CSS",get:function(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}},{key:"data",set:function(y){y||(y={}),this._data.style=y.style||this.settings.find(function(b){return b.default===!0}).name,this._data.items=y.items||[];var w=this._elements.wrapper;w&&w.parentNode.replaceChild(this.render(),w)},get:function(){this._data.items=[];for(var y=this._elements.wrapper.querySelectorAll(".".concat(this.CSS.item)),w=0;w<y.length;w++)y[w].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(y[w].innerHTML);return this._data}},{key:"currentItem",get:function(){var y=window.getSelection().anchorNode;return y.nodeType!==Node.ELEMENT_NODE&&(y=y.parentNode),y.closest(".".concat(this.CSS.item))}}],[{key:"conversionConfig",get:function(){return{export:function(y){return y.items.join(". ")},import:function(y){return{items:[y],style:"unordered"}}}}},{key:"sanitize",get:function(){return{style:{},items:{br:!0}}}},{key:"pasteConfig",get:function(){return{tags:["OL","UL","LI"]}}}]),g}()}]).default})})(Fk);var qO=Fk.exports;const KO=Gr(qO);var Uk={exports:{}};/*!
 * Image tool
 * 
 * @version 2.8.1
 * 
 * @package https://github.com/editor-js/image
 * @licence MIT
 * @author CodeX <https://codex.so>
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=9)}([function(n,r){function o(i,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}n.exports=function(i,s,a){return s&&o(i.prototype,s),a&&o(i,a),i}},function(n,r,o){n.exports=function(i){var s={};function a(l){if(s[l])return s[l].exports;var c=s[l]={i:l,l:!1,exports:{}};return i[l].call(c.exports,c,c.exports,a),c.l=!0,c.exports}return a.m=i,a.c=s,a.d=function(l,c,d){a.o(l,c)||Object.defineProperty(l,c,{enumerable:!0,get:d})},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,c){if(1&c&&(l=a(l)),8&c||4&c&&typeof l=="object"&&l&&l.__esModule)return l;var d=Object.create(null);if(a.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:l}),2&c&&typeof l!="string")for(var u in l)a.d(d,u,(function(h){return l[h]}).bind(null,u));return d},a.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(c,"a",c),c},a.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},a.p="",a(a.s=3)}([function(i,s){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}i.exports=a},function(i,s,a){(function(l){var c=a(2),d=setTimeout;function u(){}function h(p){if(!(this instanceof h))throw new TypeError("Promises must be constructed via new");if(typeof p!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(p,this)}function v(p,x){for(;p._state===3;)p=p._value;p._state!==0?(p._handled=!0,h._immediateFn(function(){var E=p._state===1?x.onFulfilled:x.onRejected;if(E!==null){var N;try{N=E(p._value)}catch(j){return void y(x.promise,j)}g(x.promise,N)}else(p._state===1?g:y)(x.promise,p._value)})):p._deferreds.push(x)}function g(p,x){try{if(x===p)throw new TypeError("A promise cannot be resolved with itself.");if(x&&(typeof x=="object"||typeof x=="function")){var E=x.then;if(x instanceof h)return p._state=3,p._value=x,void w(p);if(typeof E=="function")return void m((N=E,j=x,function(){N.apply(j,arguments)}),p)}p._state=1,p._value=x,w(p)}catch(k){y(p,k)}var N,j}function y(p,x){p._state=2,p._value=x,w(p)}function w(p){p._state===2&&p._deferreds.length===0&&h._immediateFn(function(){p._handled||h._unhandledRejectionFn(p._value)});for(var x=0,E=p._deferreds.length;x<E;x++)v(p,p._deferreds[x]);p._deferreds=null}function b(p,x,E){this.onFulfilled=typeof p=="function"?p:null,this.onRejected=typeof x=="function"?x:null,this.promise=E}function m(p,x){var E=!1;try{p(function(N){E||(E=!0,g(x,N))},function(N){E||(E=!0,y(x,N))})}catch(N){if(E)return;E=!0,y(x,N)}}h.prototype.catch=function(p){return this.then(null,p)},h.prototype.then=function(p,x){var E=new this.constructor(u);return v(this,new b(p,x,E)),E},h.prototype.finally=c.a,h.all=function(p){return new h(function(x,E){if(!p||p.length===void 0)throw new TypeError("Promise.all accepts an array");var N=Array.prototype.slice.call(p);if(N.length===0)return x([]);var j=N.length;function k(C,T){try{if(T&&(typeof T=="object"||typeof T=="function")){var I=T.then;if(typeof I=="function")return void I.call(T,function(P){k(C,P)},E)}N[C]=T,--j==0&&x(N)}catch(P){E(P)}}for(var S=0;S<N.length;S++)k(S,N[S])})},h.resolve=function(p){return p&&typeof p=="object"&&p.constructor===h?p:new h(function(x){x(p)})},h.reject=function(p){return new h(function(x,E){E(p)})},h.race=function(p){return new h(function(x,E){for(var N=0,j=p.length;N<j;N++)p[N].then(x,E)})},h._immediateFn=typeof l=="function"&&function(p){l(p)}||function(p){d(p,0)},h._unhandledRejectionFn=function(p){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",p)},s.a=h}).call(this,a(5).setImmediate)},function(i,s,a){s.a=function(l){var c=this.constructor;return this.then(function(d){return c.resolve(l()).then(function(){return d})},function(d){return c.resolve(l()).then(function(){return c.reject(d)})})}},function(i,s,a){function l(m){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}a(4);var c,d,u,h,v,g,y,w=a(8),b=(d=function(m){return new Promise(function(p,x){m=h(m),(m=v(m)).beforeSend&&m.beforeSend();var E=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");E.open(m.method,m.url),E.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(m.headers).forEach(function(j){var k=m.headers[j];E.setRequestHeader(j,k)});var N=m.ratio;E.upload.addEventListener("progress",function(j){var k=Math.round(j.loaded/j.total*100),S=Math.ceil(k*N/100);m.progress(Math.min(S,100))},!1),E.addEventListener("progress",function(j){var k=Math.round(j.loaded/j.total*100),S=Math.ceil(k*(100-N)/100)+N;m.progress(Math.min(S,100))},!1),E.onreadystatechange=function(){if(E.readyState===4){var j=E.response;try{j=JSON.parse(j)}catch{}var k=w.parseHeaders(E.getAllResponseHeaders()),S={body:j,code:E.status,headers:k};y(E.status)?p(S):x(S)}},E.send(m.data)})},u=function(m){return m.method="POST",d(m)},h=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(m.url&&typeof m.url!="string")throw new Error("Url must be a string");if(m.url=m.url||"",m.method&&typeof m.method!="string")throw new Error("`method` must be a string or null");if(m.method=m.method?m.method.toUpperCase():"GET",m.headers&&l(m.headers)!=="object")throw new Error("`headers` must be an object or null");if(m.headers=m.headers||{},m.type&&(typeof m.type!="string"||!Object.values(c).includes(m.type)))throw new Error("`type` must be taken from module's «contentType» library");if(m.progress&&typeof m.progress!="function")throw new Error("`progress` must be a function or null");if(m.progress=m.progress||function(p){},m.beforeSend=m.beforeSend||function(p){},m.ratio&&typeof m.ratio!="number")throw new Error("`ratio` must be a number");if(m.ratio<0||m.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(m.ratio=m.ratio||90,m.accept&&typeof m.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(m.accept=m.accept||"*/*",m.multiple&&typeof m.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(m.multiple=m.multiple||!1,m.fieldName&&typeof m.fieldName!="string")throw new Error("`fieldName` must be a string");return m.fieldName=m.fieldName||"files",m},v=function(m){switch(m.method){case"GET":var p=g(m.data,c.URLENCODED);delete m.data,m.url=/\?/.test(m.url)?m.url+"&"+p:m.url+"?"+p;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var x=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||c.JSON}(m);(w.isFormData(m.data)||w.isFormElement(m.data))&&(x=c.FORM),m.data=g(m.data,x),x!==b.contentType.FORM&&(m.headers["content-type"]=x)}return m},g=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case c.URLENCODED:return w.urlEncode(m);case c.JSON:return w.jsonEncode(m);case c.FORM:return w.formEncode(m);default:return m}},y=function(m){return m>=200&&m<300},{contentType:c={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:d,get:function(m){return m.method="GET",d(m)},post:u,transport:function(m){return m=h(m),w.selectFiles(m).then(function(p){for(var x=new FormData,E=0;E<p.length;E++)x.append(m.fieldName,p[E],p[E].name);w.isObject(m.data)&&Object.keys(m.data).forEach(function(j){var k=m.data[j];x.append(j,k)});var N=m.beforeSend;return m.beforeSend=function(){return N(p)},m.data=x,u(m)})},selectFiles:function(m){return delete(m=h(m)).beforeSend,w.selectFiles(m)}});i.exports=b},function(i,s,a){a.r(s);var l=a(1);window.Promise=window.Promise||l.a},function(i,s,a){(function(l){var c=l!==void 0&&l||typeof self<"u"&&self||window,d=Function.prototype.apply;function u(h,v){this._id=h,this._clearFn=v}s.setTimeout=function(){return new u(d.call(setTimeout,c,arguments),clearTimeout)},s.setInterval=function(){return new u(d.call(setInterval,c,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(h){h&&h.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(c,this._id)},s.enroll=function(h,v){clearTimeout(h._idleTimeoutId),h._idleTimeout=v},s.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},s._unrefActive=s.active=function(h){clearTimeout(h._idleTimeoutId);var v=h._idleTimeout;v>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},v))},a(6),s.setImmediate=typeof self<"u"&&self.setImmediate||l!==void 0&&l.setImmediate||this&&this.setImmediate,s.clearImmediate=typeof self<"u"&&self.clearImmediate||l!==void 0&&l.clearImmediate||this&&this.clearImmediate}).call(this,a(0))},function(i,s,a){(function(l,c){(function(d,u){if(!d.setImmediate){var h,v,g,y,w,b=1,m={},p=!1,x=d.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(d);E=E&&E.setTimeout?E:d,{}.toString.call(d.process)==="[object process]"?h=function(k){c.nextTick(function(){j(k)})}:function(){if(d.postMessage&&!d.importScripts){var k=!0,S=d.onmessage;return d.onmessage=function(){k=!1},d.postMessage("","*"),d.onmessage=S,k}}()?(y="setImmediate$"+Math.random()+"$",w=function(k){k.source===d&&typeof k.data=="string"&&k.data.indexOf(y)===0&&j(+k.data.slice(y.length))},d.addEventListener?d.addEventListener("message",w,!1):d.attachEvent("onmessage",w),h=function(k){d.postMessage(y+k,"*")}):d.MessageChannel?((g=new MessageChannel).port1.onmessage=function(k){j(k.data)},h=function(k){g.port2.postMessage(k)}):x&&"onreadystatechange"in x.createElement("script")?(v=x.documentElement,h=function(k){var S=x.createElement("script");S.onreadystatechange=function(){j(k),S.onreadystatechange=null,v.removeChild(S),S=null},v.appendChild(S)}):h=function(k){setTimeout(j,0,k)},E.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var S=new Array(arguments.length-1),C=0;C<S.length;C++)S[C]=arguments[C+1];var T={callback:k,args:S};return m[b]=T,h(b),b++},E.clearImmediate=N}function N(k){delete m[k]}function j(k){if(p)setTimeout(j,0,k);else{var S=m[k];if(S){p=!0;try{(function(C){var T=C.callback,I=C.args;switch(I.length){case 0:T();break;case 1:T(I[0]);break;case 2:T(I[0],I[1]);break;case 3:T(I[0],I[1],I[2]);break;default:T.apply(void 0,I)}})(S)}finally{N(k),p=!1}}}}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,a(0),a(7))},function(i,s){var a,l,c=i.exports={};function d(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function h(E){if(a===setTimeout)return setTimeout(E,0);if((a===d||!a)&&setTimeout)return a=setTimeout,setTimeout(E,0);try{return a(E,0)}catch{try{return a.call(null,E,0)}catch{return a.call(this,E,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:d}catch{a=d}try{l=typeof clearTimeout=="function"?clearTimeout:u}catch{l=u}})();var v,g=[],y=!1,w=-1;function b(){y&&v&&(y=!1,v.length?g=v.concat(g):w=-1,g.length&&m())}function m(){if(!y){var E=h(b);y=!0;for(var N=g.length;N;){for(v=g,g=[];++w<N;)v&&v[w].run();w=-1,N=g.length}v=null,y=!1,function(j){if(l===clearTimeout)return clearTimeout(j);if((l===u||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(j);try{l(j)}catch{try{return l.call(null,j)}catch{return l.call(this,j)}}}(E)}}function p(E,N){this.fun=E,this.array=N}function x(){}c.nextTick=function(E){var N=new Array(arguments.length-1);if(arguments.length>1)for(var j=1;j<arguments.length;j++)N[j-1]=arguments[j];g.push(new p(E,N)),g.length!==1||y||h(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=x,c.addListener=x,c.once=x,c.off=x,c.removeListener=x,c.removeAllListeners=x,c.emit=x,c.prependListener=x,c.prependOnceListener=x,c.listeners=function(E){return[]},c.binding=function(E){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(E){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(i,s,a){function l(d,u){for(var h=0;h<u.length;h++){var v=u[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(d,v.key,v)}}var c=a(9);i.exports=function(){function d(){(function(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")})(this,d)}var u,h;return u=d,(h=[{key:"urlEncode",value:function(v){return c(v)}},{key:"jsonEncode",value:function(v){return JSON.stringify(v)}},{key:"formEncode",value:function(v){if(this.isFormData(v))return v;if(this.isFormElement(v))return new FormData(v);if(this.isObject(v)){var g=new FormData;return Object.keys(v).forEach(function(y){var w=v[y];g.append(y,w)}),g}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(v){return Object.prototype.toString.call(v)==="[object Object]"}},{key:"isFormData",value:function(v){return v instanceof FormData}},{key:"isFormElement",value:function(v){return v instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(g,y){var w=document.createElement("INPUT");w.type="file",v.multiple&&w.setAttribute("multiple","multiple"),v.accept&&w.setAttribute("accept",v.accept),w.style.display="none",document.body.appendChild(w),w.addEventListener("change",function(b){var m=b.target.files;g(m),document.body.removeChild(w)},!1),w.click()})}},{key:"parseHeaders",value:function(v){var g=v.trim().split(/[\r\n]+/),y={};return g.forEach(function(w){var b=w.split(": "),m=b.shift(),p=b.join(": ");m&&(y[m]=p)}),y}}])&&l(u,h),d}()},function(i,s){var a=function(c){return encodeURIComponent(c).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},l=function(c,d,u,h){return d=d||null,u=u||"&",h=h||null,c?function(v){for(var g=new Array,y=0;y<v.length;y++)v[y]&&g.push(v[y]);return g}(Object.keys(c).map(function(v){var g,y,w=v;if(h&&(w=h+"["+w+"]"),typeof c[v]=="object"&&c[v]!==null)g=l(c[v],null,u,w);else{d&&(y=w,w=!isNaN(parseFloat(y))&&isFinite(y)?d+Number(w):w);var b=c[v];b=(b=(b=(b=b===!0?"1":b)===!1?"0":b)===0?"0":b)||"",g=a(w)+"="+a(b)}return g})).join(u).replace(/[!'()*]/g,""):""};i.exports=l}])},function(n,r){n.exports=function(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}},function(n,r,o){n.exports=o(10)},function(n,r){n.exports=function(o,i){(i==null||i>o.length)&&(i=o.length);for(var s=0,a=new Array(i);s<i;s++)a[s]=o[s];return a}},function(n,r,o){var i=o(4);n.exports=function(s,a){if(s){if(typeof s=="string")return i(s,a);var l=Object.prototype.toString.call(s).slice(8,-1);return l==="Object"&&s.constructor&&(l=s.constructor.name),l==="Map"||l==="Set"?Array.from(l):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?i(s,a):void 0}}},function(n,r){function o(i,s,a,l,c,d,u){try{var h=i[d](u),v=h.value}catch(g){return void a(g)}h.done?s(v):Promise.resolve(v).then(l,c)}n.exports=function(i){return function(){var s=this,a=arguments;return new Promise(function(l,c){var d=i.apply(s,a);function u(v){o(d,l,c,u,h,"next",v)}function h(v){o(d,l,c,u,h,"throw",v)}u(void 0)})}}},function(n,r,o){var i=o(15),s=o(16),a=o(5),l=o(17);n.exports=function(c){return i(c)||s(c)||a(c)||l()}},function(n,r,o){var i=o(18),s=o(19),a=o(5),l=o(20);n.exports=function(c,d){return i(c)||s(c,d)||a(c,d)||l()}},function(n,r,o){n.exports=o(21)},function(n,r,o){var i=function(s){var a=Object.prototype,l=a.hasOwnProperty,c=typeof Symbol=="function"?Symbol:{},d=c.iterator||"@@iterator",u=c.asyncIterator||"@@asyncIterator",h=c.toStringTag||"@@toStringTag";function v(L,A,D,B){var M=A&&A.prototype instanceof w?A:w,R=Object.create(M.prototype),z=new I(B||[]);return R._invoke=function(V,te,Y){var pe="suspendedStart";return function(me,je){if(pe==="executing")throw new Error("Generator is already running");if(pe==="completed"){if(me==="throw")throw je;return O()}for(Y.method=me,Y.arg=je;;){var Et=Y.delegate;if(Et){var rt=S(Et,Y);if(rt){if(rt===y)continue;return rt}}if(Y.method==="next")Y.sent=Y._sent=Y.arg;else if(Y.method==="throw"){if(pe==="suspendedStart")throw pe="completed",Y.arg;Y.dispatchException(Y.arg)}else Y.method==="return"&&Y.abrupt("return",Y.arg);pe="executing";var Le=g(V,te,Y);if(Le.type==="normal"){if(pe=Y.done?"completed":"suspendedYield",Le.arg===y)continue;return{value:Le.arg,done:Y.done}}Le.type==="throw"&&(pe="completed",Y.method="throw",Y.arg=Le.arg)}}}(L,D,z),R}function g(L,A,D){try{return{type:"normal",arg:L.call(A,D)}}catch(B){return{type:"throw",arg:B}}}s.wrap=v;var y={};function w(){}function b(){}function m(){}var p={};p[d]=function(){return this};var x=Object.getPrototypeOf,E=x&&x(x(P([])));E&&E!==a&&l.call(E,d)&&(p=E);var N=m.prototype=w.prototype=Object.create(p);function j(L){["next","throw","return"].forEach(function(A){L[A]=function(D){return this._invoke(A,D)}})}function k(L,A){var D;this._invoke=function(B,M){function R(){return new A(function(z,V){(function te(Y,pe,me,je){var Et=g(L[Y],L,pe);if(Et.type!=="throw"){var rt=Et.arg,Le=rt.value;return Le&&typeof Le=="object"&&l.call(Le,"__await")?A.resolve(Le.__await).then(function(Fe){te("next",Fe,me,je)},function(Fe){te("throw",Fe,me,je)}):A.resolve(Le).then(function(Fe){rt.value=Fe,me(rt)},function(Fe){return te("throw",Fe,me,je)})}je(Et.arg)})(B,M,z,V)})}return D=D?D.then(R,R):R()}}function S(L,A){var D=L.iterator[A.method];if(D===void 0){if(A.delegate=null,A.method==="throw"){if(L.iterator.return&&(A.method="return",A.arg=void 0,S(L,A),A.method==="throw"))return y;A.method="throw",A.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var B=g(D,L.iterator,A.arg);if(B.type==="throw")return A.method="throw",A.arg=B.arg,A.delegate=null,y;var M=B.arg;return M?M.done?(A[L.resultName]=M.value,A.next=L.nextLoc,A.method!=="return"&&(A.method="next",A.arg=void 0),A.delegate=null,y):M:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,y)}function C(L){var A={tryLoc:L[0]};1 in L&&(A.catchLoc=L[1]),2 in L&&(A.finallyLoc=L[2],A.afterLoc=L[3]),this.tryEntries.push(A)}function T(L){var A=L.completion||{};A.type="normal",delete A.arg,L.completion=A}function I(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(C,this),this.reset(!0)}function P(L){if(L){var A=L[d];if(A)return A.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var D=-1,B=function M(){for(;++D<L.length;)if(l.call(L,D))return M.value=L[D],M.done=!1,M;return M.value=void 0,M.done=!0,M};return B.next=B}}return{next:O}}function O(){return{value:void 0,done:!0}}return b.prototype=N.constructor=m,m.constructor=b,m[h]=b.displayName="GeneratorFunction",s.isGeneratorFunction=function(L){var A=typeof L=="function"&&L.constructor;return!!A&&(A===b||(A.displayName||A.name)==="GeneratorFunction")},s.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,m):(L.__proto__=m,h in L||(L[h]="GeneratorFunction")),L.prototype=Object.create(N),L},s.awrap=function(L){return{__await:L}},j(k.prototype),k.prototype[u]=function(){return this},s.AsyncIterator=k,s.async=function(L,A,D,B,M){M===void 0&&(M=Promise);var R=new k(v(L,A,D,B),M);return s.isGeneratorFunction(A)?R:R.next().then(function(z){return z.done?z.value:R.next()})},j(N),N[h]="Generator",N[d]=function(){return this},N.toString=function(){return"[object Generator]"},s.keys=function(L){var A=[];for(var D in L)A.push(D);return A.reverse(),function B(){for(;A.length;){var M=A.pop();if(M in L)return B.value=M,B.done=!1,B}return B.done=!0,B}},s.values=P,I.prototype={constructor:I,reset:function(L){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!L)for(var A in this)A.charAt(0)==="t"&&l.call(this,A)&&!isNaN(+A.slice(1))&&(this[A]=void 0)},stop:function(){this.done=!0;var L=this.tryEntries[0].completion;if(L.type==="throw")throw L.arg;return this.rval},dispatchException:function(L){if(this.done)throw L;var A=this;function D(te,Y){return R.type="throw",R.arg=L,A.next=te,Y&&(A.method="next",A.arg=void 0),!!Y}for(var B=this.tryEntries.length-1;B>=0;--B){var M=this.tryEntries[B],R=M.completion;if(M.tryLoc==="root")return D("end");if(M.tryLoc<=this.prev){var z=l.call(M,"catchLoc"),V=l.call(M,"finallyLoc");if(z&&V){if(this.prev<M.catchLoc)return D(M.catchLoc,!0);if(this.prev<M.finallyLoc)return D(M.finallyLoc)}else if(z){if(this.prev<M.catchLoc)return D(M.catchLoc,!0)}else{if(!V)throw new Error("try statement without catch or finally");if(this.prev<M.finallyLoc)return D(M.finallyLoc)}}}},abrupt:function(L,A){for(var D=this.tryEntries.length-1;D>=0;--D){var B=this.tryEntries[D];if(B.tryLoc<=this.prev&&l.call(B,"finallyLoc")&&this.prev<B.finallyLoc){var M=B;break}}M&&(L==="break"||L==="continue")&&M.tryLoc<=A&&A<=M.finallyLoc&&(M=null);var R=M?M.completion:{};return R.type=L,R.arg=A,M?(this.method="next",this.next=M.finallyLoc,y):this.complete(R)},complete:function(L,A){if(L.type==="throw")throw L.arg;return L.type==="break"||L.type==="continue"?this.next=L.arg:L.type==="return"?(this.rval=this.arg=L.arg,this.method="return",this.next="end"):L.type==="normal"&&A&&(this.next=A),y},finish:function(L){for(var A=this.tryEntries.length-1;A>=0;--A){var D=this.tryEntries[A];if(D.finallyLoc===L)return this.complete(D.completion,D.afterLoc),T(D),y}},catch:function(L){for(var A=this.tryEntries.length-1;A>=0;--A){var D=this.tryEntries[A];if(D.tryLoc===L){var B=D.completion;if(B.type==="throw"){var M=B.arg;T(D)}return M}}throw new Error("illegal catch attempt")},delegateYield:function(L,A,D){return this.delegate={iterator:P(L),resultName:A,nextLoc:D},this.method==="next"&&(this.arg=void 0),y}},s}(n.exports);try{regeneratorRuntime=i}catch{Function("r","regeneratorRuntime = r")(i)}},function(n,r,o){var i=o(12),s=o(13);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1},l=(i(s,a),s.locals?s.locals:{});n.exports=l},function(n,r,o){var i,s=function(){return i===void 0&&(i=!!(window&&document&&document.all&&!window.atob)),i},a=function(){var p={};return function(x){if(p[x]===void 0){var E=document.querySelector(x);if(window.HTMLIFrameElement&&E instanceof window.HTMLIFrameElement)try{E=E.contentDocument.head}catch{E=null}p[x]=E}return p[x]}}(),l=[];function c(p){for(var x=-1,E=0;E<l.length;E++)if(l[E].identifier===p){x=E;break}return x}function d(p,x){for(var E={},N=[],j=0;j<p.length;j++){var k=p[j],S=x.base?k[0]+x.base:k[0],C=E[S]||0,T="".concat(S," ").concat(C);E[S]=C+1;var I=c(T),P={css:k[1],media:k[2],sourceMap:k[3]};I!==-1?(l[I].references++,l[I].updater(P)):l.push({identifier:T,updater:m(P,x),references:1}),N.push(T)}return N}function u(p){var x=document.createElement("style"),E=p.attributes||{};if(E.nonce===void 0){var N=o.nc;N&&(E.nonce=N)}if(Object.keys(E).forEach(function(k){x.setAttribute(k,E[k])}),typeof p.insert=="function")p.insert(x);else{var j=a(p.insert||"head");if(!j)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");j.appendChild(x)}return x}var h,v=(h=[],function(p,x){return h[p]=x,h.filter(Boolean).join(`
`)});function g(p,x,E,N){var j=E?"":N.media?"@media ".concat(N.media," {").concat(N.css,"}"):N.css;if(p.styleSheet)p.styleSheet.cssText=v(x,j);else{var k=document.createTextNode(j),S=p.childNodes;S[x]&&p.removeChild(S[x]),S.length?p.insertBefore(k,S[x]):p.appendChild(k)}}function y(p,x,E){var N=E.css,j=E.media,k=E.sourceMap;if(j?p.setAttribute("media",j):p.removeAttribute("media"),k&&btoa&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(k))))," */")),p.styleSheet)p.styleSheet.cssText=N;else{for(;p.firstChild;)p.removeChild(p.firstChild);p.appendChild(document.createTextNode(N))}}var w=null,b=0;function m(p,x){var E,N,j;if(x.singleton){var k=b++;E=w||(w=u(x)),N=g.bind(null,E,k,!1),j=g.bind(null,E,k,!0)}else E=u(x),N=y.bind(null,E,x),j=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(E)};return N(p),function(S){if(S){if(S.css===p.css&&S.media===p.media&&S.sourceMap===p.sourceMap)return;N(p=S)}else j()}}n.exports=function(p,x){(x=x||{}).singleton||typeof x.singleton=="boolean"||(x.singleton=s());var E=d(p=p||[],x);return function(N){if(N=N||[],Object.prototype.toString.call(N)==="[object Array]"){for(var j=0;j<E.length;j++){var k=c(E[j]);l[k].references--}for(var S=d(N,x),C=0;C<E.length;C++){var T=c(E[C]);l[T].references===0&&(l[T].updater(),l.splice(T,1))}E=S}}}},function(n,r,o){(r=o(14)(!1)).push([n.i,`.image-tool {
  --bg-color: #cdd1e0;
  --front-color: #388ae5;
  --border-color: #e8e8eb;

}

  .image-tool__image {
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 10px;
  }

  .image-tool__image-picture {
      max-width: 100%;
      vertical-align: bottom;
      display: block;
    }

  .image-tool__image-preloader {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-size: cover;
      margin: auto;
      position: relative;
      background-color: var(--bg-color);
      background-position: center center;
    }

  .image-tool__image-preloader::after {
        content: "";
        position: absolute;
        z-index: 3;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        border: 2px solid var(--bg-color);
        border-top-color: var(--front-color);
        left: 50%;
        top: 50%;
        margin-top: -30px;
        margin-left: -30px;
        animation: image-preloader-spin 2s infinite linear;
        box-sizing: border-box;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]::before {
      position: absolute !important;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      display: none;
    }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {
        display: block;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {
        display: none;
      }

  .image-tool--empty .image-tool__image {
      display: none;
    }

  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {
      display: none;
    }

  .image-tool .cdx-button {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .image-tool .cdx-button svg {
      height: auto;
      margin: 0 6px 0 0;
    }

  .image-tool--filled .cdx-button {
      display: none;
    }

  .image-tool--filled .image-tool__image-preloader {
        display: none;
      }

  .image-tool--loading .image-tool__image {
      min-height: 200px;
      display: flex;
      border: 1px solid var(--border-color);
      background-color: #fff;
    }

  .image-tool--loading .image-tool__image-picture {
        display: none;
      }

  .image-tool--loading .cdx-button {
      display: none;
    }

  /**
   * Tunes
   * ----------------
   */

  .image-tool--withBorder .image-tool__image {
      border: 1px solid var(--border-color);
    }

  .image-tool--withBackground .image-tool__image {
      padding: 15px;
      background: var(--bg-color);
    }

  .image-tool--withBackground .image-tool__image-picture {
        max-width: 60%;
        margin: 0 auto;
      }

  .image-tool--stretched .image-tool__image-picture {
        width: 100%;
      }

@keyframes image-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),n.exports=r},function(n,r,o){n.exports=function(i){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,d){var u=c[1]||"",h=c[3];if(!h)return u;if(d&&typeof btoa=="function"){var v=(y=h,w=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),b="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(w),"/*# ".concat(b," */")),g=h.sources.map(function(m){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(m," */")});return[u].concat(g).concat([v]).join(`
`)}var y,w,b;return[u].join(`
`)}(a,i);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var d={};if(c)for(var u=0;u<this.length;u++){var h=this[u][0];h!=null&&(d[h]=!0)}for(var v=0;v<a.length;v++){var g=[].concat(a[v]);c&&d[g[0]]||(l&&(g[2]?g[2]="".concat(l," and ").concat(g[2]):g[2]=l),s.push(g))}},s}},function(n,r,o){var i=o(4);n.exports=function(s){if(Array.isArray(s))return i(s)}},function(n,r){n.exports=function(o){if(typeof Symbol<"u"&&Symbol.iterator in Object(o))return Array.from(o)}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r){n.exports=function(o){if(Array.isArray(o))return o}},function(n,r){n.exports=function(o,i){if(typeof Symbol<"u"&&Symbol.iterator in Object(o)){var s=[],a=!0,l=!1,c=void 0;try{for(var d,u=o[Symbol.iterator]();!(a=(d=u.next()).done)&&(s.push(d.value),!i||s.length!==i);a=!0);}catch(h){l=!0,c=h}finally{try{a||u.return==null||u.return()}finally{if(l)throw c}}return s}}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r,o){o.r(r),o.d(r,"default",function(){return k});var i=o(3),s=o.n(i),a=o(6),l=o.n(a),c=o(2),d=o.n(c),u=o(0),h=o.n(u);o(11);const v='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>';var g=o(7),y=o.n(g);function w(S){var C,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},P=document.createElement(S);Array.isArray(T)?(C=P.classList).add.apply(C,y()(T)):T&&P.classList.add(T);for(var O in I)P[O]=I[O];return P}var b=function(){function S(C){var T=C.api,I=C.config,P=C.onSelectFile,O=C.readOnly;d()(this,S),this.api=T,this.config=I,this.onSelectFile=P,this.readOnly=O,this.nodes={wrapper:w("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:w("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:w("div",this.CSS.imagePreloader),caption:w("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}return h()(S,[{key:"render",value:function(C){return C.file&&Object.keys(C.file).length!==0?this.toggleStatus(S.status.UPLOADING):this.toggleStatus(S.status.EMPTY),this.nodes.wrapper}},{key:"createFileButton",value:function(){var C=this,T=w("div",[this.CSS.button]);return T.innerHTML=this.config.buttonContent||"".concat(v," ").concat(this.api.i18n.t("Select an Image")),T.addEventListener("click",function(){C.onSelectFile()}),T}},{key:"showPreloader",value:function(C){this.nodes.imagePreloader.style.backgroundImage="url(".concat(C,")"),this.toggleStatus(S.status.UPLOADING)}},{key:"hidePreloader",value:function(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(S.status.EMPTY)}},{key:"fillImage",value:function(C){var T=this,I=/\.mp4$/.test(C)?"VIDEO":"IMG",P={src:C},O="load";I==="VIDEO"&&(P.autoplay=!0,P.loop=!0,P.muted=!0,P.playsinline=!0,O="loadeddata"),this.nodes.imageEl=w(I,this.CSS.imageEl,P),this.nodes.imageEl.addEventListener(O,function(){T.toggleStatus(S.status.FILLED),T.nodes.imagePreloader&&(T.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}},{key:"fillCaption",value:function(C){this.nodes.caption&&(this.nodes.caption.innerHTML=C)}},{key:"toggleStatus",value:function(C){for(var T in S.status)Object.prototype.hasOwnProperty.call(S.status,T)&&this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(S.status[T]),C===S.status[T])}},{key:"applyTune",value:function(C,T){this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(C),T)}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}}],[{key:"status",get:function(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}}]),S}(),m=o(8),p=o.n(m),x=o(1),E=o.n(x);function N(S){return S&&typeof S.then=="function"}var j=function(){function S(C){var T=C.config,I=C.onUpload,P=C.onError;d()(this,S),this.config=T,this.onUpload=I,this.onError=P}return h()(S,[{key:"uploadSelectedFile",value:function(C){var T=this,I=C.onPreview,P=function(O){var L=new FileReader;L.readAsDataURL(O),L.onload=function(A){I(A.target.result)}};(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?E.a.selectFiles({accept:this.config.types}).then(function(O){P(O[0]);var L=T.config.uploader.uploadByFile(O[0]);return N(L)||console.warn("Custom uploader method uploadByFile should return a Promise"),L}):E.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(O){P(O[0])},fieldName:this.config.field}).then(function(O){return O.body})).then(function(O){T.onUpload(O)}).catch(function(O){T.onError(O)})}},{key:"uploadByUrl",value:function(C){var T,I=this;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?N(T=this.config.uploader.uploadByUrl(C))||console.warn("Custom uploader method uploadByUrl should return a Promise"):T=E.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:C},this.config.additionalRequestData),type:E.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(P){return P.body}),T.then(function(P){I.onUpload(P)}).catch(function(P){I.onError(P)})}},{key:"uploadByFile",value:function(C,T){var I,P=this,O=T.onPreview,L=new FileReader;if(L.readAsDataURL(C),L.onload=function(D){O(D.target.result)},this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")N(I=this.config.uploader.uploadByFile(C))||console.warn("Custom uploader method uploadByFile should return a Promise");else{var A=new FormData;A.append(this.config.field,C),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(function(D){var B=p()(D,2),M=B[0],R=B[1];A.append(M,R)}),I=E.a.post({url:this.config.endpoints.byFile,data:A,type:E.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(D){return D.body})}I.then(function(D){P.onUpload(D)}).catch(function(D){P.onError(D)})}}]),S}(),k=function(){function S(T){var I=this,P=T.data,O=T.config,L=T.api,A=T.readOnly;d()(this,S),this.api=L,this.readOnly=A,this.config={endpoints:O.endpoints||"",additionalRequestData:O.additionalRequestData||{},additionalRequestHeaders:O.additionalRequestHeaders||{},field:O.field||"image",types:O.types||"image/*",captionPlaceholder:this.api.i18n.t(O.captionPlaceholder||"Caption"),buttonContent:O.buttonContent||"",uploader:O.uploader||void 0,actions:O.actions||[]},this.uploader=new j({config:this.config,onUpload:function(D){return I.onUpload(D)},onError:function(D){return I.uploadingFailed(D)}}),this.ui=new b({api:L,config:this.config,onSelectFile:function(){I.uploader.uploadSelectedFile({onPreview:function(D){I.ui.showPreloader(D)}})},readOnly:A}),this._data={},this.data=P}var C;return h()(S,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:v,title:"Image"}}},{key:"tunes",get:function(){return[{name:"withBorder",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',title:"With border",toggle:!0},{name:"stretched",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',title:"Stretch image",toggle:!0},{name:"withBackground",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',title:"With background",toggle:!0}]}}]),h()(S,[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"validate",value:function(T){return T.file&&T.file.url}},{key:"save",value:function(){var T=this.ui.nodes.caption;return this._data.caption=T.innerHTML,this.data}},{key:"renderSettings",value:function(){var T=this;return S.tunes.concat(this.config.actions).map(function(I){return{icon:I.icon,label:T.api.i18n.t(I.title),name:I.name,toggle:I.toggle,isActive:T.data[I.name],onActivate:function(){typeof I.action!="function"?T.tuneToggled(I.name):I.action(I.name)}}})}},{key:"appendCallback",value:function(){this.ui.nodes.fileButton.click()}},{key:"onPaste",value:(C=l()(s.a.mark(function T(I){var P,O,L,A,D;return s.a.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:B.t0=I.type,B.next=B.t0==="tag"?3:B.t0==="pattern"?15:B.t0==="file"?18:21;break;case 3:if(P=I.detail.data,!/^blob:/.test(P.src)){B.next=13;break}return B.next=7,fetch(P.src);case 7:return O=B.sent,B.next=10,O.blob();case 10:return L=B.sent,this.uploadFile(L),B.abrupt("break",21);case 13:return this.uploadUrl(P.src),B.abrupt("break",21);case 15:return A=I.detail.data,this.uploadUrl(A),B.abrupt("break",21);case 18:return D=I.detail.file,this.uploadFile(D),B.abrupt("break",21);case 21:case"end":return B.stop()}},T,this)})),function(T){return C.apply(this,arguments)})},{key:"onUpload",value:function(T){T.success&&T.file?this.image=T.file:this.uploadingFailed("incorrect response: "+JSON.stringify(T))}},{key:"uploadingFailed",value:function(T){console.log("Image Tool: uploading failed because of",T),this.api.notifier.show({message:this.api.i18n.t("Couldn’t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}},{key:"tuneToggled",value:function(T){this.setTune(T,!this._data[T])}},{key:"setTune",value:function(T,I){var P=this;this._data[T]=I,this.ui.applyTune(T,I),T==="stretched"&&Promise.resolve().then(function(){var O=P.api.blocks.getCurrentBlockIndex();P.api.blocks.stretchBlock(O,I)}).catch(function(O){console.error(O)})}},{key:"uploadFile",value:function(T){var I=this;this.uploader.uploadByFile(T,{onPreview:function(P){I.ui.showPreloader(P)}})}},{key:"uploadUrl",value:function(T){this.ui.showPreloader(T),this.uploader.uploadByUrl(T)}},{key:"data",set:function(T){var I=this;this.image=T.file,this._data.caption=T.caption||"",this.ui.fillCaption(this._data.caption),S.tunes.forEach(function(P){var O=P.name,L=T[O]!==void 0&&(T[O]===!0||T[O]==="true");I.setTune(O,L)})},get:function(){return this._data}},{key:"image",set:function(T){this._data.file=T||{},T&&T.url&&this.ui.fillImage(T.url)}}],[{key:"pasteConfig",get:function(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}}]),S}();/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js — main Tool's interface, public API and methods for working with data
 *  2) uploader.js — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */}]).default})})(Uk);var YO=Uk.exports;const XO=Gr(YO);var zk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=5)}([function(n,r,o){var i=o(1);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(3)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(2)(!1)).push([n.i,`/**
 * Plugin styles
 */
.ce-header {
  padding: 0.6em 0 3px;
  margin: 0;
  line-height: 1.25em;
  outline: none;
}

.ce-header p,
.ce-header div{
  padding: 0 !important;
  margin: 0 !important;
}

/**
 * Styles for Plugin icon in Toolbar
 */
.ce-header__icon {}

.ce-header[contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  display: none;
  cursor: text;
}

.ce-header[contentEditable=true][data-placeholder]:empty::before {
  display: block;
}

.ce-header[contentEditable=true][data-placeholder]:empty:focus::before {
  display: none;
}
`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var d=l[1]||"",u=l[3];if(!u)return d;if(c&&typeof btoa=="function"){var h=(g=u,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),v=u.sources.map(function(y){return"/*# sourceURL="+u.sourceRoot+y+" */"});return[d].concat(v).concat([h]).join(`
`)}var g;return[d].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var d=this[c][0];typeof d=="number"&&(l[d]=!0)}for(c=0;c<s.length;c++){var u=s[c];typeof u[0]=="number"&&l[u[0]]||(a&&!u[2]?u[2]=a:a&&(u[2]="("+u[2]+") and ("+a+")"),i.push(u))}},i}},function(n,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(T){return document.querySelector(T)},d=function(T){var I={};return function(P){if(typeof P=="function")return P();if(I[P]===void 0){var O=c.call(this,P);if(window.HTMLIFrameElement&&O instanceof window.HTMLIFrameElement)try{O=O.contentDocument.head}catch{O=null}I[P]=O}return I[P]}}(),u=null,h=0,v=[],g=o(4);function y(T,I){for(var P=0;P<T.length;P++){var O=T[P],L=a[O.id];if(L){L.refs++;for(var A=0;A<L.parts.length;A++)L.parts[A](O.parts[A]);for(;A<O.parts.length;A++)L.parts.push(E(O.parts[A],I))}else{var D=[];for(A=0;A<O.parts.length;A++)D.push(E(O.parts[A],I));a[O.id]={id:O.id,refs:1,parts:D}}}}function w(T,I){for(var P=[],O={},L=0;L<T.length;L++){var A=T[L],D=I.base?A[0]+I.base:A[0],B={css:A[1],media:A[2],sourceMap:A[3]};O[D]?O[D].parts.push(B):P.push(O[D]={id:D,parts:[B]})}return P}function b(T,I){var P=d(T.insertInto);if(!P)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var O=v[v.length-1];if(T.insertAt==="top")O?O.nextSibling?P.insertBefore(I,O.nextSibling):P.appendChild(I):P.insertBefore(I,P.firstChild),v.push(I);else if(T.insertAt==="bottom")P.appendChild(I);else{if(typeof T.insertAt!="object"||!T.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var L=d(T.insertInto+" "+T.insertAt.before);P.insertBefore(I,L)}}function m(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T);var I=v.indexOf(T);I>=0&&v.splice(I,1)}function p(T){var I=document.createElement("style");return T.attrs.type===void 0&&(T.attrs.type="text/css"),x(I,T.attrs),b(T,I),I}function x(T,I){Object.keys(I).forEach(function(P){T.setAttribute(P,I[P])})}function E(T,I){var P,O,L,A;if(I.transform&&T.css){if(!(A=I.transform(T.css)))return function(){};T.css=A}if(I.singleton){var D=h++;P=u||(u=p(I)),O=k.bind(null,P,D,!1),L=k.bind(null,P,D,!0)}else T.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(P=function(B){var M=document.createElement("link");return B.attrs.type===void 0&&(B.attrs.type="text/css"),B.attrs.rel="stylesheet",x(M,B.attrs),b(B,M),M}(I),O=C.bind(null,P,I),L=function(){m(P),P.href&&URL.revokeObjectURL(P.href)}):(P=p(I),O=S.bind(null,P),L=function(){m(P)});return O(T),function(B){if(B){if(B.css===T.css&&B.media===T.media&&B.sourceMap===T.sourceMap)return;O(T=B)}else L()}}n.exports=function(T,I){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(I=I||{}).attrs=typeof I.attrs=="object"?I.attrs:{},I.singleton||typeof I.singleton=="boolean"||(I.singleton=l()),I.insertInto||(I.insertInto="head"),I.insertAt||(I.insertAt="bottom");var P=w(T,I);return y(P,I),function(O){for(var L=[],A=0;A<P.length;A++){var D=P[A];(B=a[D.id]).refs--,L.push(B)}for(O&&y(w(O,I),I),A=0;A<L.length;A++){var B;if((B=L[A]).refs===0){for(var M=0;M<B.parts.length;M++)B.parts[M]();delete a[B.id]}}}};var N,j=(N=[],function(T,I){return N[T]=I,N.filter(Boolean).join(`
`)});function k(T,I,P,O){var L=P?"":O.css;if(T.styleSheet)T.styleSheet.cssText=j(I,L);else{var A=document.createTextNode(L),D=T.childNodes;D[I]&&T.removeChild(D[I]),D.length?T.insertBefore(A,D[I]):T.appendChild(A)}}function S(T,I){var P=I.css,O=I.media;if(O&&T.setAttribute("media",O),T.styleSheet)T.styleSheet.cssText=P;else{for(;T.firstChild;)T.removeChild(T.firstChild);T.appendChild(document.createTextNode(P))}}function C(T,I,P){var O=P.css,L=P.sourceMap,A=I.convertToAbsoluteUrls===void 0&&L;(I.convertToAbsoluteUrls||A)&&(O=g(O)),L&&(O+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(L))))+" */");var D=new Blob([O],{type:"text/css"}),B=T.href;T.href=URL.createObjectURL(D),B&&URL.revokeObjectURL(B)}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var d,u=c.trim().replace(/^"(.*)"$/,function(h,v){return v}).replace(/^'(.*)'$/,function(h,v){return v});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?l:(d=u.indexOf("//")===0?u:u.indexOf("/")===0?s+u:a+u.replace(/^\.\//,""),"url("+JSON.stringify(d)+")")})}},function(n,r,o){o.r(r),o.d(r,"default",function(){return a}),o(0);function i(l){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(l)}function s(l,c){for(var d=0;d<c.length;d++){var u=c[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */var a=function(){function l(h){var v=h.data,g=h.config,y=h.api,w=h.readOnly;(function(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=y,this.readOnly=w,this._CSS={block:this.api.styles.block,wrapper:"ce-header"},this._settings=g,this._data=this.normalizeData(v),this._element=this.getTag()}var c,d,u;return c=l,u=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>',title:"Heading"}}}],(d=[{key:"normalizeData",value:function(h){var v={};return i(h)!=="object"&&(h={}),v.text=h.text||"",v.level=parseInt(h.level)||this.defaultLevel.number,v}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var h=this;return this.levels.map(function(v){return{icon:v.svg,label:h.api.i18n.t("Heading ".concat(v.number)),onActivate:function(){return h.setLevel(v.number)},closeOnActivate:!0,isActive:h.currentLevel.number===v.number}})}},{key:"setLevel",value:function(h){this.data={level:h,text:this.data.text}}},{key:"merge",value:function(h){var v={text:this.data.text+h.text,level:this.data.level};this.data=v}},{key:"validate",value:function(h){return h.text.trim()!==""}},{key:"save",value:function(h){return{text:h.innerHTML,level:this.currentLevel.number}}},{key:"getTag",value:function(){var h=document.createElement(this.currentLevel.tag);return h.innerHTML=this._data.text||"",h.classList.add(this._CSS.wrapper),h.contentEditable=this.readOnly?"false":"true",h.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),h}},{key:"onPaste",value:function(h){var v=h.detail.data,g=this.defaultLevel.number;switch(v.tagName){case"H1":g=1;break;case"H2":g=2;break;case"H3":g=3;break;case"H4":g=4;break;case"H5":g=5;break;case"H6":g=6}this._settings.levels&&(g=this._settings.levels.reduce(function(y,w){return Math.abs(w-g)<Math.abs(y-g)?w:y})),this.data={level:g,text:v.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(h){if(this._data=this.normalizeData(h),h.level!==void 0&&this._element.parentNode){var v=this.getTag();v.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(v,this._element),this._element=v}h.text!==void 0&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var h=this,v=this.levels.find(function(g){return g.number===h._data.level});return v||(v=this.defaultLevel),v}},{key:"defaultLevel",get:function(){var h=this;if(this._settings.defaultLevel){var v=this.levels.find(function(g){return g.number===h._settings.defaultLevel});if(v)return v;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var h=this,v=[{number:1,tag:"H1",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>'},{number:2,tag:"H2",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>'},{number:3,tag:"H3",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>'},{number:4,tag:"H4",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>'},{number:5,tag:"H5",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>'},{number:6,tag:"H6",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>'}];return this._settings.levels?v.filter(function(g){return h._settings.levels.includes(g.number)}):v}}])&&s(c.prototype,d),u&&s(c,u),l}()}]).default})})(zk);var JO=zk.exports;const QO=Gr(JO);var $k={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=5)}([function(n,r,o){var i=o(1);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(3)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(2)(!1)).push([n.i,`.cdx-quote-icon svg {
  transform: rotate(180deg);
}

.cdx-quote {
  margin: 0;
}

.cdx-quote__text {
  min-height: 158px;
  margin-bottom: 10px;
}

.cdx-quote__caption {}

.cdx-quote [contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty::before {
  opacity: 1;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty:focus::before {
  opacity: 0;
}


.cdx-quote-settings {
  display: flex;
}

.cdx-quote-settings .cdx-settings-button {
  width: 50%;
}
`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var d=l[1]||"",u=l[3];if(!u)return d;if(c&&typeof btoa=="function"){var h=(g=u,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),v=u.sources.map(function(y){return"/*# sourceURL="+u.sourceRoot+y+" */"});return[d].concat(v).concat([h]).join(`
`)}var g;return[d].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var d=this[c][0];typeof d=="number"&&(l[d]=!0)}for(c=0;c<s.length;c++){var u=s[c];typeof u[0]=="number"&&l[u[0]]||(a&&!u[2]?u[2]=a:a&&(u[2]="("+u[2]+") and ("+a+")"),i.push(u))}},i}},function(n,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(k){var S={};return function(C){if(typeof C=="function")return C();if(S[C]===void 0){var T=(function(I){return document.querySelector(I)}).call(this,C);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}S[C]=T}return S[C]}}(),d=null,u=0,h=[],v=o(4);function g(k,S){for(var C=0;C<k.length;C++){var T=k[C],I=a[T.id];if(I){I.refs++;for(var P=0;P<I.parts.length;P++)I.parts[P](T.parts[P]);for(;P<T.parts.length;P++)I.parts.push(x(T.parts[P],S))}else{var O=[];for(P=0;P<T.parts.length;P++)O.push(x(T.parts[P],S));a[T.id]={id:T.id,refs:1,parts:O}}}}function y(k,S){for(var C=[],T={},I=0;I<k.length;I++){var P=k[I],O=S.base?P[0]+S.base:P[0],L={css:P[1],media:P[2],sourceMap:P[3]};T[O]?T[O].parts.push(L):C.push(T[O]={id:O,parts:[L]})}return C}function w(k,S){var C=c(k.insertInto);if(!C)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var T=h[h.length-1];if(k.insertAt==="top")T?T.nextSibling?C.insertBefore(S,T.nextSibling):C.appendChild(S):C.insertBefore(S,C.firstChild),h.push(S);else if(k.insertAt==="bottom")C.appendChild(S);else{if(typeof k.insertAt!="object"||!k.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=c(k.insertInto+" "+k.insertAt.before);C.insertBefore(S,I)}}function b(k){if(k.parentNode===null)return!1;k.parentNode.removeChild(k);var S=h.indexOf(k);S>=0&&h.splice(S,1)}function m(k){var S=document.createElement("style");return k.attrs.type===void 0&&(k.attrs.type="text/css"),p(S,k.attrs),w(k,S),S}function p(k,S){Object.keys(S).forEach(function(C){k.setAttribute(C,S[C])})}function x(k,S){var C,T,I,P;if(S.transform&&k.css){if(!(P=S.transform(k.css)))return function(){};k.css=P}if(S.singleton){var O=u++;C=d||(d=m(S)),T=j.bind(null,C,O,!1),I=j.bind(null,C,O,!0)}else k.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(C=function(L){var A=document.createElement("link");return L.attrs.type===void 0&&(L.attrs.type="text/css"),L.attrs.rel="stylesheet",p(A,L.attrs),w(L,A),A}(S),T=(function(L,A,D){var B=D.css,M=D.sourceMap,R=A.convertToAbsoluteUrls===void 0&&M;(A.convertToAbsoluteUrls||R)&&(B=v(B)),M&&(B+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(M))))+" */");var z=new Blob([B],{type:"text/css"}),V=L.href;L.href=URL.createObjectURL(z),V&&URL.revokeObjectURL(V)}).bind(null,C,S),I=function(){b(C),C.href&&URL.revokeObjectURL(C.href)}):(C=m(S),T=(function(L,A){var D=A.css,B=A.media;if(B&&L.setAttribute("media",B),L.styleSheet)L.styleSheet.cssText=D;else{for(;L.firstChild;)L.removeChild(L.firstChild);L.appendChild(document.createTextNode(D))}}).bind(null,C),I=function(){b(C)});return T(k),function(L){if(L){if(L.css===k.css&&L.media===k.media&&L.sourceMap===k.sourceMap)return;T(k=L)}else I()}}n.exports=function(k,S){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(S=S||{}).attrs=typeof S.attrs=="object"?S.attrs:{},S.singleton||typeof S.singleton=="boolean"||(S.singleton=l()),S.insertInto||(S.insertInto="head"),S.insertAt||(S.insertAt="bottom");var C=y(k,S);return g(C,S),function(T){for(var I=[],P=0;P<C.length;P++){var O=C[P];(L=a[O.id]).refs--,I.push(L)}for(T&&g(y(T,S),S),P=0;P<I.length;P++){var L;if((L=I[P]).refs===0){for(var A=0;A<L.parts.length;A++)L.parts[A]();delete a[L.id]}}}};var E,N=(E=[],function(k,S){return E[k]=S,E.filter(Boolean).join(`
`)});function j(k,S,C,T){var I=C?"":T.css;if(k.styleSheet)k.styleSheet.cssText=N(S,I);else{var P=document.createTextNode(I),O=k.childNodes;O[S]&&k.removeChild(O[S]),O.length?k.insertBefore(P,O[S]):k.appendChild(P)}}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var d,u=c.trim().replace(/^"(.*)"$/,function(h,v){return v}).replace(/^'(.*)'$/,function(h,v){return v});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?l:(d=u.indexOf("//")===0?u:u.indexOf("/")===0?s+u:a+u.replace(/^\.\//,""),"url("+JSON.stringify(d)+")")})}},function(n,r,o){o.r(r),o(0);function i(c){return function(d){if(Array.isArray(d)){for(var u=0,h=new Array(d.length);u<d.length;u++)h[u]=d[u];return h}}(c)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(c,d){for(var u=0;u<d.length;u++){var h=d[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}function a(c,d,u){return d&&s(c.prototype,d),u&&s(c,u),c}o.d(r,"default",function(){return l});var l=function(){function c(d){var u=d.data,h=d.config,v=d.api,g=d.readOnly;(function(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")})(this,c);var y=c.ALIGNMENTS,w=c.DEFAULT_ALIGNMENT;this.api=v,this.readOnly=g,this.quotePlaceholder=h.quotePlaceholder||c.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=h.captionPlaceholder||c.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:u.text||"",caption:u.caption||"",alignment:Object.values(y).includes(u.alignment)&&u.alignment||h.defaultAlignment||w}}return a(c,[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}},{key:"settings",get:function(){return[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>'}]}}],[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',title:"Quote"}}},{key:"contentless",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"DEFAULT_QUOTE_PLACEHOLDER",get:function(){return"Enter a quote"}},{key:"DEFAULT_CAPTION_PLACEHOLDER",get:function(){return"Enter a caption"}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center"}}},{key:"DEFAULT_ALIGNMENT",get:function(){return c.ALIGNMENTS.left}},{key:"conversionConfig",get:function(){return{import:"text",export:function(d){return d.caption?"".concat(d.text," — ").concat(d.caption):d.text}}}}]),a(c,[{key:"render",value:function(){var d=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),u=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),h=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return u.dataset.placeholder=this.quotePlaceholder,h.dataset.placeholder=this.captionPlaceholder,d.appendChild(u),d.appendChild(h),d}},{key:"save",value:function(d){var u=d.querySelector(".".concat(this.CSS.text)),h=d.querySelector(".".concat(this.CSS.caption));return Object.assign(this.data,{text:u.innerHTML,caption:h.innerHTML})}},{key:"renderSettings",value:function(){var d=this;return this.settings.map(function(u){return{icon:u.icon,label:d.api.i18n.t("Align ".concat((h=u.name,h[0].toUpperCase()+h.substr(1)))),onActivate:function(){return d._toggleTune(u.name)},isActive:d.data.alignment===u.name,closeOnActivate:!0};var h})}},{key:"_toggleTune",value:function(d){this.data.alignment=d}},{key:"_make",value:function(d){var u,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=document.createElement(d);Array.isArray(h)?(u=g.classList).add.apply(u,i(h)):h&&g.classList.add(h);for(var y in v)g[y]=v[y];return g}}],[{key:"sanitize",get:function(){return{text:{br:!0},caption:{br:!0},alignment:{}}}}]),c}()}]).default})})($k);var ZO=$k.exports;const eM=Gr(ZO);var Vk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=5)}([function(n,r,o){var i=o(1);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(3)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(2)(!1)).push([n.i,`.cdx-marker {
  background: rgba(245,235,111,0.29);
  padding: 3px 0;
}`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var d=l[1]||"",u=l[3];if(!u)return d;if(c&&typeof btoa=="function"){var h=(g=u,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),v=u.sources.map(function(y){return"/*# sourceURL="+u.sourceRoot+y+" */"});return[d].concat(v).concat([h]).join(`
`)}var g;return[d].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var d=this[c][0];typeof d=="number"&&(l[d]=!0)}for(c=0;c<s.length;c++){var u=s[c];typeof u[0]=="number"&&l[u[0]]||(a&&!u[2]?u[2]=a:a&&(u[2]="("+u[2]+") and ("+a+")"),i.push(u))}},i}},function(n,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(k){var S={};return function(C){if(typeof C=="function")return C();if(S[C]===void 0){var T=(function(I){return document.querySelector(I)}).call(this,C);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}S[C]=T}return S[C]}}(),d=null,u=0,h=[],v=o(4);function g(k,S){for(var C=0;C<k.length;C++){var T=k[C],I=a[T.id];if(I){I.refs++;for(var P=0;P<I.parts.length;P++)I.parts[P](T.parts[P]);for(;P<T.parts.length;P++)I.parts.push(x(T.parts[P],S))}else{var O=[];for(P=0;P<T.parts.length;P++)O.push(x(T.parts[P],S));a[T.id]={id:T.id,refs:1,parts:O}}}}function y(k,S){for(var C=[],T={},I=0;I<k.length;I++){var P=k[I],O=S.base?P[0]+S.base:P[0],L={css:P[1],media:P[2],sourceMap:P[3]};T[O]?T[O].parts.push(L):C.push(T[O]={id:O,parts:[L]})}return C}function w(k,S){var C=c(k.insertInto);if(!C)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var T=h[h.length-1];if(k.insertAt==="top")T?T.nextSibling?C.insertBefore(S,T.nextSibling):C.appendChild(S):C.insertBefore(S,C.firstChild),h.push(S);else if(k.insertAt==="bottom")C.appendChild(S);else{if(typeof k.insertAt!="object"||!k.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=c(k.insertInto+" "+k.insertAt.before);C.insertBefore(S,I)}}function b(k){if(k.parentNode===null)return!1;k.parentNode.removeChild(k);var S=h.indexOf(k);S>=0&&h.splice(S,1)}function m(k){var S=document.createElement("style");return k.attrs.type===void 0&&(k.attrs.type="text/css"),p(S,k.attrs),w(k,S),S}function p(k,S){Object.keys(S).forEach(function(C){k.setAttribute(C,S[C])})}function x(k,S){var C,T,I,P;if(S.transform&&k.css){if(!(P=S.transform(k.css)))return function(){};k.css=P}if(S.singleton){var O=u++;C=d||(d=m(S)),T=j.bind(null,C,O,!1),I=j.bind(null,C,O,!0)}else k.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(C=function(L){var A=document.createElement("link");return L.attrs.type===void 0&&(L.attrs.type="text/css"),L.attrs.rel="stylesheet",p(A,L.attrs),w(L,A),A}(S),T=(function(L,A,D){var B=D.css,M=D.sourceMap,R=A.convertToAbsoluteUrls===void 0&&M;(A.convertToAbsoluteUrls||R)&&(B=v(B)),M&&(B+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(M))))+" */");var z=new Blob([B],{type:"text/css"}),V=L.href;L.href=URL.createObjectURL(z),V&&URL.revokeObjectURL(V)}).bind(null,C,S),I=function(){b(C),C.href&&URL.revokeObjectURL(C.href)}):(C=m(S),T=(function(L,A){var D=A.css,B=A.media;if(B&&L.setAttribute("media",B),L.styleSheet)L.styleSheet.cssText=D;else{for(;L.firstChild;)L.removeChild(L.firstChild);L.appendChild(document.createTextNode(D))}}).bind(null,C),I=function(){b(C)});return T(k),function(L){if(L){if(L.css===k.css&&L.media===k.media&&L.sourceMap===k.sourceMap)return;T(k=L)}else I()}}n.exports=function(k,S){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(S=S||{}).attrs=typeof S.attrs=="object"?S.attrs:{},S.singleton||typeof S.singleton=="boolean"||(S.singleton=l()),S.insertInto||(S.insertInto="head"),S.insertAt||(S.insertAt="bottom");var C=y(k,S);return g(C,S),function(T){for(var I=[],P=0;P<C.length;P++){var O=C[P];(L=a[O.id]).refs--,I.push(L)}for(T&&g(y(T,S),S),P=0;P<I.length;P++){var L;if((L=I[P]).refs===0){for(var A=0;A<L.parts.length;A++)L.parts[A]();delete a[L.id]}}}};var E,N=(E=[],function(k,S){return E[k]=S,E.filter(Boolean).join(`
`)});function j(k,S,C,T){var I=C?"":T.css;if(k.styleSheet)k.styleSheet.cssText=N(S,I);else{var P=document.createTextNode(I),O=k.childNodes;O[S]&&k.removeChild(O[S]),O.length?k.insertBefore(P,O[S]):k.appendChild(P)}}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var d,u=c.trim().replace(/^"(.*)"$/,function(h,v){return v}).replace(/^'(.*)'$/,function(h,v){return v});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?l:(d=u.indexOf("//")===0?u:u.indexOf("/")===0?s+u:a+u.replace(/^\.\//,""),"url("+JSON.stringify(d)+")")})}},function(n,r,o){o.r(r),o(0);function i(l,c){for(var d=0;d<c.length;d++){var u=c[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function s(l,c,d){return c&&i(l.prototype,c),d&&i(l,d),l}o.d(r,"default",function(){return a});var a=function(){function l(c){var d=c.api;(function(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=d,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return s(l,null,[{key:"CSS",get:function(){return"cdx-marker"}}]),s(l,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(c){if(c){var d=this.api.selection.findParentTag(this.tag,l.CSS);d?this.unwrap(d):this.wrap(c)}}},{key:"wrap",value:function(c){var d=document.createElement(this.tag);d.classList.add(l.CSS),d.appendChild(c.extractContents()),c.insertNode(d),this.api.selection.expandToTag(d)}},{key:"unwrap",value:function(c){this.api.selection.expandToTag(c);var d=window.getSelection(),u=d.getRangeAt(0),h=u.extractContents();c.parentNode.removeChild(c),u.insertNode(h),d.removeAllRanges(),d.addRange(u)}},{key:"checkState",value:function(){var c=this.api.selection.findParentTag(this.tag,l.CSS);this.button.classList.toggle(this.iconClasses.active,!!c)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{mark:{class:l.CSS}}}}]),l}()}]).default})})(Vk);var tM=Vk.exports;const nM=Gr(tM);var Hk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=5)}([function(n,r,o){var i=o(1);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(3)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(2)(!1)).push([n.i,`.inline-code {
  background: rgba(250, 239, 240, 0.78);
  color: #b44437;
  padding: 3px 4px;
  border-radius: 5px;
  margin: 0 1px;
  font-family: inherit;
  font-size: 0.86em;
  font-weight: 500;
  letter-spacing: 0.3px;
}
`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var d=l[1]||"",u=l[3];if(!u)return d;if(c&&typeof btoa=="function"){var h=(g=u,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),v=u.sources.map(function(y){return"/*# sourceURL="+u.sourceRoot+y+" */"});return[d].concat(v).concat([h]).join(`
`)}var g;return[d].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var d=this[c][0];typeof d=="number"&&(l[d]=!0)}for(c=0;c<s.length;c++){var u=s[c];typeof u[0]=="number"&&l[u[0]]||(a&&!u[2]?u[2]=a:a&&(u[2]="("+u[2]+") and ("+a+")"),i.push(u))}},i}},function(n,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(k){var S={};return function(C){if(typeof C=="function")return C();if(S[C]===void 0){var T=(function(I){return document.querySelector(I)}).call(this,C);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}S[C]=T}return S[C]}}(),d=null,u=0,h=[],v=o(4);function g(k,S){for(var C=0;C<k.length;C++){var T=k[C],I=a[T.id];if(I){I.refs++;for(var P=0;P<I.parts.length;P++)I.parts[P](T.parts[P]);for(;P<T.parts.length;P++)I.parts.push(x(T.parts[P],S))}else{var O=[];for(P=0;P<T.parts.length;P++)O.push(x(T.parts[P],S));a[T.id]={id:T.id,refs:1,parts:O}}}}function y(k,S){for(var C=[],T={},I=0;I<k.length;I++){var P=k[I],O=S.base?P[0]+S.base:P[0],L={css:P[1],media:P[2],sourceMap:P[3]};T[O]?T[O].parts.push(L):C.push(T[O]={id:O,parts:[L]})}return C}function w(k,S){var C=c(k.insertInto);if(!C)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var T=h[h.length-1];if(k.insertAt==="top")T?T.nextSibling?C.insertBefore(S,T.nextSibling):C.appendChild(S):C.insertBefore(S,C.firstChild),h.push(S);else if(k.insertAt==="bottom")C.appendChild(S);else{if(typeof k.insertAt!="object"||!k.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=c(k.insertInto+" "+k.insertAt.before);C.insertBefore(S,I)}}function b(k){if(k.parentNode===null)return!1;k.parentNode.removeChild(k);var S=h.indexOf(k);S>=0&&h.splice(S,1)}function m(k){var S=document.createElement("style");return k.attrs.type===void 0&&(k.attrs.type="text/css"),p(S,k.attrs),w(k,S),S}function p(k,S){Object.keys(S).forEach(function(C){k.setAttribute(C,S[C])})}function x(k,S){var C,T,I,P;if(S.transform&&k.css){if(!(P=S.transform(k.css)))return function(){};k.css=P}if(S.singleton){var O=u++;C=d||(d=m(S)),T=j.bind(null,C,O,!1),I=j.bind(null,C,O,!0)}else k.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(C=function(L){var A=document.createElement("link");return L.attrs.type===void 0&&(L.attrs.type="text/css"),L.attrs.rel="stylesheet",p(A,L.attrs),w(L,A),A}(S),T=(function(L,A,D){var B=D.css,M=D.sourceMap,R=A.convertToAbsoluteUrls===void 0&&M;(A.convertToAbsoluteUrls||R)&&(B=v(B)),M&&(B+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(M))))+" */");var z=new Blob([B],{type:"text/css"}),V=L.href;L.href=URL.createObjectURL(z),V&&URL.revokeObjectURL(V)}).bind(null,C,S),I=function(){b(C),C.href&&URL.revokeObjectURL(C.href)}):(C=m(S),T=(function(L,A){var D=A.css,B=A.media;if(B&&L.setAttribute("media",B),L.styleSheet)L.styleSheet.cssText=D;else{for(;L.firstChild;)L.removeChild(L.firstChild);L.appendChild(document.createTextNode(D))}}).bind(null,C),I=function(){b(C)});return T(k),function(L){if(L){if(L.css===k.css&&L.media===k.media&&L.sourceMap===k.sourceMap)return;T(k=L)}else I()}}n.exports=function(k,S){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(S=S||{}).attrs=typeof S.attrs=="object"?S.attrs:{},S.singleton||typeof S.singleton=="boolean"||(S.singleton=l()),S.insertInto||(S.insertInto="head"),S.insertAt||(S.insertAt="bottom");var C=y(k,S);return g(C,S),function(T){for(var I=[],P=0;P<C.length;P++){var O=C[P];(L=a[O.id]).refs--,I.push(L)}for(T&&g(y(T,S),S),P=0;P<I.length;P++){var L;if((L=I[P]).refs===0){for(var A=0;A<L.parts.length;A++)L.parts[A]();delete a[L.id]}}}};var E,N=(E=[],function(k,S){return E[k]=S,E.filter(Boolean).join(`
`)});function j(k,S,C,T){var I=C?"":T.css;if(k.styleSheet)k.styleSheet.cssText=N(S,I);else{var P=document.createTextNode(I),O=k.childNodes;O[S]&&k.removeChild(O[S]),O.length?k.insertBefore(P,O[S]):k.appendChild(P)}}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var d,u=c.trim().replace(/^"(.*)"$/,function(h,v){return v}).replace(/^'(.*)'$/,function(h,v){return v});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?l:(d=u.indexOf("//")===0?u:u.indexOf("/")===0?s+u:a+u.replace(/^\.\//,""),"url("+JSON.stringify(d)+")")})}},function(n,r,o){o.r(r),o(0);function i(l,c){for(var d=0;d<c.length;d++){var u=c[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function s(l,c,d){return c&&i(l.prototype,c),d&&i(l,d),l}o.d(r,"default",function(){return a});var a=function(){function l(c){var d=c.api;(function(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=d,this.button=null,this.tag="CODE",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return s(l,null,[{key:"CSS",get:function(){return"inline-code"}}]),s(l,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(c){if(c){var d=this.api.selection.findParentTag(this.tag,l.CSS);d?this.unwrap(d):this.wrap(c)}}},{key:"wrap",value:function(c){var d=document.createElement(this.tag);d.classList.add(l.CSS),d.appendChild(c.extractContents()),c.insertNode(d),this.api.selection.expandToTag(d)}},{key:"unwrap",value:function(c){this.api.selection.expandToTag(c);var d=window.getSelection(),u=d.getRangeAt(0),h=u.extractContents();c.parentNode.removeChild(c),u.insertNode(h),d.removeAllRanges(),d.addRange(u)}},{key:"checkState",value:function(){var c=this.api.selection.findParentTag(this.tag,l.CSS);this.button.classList.toggle(this.iconClasses.active,!!c)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.5 8L6.11524 11.8683C6.04926 11.9437 6.04926 12.0563 6.11524 12.1317L9.5 16"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15 8L18.3848 11.8683C18.4507 11.9437 18.4507 12.0563 18.3848 12.1317L15 16"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{code:{class:l.CSS}}}}]),l}()}]).default})})(Hk);var rM=Hk.exports;const oM=Gr(rM),iM=async t=>{try{if(!["image/jpeg","image/jpg","image/png"].includes(t.type))throw new Error("Only JPG, JPEG, and PNG files are allowed");const n=2*1024*1024;if(t.size>n)throw new Error("Image size must be less than 2MB");const r=await new Promise((a,l)=>{const c=new FileReader;c.onload=()=>a(c.result),c.onerror=l,c.readAsDataURL(t)}),i=JSON.parse(cd("user")||"{}").access_token;if(!i)throw new Error("Authentication required");const s=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/upload-image",{image:r},{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},timeout:9e4});if(s.data.success===!0)return{success:1,file:{url:s.data.url}};throw new Error("Upload failed")}catch(e){return console.error("Image upload error:",e),{success:0,message:e.message||"Image upload failed"}}},sM=t=>Promise.resolve({success:1,file:{url:t}}),Qa={embed:GO,list:{class:KO,inlineToolBar:!0},image:{class:XO,config:{uploader:{uploadByUrl:sM,uploadByFile:iM}}},header:{class:QO,config:{placeholder:"Enter heading...",levels:[2,3],defaultLevel:2}},quote:{class:eM,inlineToolBar:!0},marker:nM,inlineCode:oM},aM=["image/jpeg","image/png","image/jpg","image/webp"],lM=5*1024*1024,cM=async(t,e)=>{var r;let n=null;if(!aM.includes(t.type))throw new Error("Only JPG, JPEG, PNG, and WebP files are allowed.");if(t.size>lM)throw new Error("Image size must be less than 5MB.");if(!t.name||t.name.trim()==="")throw new Error("Invalid file name.");try{const o=await dM(t),i=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/upload-image",{image:o,fileName:t.name,fileSize:t.size,fileType:t.type},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},timeout:9e4});if(i.data.success)n=i.data.url;else throw new Error(i.data.error||"Image upload failed.")}catch(o){let i="Image upload failed.";throw o.response?o.response.status===401?i="Authentication required. Please log in again.":o.response.status===403?i="You don't have permission to upload images.":o.response.status===413?i="Image file is too large.":o.response.status===415?i="Unsupported image format.":o.response.status===500?i="Server error. Please try again later.":(r=o.response.data)!=null&&r.error?i=o.response.data.error:i=`Upload failed (${o.response.status}). Please try again.`:o.code==="ECONNABORTED"?i="Upload timed out. Please check your connection and try again.":o.message&&(i=o.message),new Error(i)}return n},dM=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{try{const o=r.result;typeof o=="string"&&o.startsWith("data:")?e(o):n(new Error("Failed to convert file to base64."))}catch{n(new Error("File conversion failed."))}},r.onerror=()=>{n(new Error("Failed to read file."))},r.onabort=()=>{n(new Error("File reading was aborted."))};try{r.readAsDataURL(t)}catch{n(new Error("Failed to start file reading."))}});console.log("EditorJS import check:",{EditorJS:typeof rn,isFunction:typeof rn=="function",isConstructor:rn&&rn.prototype&&rn.prototype.constructor===rn});const uM=()=>{const{blog:t,setBlog:e,setEditorState:n}=_.useContext(bm),{userAuth:r={}}=_.useContext(ye);r.isAdmin;const[o,i]=_.useState(""),[s,a]=_.useState(""),[l,c]=_.useState(""),[d,u]=_.useState([]),[h,v]=_.useState(""),[g,y]=_.useState(!1),[w,b]=_.useState(null),[m,p]=_.useState("idle"),[x,E]=_.useState(null),[N,j]=_.useState(!1),[k,S]=_.useState(!1),[C,T]=_.useState(!1),[I,P]=_.useState(!1),O=_.useRef(null),L=_.useRef(null),A=Nn(),{blogId:D}=Mo(),B=r.access_token||null,[M,R]=_.useState(!1),[z,V]=_.useState(!1),[te,Y]=_.useState(!1),[pe,me]=_.useState(!1);_.useRef(null);const je=()=>(t==null?void 0:t.blog_id)||D||null,Et=K=>K?Array.isArray(K)?K.map(se=>({time:(se==null?void 0:se.time)||Date.now(),blocks:Array.isArray(se==null?void 0:se.blocks)?se.blocks:[],version:(se==null?void 0:se.version)||"2.27.2"})):typeof K=="object"&&K!==null?[{time:K.time||Date.now(),blocks:Array.isArray(K.blocks)?K.blocks:[],version:K.version||"2.27.2"}]:[{time:Date.now(),blocks:[],version:"2.27.2"}]:[{time:Date.now(),blocks:[],version:"2.27.2"}],rt=()=>{sessionStorage.removeItem("blog_draft")},Le=K=>{try{sessionStorage.setItem("blog_draft",JSON.stringify(K))}catch(se){console.warn("Failed to save to sessionStorage:",se)}};_.useEffect(()=>{B?R(!0):(H.error("Authentication required. Please log in."),setTimeout(()=>A("/login"),1e3))},[B,A]),_.useEffect(()=>{D&&j(!0)},[D]),_.useEffect(()=>{t&&!I&&(i(t.title||""),a(t.banner||""),c(t.des||""),u(t.tags||[]),T(!0))},[t,I]),_.useCallback(async()=>{var K,se,mt,ve,Ze;if(!(!M||!(t!=null&&t.blog_id)||g||k)){p("saving"),E(null),S(!0);try{let be=null;if((K=O.current)!=null&&K.isReady)try{be=await O.current.save()}catch(re){console.warn("Auto-save: Editor save failed:",re),p("error"),E("Editor not ready");return}else{p("error"),E("Editor not ready");return}if(!be||!be.blocks){console.warn("Auto-save: Invalid content structure"),p("error"),E("Invalid content structure");return}const U=o,X=s,ne=l,de=d;if(!(U.trim()||ne.trim()||be.blocks&&be.blocks.length>0)){p("idle"),S(!1);return}const Ee={title:U.trim()||"Untitled Draft",banner:X.trim()||"",des:ne.trim()||"",content:Et(be),tags:de.map(re=>re.trim().toLowerCase()).filter(re=>re.length>0),draft:!0,id:je()},Ie=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/create-blog",Ee,{headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"},timeout:1e4});b(new Date),p("saved"),E(null),S(!1),console.log("Auto-save completed successfully"),setTimeout(()=>p("idle"),3e3)}catch(be){console.warn("Auto-save failed:",be),p("error");let U="Auto-save failed";((se=be.response)==null?void 0:se.status)===401?U="Authentication expired":((mt=be.response)==null?void 0:mt.status)===403?U="Permission denied":be.code==="ECONNABORTED"?U="Request timed out":(Ze=(ve=be.response)==null?void 0:ve.data)!=null&&Ze.error&&(U=be.response.data.error),E(U),setTimeout(()=>{p("idle"),E(null),S(!1)},5e3)}}},[M,t==null?void 0:t.blog_id,B,g,k]),_.useEffect(()=>{var mt;if(!M)return;if(O.current){console.log("Editor already initialized, skipping...");return}if(!L.current){console.log("DOM node not available yet, waiting...");return}const K=((mt=t==null?void 0:t.content)==null?void 0:mt[0])||{time:Date.now(),blocks:[],version:"2.27.2"};if(console.log("Initializing EditorJS with data:",K),console.log("EditorJS import:",rn),console.log("Tools import:",Qa),typeof rn!="function"){console.error("EditorJS is not properly imported"),H.error("Editor failed to load. Please refresh the page or check your internet connection. If the problem persists, contact support.");return}if(!Qa||typeof Qa!="object"){console.error("Tools are not properly imported"),H.error("Editor tools failed to load. Please refresh the page or check your internet connection. If the problem persists, contact support.");return}if(!rn.prototype||!rn.prototype.constructor){console.error("EditorJS constructor is not properly defined"),H.error("Editor constructor failed to load. Please refresh the page or check your internet connection. If the problem persists, contact support.");return}const se=L.current.querySelector(".codex-editor");se&&(console.log("Editor instance already exists in DOM, cleaning up..."),se.remove());try{const ve=new rn({holder:L.current,data:K,tools:Qa,placeholder:"Start writing your story here...",autofocus:!0,readOnly:!1,logLevel:"ERROR",onChange:async()=>{try{if(ve.isReady){const Ze=await ve.save(),be={...t,title:o,banner:s,content:[{...Ze,time:Date.now(),version:"2.27.2"}],tags:d,des:l};Le(be)}}catch(Ze){console.warn("Failed to save to sessionStorage:",Ze)}},onReady:()=>{Y(!0),me(!0),console.log("Editor is ready")}});O.current=ve,console.log("EditorJS instance created successfully")}catch(ve){console.error("EditorJS initialization failed:",ve),console.error("Error details:",{name:ve.name,message:ve.message,stack:ve.stack}),H.error("Failed to initialize editor. Please refresh the page or check your internet connection. If the problem persists, contact support.")}return()=>{O.current&&(console.log("Cleaning up editor instance..."),O.current.isReady&&typeof O.current.isReady.then=="function"?O.current.isReady.then(()=>O.current.destroy()).catch(()=>{}):typeof O.current.destroy=="function"&&O.current.destroy(),O.current=null,Y(!1),me(!1))}},[M,L.current]),_.useEffect(()=>{var K;O.current&&((K=t==null?void 0:t.content)!=null&&K[0])&&te&&!pe&&console.log("Content updated - EditorJS content handled during initialization")},[t==null?void 0:t.content,te,pe]);const Fe=async()=>{try{console.log("Testing upload service...");const K=await G.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/test-upload");return console.log("Upload service test result:",K.data),K.data.success}catch(K){return console.error("Upload service test failed:",K),!1}},qe=async K=>{var be,U,X,ne,de,we,Ee;const se=K.target.files[0];if(!se)return;if(!["image/jpeg","image/jpg","image/png"].includes(se.type)){H.error("Only JPG, JPEG, and PNG files are allowed");return}const ve=2*1024*1024;if(se.size>ve){H.error("Image size must be less than 2MB");return}V(!0);let Ze=H.loading("Uploading banner image...");try{if(!await Fe())throw new Error("Upload service is not available");const re=await new Promise((gt,ar)=>{const lr=new FileReader;lr.onload=()=>gt(lr.result),lr.onerror=ar,lr.readAsDataURL(se)});console.log("Starting upload, file size:",se.size,"bytes");const $e=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/upload-image",{image:re},{headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"},timeout:9e4});if(H.dismiss(Ze),$e.data.success===!0){const gt=$e.data.url;console.log("Banner uploaded successfully:",gt),a(gt),P(!0),e(ar=>({...ar,banner:gt})),H.success("Banner uploaded successfully! 🎉"),scheduleAutoSave()}else H.error("Failed to upload banner image")}catch(Ie){H.dismiss(Ze),console.error("Banner upload error:",Ie);let re="Failed to upload banner image. Please check your internet connection or try a different image.";((be=Ie.response)==null?void 0:be.status)===401?re="Authentication expired. Please log in again.":((U=Ie.response)==null?void 0:U.status)===400?re=((X=Ie.response.data)==null?void 0:X.error)||"Invalid image format":((ne=Ie.response)==null?void 0:ne.status)===408?re="Upload timed out. Please try again.":((de=Ie.response)==null?void 0:de.status)===500?re="Server error. Please try again later.":(Ee=(we=Ie.response)==null?void 0:we.data)!=null&&Ee.error?re=Ie.response.data.error:Ie.code==="ECONNABORTED"?re="Upload timed out. Please try again.":Ie.message&&(re=Ie.message),H.error(re)}finally{V(!1)}},At=K=>{console.log("Title changed:",K.target.value),i(K.target.value),P(!0)},sr=K=>{console.log("Description changed:",K.target.value),c(K.target.value),P(!0)},Pn=K=>{v(K.target.value),P(!0)},eo=K=>K.trim().toLowerCase(),Ta=K=>{if(K.key==="Enter"&&h.trim()){if(K.preventDefault(),d.length>=5){H.error("Maximum 5 tags allowed");return}const se=eo(h);d.map(eo).includes(se)?H.error("Duplicate tag"):(u([...d,se]),v(""),scheduleAutoSave())}},Ca=K=>{const se=eo(K),mt=d.filter(ve=>eo(ve)!==se);u(mt),scheduleAutoSave()},_a=K=>{K.keyCode===13&&K.preventDefault()},Sd=K=>{K.target.src=fc},Na=async K=>{var be,U,X,ne,de,we,Ee,Ie;if(g)return;const se=o.trim().length>0,mt=l.trim().length>0,ve=((be=O.current)==null?void 0:be.isReady)&&await O.current.save().then(re=>re.blocks&&re.blocks.length>0).catch(()=>!1);if(!se&&!mt&&!ve)return H.error("Please add some content (title, description, or blog content) before saving as draft");y(!0);let Ze=H.loading(N?"Updating draft....":"Saving draft....");try{let re=null;if((U=O.current)!=null&&U.isReady)try{re=await O.current.save(),(!re||!re.blocks)&&(re={time:Date.now(),blocks:[],version:"2.27.2"})}catch(un){console.warn("Editor save failed, continuing with empty content:",un),re={time:Date.now(),blocks:[],version:"2.27.2"}}else re={time:Date.now(),blocks:[],version:"2.27.2"};const $e={title:o.trim()||"Untitled Draft",banner:s.trim()||"",des:l.trim()||"",content:[re],tags:d.map(un=>un.trim().toLowerCase()).filter(un=>un.length>0),draft:!0},gt=N&&je(),ar=gt?`https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/update-blog/${je()}`:"https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/create-blog",zi=await G[gt?"put":"post"](ar,$e,{headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"},timeout:15e3});H.dismiss(Ze),H.success(N?"Draft updated successfully! 👍":"Draft saved successfully! 👍"),zi.data.blog_id&&e(un=>({...un,blog_id:zi.data.blog_id,content:$e.content})),b(new Date),p("saved"),E(null),setTimeout(()=>p("idle"),3e3),rt(),setTimeout(()=>{A("/dashboard/blogs?tab=draft")},500)}catch(re){H.dismiss(Ze);let $e=N?"Failed to update draft":"Failed to save draft";((X=re.response)==null?void 0:X.status)===401?($e="Authentication required. Please log in again.",setTimeout(()=>A("/login"),2e3)):((ne=re.response)==null?void 0:ne.status)===403?$e="You don't have permission to save drafts.":((de=re.response)==null?void 0:de.status)===400?$e=((we=re.response.data)==null?void 0:we.error)||"Invalid draft data":(Ie=(Ee=re.response)==null?void 0:Ee.data)!=null&&Ie.error?$e=re.response.data.error:re.code==="ECONNABORTED"?$e="Save timed out. Please try again.":re.message&&($e=re.message),H.error($e),console.error("Draft save error:",re)}finally{y(!1)}},Ed=async()=>{var K,se,mt;if(console.log("Publish button clicked in BlogEditor"),console.log("Current blog state:",t),console.log("Editor ref ready:",(K=O.current)==null?void 0:K.isReady),!s)return console.log("Validation failed: No banner"),H.error("Upload a blog banner to publish it");if(!o.trim())return console.log("Validation failed: No title"),H.error("Write blog title to publish it");if(!l.trim())return console.log("Validation failed: No description"),H.error("Write blog description to publish it");if(l.trim().length>200)return console.log("Validation failed: Description too long"),H.error("Description cannot exceed 200 characters");if(!d.length)return console.log("Validation failed: No tags"),H.error("Add at least one tag to publish it");try{if(!((se=O.current)!=null&&se.isReady))throw console.log("Editor not ready"),new Error("Editor not ready");const ve=await O.current.save();if(console.log("Editor save data:",ve),!((mt=ve.blocks)!=null&&mt.length))return console.log("Validation failed: No content blocks"),H.error("Write something in your blog to publish it");const Ze={title:o.trim(),banner:s.trim(),content:[{time:ve.time||Date.now(),blocks:Array.isArray(ve.blocks)?ve.blocks:[],version:ve.version||"2.27.2"}],tags:d.map(be=>be.trim().toLowerCase()),des:l.trim(),id:je()};console.log("Setting blog data for publish form:",Ze),e(be=>({...be,...Ze,title:o.trim(),banner:s.trim(),des:l.trim(),tags:d.map(U=>U.trim().toLowerCase())})),n("publish"),Le(Ze),sessionStorage.setItem("refresh_drafts","1")}catch(ve){console.error("Error in handlePublishEvent:",ve),H.error("Failed to save blog content")}};return _.useEffect(()=>{const K=se=>{(se.ctrlKey||se.metaKey)&&se.key==="s"&&(se.preventDefault(),g||Na())};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[g]),!M||!t?f.jsx("div",{style:{textAlign:"center",marginTop:"3rem"},children:"Loading editor..."}):f.jsxs(f.Fragment,{children:[f.jsx("nav",{className:"navbar"}),f.jsx(In,{}),f.jsx(Me,{children:f.jsxs("section",{className:"w-full py-8 px-4 sm:px-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 mb-6 sm:mb-8 ml-0 sm:ml-28",children:[f.jsx("button",{className:"btn-dark py-2 w-full sm:w-auto text-sm sm:text-base",onClick:Na,disabled:g,title:"Save draft (Ctrl+S / Cmd+S)",children:g?"Saving...":"Save Draft"}),f.jsx("button",{className:"btn-light py-2 w-full sm:w-auto text-sm sm:text-base",onClick:Ed,disabled:!o.trim()||!l.trim()||!s||g||k,title:!o.trim()||!l.trim()||!s?"Complete all required fields to publish":g||k?"Please wait for save to complete":"Publish blog",children:"Publish"}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[m==="saving"&&f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-2 h-2 bg-yellow-300 rounded-full animate-pulse"}),"Auto-saving..."]}),m==="saved"&&f.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[f.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Saved"]}),m==="error"&&f.jsxs("span",{className:"flex items-center gap-1 text-red-600",title:x,children:[f.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Save failed"]}),w&&m==="idle"&&f.jsxs("span",{className:"text-gray-500",children:["Last saved: ",w.toLocaleTimeString()]})]})]}),f.jsxs("div",{className:"mx-auto max-w-[900px] md:max-w-[700px] w-full",children:[f.jsxs("div",{className:"relative w-full aspect-video hover:opacity-80 bg-white border-l border-gray-200 rounded-lg max-w-full max-h-[300px] md:max-h-[400px] sm:max-h-[500px] overflow-hidden",children:[f.jsxs("label",{htmlFor:"uploadBanner",children:[f.jsx("img",{src:s||fc,alt:"Blog banner",className:"w-full h-auto max-h-[300px] md:max-h-[400px] sm:max-h-[500px] object-contain rounded-lg mx-auto bg-white transition-all duration-200",onError:Sd}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 opacity-0 hover:opacity-100 transition-opacity rounded-lg",children:f.jsx("span",{className:"text-white text-base md:text-lg",children:"Upload Banner"})}),z&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-60 rounded-lg z-10",children:f.jsx("span",{className:"text-white text-base md:text-lg animate-pulse",children:"Uploading..."})})]}),f.jsx("input",{type:"file",id:"uploadBanner",accept:"image/*",hidden:!0,onChange:qe})]}),f.jsx("textarea",{placeholder:"Blog Title",className:"text-2xl md:text-3xl sm:text-4xl font-medium w-full h-16 md:h-18 sm:h-20 outline-none rounded-lg p-3 md:p-4 sm:p-4 bg-gray-50 resize-none mt-6 md:mt-8 sm:mt-10 leading-tight placeholder:opacity-40",value:o,onChange:At,onKeyDown:_a,maxLength:100}),f.jsxs("div",{className:"text-right text-xs md:text-sm sm:text-sm text-gray-500 mt-1",children:[o.length,"/100 characters"]}),f.jsx("textarea",{value:l,placeholder:"Blog Description",className:"text-sm md:text-base sm:text-lg w-full h-16 md:h-18 sm:h-20 outline-none bg-gray-50 rounded-lg p-3 md:p-4 sm:p-4 resize-none mt-3 md:mt-4 sm:mt-4 leading-tight placeholder:opacity-40",onChange:sr,maxLength:200}),f.jsxs("div",{className:"text-right text-xs md:text-sm sm:text-sm text-gray-500 mt-1",children:[l.length,"/200 characters"]}),f.jsxs("div",{className:"mt-3 md:mt-4 sm:mt-4",children:[f.jsx("label",{className:"block text-xs md:text-base sm:text-base font-medium text-gray-700 mb-1",children:"Tags (Press Enter to add, max 5)"}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:d.map((K,se)=>f.jsxs("div",{className:"flex items-center bg-gray-100 text-gray-800 text-xs md:text-base sm:text-base px-2 md:px-3 sm:px-3 py-1 rounded-full",children:[K,f.jsx("button",{onClick:()=>Ca(K),className:"ml-2 text-red-500 hover:text-red-700","aria-label":`Remove tag ${K}`,children:"×"})]},K+se))}),f.jsx("input",{type:"text",placeholder:"Add a tag",value:h,onChange:Pn,onKeyDown:Ta,className:"w-full px-3 md:px-4 sm:px-4 py-2 border rounded-lg bg-gray-50 focus:ring-2 focus:ring-yellow-300 focus:border-yellow-400 outline-none text-xs md:text-base sm:text-base",maxLength:20}),f.jsxs("div",{className:"text-right text-xs md:text-sm sm:text-sm text-gray-500 mt-1",children:[d.length,"/5 tags • ",h.length,"/20 characters"]})]}),f.jsx("hr",{className:"w-full opacity-10 my-4 md:my-5 sm:my-5"}),f.jsx("div",{ref:L,className:"font-gelasio overflow-x-auto"})]})]})})]})},fM=()=>{var C,T;const t=Nn(),{blogId:e}=Mo(),n=200,{blog:r={},setBlog:o,setEditorState:i}=_.useContext(bm),{userAuth:s}=_.useContext(ye),[a,l]=_.useState([]),[c,d]=_.useState(""),[u,h]=_.useState(!1),[v,g]=_.useState({}),y=!!(r!=null&&r.blog_id||e),w=I=>I?Array.isArray(I)?I.map(P=>({time:(P==null?void 0:P.time)||Date.now(),blocks:Array.isArray(P==null?void 0:P.blocks)?P.blocks:[],version:(P==null?void 0:P.version)||"2.27.2"})):typeof I=="object"&&I!==null?[{time:I.time||Date.now(),blocks:Array.isArray(I.blocks)?I.blocks:[],version:I.version||"2.27.2"}]:[{time:Date.now(),blocks:[],version:"2.27.2"}]:[{time:Date.now(),blocks:[],version:"2.27.2"}];_.useEffect(()=>{r!=null&&r.tags&&l(r.tags)},[r==null?void 0:r.tags]);const b=()=>{var O,L,A;console.log("Validating blog data:",r);const I={};(O=r.title)!=null&&O.trim()?r.title.trim().length>100&&(I.title="Title cannot exceed 100 characters"):I.title="Blog title is required",(L=r.des)!=null&&L.trim()?r.des.length>n&&(I.description=`Description cannot exceed ${n} characters (current: ${r.des.length})`):I.description="Blog description is required",r.banner||(I.banner="Blog banner is required"),(A=r.tags)!=null&&A.length?r.tags.length>5&&(I.tags="Maximum 5 tags allowed"):I.tags="At least one tag is required";const P=S(r.content);return console.log("Content blocks:",P),(!P||!Array.isArray(P)||P.length===0)&&(I.content="Blog content is required"),console.log("Validation errors:",I),g(I),Object.keys(I).length===0},m=async I=>{var L,A,D,B,M,R,z;if(I.preventDefault(),console.log("Publish button clicked"),console.log("Current blog data:",r),console.log("Current userAuth:",s),!b()){console.log("Validation failed"),H.error("Please fix the validation errors before publishing");return}h(!0);const P=s==null?void 0:s.access_token;if(console.log("Access token available:",!!P),!P){H.error("Authentication required"),t("/login"),h(!1);return}const O=H.loading("Publishing...");try{const V={title:r.title.trim(),des:r.des.trim(),banner:((L=r.banner)==null?void 0:L.trim())||"",content:w(r.content),tags:r.tags.map(Y=>Y.trim().toLowerCase()),draft:!1,id:r.blog_id||e||void 0};console.log("Prepared blog data for publishing:",V);let te;y?te=await G.put(`https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/update-blog/${r.blog_id||e}`,V,{headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"},timeout:15e3}):te=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/create-blog",V,{headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"},timeout:15e3}),console.log("Publish response:",te.data),H.dismiss(O),H.success("Published successfully!"),sessionStorage.removeItem("blog_draft"),sessionStorage.setItem("refresh_drafts","1"),sessionStorage.setItem("refresh_published","1"),setTimeout(()=>t("/dashboard/blogs"),1500)}catch(V){console.error("Publish error details:",V),H.dismiss(O);let te="Failed to publish";((A=V.response)==null?void 0:A.status)===401?(te="Authentication required. Please log in again.",setTimeout(()=>t("/login"),2e3)):((D=V.response)==null?void 0:D.status)===403?te="You don't have permission to publish blogs.":((B=V.response)==null?void 0:B.status)===400?te=((M=V.response.data)==null?void 0:M.error)||"Invalid blog data":(z=(R=V.response)==null?void 0:R.data)!=null&&z.error?te=V.response.data.error:V.code==="ECONNABORTED"?te="Request timed out. Please try again.":V.message&&(te=V.message),H.error(te),console.error("Publish error:",V)}finally{h(!1)}},p=()=>{i("editor"),t("/editor")},x=I=>{const P=I.target.value;o({...r,title:P}),v.title&&g(O=>({...O,title:null}))},E=I=>{const P=I.target.value;o({...r,des:P}),v.description&&g(O=>({...O,description:null}))},N=I=>{d(I.target.value)},j=I=>{if(I.key==="Enter"&&c.trim()){if(I.preventDefault(),a.length>=5){H.error("Maximum 5 tags allowed");return}const P=c.trim().toLowerCase();if(a.map(O=>O.trim().toLowerCase()).includes(P))H.error("Duplicate tag");else{const O=[...a,P];l(O),o({...r,tags:O}),d(""),v.tags&&g(L=>({...L,tags:null}))}}},k=I=>{const P=a.filter(O=>O!==I);l(P),o({...r,tags:P})},S=I=>{var P;if(!I)return null;try{return((P=w(I)[0])==null?void 0:P.blocks)||null}catch(O){return console.error("Error parsing content blocks:",O),null}};return r!=null&&r.banner?f.jsx(Me,{children:f.jsxs("section",{className:"w-full min-h-screen bg-gray-50 py-8 px-4 sm:px-6 publish-form",children:[f.jsx(In,{}),f.jsx("button",{className:"fixed top-4 right-4 z-50 bg-red-500 text-white rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center hover:bg-red-600 transition border-2 border-red-600",onClick:p,disabled:u,"aria-label":"Close publish form",children:f.jsx("span",{className:"text-lg sm:text-xl",children:"X"})}),f.jsxs("div",{className:"max-w-5xl mx-auto flex flex-col gap-6 sm:gap-8",children:[f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 preview-section",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-4",children:"Preview"}),f.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden bg-gray-100",children:f.jsx("img",{src:r.banner,alt:"Blog banner",className:"w-full h-full object-cover",onError:I=>I.target.src="/imgs/blog banner.png"})}),f.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-4 text-gray-900 line-clamp-2",children:r.title||"Untitled Blog"}),f.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-2 line-clamp-3",children:r.des||"No description provided"}),f.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:a.map(I=>f.jsx("span",{className:"bg-black text-yellow-300 text-sm sm:text-base font-medium px-3 py-1 rounded-full",children:I},I))}),f.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[f.jsx("button",{onClick:m,className:`w-full py-3 rounded-lg text-white font-semibold text-sm sm:text-base ${u?"bg-gray-400 cursor-not-allowed":"bg-yellow-400 hover:bg-yellow-500"} transition`,disabled:u,children:u?"Publishing...":"🚀 Publish Blog"}),f.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Review your blog details below before publishing"})]})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-4",children:"Blog Details"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm sm:text-base font-medium text-gray-700 mb-1",children:"Blog Title"}),f.jsx("input",{type:"text",placeholder:"Enter blog title",value:r.title||"",onChange:x,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-300 focus:border-yellow-400 outline-none text-sm sm:text-base ${v.title?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,disabled:u,maxLength:100}),v.title&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.title}),f.jsxs("div",{className:"text-right text-xs text-gray-500 mt-1",children:[((C=r.title)==null?void 0:C.length)||0,"/100 characters"]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm sm:text-base font-medium text-gray-700 mb-1 ",children:"Description"}),f.jsx("textarea",{placeholder:"Write a short description",value:r.des||"",onChange:E,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-300 focus:border-yellow-400  outline-none h-24 sm:h-32 resize-none text-sm sm:text-base ${v.description?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,disabled:u,maxLength:n}),v.description&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.description}),f.jsxs("div",{className:"flex justify-between items-center mt-1 text-xs text-gray-500",children:[f.jsxs("span",{children:["Current length: ",((T=r.des)==null?void 0:T.length)||0," characters"]}),f.jsxs("span",{children:["Max: ",n," characters"]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm sm:text-base font-medium text-gray-700 mb-1",children:"Tags (Press Enter to add, max 5)"}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:a.map(I=>f.jsxs("div",{className:"flex items-center bg-gray-100 text-gray-800 text-sm sm:text-base px-3 py-1 rounded-full",children:[I,f.jsx("button",{onClick:()=>k(I),className:"ml-2 text-red-500 hover:text-red-700",disabled:u,"aria-label":`Remove tag ${I}`,children:"×"})]},I))}),f.jsx("input",{type:"text",placeholder:"Add a tag",value:c,onChange:N,onKeyDown:j,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-300 focus:border-yellow-400 outline-none text-sm sm:text-base ${v.tags?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,disabled:u,maxLength:20}),v.tags&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.tags}),f.jsxs("div",{className:"text-right text-xs text-gray-500 mt-1",children:[a.length,"/5 tags • ",c.length,"/20 characters"]})]}),v.content&&f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:f.jsx("p",{className:"text-red-600 text-sm",children:v.content})}),v.banner&&f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:f.jsx("p",{className:"text-red-600 text-sm",children:v.banner})})]})]})]})]})}):f.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[f.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"🖼️"}),f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Banner Required"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"A banner image is required to publish a blog."}),f.jsx("button",{className:"btn-dark px-8",onClick:p,children:"Back to Editor"})]})})},Be=()=>f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsx("div",{className:"w-8 h-8 border-4 border-yellow-300 border-t-transparent rounded-full animate-spin"}),f.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});class hM extends Q.Component{constructor(n){super(n);Td(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()});Td(this,"handleGoBack",()=>{window.history.back()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){this.setState({error:n,errorInfo:r}),console.error("Editor Error:",n,r)}render(){return this.state.hasError?f.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[f.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Editor Error"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Something went wrong with the editor. This might be due to a temporary issue or unsaved changes."}),f.jsxs("div",{className:"flex gap-3 justify-center",children:[f.jsx("button",{onClick:this.handleRetry,className:"btn-dark px-4 py-2",children:"Try Again"}),f.jsx("button",{onClick:this.handleGoBack,className:"btn-light px-4 py-2",children:"Go Back"})]}),!1]})}):this.props.children}}const Mv={title:"",banner:"",content:[{time:Date.now(),blocks:[],version:"2.27.2"}],tags:[],des:"",author:{personal_info:{}}},bm=_.createContext({}),Rv=()=>{let{blog_id:t}=Mo();const e=Nn(),[n,r]=_.useState(Mv),[o,i]=_.useState("editor"),[s,a]=_.useState({isReady:!1}),[l,c]=_.useState(!0),[d,u]=_.useState(null),{userAuth:h={}}=_.useContext(ye),{access_token:v,isAdmin:g}=h;return _.useEffect(()=>{if(console.log("Editor component mounted with blog_id:",t),console.log("Current userAuth:",h),console.log("Current access_token:",v),!t){console.log("No blog_id provided, initializing empty editor"),c(!1),r(Mv);return}if(!v){console.log("No access token available"),u("Authentication required. Please log in to continue."),c(!1);return}if(!g){u("Access denied. Admin privileges required to edit blogs."),c(!1);return}let y=!0;const w=new AbortController;return(async()=>{var m;try{console.log("Fetching blog with ID:",t);const p={Authorization:`Bearer ${v}`,"Content-Type":"application/json"};console.log("Request headers:",p);const x=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-blog",{blog_id:t,draft:!0,mode:"edit"},{headers:p,signal:w.signal,timeout:1e4});if(console.log("Server response:",x.data),y)if(x.data.blog){const E=x.data.blog;console.log("Raw fetched blog data:",E);let N;E.content?Array.isArray(E.content)?E.content.length===0?N=[{time:Date.now(),blocks:[],version:"2.27.2"}]:N=E.content.map(k=>(console.log("Processing content item:",k),{time:k.time||Date.now(),blocks:Array.isArray(k.blocks)?k.blocks:[],version:k.version||"2.27.2"})):N=[{time:Date.now(),blocks:E.content.blocks||[],version:"2.27.2"}]:N=[{time:Date.now(),blocks:[],version:"2.27.2"}];const j={...E,content:N};console.log("Formatted blog data:",j),console.log("Content structure:",j.content),console.log("First content item:",j.content[0]),console.log("Blocks in first content item:",(m=j.content[0])==null?void 0:m.blocks),r(j),u(null)}else console.error("No blog data in response"),u("Blog not found or you don't have permission to edit this blog."),r(null)}catch(p){y&&(console.error("Error fetching blog:",p),p.response?(console.error("Error response:",p.response.data),console.error("Error status:",p.response.status),console.error("Error headers:",p.response.headers),p.response.status===401?u("Authentication expired. Please log in again."):p.response.status===403?u("You don't have permission to edit this blog."):p.response.status===404?u("Blog not found."):u("Failed to load blog. Please try again.")):p.code==="ECONNABORTED"?u("Request timed out. Please check your connection and try again."):u("Failed to load blog. Please try again."),r(null))}finally{y&&c(!1)}})(),()=>{y=!1,w.abort()}},[t,v,g,h]),v?l?(console.log("Loading state active"),f.jsx(Be,{})):d?f.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[f.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Access Error"}),f.jsx("p",{className:"text-gray-600 mb-6",children:d}),f.jsxs("div",{className:"flex gap-3 justify-center",children:[f.jsx("button",{onClick:()=>window.location.reload(),className:"btn-dark px-4 py-2",children:"Try Again"}),f.jsx("button",{onClick:()=>window.history.back(),className:"btn-light px-4 py-2",children:"Go Back"})]})]})}):g?n===null?f.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[f.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"📝"}),f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Blog Not Found"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"The blog you're looking for doesn't exist or you don't have permission to edit it."}),f.jsxs("div",{className:"flex gap-3 justify-center",children:[f.jsx("button",{onClick:()=>e("/editor"),className:"btn-dark px-4 py-2",children:"Create New Blog"}),f.jsx("button",{onClick:()=>window.history.back(),className:"btn-light px-4 py-2",children:"Go Back"})]})]})}):(console.log("Rendering editor with blog data:",n),f.jsx(hM,{children:f.jsx(bm.Provider,{value:{blog:n,setBlog:r,editorState:o,setEditorState:i,textEditor:s,setTextEditor:a},children:f.jsxs("div",{className:"editor-page",children:[o==="editor"&&n&&h&&h.access_token&&f.jsx(uM,{}),o==="publish"&&n&&h&&h.access_token&&f.jsx(fM,{})]})})})):f.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[f.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"🚫"}),f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Access Denied"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"You need admin privileges to access the editor."}),f.jsx("button",{onClick:()=>window.history.back(),className:"btn-dark px-4 py-2",children:"Go Back"})]})}):(console.log("No access token, redirecting to login"),f.jsx(kp,{to:"/login",replace:!0}))};let Rn,Za;const Sc=({routes:t=[],defaultHidden:e=[],defaultActiveIndex:n=0,children:r})=>{Rn=_.useRef(),Za=_.useRef();const[o,i]=_.useState(n),s=(a,l)=>{if(!a)return;const{offsetWidth:c,offsetLeft:d}=a;Rn.current&&(Rn.current.style.width=c+"px",Rn.current.style.left=d+"px"),i(l)};return _.useEffect(()=>{Za.current&&s(Za.current,n)},[]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"relative mb-8 bg-white border-b border-grey flex flex-nowrap overflow-x-auto",children:[t.map((a,l)=>f.jsx("button",{ref:l===n?Za:null,className:`p-4 px-5 capitalize ${o===l?"text-black ":"text-dark-grey "}${e.includes(a)?"md:hidden ":""}`,onClick:c=>s(c.target,l),children:a},l)),f.jsx("hr",{ref:Rn,className:"absolute bottom-0 duration-300"})]}),Array.isArray(r)?r[o]:r]})};let Wk=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];const jo=t=>{let e=new Date(t);return`${e.getDate()} ${Wk[e.getMonth()]}`},Gk=t=>{let e=new Date(t);return`${e.getDate()} ${Wk[e.getMonth()]} ${e.getFullYear()}`};function qk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=qk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function bo(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=qk(t))&&(r&&(r+=" "),r+=e);return r}function pM(t){if(!t||typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}pM(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Sa=t=>typeof t=="number"&&!isNaN(t),Io=t=>typeof t=="string",or=t=>typeof t=="function",mM=t=>Io(t)||Sa(t),ph=t=>Io(t)||or(t)?t:null,gM=(t,e)=>t===!1||Sa(t)&&t>0?t:e,mh=t=>_.isValidElement(t)||Io(t)||or(t)||Sa(t);function vM(t,e,n=300){let{scrollHeight:r,style:o}=t;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,n)})})}function yM({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:o=300}){return function({children:i,position:s,preventExitTransition:a,done:l,nodeRef:c,isIn:d,playToast:u}){let h=n?`${t}--${s}`:t,v=n?`${e}--${s}`:e,g=_.useRef(0);return _.useLayoutEffect(()=>{let y=c.current,w=h.split(" "),b=m=>{m.target===c.current&&(u(),y.removeEventListener("animationend",b),y.removeEventListener("animationcancel",b),g.current===0&&m.type!=="animationcancel"&&y.classList.remove(...w))};y.classList.add(...w),y.addEventListener("animationend",b),y.addEventListener("animationcancel",b)},[]),_.useEffect(()=>{let y=c.current,w=()=>{y.removeEventListener("animationend",w),r?vM(y,l,o):l()};d||(a?w():(g.current=1,y.className+=` ${v}`,y.addEventListener("animationend",w)))},[d]),Q.createElement(Q.Fragment,null,i)}}function Dv(t,e){return{content:Kk(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function Kk(t,e,n=!1){return _.isValidElement(t)&&!Io(t.type)?_.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):or(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function bM({closeToast:t,theme:e,ariaLabel:n="close"}){return Q.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},Q.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Q.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function xM({delay:t,isRunning:e,closeToast:n,type:r="default",hide:o,className:i,controlledProgress:s,progress:a,rtl:l,isIn:c,theme:d}){let u=o||s&&a===0,h={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};s&&(h.transform=`scaleX(${a})`);let v=bo("Toastify__progress-bar",s?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),g=or(i)?i({rtl:l,type:r,defaultClassName:v}):bo(v,i),y={[s&&a>=1?"onTransitionEnd":"onAnimationEnd"]:s&&a<1?null:()=>{c&&n()}};return Q.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":u},Q.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${r}`}),Q.createElement("div",{role:"progressbar","aria-hidden":u?"true":"false","aria-label":"notification timer",className:g,style:h,...y}))}var wM=1,Yk=()=>`${wM++}`;function kM(t,e,n){let r=1,o=0,i=[],s=[],a=e,l=new Map,c=new Set,d=m=>(c.add(m),()=>c.delete(m)),u=()=>{s=Array.from(l.values()),c.forEach(m=>m())},h=({containerId:m,toastId:p,updateId:x})=>{let E=m?m!==t:t!==1,N=l.has(p)&&x==null;return E||N},v=(m,p)=>{l.forEach(x=>{var E;(p==null||p===x.props.toastId)&&((E=x.toggle)==null||E.call(x,m))})},g=m=>{var p,x;(x=(p=m.props)==null?void 0:p.onClose)==null||x.call(p,m.removalReason),m.isActive=!1},y=m=>{if(m==null)l.forEach(g);else{let p=l.get(m);p&&g(p)}u()},w=()=>{o-=i.length,i=[]},b=m=>{var p,x;let{toastId:E,updateId:N}=m.props,j=N==null;m.staleId&&l.delete(m.staleId),m.isActive=!0,l.set(E,m),u(),n(Dv(m,j?"added":"updated")),j&&((x=(p=m.props).onOpen)==null||x.call(p))};return{id:t,props:a,observe:d,toggle:v,removeToast:y,toasts:l,clearQueue:w,buildToast:(m,p)=>{if(h(p))return;let{toastId:x,updateId:E,data:N,staleId:j,delay:k}=p,S=E==null;S&&o++;let C={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(p).filter(([I,P])=>P!=null)),toastId:x,updateId:E,data:N,isIn:!1,className:ph(p.className||a.toastClassName),progressClassName:ph(p.progressClassName||a.progressClassName),autoClose:p.isLoading?!1:gM(p.autoClose,a.autoClose),closeToast(I){l.get(x).removalReason=I,y(x)},deleteToast(){let I=l.get(x);if(I!=null){if(n(Dv(I,"removed")),l.delete(x),o--,o<0&&(o=0),i.length>0){b(i.shift());return}u()}}};C.closeButton=a.closeButton,p.closeButton===!1||mh(p.closeButton)?C.closeButton=p.closeButton:p.closeButton===!0&&(C.closeButton=mh(a.closeButton)?a.closeButton:!0);let T={content:m,props:C,staleId:j};a.limit&&a.limit>0&&o>a.limit&&S?i.push(T):Sa(k)?setTimeout(()=>{b(T)},k):b(T)},setProps(m){a=m},setToggle:(m,p)=>{let x=l.get(m);x&&(x.toggle=p)},isToastActive:m=>{var p;return(p=l.get(m))==null?void 0:p.isActive},getSnapshot:()=>s}}var bt=new Map,ta=[],gh=new Set,SM=t=>gh.forEach(e=>e(t)),Xk=()=>bt.size>0;function EM(){ta.forEach(t=>Qk(t.content,t.options)),ta=[]}var TM=(t,{containerId:e})=>{var n;return(n=bt.get(e||1))==null?void 0:n.toasts.get(t)};function Jk(t,e){var n;if(e)return!!((n=bt.get(e))!=null&&n.isToastActive(t));let r=!1;return bt.forEach(o=>{o.isToastActive(t)&&(r=!0)}),r}function CM(t){if(!Xk()){ta=ta.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||mM(t))bt.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=bt.get(t.containerId);e?e.removeToast(t.id):bt.forEach(n=>{n.removeToast(t.id)})}}var _M=(t={})=>{bt.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function Qk(t,e){mh(t)&&(Xk()||ta.push({content:t,options:e}),bt.forEach(n=>{n.buildToast(t,e)}))}function NM(t){var e;(e=bt.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function Zk(t,e){bt.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function jM(t){let e=t.containerId||1;return{subscribe(n){let r=kM(e,t,SM);bt.set(e,r);let o=r.observe(n);return EM(),()=>{o(),bt.delete(e)}},setProps(n){var r;(r=bt.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=bt.get(e))==null?void 0:n.getSnapshot()}}}function IM(t){return gh.add(t),()=>{gh.delete(t)}}function PM(t){return t&&(Io(t.toastId)||Sa(t.toastId))?t.toastId:Yk()}function Ea(t,e){return Qk(t,e),e.toastId}function yd(t,e){return{...e,type:e&&e.type||t,toastId:PM(e)}}function bd(t){return(e,n)=>Ea(e,yd(t,n))}function he(t,e){return Ea(t,yd("default",e))}he.loading=(t,e)=>Ea(t,yd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function LM(t,{pending:e,error:n,success:r},o){let i;e&&(i=Io(e)?he.loading(e,o):he.loading(e.render,{...o,...e}));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,d,u)=>{if(d==null){he.dismiss(i);return}let h={type:c,...s,...o,data:u},v=Io(d)?{render:d}:d;return i?he.update(i,{...h,...v}):he(v.render,{...h,...v}),u},l=or(t)?t():t;return l.then(c=>a("success",r,c)).catch(c=>a("error",n,c)),l}he.promise=LM;he.success=bd("success");he.info=bd("info");he.error=bd("error");he.warning=bd("warning");he.warn=he.warning;he.dark=(t,e)=>Ea(t,yd("default",{theme:"dark",...e}));function AM(t){CM(t)}he.dismiss=AM;he.clearWaitingQueue=_M;he.isActive=Jk;he.update=(t,e={})=>{let n=TM(t,e);if(n){let{props:r,content:o}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:Yk()};i.toastId!==t&&(i.staleId=t);let s=i.render||o;delete i.render,Ea(s,i)}};he.done=t=>{he.update(t,{progress:1})};he.onChange=IM;he.play=t=>Zk(!0,t);he.pause=t=>Zk(!1,t);function BM(t){var e;let{subscribe:n,getSnapshot:r,setProps:o}=_.useRef(jM(t)).current;o(t);let i=(e=_.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function s(a){if(!i)return[];let l=new Map;return t.newestOnTop&&i.reverse(),i.forEach(c=>{let{position:d}=c.props;l.has(d)||l.set(d,[]),l.get(d).push(c)}),Array.from(l,c=>a(c[0],c[1]))}return{getToastToRender:s,isToastActive:Jk,count:i==null?void 0:i.length}}function OM(t){let[e,n]=_.useState(!1),[r,o]=_.useState(!1),i=_.useRef(null),s=_.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:u}=t;NM({id:t.toastId,containerId:t.containerId,fn:n}),_.useEffect(()=>{if(t.pauseOnFocusLoss)return h(),()=>{v()}},[t.pauseOnFocusLoss]);function h(){document.hasFocus()||b(),window.addEventListener("focus",w),window.addEventListener("blur",b)}function v(){window.removeEventListener("focus",w),window.removeEventListener("blur",b)}function g(j){if(t.draggable===!0||t.draggable===j.pointerType){m();let k=i.current;s.canCloseOnClick=!0,s.canDrag=!0,k.style.transition="none",t.draggableDirection==="x"?(s.start=j.clientX,s.removalDistance=k.offsetWidth*(t.draggablePercent/100)):(s.start=j.clientY,s.removalDistance=k.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function y(j){let{top:k,bottom:S,left:C,right:T}=i.current.getBoundingClientRect();j.nativeEvent.type!=="touchend"&&t.pauseOnHover&&j.clientX>=C&&j.clientX<=T&&j.clientY>=k&&j.clientY<=S?b():w()}function w(){n(!0)}function b(){n(!1)}function m(){s.didMove=!1,document.addEventListener("pointermove",x),document.addEventListener("pointerup",E)}function p(){document.removeEventListener("pointermove",x),document.removeEventListener("pointerup",E)}function x(j){let k=i.current;if(s.canDrag&&k){s.didMove=!0,e&&b(),t.draggableDirection==="x"?s.delta=j.clientX-s.start:s.delta=j.clientY-s.start,s.start!==j.clientX&&(s.canCloseOnClick=!1);let S=t.draggableDirection==="x"?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`;k.style.transform=`translate3d(${S},0)`,k.style.opacity=`${1-Math.abs(s.delta/s.removalDistance)}`}}function E(){p();let j=i.current;if(s.canDrag&&s.didMove&&j){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance){o(!0),t.closeToast(!0),t.collapseAll();return}j.style.transition="transform 0.2s, opacity 0.2s",j.style.removeProperty("transform"),j.style.removeProperty("opacity")}}let N={onPointerDown:g,onPointerUp:y};return a&&l&&(N.onMouseEnter=b,t.stacked||(N.onMouseLeave=w)),u&&(N.onClick=j=>{d&&d(j),s.canCloseOnClick&&c(!0)}),{playToast:w,pauseToast:b,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:N}}var MM=typeof window<"u"?_.useLayoutEffect:_.useEffect,xd=({theme:t,type:e,isLoading:n,...r})=>Q.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function RM(t){return Q.createElement(xd,{...t},Q.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function DM(t){return Q.createElement(xd,{...t},Q.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function FM(t){return Q.createElement(xd,{...t},Q.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function UM(t){return Q.createElement(xd,{...t},Q.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function zM(){return Q.createElement("div",{className:"Toastify__spinner"})}var vh={info:DM,warning:RM,success:FM,error:UM,spinner:zM},$M=t=>t in vh;function VM({theme:t,type:e,isLoading:n,icon:r}){let o=null,i={theme:t,type:e};return r===!1||(or(r)?o=r({...i,isLoading:n}):_.isValidElement(r)?o=_.cloneElement(r,i):n?o=vh.spinner():$M(e)&&(o=vh[e](i))),o}var HM=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:o,playToast:i}=OM(t),{closeButton:s,children:a,autoClose:l,onClick:c,type:d,hideProgressBar:u,closeToast:h,transition:v,position:g,className:y,style:w,progressClassName:b,updateId:m,role:p,progress:x,rtl:E,toastId:N,deleteToast:j,isIn:k,isLoading:S,closeOnClick:C,theme:T,ariaLabel:I}=t,P=bo("Toastify__toast",`Toastify__toast-theme--${T}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":C}),O=or(y)?y({rtl:E,position:g,type:d,defaultClassName:P}):bo(P,y),L=VM(t),A=!!x||!l,D={closeToast:h,type:d,theme:T},B=null;return s===!1||(or(s)?B=s(D):_.isValidElement(s)?B=_.cloneElement(s,D):B=bM(D)),Q.createElement(v,{isIn:k,done:j,position:g,preventExitTransition:n,nodeRef:r,playToast:i},Q.createElement("div",{id:N,tabIndex:0,onClick:c,"data-in":k,className:O,...o,style:w,ref:r,...k&&{role:p,"aria-label":I}},L!=null&&Q.createElement("div",{className:bo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!S})},L),Kk(a,t,!e),B,!t.customProgressBar&&Q.createElement(xM,{...m&&!A?{key:`p-${m}`}:{},rtl:E,theme:T,delay:l,isRunning:e,isIn:k,closeToast:h,hide:u,type:d,className:b,controlledProgress:A,progress:x||0})))},WM=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),GM=yM(WM("bounce",!0)),qM={position:"top-right",transition:GM,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function KM(t){let e={...qM,...t},n=t.stacked,[r,o]=_.useState(!0),i=_.useRef(null),{getToastToRender:s,isToastActive:a,count:l}=BM(e),{className:c,style:d,rtl:u,containerId:h,hotKeys:v}=e;function g(w){let b=bo("Toastify__toast-container",`Toastify__toast-container--${w}`,{"Toastify__toast-container--rtl":u});return or(c)?c({position:w,rtl:u,defaultClassName:b}):bo(b,ph(c))}function y(){n&&(o(!0),he.play())}return MM(()=>{var w;if(n){let b=i.current.querySelectorAll('[data-in="true"]'),m=12,p=(w=e.position)==null?void 0:w.includes("top"),x=0,E=0;Array.from(b).reverse().forEach((N,j)=>{let k=N;k.classList.add("Toastify__toast--stacked"),j>0&&(k.dataset.collapsed=`${r}`),k.dataset.pos||(k.dataset.pos=p?"top":"bot");let S=x*(r?.2:1)+(r?0:m*j);k.style.setProperty("--y",`${p?S:S*-1}px`),k.style.setProperty("--g",`${m}`),k.style.setProperty("--s",`${1-(r?E:0)}`),x+=k.offsetHeight,E+=.025})}},[r,l,n]),_.useEffect(()=>{function w(b){var m;let p=i.current;v(b)&&((m=p.querySelector('[tabIndex="0"]'))==null||m.focus(),o(!1),he.pause()),b.key==="Escape"&&(document.activeElement===p||p!=null&&p.contains(document.activeElement))&&(o(!0),he.play())}return document.addEventListener("keydown",w),()=>{document.removeEventListener("keydown",w)}},[v]),Q.createElement("section",{ref:i,className:"Toastify",id:h,onMouseEnter:()=>{n&&(o(!1),he.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},s((w,b)=>{let m=b.length?{...d}:{...d,pointerEvents:"none"};return Q.createElement("div",{tabIndex:-1,className:g(w),"data-stacked":n,style:m,key:`c-${w}`},b.map(({content:p,props:x})=>Q.createElement(HM,{...x,stacked:n,collapseAll:y,isIn:a(x.toastId,x.containerId),key:`t-${x.key}`},p)))}))}const ai=({content:t,author:e,liked:n,onLikeToggle:r})=>{var T,I,P;let{publishedAt:o,tags:i,title:s,des:a,banner:l,activity:{total_likes:c},blog_id:d}=t,{fullname:u,profile_img:h,username:v}=e;const[g,y]=_.useState(!1),[w,b]=_.useState(!1),{userAuth:m,setUserAuth:p}=_.useContext(ye),[x,E]=_.useState(c),[N,j]=_.useState(n),k=(T=m==null?void 0:m.bookmarked_blogs)==null?void 0:T.includes(d);_.useEffect(()=>{j(n)},[n]),_.useEffect(()=>{E(c)},[c]);const S=async O=>{if(O.preventDefault(),!(g||!(m!=null&&m.access_token))){y(!0),j(L=>!L),E(L=>L+(N?-1:1));try{const{data:L}=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/like-blog",{blog_id:d},{headers:{Authorization:`Bearer ${m.access_token}`}});r&&r(L.liked,d)}catch{j(A=>!A),E(A=>A+(N?1:-1))}finally{y(!1)}}},C=async O=>{if(O.preventDefault(),!(!(m!=null&&m.access_token)||w)){b(!0);try{const L=d,A=k?"/unbookmark-blog":"/bookmark-blog";await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api"+A,{blog_id:L},{headers:{Authorization:`Bearer ${m.access_token}`}});const{data:D}=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-profile",{username:m.username});Xt({...D,access_token:m.access_token},p)}catch(L){he.error("Failed to update bookmark. Please try again."),console.error("Bookmark error:",L)}finally{setTimeout(()=>{b(!1)},300)}}};return f.jsx(ee,{to:`/blog/${d}`,className:"block border-b border-grey pb-5 mb-4",children:f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-8 items-stretch",children:[f.jsx("div",{className:"w-full h-40 sm:w-36 sm:h-28 flex-shrink-0 bg-grey rounded-md overflow-hidden",children:f.jsx("img",{src:l,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[f.jsx("img",{src:h||"/src/imgs/user profile.png",className:"w-6 h-6 rounded-full",alt:u}),f.jsxs("p",{className:"line-clamp-1",children:[u," @",v]}),f.jsx("p",{className:"min-w-fit",children:jo(o)})]}),f.jsx("h1",{className:"blog-title",children:s}),f.jsx("p",{className:"my-3 text-base sm:text-xl font-gelasio leading-7 line-clamp-2",children:a})]}),f.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 items-center",children:[f.jsx("span",{className:"btn-light py-1 px-4",children:i[0]}),f.jsxs("button",{onClick:S,disabled:g,className:`flex items-center gap-2 text-dark-grey ${N?"text-red-500":""} hover:text-red-500 transition-colors`,children:[f.jsx("i",{className:`fi ${N?"fi-sr-heart":"fi-rr-heart"} text-xl`}),x]}),f.jsx("button",{onClick:C,disabled:w,className:`flex items-center gap-2 text-dark-grey ${k?"text-yellow-500":""} hover:text-yellow-500 transition-colors`,"aria-label":k?"Unbookmark":"Bookmark",children:f.jsx("i",{className:`fi ${k?"fi-sr-bookmark":"fi-rr-bookmark"} text-xl`})}),f.jsxs("span",{className:"flex items-center gap-1 text-gray-500 text-sm",children:[f.jsx("i",{className:"fi fi-rr-eye"})," ",((I=t.activity)==null?void 0:I.total_reads)||0," Views"]}),f.jsxs("span",{className:"flex items-center gap-1 text-gray-500 text-sm",children:[f.jsx("i",{className:"fi fi-rr-comment-dots"})," ",((P=t.activity)==null?void 0:P.total_comments)||0," Comments"]})]})]})]})})},Nt=({message:t})=>f.jsx("div",{className:"text-center w-full p-4 rounded-full bg-grey/50 mt-4",children:f.jsx("p",{children:t})}),Wn=({state:t,fetchDataFun:e,additionalParam:n})=>{const{theme:r}=_.useContext(km);let o=r==="dark"?"bg-purple-600 text-white p-2 px-4 rounded-md flex items-center gap-2 font-semibold shadow hover:bg-purple-700 transition-colors duration-150":"bg-white border border-purple-600 text-purple-700 p-2 px-4 rounded-md flex items-center gap-2 font-semibold shadow hover:bg-purple-100 transition-colors duration-150";return t&&typeof t.totalDocs=="number"&&Array.isArray(t.results)&&t.totalDocs>t.results.length?f.jsx("button",{onClick:()=>e({...n||{},page:(t.page||1)+1}),className:o,children:"Load More"}):null},Po=async({create_new_arr:t=!1,state:e,data:n,page:r,countRoute:o,data_to_send:i={},user:s=null})=>{var a;try{if(console.log("filterPaginationData called with:",{create_new_arr:t,stateExists:!!e,dataLength:n==null?void 0:n.length,page:r,countRoute:o,data_to_send:i}),e!==null&&!t)return console.log("Appending to existing state"),{...e,results:[...e.results,...n],page:r,totalDocs:e.totalDocs};{console.log("Creating new state, fetching count from:",o);const l={};s&&(l.Authorization=`Bearer ${s}`);const{data:c}=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api"+o,i,{headers:l,timeout:1e4});return console.log("Count response:",c),{results:n||[],page:1,totalDocs:c.totalDocs||0}}}catch(l){return console.error("Error in filterPaginationData:",l),console.error("Error details:",{name:l.name,message:l.message,response:(a=l.response)==null?void 0:a.data}),{results:n||[],page:r||1,totalDocs:0}}};var eS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Fv=Q.createContext&&Q.createContext(eS),YM=["attr","size","title"];function XM(t,e){if(t==null)return{};var n=JM(t,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JM(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ec(){return Ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ec.apply(this,arguments)}function Uv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Tc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uv(Object(n),!0).forEach(function(r){QM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QM(t,e,n){return e=ZM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZM(t){var e=e5(t,"string");return typeof e=="symbol"?e:e+""}function e5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tS(t){return t&&t.map((e,n)=>Q.createElement(e.tag,Tc({key:n},e.attr),tS(e.child)))}function wd(t){return e=>Q.createElement(t5,Ec({attr:Tc({},t.attr)},e),tS(t.child))}function t5(t){var e=n=>{var{attr:r,size:o,title:i}=t,s=XM(t,YM),a=o||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Q.createElement("svg",Ec({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:Tc(Tc({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Q.createElement("title",null,i),t.children)};return Fv!==void 0?Q.createElement(Fv.Consumer,null,n=>e(n)):e(eS)}function n5(t){return wd({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}const r5="https://images.unsplash.com/photo-1465101178521-c1a9136a3b99?auto=format&fit=crop&w=400&q=80",o5=({categoryName:t,onCategorySelect:e})=>{const[n,r]=_.useState(r5);return _.useEffect(()=>{let o=!0;return G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/search-blogs",{tag:t,limit:1,select:["banner"]}).then(({data:i})=>{o&&i.blogs&&i.blogs.length&&i.blogs[0].banner&&r(i.blogs[0].banner)}).catch(i=>{console.log(i)}),()=>{o=!1}},[t]),f.jsx("div",{className:"category-card min-w-[110px] h-[48px] rounded-xl overflow-hidden relative flex-shrink-0 cursor-pointer snap-center",style:{backgroundImage:`url(${n})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>e&&e(t),children:f.jsx("div",{className:"absolute inset-0 bg-lime-950 bg-opacity-70 flex items-center justify-center",children:f.jsxs("span",{className:"text-white font-medium text-sm capitalize",children:["#",t]})})})};function i5({categories:t=[],blogs:e=[],onCategorySelect:n}){const r=_.useRef(null),o=()=>{r.current.scrollBy({left:200,behavior:"smooth"})};return f.jsx("div",{className:"w-full px-[5vw] mt-6 relative",children:f.jsxs("div",{className:"bg-grey w-full max-w-[1400px] mx-auto relative",children:[f.jsx("div",{ref:r,className:"flex space-x-4 overflow-x-auto scrollbar-hide mx-auto snap-x snap-mandatory",style:{scrollBehavior:"smooth",paddingRight:"60px"},children:t.map(i=>{const s=typeof i=="string"?i:i.name,a=e.filter(l=>l.tags&&l.tags.map(c=>c.toLowerCase()).includes(s.toLowerCase())&&l.banner);return f.jsx(o5,{categoryName:s,initialBlogs:a,onCategorySelect:n},s)})}),f.jsx("button",{onClick:o,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white rounded-full shadow p-2 border border-grey z-10",style:{boxShadow:"0 2px 8px rgba(0,0,0,0.07)"},children:f.jsx(n5,{})})]})})}const zv=({blog:t,className:e})=>{if(!t)return null;const{title:n,des:r,banner:o,blog_id:i}=t;return f.jsxs(ee,{to:`/blog/${i}`,className:`relative w-full h-full rounded-lg overflow-hidden group block ${e}`,children:[f.jsx("img",{src:o,alt:n,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),f.jsxs("div",{className:"absolute bottom-0 left-0 w-full p-4 bg-white/80 backdrop-blur-sm",children:[f.jsx("h3",{className:"text-xs font-normal text-black",style:{fontSize:"10px"},children:n}),f.jsx("p",{className:"text-gray-800 mt-1 line-clamp-2 text-sm",children:r})]})]})};function $v(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function xm(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:$v(e[r])&&$v(t[r])&&Object.keys(e[r]).length>0&&xm(t[r],e[r])})}const nS={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Tn(){const t=typeof document<"u"?document:{};return xm(t,nS),t}const s5={document:nS,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function St(){const t=typeof window<"u"?window:{};return xm(t,s5),t}function a5(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function l5(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function rS(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Cc(){return Date.now()}function c5(t){const e=St();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function d5(t,e){e===void 0&&(e="x");const n=St();let r,o,i;const s=c5(t);return n.WebKitCSSMatrix?(o=s.transform||s.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(a=>a.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(o==="none"?"":o)):(i=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?o=i.m41:r.length===16?o=parseFloat(r[12]):o=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?o=i.m42:r.length===16?o=parseFloat(r[13]):o=parseFloat(r[5])),o||0}function el(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function u5(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Ot(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!u5(r)){const o=Object.keys(Object(r)).filter(i=>e.indexOf(i)<0);for(let i=0,s=o.length;i<s;i+=1){const a=o[i],l=Object.getOwnPropertyDescriptor(r,a);l!==void 0&&l.enumerable&&(el(t[a])&&el(r[a])?r[a].__swiper__?t[a]=r[a]:Ot(t[a],r[a]):!el(t[a])&&el(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:Ot(t[a],r[a])):t[a]=r[a])}}}return t}function tl(t,e,n){t.style.setProperty(e,n)}function oS(t){let{swiper:e,targetPosition:n,side:r}=t;const o=St(),i=-e.translate;let s=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",o.cancelAnimationFrame(e.cssModeFrameID);const c=n>i?"next":"prev",d=(h,v)=>c==="next"&&h>=v||c==="prev"&&h<=v,u=()=>{a=new Date().getTime(),s===null&&(s=a);const h=Math.max(Math.min((a-s)/l,1),0),v=.5-Math.cos(h*Math.PI)/2;let g=i+v*(n-i);if(d(g,n)&&(g=n),e.wrapperEl.scrollTo({[r]:g}),d(g,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:g})}),o.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=o.requestAnimationFrame(u)};u()}function bn(t,e){e===void 0&&(e="");const n=St(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(o=>o.matches(e)):r}function f5(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function h5(t,e){const n=St();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=f5(t,e))),r}function _c(t){try{console.warn(t);return}catch{}}function Nc(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:a5(e)),n}function p5(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function m5(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function _r(t,e){return St().getComputedStyle(t,null).getPropertyValue(e)}function jc(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function iS(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function yh(t,e,n){const r=St();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function et(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function Ic(t,e){e===void 0&&(e=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let Cu;function g5(){const t=St(),e=Tn();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function sS(){return Cu||(Cu=g5()),Cu}let _u;function v5(t){let{userAgent:e}=t===void 0?{}:t;const n=sS(),r=St(),o=r.navigator.platform,i=e||r.navigator.userAgent,s={ios:!1,android:!1},a=r.screen.width,l=r.screen.height,c=i.match(/(Android);?[\s\/]+([\d.]+)?/);let d=i.match(/(iPad).*OS\s([\d_]+)/);const u=i.match(/(iPod)(.*OS\s([\d_]+))?/),h=!d&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),v=o==="Win32";let g=o==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&g&&n.touch&&y.indexOf(`${a}x${l}`)>=0&&(d=i.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),g=!1),c&&!v&&(s.os="android",s.android=!0),(d||h||u)&&(s.os="ios",s.ios=!0),s}function aS(t){return t===void 0&&(t={}),_u||(_u=v5(t)),_u}let Nu;function y5(){const t=St(),e=aS();let n=!1;function r(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=l<16||l===16&&c<2}}const o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=r(),s=i||o&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:s,isWebView:o}}function lS(){return Nu||(Nu=y5()),Nu}function b5(t){let{swiper:e,on:n,emit:r}=t;const o=St();let i=null,s=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(i=new ResizeObserver(u=>{s=o.requestAnimationFrame(()=>{const{width:h,height:v}=e;let g=h,y=v;u.forEach(w=>{let{contentBoxSize:b,contentRect:m,target:p}=w;p&&p!==e.el||(g=m?m.width:(b[0]||b).inlineSize,y=m?m.height:(b[0]||b).blockSize)}),(g!==h||y!==v)&&a()})}),i.observe(e.el))},c=()=>{s&&o.cancelAnimationFrame(s),i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null)},d=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof o.ResizeObserver<"u"){l();return}o.addEventListener("resize",a),o.addEventListener("orientationchange",d)}),n("destroy",()=>{c(),o.removeEventListener("resize",a),o.removeEventListener("orientationchange",d)})}function x5(t){let{swiper:e,extendParams:n,on:r,emit:o}=t;const i=[],s=St(),a=function(d,u){u===void 0&&(u={});const h=s.MutationObserver||s.WebkitMutationObserver,v=new h(g=>{if(e.__preventObserver__)return;if(g.length===1){o("observerUpdate",g[0]);return}const y=function(){o("observerUpdate",g[0])};s.requestAnimationFrame?s.requestAnimationFrame(y):s.setTimeout(y,0)});v.observe(d,{attributes:typeof u.attributes>"u"?!0:u.attributes,childList:e.isElement||(typeof u.childList>"u"?!0:u).childList,characterData:typeof u.characterData>"u"?!0:u.characterData}),i.push(v)},l=()=>{if(e.params.observer){if(e.params.observeParents){const d=iS(e.hostEl);for(let u=0;u<d.length;u+=1)a(d[u])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{i.forEach(d=>{d.disconnect()}),i.splice(0,i.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",c)}var w5={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const o=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][o](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function o(){r.off(t,o),o.__emitterProxy&&delete o.__emitterProxy;for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];e.apply(r,s)}return o.__emitterProxy=e,r.on(t,o,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((o,i)=>{(o===e||o.__emitterProxy&&o.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return typeof i[0]=="string"||Array.isArray(i[0])?(e=i[0],n=i.slice(1,i.length),r=t):(e=i[0].events,n=i[0].data,r=i[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(r,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(r,n)})}),t}};function k5(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(_r(r,"padding-left")||0,10)-parseInt(_r(r,"padding-right")||0,10),n=n-parseInt(_r(r,"padding-top")||0,10)-parseInt(_r(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function S5(){const t=this;function e(C,T){return parseFloat(C.getPropertyValue(t.getDirectionLabel(T))||0)}const n=t.params,{wrapperEl:r,slidesEl:o,size:i,rtlTranslate:s,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,d=bn(o,`.${t.params.slideClass}, swiper-slide`),u=l?t.virtual.slides.length:d.length;let h=[];const v=[],g=[];let y=n.slidesOffsetBefore;typeof y=="function"&&(y=n.slidesOffsetBefore.call(t));let w=n.slidesOffsetAfter;typeof w=="function"&&(w=n.slidesOffsetAfter.call(t));const b=t.snapGrid.length,m=t.slidesGrid.length;let p=n.spaceBetween,x=-y,E=0,N=0;if(typeof i>"u")return;typeof p=="string"&&p.indexOf("%")>=0?p=parseFloat(p.replace("%",""))/100*i:typeof p=="string"&&(p=parseFloat(p)),t.virtualSize=-p,d.forEach(C=>{s?C.style.marginLeft="":C.style.marginRight="",C.style.marginBottom="",C.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(tl(r,"--swiper-centered-offset-before",""),tl(r,"--swiper-centered-offset-after",""));const j=n.grid&&n.grid.rows>1&&t.grid;j?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let k;const S=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(C=>typeof n.breakpoints[C].slidesPerView<"u").length>0;for(let C=0;C<u;C+=1){k=0;let T;if(d[C]&&(T=d[C]),j&&t.grid.updateSlide(C,T,d),!(d[C]&&_r(T,"display")==="none")){if(n.slidesPerView==="auto"){S&&(d[C].style[t.getDirectionLabel("width")]="");const I=getComputedStyle(T),P=T.style.transform,O=T.style.webkitTransform;if(P&&(T.style.transform="none"),O&&(T.style.webkitTransform="none"),n.roundLengths)k=t.isHorizontal()?yh(T,"width",!0):yh(T,"height",!0);else{const L=e(I,"width"),A=e(I,"padding-left"),D=e(I,"padding-right"),B=e(I,"margin-left"),M=e(I,"margin-right"),R=I.getPropertyValue("box-sizing");if(R&&R==="border-box")k=L+B+M;else{const{clientWidth:z,offsetWidth:V}=T;k=L+A+D+B+M+(V-z)}}P&&(T.style.transform=P),O&&(T.style.webkitTransform=O),n.roundLengths&&(k=Math.floor(k))}else k=(i-(n.slidesPerView-1)*p)/n.slidesPerView,n.roundLengths&&(k=Math.floor(k)),d[C]&&(d[C].style[t.getDirectionLabel("width")]=`${k}px`);d[C]&&(d[C].swiperSlideSize=k),g.push(k),n.centeredSlides?(x=x+k/2+E/2+p,E===0&&C!==0&&(x=x-i/2-p),C===0&&(x=x-i/2-p),Math.abs(x)<1/1e3&&(x=0),n.roundLengths&&(x=Math.floor(x)),N%n.slidesPerGroup===0&&h.push(x),v.push(x)):(n.roundLengths&&(x=Math.floor(x)),(N-Math.min(t.params.slidesPerGroupSkip,N))%t.params.slidesPerGroup===0&&h.push(x),v.push(x),x=x+k+p),t.virtualSize+=k+p,E=k,N+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+w,s&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+p}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+p}px`),j&&t.grid.updateWrapperSize(k,h),!n.centeredSlides){const C=[];for(let T=0;T<h.length;T+=1){let I=h[T];n.roundLengths&&(I=Math.floor(I)),h[T]<=t.virtualSize-i&&C.push(I)}h=C,Math.floor(t.virtualSize-i)-Math.floor(h[h.length-1])>1&&h.push(t.virtualSize-i)}if(l&&n.loop){const C=g[0]+p;if(n.slidesPerGroup>1){const T=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),I=C*n.slidesPerGroup;for(let P=0;P<T;P+=1)h.push(h[h.length-1]+I)}for(let T=0;T<t.virtual.slidesBefore+t.virtual.slidesAfter;T+=1)n.slidesPerGroup===1&&h.push(h[h.length-1]+C),v.push(v[v.length-1]+C),t.virtualSize+=C}if(h.length===0&&(h=[0]),p!==0){const C=t.isHorizontal()&&s?"marginLeft":t.getDirectionLabel("marginRight");d.filter((T,I)=>!n.cssMode||n.loop?!0:I!==d.length-1).forEach(T=>{T.style[C]=`${p}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let C=0;g.forEach(I=>{C+=I+(p||0)}),C-=p;const T=C>i?C-i:0;h=h.map(I=>I<=0?-y:I>T?T+w:I)}if(n.centerInsufficientSlides){let C=0;g.forEach(I=>{C+=I+(p||0)}),C-=p;const T=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(C+T<i){const I=(i-C-T)/2;h.forEach((P,O)=>{h[O]=P-I}),v.forEach((P,O)=>{v[O]=P+I})}}if(Object.assign(t,{slides:d,snapGrid:h,slidesGrid:v,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){tl(r,"--swiper-centered-offset-before",`${-h[0]}px`),tl(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const C=-t.snapGrid[0],T=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(I=>I+C),t.slidesGrid=t.slidesGrid.map(I=>I+T)}if(u!==c&&t.emit("slidesLengthChange"),h.length!==b&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),v.length!==m&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const C=`${n.containerModifierClass}backface-hidden`,T=t.el.classList.contains(C);u<=n.maxBackfaceHiddenSlides?T||t.el.classList.add(C):T&&t.el.classList.remove(C)}}function E5(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let o=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const s=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const a=e.activeIndex+i;if(a>e.slides.length&&!r)break;n.push(s(a))}else n.push(s(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const a=n[i].offsetHeight;o=a>o?a:o}(o||o===0)&&(e.wrapperEl.style.height=`${o}px`)}function T5(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const Vv=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function C5(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:o,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let s=-t;o&&(s=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<r.length;l+=1){const c=r[l];let d=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const u=(s+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),h=(s-i[0]+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),v=-(s-d),g=v+e.slidesSizesGrid[l],y=v>=0&&v<=e.size-e.slidesSizesGrid[l],w=v>=0&&v<e.size-1||g>1&&g<=e.size||v<=0&&g>=e.size;w&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),Vv(c,w,n.slideVisibleClass),Vv(c,y,n.slideFullyVisibleClass),c.progress=o?-u:u,c.originalProgress=o?-h:h}}function _5(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:o,isBeginning:i,isEnd:s,progressLoop:a}=e;const l=i,c=s;if(r===0)o=0,i=!0,s=!0;else{o=(t-e.minTranslate())/r;const d=Math.abs(t-e.minTranslate())<1,u=Math.abs(t-e.maxTranslate())<1;i=d||o<=0,s=u||o>=1,d&&(o=0),u&&(o=1)}if(n.loop){const d=e.getSlideIndexByData(0),u=e.getSlideIndexByData(e.slides.length-1),h=e.slidesGrid[d],v=e.slidesGrid[u],g=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(t);y>=h?a=(y-h)/g:a=(y+g-v)/g,a>1&&(a-=1)}Object.assign(e,{progress:o,progressLoop:a,isBeginning:i,isEnd:s}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!l&&e.emit("reachBeginning toEdge"),s&&!c&&e.emit("reachEnd toEdge"),(l&&!i||c&&!s)&&e.emit("fromEdge"),e.emit("progress",o)}const ju=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function N5(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:o}=t,i=t.virtual&&n.virtual.enabled,s=t.grid&&n.grid&&n.grid.rows>1,a=u=>bn(r,`.${n.slideClass}${u}, swiper-slide${u}`)[0];let l,c,d;if(i)if(n.loop){let u=o-t.virtual.slidesBefore;u<0&&(u=t.virtual.slides.length+u),u>=t.virtual.slides.length&&(u-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${u}"]`)}else l=a(`[data-swiper-slide-index="${o}"]`);else s?(l=e.find(u=>u.column===o),d=e.find(u=>u.column===o+1),c=e.find(u=>u.column===o-1)):l=e[o];l&&(s||(d=m5(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),c=p5(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(u=>{ju(u,u===l,n.slideActiveClass),ju(u,u===d,n.slideNextClass),ju(u,u===c,n.slidePrevClass)}),t.emitSlidesClasses()}const _l=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let o=r.querySelector(`.${t.params.lazyPreloaderClass}`);!o&&t.isElement&&(r.shadowRoot?o=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(o=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),o&&o.remove())})),o&&o.remove()}},Iu=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},bh=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),o=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const s=o,a=[s-e];a.push(...Array.from({length:e}).map((l,c)=>s+r+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&Iu(t,c)});return}const i=o+r-1;if(t.params.rewind||t.params.loop)for(let s=o-e;s<=i+e;s+=1){const a=(s%n+n)%n;(a<o||a>i)&&Iu(t,a)}else for(let s=Math.max(o-e,0);s<=Math.min(i+e,n-1);s+=1)s!==o&&(s>i||s<o)&&Iu(t,s)};function j5(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let o;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?r>=e[i]&&r<e[i+1]-(e[i+1]-e[i])/2?o=i:r>=e[i]&&r<e[i+1]&&(o=i+1):r>=e[i]&&(o=i);return n.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function I5(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:o,activeIndex:i,realIndex:s,snapIndex:a}=e;let l=t,c;const d=v=>{let g=v-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof l>"u"&&(l=j5(e)),r.indexOf(n)>=0)c=r.indexOf(n);else{const v=Math.min(o.slidesPerGroupSkip,l);c=v+Math.floor((l-v)/o.slidesPerGroup)}if(c>=r.length&&(c=r.length-1),l===i&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(l);return}const u=e.grid&&o.grid&&o.grid.rows>1;let h;if(e.virtual&&o.virtual.enabled&&o.loop)h=d(l);else if(u){const v=e.slides.find(y=>y.column===l);let g=parseInt(v.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(v),0)),h=Math.floor(g/o.grid.rows)}else if(e.slides[l]){const v=e.slides[l].getAttribute("data-swiper-slide-index");v?h=parseInt(v,10):h=l}else h=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:s,realIndex:h,previousIndex:i,activeIndex:l}),e.initialized&&bh(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(s!==h&&e.emit("realIndexChange"),e.emit("slideChange"))}function P5(t,e){const n=this,r=n.params;let o=t.closest(`.${r.slideClass}, swiper-slide`);!o&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!o&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(o=a)});let i=!1,s;if(o){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===o){i=!0,s=a;break}}if(o&&i)n.clickedSlide=o,n.virtual&&n.params.virtual.enabled?n.clickedIndex=n.getSlideIndexWhenGrid(parseInt(o.getAttribute("data-swiper-slide-index"),10)):n.clickedIndex=n.getSlideIndexWhenGrid(s);else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var L5={updateSize:k5,updateSlides:S5,updateAutoHeight:E5,updateSlidesOffset:T5,updateSlidesProgress:C5,updateProgress:_5,updateSlidesClasses:N5,updateActiveIndex:I5,updateClickedSlide:P5};function A5(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:o,wrapperEl:i}=e;if(n.virtualTranslate)return r?-o:o;if(n.cssMode)return o;let s=d5(i,t);return s+=e.cssOverflowAdjustment(),r&&(s=-s),s||0}function B5(t,e){const n=this,{rtlTranslate:r,params:o,wrapperEl:i,progress:s}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=r?-t:t:l=t,o.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,o.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:o.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let d;const u=n.maxTranslate()-n.minTranslate();u===0?d=0:d=(t-n.minTranslate())/u,d!==s&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function O5(){return-this.snapGrid[0]}function M5(){return-this.snapGrid[this.snapGrid.length-1]}function R5(t,e,n,r,o){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const i=this,{params:s,wrapperEl:a}=i;if(i.animating&&s.preventInteractionOnTransition)return!1;const l=i.minTranslate(),c=i.maxTranslate();let d;if(r&&t>l?d=l:r&&t<c?d=c:d=t,i.updateProgress(d),s.cssMode){const u=i.isHorizontal();if(e===0)a[u?"scrollLeft":"scrollTop"]=-d;else{if(!i.support.smoothScroll)return oS({swiper:i,targetPosition:-d,side:u?"left":"top"}),!0;a.scrollTo({[u?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,o),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,o),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(h){!i||i.destroyed||h.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var D5={getTranslate:A5,setTranslate:B5,minTranslate:O5,maxTranslate:M5,translateTo:R5};function F5(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function cS(t){let{swiper:e,runCallbacks:n,direction:r,step:o}=t;const{activeIndex:i,previousIndex:s}=e;let a=r;a||(i>s?a="next":i<s?a="prev":a="reset"),e.emit(`transition${o}`),n&&a==="reset"?e.emit(`slideResetTransition${o}`):n&&i!==s&&(e.emit(`slideChangeTransition${o}`),a==="next"?e.emit(`slideNextTransition${o}`):e.emit(`slidePrevTransition${o}`))}function U5(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),cS({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function z5(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),cS({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var $5={setTransition:F5,transitionStart:U5,transitionEnd:z5};function V5(t,e,n,r,o){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;let s=t;s<0&&(s=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:u,rtlTranslate:h,wrapperEl:v,enabled:g}=i;if(!g&&!r&&!o||i.destroyed||i.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=i.params.speed);const y=Math.min(i.params.slidesPerGroupSkip,s);let w=y+Math.floor((s-y)/i.params.slidesPerGroup);w>=l.length&&(w=l.length-1);const b=-l[w];if(a.normalizeSlideIndex)for(let j=0;j<c.length;j+=1){const k=-Math.floor(b*100),S=Math.floor(c[j]*100),C=Math.floor(c[j+1]*100);typeof c[j+1]<"u"?k>=S&&k<C-(C-S)/2?s=j:k>=S&&k<C&&(s=j+1):k>=S&&(s=j)}if(i.initialized&&s!==u&&(!i.allowSlideNext&&(h?b>i.translate&&b>i.minTranslate():b<i.translate&&b<i.minTranslate())||!i.allowSlidePrev&&b>i.translate&&b>i.maxTranslate()&&(u||0)!==s))return!1;s!==(d||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(b);let m;s>u?m="next":s<u?m="prev":m="reset";const p=i.virtual&&i.params.virtual.enabled;if(!(p&&o)&&(h&&-b===i.translate||!h&&b===i.translate))return i.updateActiveIndex(s),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),a.effect!=="slide"&&i.setTranslate(b),m!=="reset"&&(i.transitionStart(n,m),i.transitionEnd(n,m)),!1;if(a.cssMode){const j=i.isHorizontal(),k=h?b:-b;if(e===0)p&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),p&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{v[j?"scrollLeft":"scrollTop"]=k})):v[j?"scrollLeft":"scrollTop"]=k,p&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return oS({swiper:i,targetPosition:k,side:j?"left":"top"}),!0;v.scrollTo({[j?"left":"top"]:k,behavior:"smooth"})}return!0}const N=lS().isSafari;return p&&!o&&N&&i.isElement&&i.virtual.update(!1,!1,s),i.setTransition(e),i.setTranslate(b),i.updateActiveIndex(s),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,m),e===0?i.transitionEnd(n,m):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(k){!i||i.destroyed||k.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,m))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function H5(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const o=this;if(o.destroyed)return;typeof e>"u"&&(e=o.params.speed);const i=o.grid&&o.params.grid&&o.params.grid.rows>1;let s=t;if(o.params.loop)if(o.virtual&&o.params.virtual.enabled)s=s+o.virtual.slidesBefore;else{let a;if(i){const h=s*o.params.grid.rows;a=o.slides.find(v=>v.getAttribute("data-swiper-slide-index")*1===h).column}else a=o.getSlideIndexByData(s);const l=i?Math.ceil(o.slides.length/o.params.grid.rows):o.slides.length,{centeredSlides:c}=o.params;let d=o.params.slidesPerView;d==="auto"?d=o.slidesPerViewDynamic():(d=Math.ceil(parseFloat(o.params.slidesPerView,10)),c&&d%2===0&&(d=d+1));let u=l-a<d;if(c&&(u=u||a<Math.ceil(d/2)),r&&c&&o.params.slidesPerView!=="auto"&&!i&&(u=!1),u){const h=c?a<o.activeIndex?"prev":"next":a-o.activeIndex-1<o.params.slidesPerView?"next":"prev";o.loopFix({direction:h,slideTo:!0,activeSlideIndex:h==="next"?a+1:a-l+1,slideRealIndex:h==="next"?o.realIndex:void 0})}if(i){const h=s*o.params.grid.rows;s=o.slides.find(v=>v.getAttribute("data-swiper-slide-index")*1===h).column}else s=o.getSlideIndexByData(s)}return requestAnimationFrame(()=>{o.slideTo(s,e,n,r)}),o}function W5(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:o,params:i,animating:s}=r;if(!o||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let a=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<i.slidesPerGroupSkip?1:a,c=r.virtual&&i.virtual.enabled;if(i.loop){if(s&&!c&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,t,e,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function G5(t,e,n){e===void 0&&(e=!0);const r=this,{params:o,snapGrid:i,slidesGrid:s,rtlTranslate:a,enabled:l,animating:c}=r;if(!l||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const d=r.virtual&&o.virtual.enabled;if(o.loop){if(c&&!d&&o.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const u=a?r.translate:-r.translate;function h(m){return m<0?-Math.floor(Math.abs(m)):Math.floor(m)}const v=h(u),g=i.map(m=>h(m)),y=o.freeMode&&o.freeMode.enabled;let w=i[g.indexOf(v)-1];if(typeof w>"u"&&(o.cssMode||y)){let m;i.forEach((p,x)=>{v>=p&&(m=x)}),typeof m<"u"&&(w=y?i[m]:i[m>0?m-1:m])}let b=0;if(typeof w<"u"&&(b=s.indexOf(w),b<0&&(b=r.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(b=b-r.slidesPerViewDynamic("previous",!0)+1,b=Math.max(b,0))),o.rewind&&r.isBeginning){const m=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(m,t,e,n)}else if(o.loop&&r.activeIndex===0&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(b,t,e,n)}),!0;return r.slideTo(b,t,e,n)}function q5(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function K5(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const o=this;if(o.destroyed)return;typeof t>"u"&&(t=o.params.speed);let i=o.activeIndex;const s=Math.min(o.params.slidesPerGroupSkip,i),a=s+Math.floor((i-s)/o.params.slidesPerGroup),l=o.rtlTranslate?o.translate:-o.translate;if(l>=o.snapGrid[a]){const c=o.snapGrid[a],d=o.snapGrid[a+1];l-c>(d-c)*r&&(i+=o.params.slidesPerGroup)}else{const c=o.snapGrid[a-1],d=o.snapGrid[a];l-c<=(d-c)*r&&(i-=o.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,o.slidesGrid.length-1),o.slideTo(i,t,e,n)}function Y5(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let o=t.clickedIndex,i;const s=t.isElement?"swiper-slide":`.${e.slideClass}`,a=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(i):(o>a?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),o=t.getSlideIndex(bn(n,`${s}[data-swiper-slide-index="${i}"]`)[0]),rS(()=>{t.slideTo(o)})):t.slideTo(o)}else t.slideTo(o)}var X5={slideTo:V5,slideToLoop:H5,slideNext:W5,slidePrev:G5,slideReset:q5,slideToClosest:K5,slideToClickedSlide:Y5};function J5(t,e){const n=this,{params:r,slidesEl:o}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const i=()=>{bn(o,`.${r.slideClass}, swiper-slide`).forEach((v,g)=>{v.setAttribute("data-swiper-slide-index",g)})},s=()=>{const h=bn(o,`.${r.slideBlankClass}`);h.forEach(v=>{v.remove()}),h.length>0&&(n.recalcSlides(),n.updateSlides())},a=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||a)&&s();const l=r.slidesPerGroup*(a?r.grid.rows:1),c=n.slides.length%l!==0,d=a&&n.slides.length%r.grid.rows!==0,u=h=>{for(let v=0;v<h;v+=1){const g=n.isElement?Nc("swiper-slide",[r.slideBlankClass]):Nc("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(g)}};if(c){if(r.loopAddBlankSlides){const h=l-n.slides.length%l;u(h),n.recalcSlides(),n.updateSlides()}else _c("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(d){if(r.loopAddBlankSlides){const h=r.grid.rows-n.slides.length%r.grid.rows;u(h),n.recalcSlides(),n.updateSlides()}else _c("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();n.loopFix({slideRealIndex:t,direction:r.centeredSlides?void 0:"next",initial:e})}function Q5(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:o,activeSlideIndex:i,initial:s,byController:a,byMousewheel:l}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:d,allowSlidePrev:u,allowSlideNext:h,slidesEl:v,params:g}=c,{centeredSlides:y,initialSlide:w}=g;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&g.virtual.enabled){n&&(!g.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):g.centeredSlides&&c.snapIndex<g.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=u,c.allowSlideNext=h,c.emit("loopFix");return}let b=g.slidesPerView;b==="auto"?b=c.slidesPerViewDynamic():(b=Math.ceil(parseFloat(g.slidesPerView,10)),y&&b%2===0&&(b=b+1));const m=g.slidesPerGroupAuto?b:g.slidesPerGroup;let p=y?Math.max(m,Math.ceil(b/2)):m;p%m!==0&&(p+=m-p%m),p+=g.loopAdditionalSlides,c.loopedSlides=p;const x=c.grid&&g.grid&&g.grid.rows>1;d.length<b+p||c.params.effect==="cards"&&d.length<b+p*2?_c("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):x&&g.grid.fill==="row"&&_c("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const E=[],N=[],j=x?Math.ceil(d.length/g.grid.rows):d.length,k=s&&j-w<b&&!y;let S=k?w:c.activeIndex;typeof i>"u"?i=c.getSlideIndex(d.find(A=>A.classList.contains(g.slideActiveClass))):S=i;const C=r==="next"||!r,T=r==="prev"||!r;let I=0,P=0;const L=(x?d[i].column:i)+(y&&typeof o>"u"?-b/2+.5:0);if(L<p){I=Math.max(p-L,m);for(let A=0;A<p-L;A+=1){const D=A-Math.floor(A/j)*j;if(x){const B=j-D-1;for(let M=d.length-1;M>=0;M-=1)d[M].column===B&&E.push(M)}else E.push(j-D-1)}}else if(L+b>j-p){P=Math.max(L-(j-p*2),m),k&&(P=Math.max(P,b-j+w+1));for(let A=0;A<P;A+=1){const D=A-Math.floor(A/j)*j;x?d.forEach((B,M)=>{B.column===D&&N.push(M)}):N.push(D)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&d.length<b+p*2&&(N.includes(i)&&N.splice(N.indexOf(i),1),E.includes(i)&&E.splice(E.indexOf(i),1)),T&&E.forEach(A=>{d[A].swiperLoopMoveDOM=!0,v.prepend(d[A]),d[A].swiperLoopMoveDOM=!1}),C&&N.forEach(A=>{d[A].swiperLoopMoveDOM=!0,v.append(d[A]),d[A].swiperLoopMoveDOM=!1}),c.recalcSlides(),g.slidesPerView==="auto"?c.updateSlides():x&&(E.length>0&&T||N.length>0&&C)&&c.slides.forEach((A,D)=>{c.grid.updateSlide(D,A,c.slides)}),g.watchSlidesProgress&&c.updateSlidesOffset(),n){if(E.length>0&&T){if(typeof e>"u"){const A=c.slidesGrid[S],B=c.slidesGrid[S+I]-A;l?c.setTranslate(c.translate-B):(c.slideTo(S+Math.ceil(I),0,!1,!0),o&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-B,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-B))}else if(o){const A=x?E.length/g.grid.rows:E.length;c.slideTo(c.activeIndex+A,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(N.length>0&&C)if(typeof e>"u"){const A=c.slidesGrid[S],B=c.slidesGrid[S-P]-A;l?c.setTranslate(c.translate-B):(c.slideTo(S-P,0,!1,!0),o&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-B,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-B))}else{const A=x?N.length/g.grid.rows:N.length;c.slideTo(c.activeIndex-A,0,!1,!0)}}if(c.allowSlidePrev=u,c.allowSlideNext=h,c.controller&&c.controller.control&&!a){const A={slideRealIndex:e,direction:r,setTranslate:o,activeSlideIndex:i,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(D=>{!D.destroyed&&D.params.loop&&D.loopFix({...A,slideTo:D.params.slidesPerView===g.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...A,slideTo:c.controller.control.params.slidesPerView===g.slidesPerView?n:!1})}c.emit("loopFix")}function Z5(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(o=>{const i=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;r[i]=o}),t.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),r.forEach(o=>{n.append(o)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var eR={loopCreate:J5,loopFix:Q5,loopDestroy:Z5};function tR(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function nR(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var rR={setGrabCursor:tR,unsetGrabCursor:nR};function oR(t,e){e===void 0&&(e=this);function n(r){if(!r||r===Tn()||r===St())return null;r.assignedSlot&&(r=r.assignedSlot);const o=r.closest(t);return!o&&!r.getRootNode?null:o||n(r.getRootNode().host)}return n(e)}function Hv(t,e,n){const r=St(),{params:o}=t,i=o.edgeSwipeDetection,s=o.edgeSwipeThreshold;return i&&(n<=s||n>=r.innerWidth-s)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function iR(t){const e=this,n=Tn();let r=t;r.originalEvent&&(r=r.originalEvent);const o=e.touchEventsData;if(r.type==="pointerdown"){if(o.pointerId!==null&&o.pointerId!==r.pointerId)return;o.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(o.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){Hv(e,r,r.targetTouches[0].pageX);return}const{params:i,touches:s,enabled:a}=e;if(!a||!i.simulateTouch&&r.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let l=r.target;if(i.touchEventsTarget==="wrapper"&&!h5(l,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||o.isTouched&&o.isMoved)return;const c=!!i.noSwipingClass&&i.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;c&&r.target&&r.target.shadowRoot&&d&&(l=d[0]);const u=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,h=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(h?oR(u,l):l.closest(u))){e.allowClick=!0;return}if(i.swipeHandler&&!l.closest(i.swipeHandler))return;s.currentX=r.pageX,s.currentY=r.pageY;const v=s.currentX,g=s.currentY;if(!Hv(e,r,v))return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=v,s.startY=g,o.touchStartTime=Cc(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(o.allowThresholdMove=!1);let y=!0;l.matches(o.focusableElements)&&(y=!1,l.nodeName==="SELECT"&&(o.isTouched=!1)),n.activeElement&&n.activeElement.matches(o.focusableElements)&&n.activeElement!==l&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!l.matches(o.focusableElements))&&n.activeElement.blur();const w=y&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||w)&&!l.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function sR(t){const e=Tn(),n=this,r=n.touchEventsData,{params:o,touches:i,rtlTranslate:s,enabled:a}=n;if(!a||!o.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(N=>N.identifier===r.touchId),!c||c.identifier!==r.touchId)return}else c=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}const d=c.pageX,u=c.pageY;if(l.preventedByNestedSwiper){i.startX=d,i.startY=u;return}if(!n.allowTouchMove){l.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:d,startY:u,currentX:d,currentY:u}),r.touchStartTime=Cc());return}if(o.touchReleaseOnEdges&&!o.loop)if(n.isVertical()){if(u<i.startY&&n.translate<=n.maxTranslate()||u>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(s&&(d>i.startX&&-n.translate<=n.maxTranslate()||d<i.startX&&-n.translate>=n.minTranslate()))return;if(!s&&(d<i.startX&&n.translate<=n.maxTranslate()||d>i.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",l),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=d,i.currentY=u;const h=i.currentX-i.startX,v=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(h**2+v**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let N;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:h*h+v*v>=25&&(N=Math.atan2(Math.abs(v),Math.abs(h))*180/Math.PI,r.isScrolling=n.isHorizontal()?N>o.touchAngle:90-N>o.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling||l.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!o.cssMode&&l.cancelable&&l.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&l.stopPropagation();let g=n.isHorizontal()?h:v,y=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;o.oneWayMovement&&(g=Math.abs(g)*(s?1:-1),y=Math.abs(y)*(s?1:-1)),i.diff=g,g*=o.touchRatio,s&&(g=-g,y=-y);const w=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=y>0?"prev":"next";const b=n.params.loop&&!o.cssMode,m=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(b&&m&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const N=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(N)}r.allowMomentumBounce=!1,o.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let p;if(new Date().getTime(),o._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&w!==n.touchesDirection&&b&&m&&Math.abs(g)>=1){Object.assign(i,{startX:d,startY:u,currentX:d,currentY:u,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let x=!0,E=o.resistanceRatio;if(o.touchReleaseOnEdges&&(E=0),g>0?(b&&m&&!p&&r.allowThresholdMove&&r.currentTranslate>(o.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(o.slidesPerView!=="auto"&&n.slides.length-o.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(x=!1,o.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**E))):g<0&&(b&&m&&!p&&r.allowThresholdMove&&r.currentTranslate<(o.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(o.slidesPerView!=="auto"&&n.slides.length-o.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(o.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(x=!1,o.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**E))),x&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),o.threshold>0)if(Math.abs(g)>o.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&n.freeMode||o.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),o.freeMode&&o.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function aR(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let o;if(r.type==="touchend"||r.type==="touchcancel"){if(o=[...r.changedTouches].find(E=>E.identifier===n.touchId),!o||o.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;o=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:s,touches:a,rtlTranslate:l,slidesGrid:c,enabled:d}=e;if(!d||!s.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&s.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}s.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const u=Cc(),h=u-n.touchStartTime;if(e.allowClick){const E=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(E&&E[0]||r.target,E),e.emit("tap click",r),h<300&&u-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Cc(),rS(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let v;if(s.followFinger?v=l?e.translate:-e.translate:v=-n.currentTranslate,s.cssMode)return;if(s.freeMode&&s.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:v});return}const g=v>=-e.maxTranslate()&&!e.params.loop;let y=0,w=e.slidesSizesGrid[0];for(let E=0;E<c.length;E+=E<s.slidesPerGroupSkip?1:s.slidesPerGroup){const N=E<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;typeof c[E+N]<"u"?(g||v>=c[E]&&v<c[E+N])&&(y=E,w=c[E+N]-c[E]):(g||v>=c[E])&&(y=E,w=c[c.length-1]-c[c.length-2])}let b=null,m=null;s.rewind&&(e.isBeginning?m=s.virtual&&s.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(b=0));const p=(v-c[y])/w,x=y<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(h>s.longSwipesMs){if(!s.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(p>=s.longSwipesRatio?e.slideTo(s.rewind&&e.isEnd?b:y+x):e.slideTo(y)),e.swipeDirection==="prev"&&(p>1-s.longSwipesRatio?e.slideTo(y+x):m!==null&&p<0&&Math.abs(p)>s.longSwipesRatio?e.slideTo(m):e.slideTo(y))}else{if(!s.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(y+x):e.slideTo(y):(e.swipeDirection==="next"&&e.slideTo(b!==null?b:y+x),e.swipeDirection==="prev"&&e.slideTo(m!==null?m:y))}}function Wv(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:o,snapGrid:i}=t,s=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=s&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!s?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=o,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function lR(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function cR(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let o;const i=t.maxTranslate()-t.minTranslate();i===0?o=0:o=(t.translate-t.minTranslate())/i,o!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function dR(t){const e=this;_l(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function uR(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const dS=(t,e)=>{const n=Tn(),{params:r,el:o,wrapperEl:i,device:s}=t,a=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!o||typeof o=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),o[l]("touchstart",t.onTouchStart,{passive:!1}),o[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&o[l]("click",t.onClick,!0),r.cssMode&&i[l]("scroll",t.onScroll),r.updateOnWindowResize?t[c](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",Wv,!0):t[c]("observerUpdate",Wv,!0),o[l]("load",t.onLoad,{capture:!0}))};function fR(){const t=this,{params:e}=t;t.onTouchStart=iR.bind(t),t.onTouchMove=sR.bind(t),t.onTouchEnd=aR.bind(t),t.onDocumentTouchStart=uR.bind(t),e.cssMode&&(t.onScroll=cR.bind(t)),t.onClick=lR.bind(t),t.onLoad=dR.bind(t),dS(t,"on")}function hR(){dS(this,"off")}var pR={attachEvents:fR,detachEvents:hR};const Gv=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function mR(){const t=this,{realIndex:e,initialized:n,params:r,el:o}=t,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const s=Tn(),a=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:s.querySelector(r.breakpointsBase),c=t.getBreakpoint(i,a,l);if(!c||t.currentBreakpoint===c)return;const u=(c in i?i[c]:void 0)||t.originalParams,h=Gv(t,r),v=Gv(t,u),g=t.params.grabCursor,y=u.grabCursor,w=r.enabled;h&&!v?(o.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!h&&v&&(o.classList.add(`${r.containerModifierClass}grid`),(u.grid.fill&&u.grid.fill==="column"||!u.grid.fill&&r.grid.fill==="column")&&o.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),g&&!y?t.unsetGrabCursor():!g&&y&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(N=>{if(typeof u[N]>"u")return;const j=r[N]&&r[N].enabled,k=u[N]&&u[N].enabled;j&&!k&&t[N].disable(),!j&&k&&t[N].enable()});const b=u.direction&&u.direction!==r.direction,m=r.loop&&(u.slidesPerView!==r.slidesPerView||b),p=r.loop;b&&n&&t.changeDirection(),Ot(t.params,u);const x=t.params.enabled,E=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),w&&!x?t.disable():!w&&x&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",u),n&&(m?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!p&&E?(t.loopCreate(e),t.updateSlides()):p&&!E&&t.loopDestroy()),t.emit("breakpoint",u)}function gR(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const o=St(),i=e==="window"?o.innerHeight:n.clientHeight,s=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:i*l,point:a}}return{value:a,point:a}});s.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<s.length;a+=1){const{point:l,value:c}=s[a];e==="window"?o.matchMedia(`(min-width: ${c}px)`).matches&&(r=l):c<=n.clientWidth&&(r=l)}return r||"max"}var vR={setBreakpoint:mR,getBreakpoint:gR};function yR(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(o=>{r[o]&&n.push(e+o)}):typeof r=="string"&&n.push(e+r)}),n}function bR(){const t=this,{classNames:e,params:n,rtl:r,el:o,device:i}=t,s=yR(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...s),o.classList.add(...e),t.emitContainerClasses()}function xR(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var wR={addClasses:bR,removeClasses:xR};function kR(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const o=t.slides.length-1,i=t.slidesGrid[o]+t.slidesSizesGrid[o]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var SR={checkOverflow:kR},xh={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function ER(t,e){return function(r){r===void 0&&(r={});const o=Object.keys(r)[0],i=r[o];if(typeof i!="object"||i===null){Ot(e,r);return}if(t[o]===!0&&(t[o]={enabled:!0}),o==="navigation"&&t[o]&&t[o].enabled&&!t[o].prevEl&&!t[o].nextEl&&(t[o].auto=!0),["pagination","scrollbar"].indexOf(o)>=0&&t[o]&&t[o].enabled&&!t[o].el&&(t[o].auto=!0),!(o in t&&"enabled"in i)){Ot(e,r);return}typeof t[o]=="object"&&!("enabled"in t[o])&&(t[o].enabled=!0),t[o]||(t[o]={enabled:!1}),Ot(e,r)}}const Pu={eventsEmitter:w5,update:L5,translate:D5,transition:$5,slide:X5,loop:eR,grabCursor:rR,events:pR,breakpoints:vR,checkOverflow:SR,classes:wR},Lu={};let wm=class An{constructor(){let e,n;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];o.length===1&&o[0].constructor&&Object.prototype.toString.call(o[0]).slice(8,-1)==="Object"?n=o[0]:[e,n]=o,n||(n={}),n=Ot({},n),e&&!n.el&&(n.el=e);const s=Tn();if(n.el&&typeof n.el=="string"&&s.querySelectorAll(n.el).length>1){const d=[];return s.querySelectorAll(n.el).forEach(u=>{const h=Ot({},n,{el:u});d.push(new An(h))}),d}const a=this;a.__swiper__=!0,a.support=sS(),a.device=aS({userAgent:n.userAgent}),a.browser=lS(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(d=>{d({params:n,swiper:a,extendParams:ER(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=Ot({},xh,l);return a.params=Ot({},c,Lu,n),a.originalParams=Ot({},a.params),a.passedParams=Ot({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(d=>{a.on(d,a.params.on[d])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,o=bn(n,`.${r.slideClass}, swiper-slide`),i=jc(o[0]);return jc(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=bn(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const o=r.minTranslate(),s=(r.maxTranslate()-o)*e+o;r.translateTo(s,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const o=e.getSlideClasses(r);n.push({slideEl:r,classNames:o}),e.emit("_slideClass",r,o)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:o,slides:i,slidesGrid:s,slidesSizesGrid:a,size:l,activeIndex:c}=r;let d=1;if(typeof o.slidesPerView=="number")return o.slidesPerView;if(o.centeredSlides){let u=i[c]?Math.ceil(i[c].swiperSlideSize):0,h;for(let v=c+1;v<i.length;v+=1)i[v]&&!h&&(u+=Math.ceil(i[v].swiperSlideSize),d+=1,u>l&&(h=!0));for(let v=c-1;v>=0;v-=1)i[v]&&!h&&(u+=i[v].swiperSlideSize,d+=1,u>l&&(h=!0))}else if(e==="current")for(let u=c+1;u<i.length;u+=1)(n?s[u]+a[u]-s[c]<l:s[u]-s[c]<l)&&(d+=1);else for(let u=c-1;u>=0;u-=1)s[c]-s[u]<l&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(s=>{s.complete&&_l(e,s)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function o(){const s=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(s,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)o(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const s=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(s.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||o()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,o=r.params.direction;return e||(e=o==="horizontal"?"vertical":"horizontal"),e===o||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${o}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const o=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(o()):bn(r,o())[0])();return!s&&n.params.createElements&&(s=Nc("div",n.params.wrapperClass),r.append(s),bn(r,`.${n.params.slideClass}`).forEach(a=>{s.append(a)})),Object.assign(n,{el:r,wrapperEl:s,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:s,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||_r(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||_r(r,"direction")==="rtl"),wrongRTL:_r(s,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const o=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&o.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),o.forEach(i=>{i.complete?_l(n,i):i.addEventListener("load",s=>{_l(n,s.target)})}),bh(n),n.initialized=!0,bh(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:o,el:i,wrapperEl:s,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),o.loop&&r.loopDestroy(),n&&(r.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),s&&s.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(o.slideVisibleClass,o.slideFullyVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),l5(r)),r.destroyed=!0),null}static extendDefaults(e){Ot(Lu,e)}static get extendedDefaults(){return Lu}static get defaults(){return xh}static installModule(e){An.prototype.__modules__||(An.prototype.__modules__=[]);const n=An.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>An.installModule(n)),An):(An.installModule(e),An)}};Object.keys(Pu).forEach(t=>{Object.keys(Pu[t]).forEach(e=>{wm.prototype[e]=Pu[t][e]})});wm.use([b5,x5]);const uS=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Lo(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function vi(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Lo(e[r])&&Lo(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:vi(t[r],e[r]):t[r]=e[r]})}function fS(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function hS(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function pS(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function mS(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function TR(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function CR(t){let{swiper:e,slides:n,passedParams:r,changedParams:o,nextEl:i,prevEl:s,scrollbarEl:a,paginationEl:l}=t;const c=o.filter(S=>S!=="children"&&S!=="direction"&&S!=="wrapperClass"),{params:d,pagination:u,navigation:h,scrollbar:v,virtual:g,thumbs:y}=e;let w,b,m,p,x,E,N,j;o.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(w=!0),o.includes("controller")&&r.controller&&r.controller.control&&d.controller&&!d.controller.control&&(b=!0),o.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(d.pagination||d.pagination===!1)&&u&&!u.el&&(m=!0),o.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&v&&!v.el&&(p=!0),o.includes("navigation")&&r.navigation&&(r.navigation.prevEl||s)&&(r.navigation.nextEl||i)&&(d.navigation||d.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(x=!0);const k=S=>{e[S]&&(e[S].destroy(),S==="navigation"?(e.isElement&&(e[S].prevEl.remove(),e[S].nextEl.remove()),d[S].prevEl=void 0,d[S].nextEl=void 0,e[S].prevEl=void 0,e[S].nextEl=void 0):(e.isElement&&e[S].el.remove(),d[S].el=void 0,e[S].el=void 0))};o.includes("loop")&&e.isElement&&(d.loop&&!r.loop?E=!0:!d.loop&&r.loop?N=!0:j=!0),c.forEach(S=>{if(Lo(d[S])&&Lo(r[S]))Object.assign(d[S],r[S]),(S==="navigation"||S==="pagination"||S==="scrollbar")&&"enabled"in r[S]&&!r[S].enabled&&k(S);else{const C=r[S];(C===!0||C===!1)&&(S==="navigation"||S==="pagination"||S==="scrollbar")?C===!1&&k(S):d[S]=r[S]}}),c.includes("controller")&&!b&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),o.includes("children")&&n&&g&&d.virtual.enabled?(g.slides=n,g.update(!0)):o.includes("virtual")&&g&&d.virtual.enabled&&(n&&(g.slides=n),g.update(!0)),o.includes("children")&&n&&d.loop&&(j=!0),w&&y.init()&&y.update(!0),b&&(e.controller.control=d.controller.control),m&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(d.pagination.el=l),u.init(),u.render(),u.update()),p&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(d.scrollbar.el=a),v.init(),v.updateSize(),v.setTranslate()),x&&(e.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),Ic(i,e.hostEl.constructor.nextButtonSvg),i.part.add("button-next"),e.el.appendChild(i)),(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-prev"),Ic(s,e.hostEl.constructor.prevButtonSvg),s.part.add("button-prev"),e.el.appendChild(s))),i&&(d.navigation.nextEl=i),s&&(d.navigation.prevEl=s),h.init(),h.update()),o.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),o.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),o.includes("direction")&&e.changeDirection(r.direction,!1),(E||j)&&e.loopDestroy(),(N||j)&&e.loopCreate(),e.update()}function _R(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},o={};vi(n,xh),n._emitClasses=!0,n.init=!1;const i={},s=uS.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(s.indexOf(l)>=0?Lo(t[l])?(n[l]={},o[l]={},vi(n[l],t[l]),vi(o[l],t[l])):(n[l]=t[l],o[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:i[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:o,rest:i,events:r}}function NR(t,e){let{el:n,nextEl:r,prevEl:o,paginationEl:i,scrollbarEl:s,swiper:a}=t;fS(e)&&r&&o&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=o,a.originalParams.navigation.prevEl=o),hS(e)&&i&&(a.params.pagination.el=i,a.originalParams.pagination.el=i),pS(e)&&s&&(a.params.scrollbar.el=s,a.originalParams.scrollbar.el=s),a.init(n)}function jR(t,e,n,r,o){const i=[];if(!e)return i;const s=l=>{i.indexOf(l)<0&&i.push(l)};if(n&&r){const l=r.map(o),c=n.map(o);l.join("")!==c.join("")&&s("children"),r.length!==n.length&&s("children")}return uS.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(Lo(t[l])&&Lo(e[l])){const c=Object.keys(t[l]),d=Object.keys(e[l]);c.length!==d.length?s(l):(c.forEach(u=>{t[l][u]!==e[l][u]&&s(l)}),d.forEach(u=>{t[l][u]!==e[l][u]&&s(l)}))}else t[l]!==e[l]&&s(l)}),i}const IR=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pc.apply(this,arguments)}function gS(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function vS(t){const e=[];return Q.Children.toArray(t).forEach(n=>{gS(n)?e.push(n):n.props&&n.props.children&&vS(n.props.children).forEach(r=>e.push(r))}),e}function PR(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Q.Children.toArray(t).forEach(r=>{if(gS(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const o=vS(r.props.children);o.length>0?o.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function LR(t,e,n){if(!n)return null;const r=d=>{let u=d;return d<0?u=e.length+d:u>=e.length&&(u=u-e.length),u},o=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:s}=n,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,c=[];for(let d=a;d<l;d+=1)d>=i&&d<=s&&c.push(e[r(d)]);return c.map((d,u)=>Q.cloneElement(d,{swiper:t,style:o,key:d.props.virtualIndex||d.key||`slide-${u}`}))}function Cs(t,e){return typeof window>"u"?_.useEffect(t,e):_.useLayoutEffect(t,e)}const qv=_.createContext(null),AR=_.createContext(null),yS=_.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:o="div",children:i,onSwiper:s,...a}=t===void 0?{}:t,l=!1;const[c,d]=_.useState("swiper"),[u,h]=_.useState(null),[v,g]=_.useState(!1),y=_.useRef(!1),w=_.useRef(null),b=_.useRef(null),m=_.useRef(null),p=_.useRef(null),x=_.useRef(null),E=_.useRef(null),N=_.useRef(null),j=_.useRef(null),{params:k,passedParams:S,rest:C,events:T}=_R(a),{slides:I,slots:P}=PR(i),O=()=>{g(!v)};Object.assign(k.on,{_containerClasses(M,R){d(R)}});const L=()=>{Object.assign(k.on,T),l=!0;const M={...k};if(delete M.wrapperClass,b.current=new wm(M),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=I;const R={cache:!1,slides:I,renderExternal:h,renderExternalUpdate:!1};vi(b.current.params.virtual,R),vi(b.current.originalParams.virtual,R)}};w.current||L(),b.current&&b.current.on("_beforeBreakpoint",O);const A=()=>{l||!T||!b.current||Object.keys(T).forEach(M=>{b.current.on(M,T[M])})},D=()=>{!T||!b.current||Object.keys(T).forEach(M=>{b.current.off(M,T[M])})};_.useEffect(()=>()=>{b.current&&b.current.off("_beforeBreakpoint",O)}),_.useEffect(()=>{!y.current&&b.current&&(b.current.emitSlidesClasses(),y.current=!0)}),Cs(()=>{if(e&&(e.current=w.current),!!w.current)return b.current.destroyed&&L(),NR({el:w.current,nextEl:x.current,prevEl:E.current,paginationEl:N.current,scrollbarEl:j.current,swiper:b.current},k),s&&!b.current.destroyed&&s(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}},[]),Cs(()=>{A();const M=jR(S,m.current,I,p.current,R=>R.key);return m.current=S,p.current=I,M.length&&b.current&&!b.current.destroyed&&CR({swiper:b.current,slides:I,passedParams:S,changedParams:M,nextEl:x.current,prevEl:E.current,scrollbarEl:j.current,paginationEl:N.current}),()=>{D()}}),Cs(()=>{IR(b.current)},[u]);function B(){return k.virtual?LR(b.current,I,u):I.map((M,R)=>Q.cloneElement(M,{swiper:b.current,swiperSlideIndex:R}))}return Q.createElement(r,Pc({ref:w,className:mS(`${c}${n?` ${n}`:""}`)},C),Q.createElement(AR.Provider,{value:b.current},P["container-start"],Q.createElement(o,{className:TR(k.wrapperClass)},P["wrapper-start"],B(),P["wrapper-end"]),fS(k)&&Q.createElement(Q.Fragment,null,Q.createElement("div",{ref:E,className:"swiper-button-prev"}),Q.createElement("div",{ref:x,className:"swiper-button-next"})),pS(k)&&Q.createElement("div",{ref:j,className:"swiper-scrollbar"}),hS(k)&&Q.createElement("div",{ref:N,className:"swiper-pagination"}),P["container-end"]))});yS.displayName="Swiper";const bS=_.forwardRef(function(t,e){let{tag:n="div",children:r,className:o="",swiper:i,zoom:s,lazy:a,virtualIndex:l,swiperSlideIndex:c,...d}=t===void 0?{}:t;const u=_.useRef(null),[h,v]=_.useState("swiper-slide"),[g,y]=_.useState(!1);function w(x,E,N){E===u.current&&v(N)}Cs(()=>{if(typeof c<"u"&&(u.current.swiperSlideIndex=c),e&&(e.current=u.current),!(!u.current||!i)){if(i.destroyed){h!=="swiper-slide"&&v("swiper-slide");return}return i.on("_slideClass",w),()=>{i&&i.off("_slideClass",w)}}}),Cs(()=>{i&&u.current&&!i.destroyed&&v(i.getSlideClasses(u.current))},[i]);const b={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},m=()=>typeof r=="function"?r(b):r,p=()=>{y(!0)};return Q.createElement(n,Pc({ref:u,className:mS(`${h}${o?` ${o}`:""}`),"data-swiper-slide-index":l,onLoad:p},d),s&&Q.createElement(qv.Provider,{value:b},Q.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s=="number"?s:void 0},m(),a&&!g&&Q.createElement("div",{className:"swiper-lazy-preloader"}))),!s&&Q.createElement(qv.Provider,{value:b},m(),a&&!g&&Q.createElement("div",{className:"swiper-lazy-preloader"})))});bS.displayName="SwiperSlide";function xS(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(o=>{if(!n[o]&&n.auto===!0){let i=bn(t.el,`.${r[o]}`)[0];i||(i=Nc("div",r[o]),i.className=r[o],t.el.append(i)),n[o]=i,e[o]=i}}),n}function BR(t){let{swiper:e,extendParams:n,on:r,emit:o}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function i(g){let y;return g&&typeof g=="string"&&e.isElement&&(y=e.el.querySelector(g)||e.hostEl.querySelector(g),y)?y:(g&&(typeof g=="string"&&(y=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&y&&y.length>1&&e.el.querySelectorAll(g).length===1?y=e.el.querySelector(g):y&&y.length===1&&(y=y[0])),g&&!y?g:y)}function s(g,y){const w=e.params.navigation;g=et(g),g.forEach(b=>{b&&(b.classList[y?"add":"remove"](...w.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=y),e.params.watchOverflow&&e.enabled&&b.classList[e.isLocked?"add":"remove"](w.lockClass))})}function a(){const{nextEl:g,prevEl:y}=e.navigation;if(e.params.loop){s(y,!1),s(g,!1);return}s(y,e.isBeginning&&!e.params.rewind),s(g,e.isEnd&&!e.params.rewind)}function l(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),o("navigationPrev"))}function c(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),o("navigationNext"))}function d(){const g=e.params.navigation;if(e.params.navigation=xS(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let y=i(g.nextEl),w=i(g.prevEl);Object.assign(e.navigation,{nextEl:y,prevEl:w}),y=et(y),w=et(w);const b=(m,p)=>{m&&m.addEventListener("click",p==="next"?c:l),!e.enabled&&m&&m.classList.add(...g.lockClass.split(" "))};y.forEach(m=>b(m,"next")),w.forEach(m=>b(m,"prev"))}function u(){let{nextEl:g,prevEl:y}=e.navigation;g=et(g),y=et(y);const w=(b,m)=>{b.removeEventListener("click",m==="next"?c:l),b.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(b=>w(b,"next")),y.forEach(b=>w(b,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?v():(d(),a())}),r("toEdge fromEdge lock unlock",()=>{a()}),r("destroy",()=>{u()}),r("enable disable",()=>{let{nextEl:g,prevEl:y}=e.navigation;if(g=et(g),y=et(y),e.enabled){a();return}[...g,...y].filter(w=>!!w).forEach(w=>w.classList.add(e.params.navigation.lockClass))}),r("click",(g,y)=>{let{nextEl:w,prevEl:b}=e.navigation;w=et(w),b=et(b);const m=y.target;let p=b.includes(m)||w.includes(m);if(e.isElement&&!p){const x=y.path||y.composedPath&&y.composedPath();x&&(p=x.find(E=>w.includes(E)||b.includes(E)))}if(e.params.navigation.hideOnClick&&!p){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===m||e.pagination.el.contains(m)))return;let x;w.length?x=w[0].classList.contains(e.params.navigation.hiddenClass):b.length&&(x=b[0].classList.contains(e.params.navigation.hiddenClass)),o(x===!0?"navigationShow":"navigationHide"),[...w,...b].filter(E=>!!E).forEach(E=>E.classList.toggle(e.params.navigation.hiddenClass))}});const h=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),a()},v=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),u()};Object.assign(e.navigation,{enable:h,disable:v,update:a,init:d,destroy:u})}function es(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function OR(t){let{swiper:e,extendParams:n,on:r,emit:o}=t;const i="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:m=>m,formatFractionTotal:m=>m,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let s,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(m,p){const{bulletActiveClass:x}=e.params.pagination;m&&(m=m[`${p==="prev"?"previous":"next"}ElementSibling`],m&&(m.classList.add(`${x}-${p}`),m=m[`${p==="prev"?"previous":"next"}ElementSibling`],m&&m.classList.add(`${x}-${p}-${p}`)))}function d(m,p,x){if(m=m%x,p=p%x,p===m+1)return"next";if(p===m-1)return"previous"}function u(m){const p=m.target.closest(es(e.params.pagination.bulletClass));if(!p)return;m.preventDefault();const x=jc(p)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===x)return;const E=d(e.realIndex,x,e.slides.length);E==="next"?e.slideNext():E==="previous"?e.slidePrev():e.slideToLoop(x)}else e.slideTo(x)}function h(){const m=e.rtl,p=e.params.pagination;if(l())return;let x=e.pagination.el;x=et(x);let E,N;const j=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,k=e.params.loop?Math.ceil(j/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(N=e.previousRealIndex||0,E=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(E=e.snapIndex,N=e.previousSnapIndex):(N=e.previousIndex||0,E=e.activeIndex||0),p.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const S=e.pagination.bullets;let C,T,I;if(p.dynamicBullets&&(s=yh(S[0],e.isHorizontal()?"width":"height",!0),x.forEach(P=>{P.style[e.isHorizontal()?"width":"height"]=`${s*(p.dynamicMainBullets+4)}px`}),p.dynamicMainBullets>1&&N!==void 0&&(a+=E-(N||0),a>p.dynamicMainBullets-1?a=p.dynamicMainBullets-1:a<0&&(a=0)),C=Math.max(E-a,0),T=C+(Math.min(S.length,p.dynamicMainBullets)-1),I=(T+C)/2),S.forEach(P=>{const O=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(L=>`${p.bulletActiveClass}${L}`)].map(L=>typeof L=="string"&&L.includes(" ")?L.split(" "):L).flat();P.classList.remove(...O)}),x.length>1)S.forEach(P=>{const O=jc(P);O===E?P.classList.add(...p.bulletActiveClass.split(" ")):e.isElement&&P.setAttribute("part","bullet"),p.dynamicBullets&&(O>=C&&O<=T&&P.classList.add(...`${p.bulletActiveClass}-main`.split(" ")),O===C&&c(P,"prev"),O===T&&c(P,"next"))});else{const P=S[E];if(P&&P.classList.add(...p.bulletActiveClass.split(" ")),e.isElement&&S.forEach((O,L)=>{O.setAttribute("part",L===E?"bullet-active":"bullet")}),p.dynamicBullets){const O=S[C],L=S[T];for(let A=C;A<=T;A+=1)S[A]&&S[A].classList.add(...`${p.bulletActiveClass}-main`.split(" "));c(O,"prev"),c(L,"next")}}if(p.dynamicBullets){const P=Math.min(S.length,p.dynamicMainBullets+4),O=(s*P-s)/2-I*s,L=m?"right":"left";S.forEach(A=>{A.style[e.isHorizontal()?L:"top"]=`${O}px`})}}x.forEach((S,C)=>{if(p.type==="fraction"&&(S.querySelectorAll(es(p.currentClass)).forEach(T=>{T.textContent=p.formatFractionCurrent(E+1)}),S.querySelectorAll(es(p.totalClass)).forEach(T=>{T.textContent=p.formatFractionTotal(k)})),p.type==="progressbar"){let T;p.progressbarOpposite?T=e.isHorizontal()?"vertical":"horizontal":T=e.isHorizontal()?"horizontal":"vertical";const I=(E+1)/k;let P=1,O=1;T==="horizontal"?P=I:O=I,S.querySelectorAll(es(p.progressbarFillClass)).forEach(L=>{L.style.transform=`translate3d(0,0,0) scaleX(${P}) scaleY(${O})`,L.style.transitionDuration=`${e.params.speed}ms`})}p.type==="custom"&&p.renderCustom?(Ic(S,p.renderCustom(e,E+1,k)),C===0&&o("paginationRender",S)):(C===0&&o("paginationRender",S),o("paginationUpdate",S)),e.params.watchOverflow&&e.enabled&&S.classList[e.isLocked?"add":"remove"](p.lockClass)})}function v(){const m=e.params.pagination;if(l())return;const p=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let x=e.pagination.el;x=et(x);let E="";if(m.type==="bullets"){let N=e.params.loop?Math.ceil(p/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&N>p&&(N=p);for(let j=0;j<N;j+=1)m.renderBullet?E+=m.renderBullet.call(e,j,m.bulletClass):E+=`<${m.bulletElement} ${e.isElement?'part="bullet"':""} class="${m.bulletClass}"></${m.bulletElement}>`}m.type==="fraction"&&(m.renderFraction?E=m.renderFraction.call(e,m.currentClass,m.totalClass):E=`<span class="${m.currentClass}"></span> / <span class="${m.totalClass}"></span>`),m.type==="progressbar"&&(m.renderProgressbar?E=m.renderProgressbar.call(e,m.progressbarFillClass):E=`<span class="${m.progressbarFillClass}"></span>`),e.pagination.bullets=[],x.forEach(N=>{m.type!=="custom"&&Ic(N,E||""),m.type==="bullets"&&e.pagination.bullets.push(...N.querySelectorAll(es(m.bulletClass)))}),m.type!=="custom"&&o("paginationRender",x[0])}function g(){e.params.pagination=xS(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const m=e.params.pagination;if(!m.el)return;let p;typeof m.el=="string"&&e.isElement&&(p=e.el.querySelector(m.el)),!p&&typeof m.el=="string"&&(p=[...document.querySelectorAll(m.el)]),p||(p=m.el),!(!p||p.length===0)&&(e.params.uniqueNavElements&&typeof m.el=="string"&&Array.isArray(p)&&p.length>1&&(p=[...e.el.querySelectorAll(m.el)],p.length>1&&(p=p.find(x=>iS(x,".swiper")[0]===e.el))),Array.isArray(p)&&p.length===1&&(p=p[0]),Object.assign(e.pagination,{el:p}),p=et(p),p.forEach(x=>{m.type==="bullets"&&m.clickable&&x.classList.add(...(m.clickableClass||"").split(" ")),x.classList.add(m.modifierClass+m.type),x.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.type==="bullets"&&m.dynamicBullets&&(x.classList.add(`${m.modifierClass}${m.type}-dynamic`),a=0,m.dynamicMainBullets<1&&(m.dynamicMainBullets=1)),m.type==="progressbar"&&m.progressbarOpposite&&x.classList.add(m.progressbarOppositeClass),m.clickable&&x.addEventListener("click",u),e.enabled||x.classList.add(m.lockClass)}))}function y(){const m=e.params.pagination;if(l())return;let p=e.pagination.el;p&&(p=et(p),p.forEach(x=>{x.classList.remove(m.hiddenClass),x.classList.remove(m.modifierClass+m.type),x.classList.remove(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.clickable&&(x.classList.remove(...(m.clickableClass||"").split(" ")),x.removeEventListener("click",u))})),e.pagination.bullets&&e.pagination.bullets.forEach(x=>x.classList.remove(...m.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const m=e.params.pagination;let{el:p}=e.pagination;p=et(p),p.forEach(x=>{x.classList.remove(m.horizontalClass,m.verticalClass),x.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?b():(g(),v(),h())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),r("snapIndexChange",()=>{h()}),r("snapGridLengthChange",()=>{v(),h()}),r("destroy",()=>{y()}),r("enable disable",()=>{let{el:m}=e.pagination;m&&(m=et(m),m.forEach(p=>p.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{h()}),r("click",(m,p)=>{const x=p.target,E=et(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&E&&E.length>0&&!x.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&x===e.navigation.nextEl||e.navigation.prevEl&&x===e.navigation.prevEl))return;const N=E[0].classList.contains(e.params.pagination.hiddenClass);o(N===!0?"paginationShow":"paginationHide"),E.forEach(j=>j.classList.toggle(e.params.pagination.hiddenClass))}});const w=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=et(m),m.forEach(p=>p.classList.remove(e.params.pagination.paginationDisabledClass))),g(),v(),h()},b=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=et(m),m.forEach(p=>p.classList.add(e.params.pagination.paginationDisabledClass))),y()};Object.assign(e.pagination,{enable:w,disable:b,render:v,update:h,init:g,destroy:y})}function MR(t){let{swiper:e,extendParams:n,on:r,emit:o,params:i}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let s,a,l=i&&i.autoplay?i.autoplay.delay:3e3,c=i&&i.autoplay?i.autoplay.delay:3e3,d,u=new Date().getTime(),h,v,g,y,w,b,m;function p(B){!e||e.destroyed||!e.wrapperEl||B.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",p),!(m||B.detail&&B.detail.bySwiperTouchMove)&&C())}const x=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?h=!0:h&&(c=d,h=!1);const B=e.autoplay.paused?d:u+c-new Date().getTime();e.autoplay.timeLeft=B,o("autoplayTimeLeft",B,B/l),a=requestAnimationFrame(()=>{x()})},E=()=>{let B;return e.virtual&&e.params.virtual.enabled?B=e.slides.find(R=>R.classList.contains("swiper-slide-active")):B=e.slides[e.activeIndex],B?parseInt(B.getAttribute("data-swiper-autoplay"),10):void 0},N=B=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),x();let M=typeof B>"u"?e.params.autoplay.delay:B;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const R=E();!Number.isNaN(R)&&R>0&&typeof B>"u"&&(M=R,l=R,c=R),d=M;const z=e.params.speed,V=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(z,!0,!0),o("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,z,!0,!0),o("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(z,!0,!0),o("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,z,!0,!0),o("autoplay")),e.params.cssMode&&(u=new Date().getTime(),requestAnimationFrame(()=>{N()})))};return M>0?(clearTimeout(s),s=setTimeout(()=>{V()},M)):requestAnimationFrame(()=>{V()}),M},j=()=>{u=new Date().getTime(),e.autoplay.running=!0,N(),o("autoplayStart")},k=()=>{e.autoplay.running=!1,clearTimeout(s),cancelAnimationFrame(a),o("autoplayStop")},S=(B,M)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(s),B||(b=!0);const R=()=>{o("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",p):C()};if(e.autoplay.paused=!0,M){w&&(d=e.params.autoplay.delay),w=!1,R();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-u),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),R())},C=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(u=new Date().getTime(),b?(b=!1,N(d)):N(),e.autoplay.paused=!1,o("autoplayResume"))},T=()=>{if(e.destroyed||!e.autoplay.running)return;const B=Tn();B.visibilityState==="hidden"&&(b=!0,S(!0)),B.visibilityState==="visible"&&C()},I=B=>{B.pointerType==="mouse"&&(b=!0,m=!0,!(e.animating||e.autoplay.paused)&&S(!0))},P=B=>{B.pointerType==="mouse"&&(m=!1,e.autoplay.paused&&C())},O=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",I),e.el.addEventListener("pointerleave",P))},L=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",I),e.el.removeEventListener("pointerleave",P))},A=()=>{Tn().addEventListener("visibilitychange",T)},D=()=>{Tn().removeEventListener("visibilitychange",T)};r("init",()=>{e.params.autoplay.enabled&&(O(),A(),j())}),r("destroy",()=>{L(),D(),e.autoplay.running&&k()}),r("_freeModeStaticRelease",()=>{(g||b)&&C()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?k():S(!0,!0)}),r("beforeTransitionStart",(B,M,R)=>{e.destroyed||!e.autoplay.running||(R||!e.params.autoplay.disableOnInteraction?S(!0,!0):k())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){k();return}v=!0,g=!1,b=!1,y=setTimeout(()=>{b=!0,g=!0,S(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!v)){if(clearTimeout(y),clearTimeout(s),e.params.autoplay.disableOnInteraction){g=!1,v=!1;return}g&&e.params.cssMode&&C(),g=!1,v=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(w=!0)}),Object.assign(e.autoplay,{start:j,stop:k,pause:S,resume:C})}const Nl=({post:t})=>{var d,u;const[e,n]=_.useState(!1),r="https://images.unsplash.com/photo-1465101178521-c1a9136a3b99?auto=format&fit=crop&w=400&q=80",{userAuth:o,setUserAuth:i}=_.useContext(ye),[s,a]=_.useState(!1),l=(d=o==null?void 0:o.bookmarked_blogs)==null?void 0:d.includes(t.blog_id),c=async h=>{if(h.preventDefault(),!(!(o!=null&&o.access_token)||s)){a(!0);try{const v=t.blog_id,g=l?"/unbookmark-blog":"/bookmark-blog";await Xn.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api"+g,{blog_id:v},{headers:{Authorization:`Bearer ${o.access_token}`}});const{data:y}=await Xn.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-profile",{username:o.username});Xt({...y,access_token:o.access_token},i)}catch(v){he.error("Failed to update bookmark. Please try again."),console.error("Bookmark error:",v)}finally{setTimeout(()=>{a(!1)},300)}}};return f.jsx(f.Fragment,{children:f.jsx(ee,{to:`/blog/${t.blog_id||t._id}`,className:"block w-full max-w-full",children:f.jsxs("div",{className:"flex flex-col bg-white rounded-lg shadow-md p-4 h-[340px] w-full max-w-full hover:shadow-lg transition-shadow duration-300 cursor-pointer overflow-hidden",children:[f.jsx("img",{src:e?r:t.banner||r,alt:t.title,className:"rounded-md w-full h-32 object-cover mb-3",onError:()=>n(!0)}),f.jsx("h3",{className:"font-semibold text-base mb-1 line-clamp-2",children:t.title}),f.jsx("p",{className:"text-gray-500 text-sm mb-3 line-clamp-2",children:t.description}),f.jsxs("div",{className:"flex items-center mt-auto bg-gray-100 rounded-xl px-3 w-full",children:[t.author&&t.author.avatar&&f.jsx("img",{src:t.author.avatar,alt:t.author.name||"Author",className:"w-8 h-8 rounded-full"}),f.jsxs("div",{className:"ml-2 flex-grow flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium ",children:((u=t.author)==null?void 0:u.name)||"Unknown Author"}),f.jsx("div",{className:"text-xs text-gray-400",children:t.date?Gk(t.date):"No date"})]}),f.jsx("button",{onClick:c,"aria-label":l?"Unbookmark":"Bookmark",disabled:s,children:l?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M5 5v14l7-7 7 7V5a2 2 0 00-2-2H7a2 2 0 00-2 2z"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 hover:text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5v14l7-7 7 7V5a2 2 0 00-2-2H7a2 2 0 00-2 2z"})})})]})]})]})})})},RR=()=>{let[t,e]=_.useState(null),[n,r]=_.useState(null),[o,i]=_.useState("home");const{userAuth:s,setUserAuth:a}=_.useContext(ye),{setBlogImages:l,setCategories:c}=_.useContext(kd);s!=null&&s.liked_blogs,s!=null&&s.bookmarked_blogs;const[d,u]=_.useState(!1),[h,v]=_.useState(1),[g,y]=_.useState(1),[w,b]=_.useState(1),[m,p]=_.useState(1),[x,E]=_.useState([]),[N,j]=_.useState([]),[k,S]=_.useState([]),[C,T]=_.useState([]),[I,P]=_.useState(!1),[O,L]=_.useState(!1),[A,D]=_.useState(!1),[B,M]=_.useState(!1);_.useState([]),_.useState([]),_.useState([]),_.useState([]);const R=["islam","prophets","religion","basics","sahaba","anbiya"],z=_.useMemo(()=>{const U=((t==null?void 0:t.results)||[]).flatMap(X=>X.tags||[]);return Array.from(new Set([...R,...U]))},[t==null?void 0:t.results]);_.useEffect(()=>{c&&c(z);const X=[...(t==null?void 0:t.results)||[],...n||[],...x,...N,...k,...C].filter(ne=>ne.banner&&ne.blog_id).slice(0,12);l&&l(X)},[t,n,x,N,k,C,c,l]);let[V,te]=_.useState([]);_.useState(1);let[Y,pe]=_.useState(!1);const me=6,je=async(U=1)=>{try{const{data:X}=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/latest-blogs",{page:U},{timeout:1e4}),ne=await Po({state:t,data:X.blogs,page:U,countRoute:"/all-latest-blogs-count",create_new_arr:U===1});ne&&e(ne)}catch(X){console.error("Error fetching latest blogs:",X),e(ne=>ne||{results:[],page:1,totalDocs:0})}},Et=async(U=1)=>{try{const{data:X}=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/search-blogs",{tag:o,page:U},{timeout:1e4}),ne=await Po({state:t,data:X.blogs,page:U,countRoute:"/search-blogs-count",create_new_arr:U===1,data_to_send:{tag:o}});ne&&e(ne)}catch(X){console.error("Error fetching category blogs:",X),e(ne=>ne||{results:[],page:1,totalDocs:0})}},rt=()=>{G.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/trending-blogs",{timeout:1e4}).then(({data:U})=>{r(U.blogs)}).catch(U=>{console.error("Error fetching trending blogs:",U),r([])})},Le=U=>{const X=U.toLowerCase();i(o===X?"home":X),e(null)},Fe=async(U=1)=>{pe(!0);try{const{data:X}=await G.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/trending-blogs");te(U===1?X.blogs.slice(0,me):ne=>[...ne,...X.blogs.slice((U-1)*me,U*me)])}catch{te([])}finally{pe(!1)}},qe=async(U=1)=>{P(!0);try{const{data:X}=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/latest-blogs",{page:U}),ne=X.blogs.sort((Ie,re)=>{var $e,gt;return((($e=re.activity)==null?void 0:$e.total_reads)||0)-(((gt=Ie.activity)==null?void 0:gt.total_reads)||0)}),de=(U-1)*4,we=de+4,Ee=ne.slice(de,we);Ee.length===0&&U>1?(v(1),qe(1)):E(Ee)}catch(X){console.error("Error fetching popular blogs:",X),E([])}finally{P(!1)}},At=async(U=1)=>{L(!0);try{const{data:X}=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/latest-blogs",{page:U}),ne=X.blogs.map(de=>({...de,date:jo(de.publishedAt)}));j(ne)}catch(X){console.error("Error fetching new blogs:",X),j([])}finally{L(!1)}},sr=async(U=1)=>{D(!0);try{const{data:X}=await G.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/trending-blogs"),ne=(U-1)*4,de=ne+4,we=X.blogs.slice(ne,de);S(we)}catch(X){console.error("Error fetching trendy blogs:",X),S([])}finally{D(!1)}},Pn=async(U=1)=>{M(!0);try{const{data:X}=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/latest-blogs",{page:U}),ne=X.blogs.sort((Ie,re)=>{var ar,lr,zi,un;const $e=(((ar=Ie.activity)==null?void 0:ar.total_likes)||0)+(((lr=Ie.activity)==null?void 0:lr.total_comments)||0);return(((zi=re.activity)==null?void 0:zi.total_likes)||0)+(((un=re.activity)==null?void 0:un.total_comments)||0)-$e}),de=(U-1)*4,we=de+4,Ee=ne.slice(de,we);Ee.length===0&&U>1?(p(1),Pn(1)):T(Ee)}catch(X){console.error("Error fetching top blogs:",X),T([])}finally{M(!1)}},[eo,Ta]=_.useState(1),[Ca,_a]=_.useState(1);_.useEffect(()=>{(async()=>{try{Rn!=null&&Rn.current&&Rn.current.click(),e(null),o=="home"?await je(1):await Et(1),n||rt(),V.length===0&&Fe(1),x.length===0&&qe(1),N.length===0&&At(1),k.length===0&&sr(1),C.length===0&&Pn(1)}catch(X){console.error("Error loading initial data:",X),e({results:[],page:1,totalDocs:0}),r([])}})()},[o]),_.useEffect(()=>{G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/all-latest-blogs-count").then(({data:U})=>{U.totalDocs&&(Ta(Math.ceil(U.totalDocs/4)),_a(Math.ceil(U.totalDocs/4)))}).catch(()=>{Ta(1),_a(1)})},[]);const Sd=()=>{if(h<eo){const U=h+1;v(U),qe(U)}},Na=()=>{if(h>1){const U=h-1;v(U),qe(U)}},Ed=()=>{const U=g+1;y(U),At(U)},K=()=>{if(g>1){const U=g-1;y(U),At(U)}},se=()=>{const U=w+1;b(U),sr(U)},mt=()=>{if(w>1){const U=w-1;b(U),sr(U)}},ve=()=>{if(m<Ca){const U=m+1;p(U),Pn(U)}},Ze=()=>{if(m>1){const U=m-1;p(U),Pn(U)}},be=async U=>{var ne;if(!(s!=null&&s.access_token)||d)return;const X=(ne=s==null?void 0:s.bookmarked_blogs)==null?void 0:ne.includes(U);u(!0);try{const de=X?"/api/unbookmark-blog":"/api/bookmark-blog";await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev"+de,{blog_id:U},{headers:{Authorization:`Bearer ${s.access_token}`}});const{data:we}=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-profile",{username:s.username});Xt({...we,access_token:s.access_token},a)}catch(de){console.error("Bookmark error:",de)}finally{setTimeout(()=>{u(!1)},300)}};return f.jsxs(Me,{children:[f.jsx(i5,{categories:z,onCategorySelect:Le}),f.jsxs("section",{className:"h-cover flex flex-col gap-10 px-[5vw]",children:[f.jsxs("div",{className:"w-full",children:[f.jsx("div",{className:"flex items-center justify-between mb-8"}),n==null?f.jsx(Be,{}):n.length>0&&f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[n.slice(0,2).map((U,X)=>f.jsx("div",{className:"h-[300px]",children:f.jsx(zv,{blog:U})},X)),f.jsx("div",{className:"h-[300px] lg:col-span-2",children:f.jsx(yS,{modules:[BR,OR,MR],spaceBetween:50,slidesPerView:1,navigation:!0,pagination:{clickable:!0},autoplay:{delay:3e3,disableOnInteraction:!1},loop:!0,className:"h-full",children:n.slice(2).map((U,X)=>f.jsx(bS,{children:f.jsx(zv,{blog:U})},X))})})]})]}),f.jsxs("div",{className:"w-full",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsx("h1",{className:"font-medium text-2xl",children:"Popular Posts"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:Na,disabled:h===1||I,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),f.jsx("button",{onClick:Sd,disabled:I||h>=eo,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:I?f.jsx("div",{className:"col-span-full flex justify-center py-8 ",children:f.jsxs("div",{className:"flex items-center gap-2 ",children:[f.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 border-yellow-4600 rounded-full animate-spin "}),f.jsx("span",{className:"text-gray-600",children:"Loading blogs..."})]})}):x.length===0?f.jsx(Be,{}):x.length?x.map((U,X)=>{var ne,de,we,Ee;return f.jsx(Me,{children:f.jsx(Nl,{post:{banner:U.banner,title:U.title,description:U.des||U.description,author:{name:(de=(ne=U.author)==null?void 0:ne.personal_info)==null?void 0:de.fullname,avatar:(Ee=(we=U.author)==null?void 0:we.personal_info)==null?void 0:Ee.profile_img},date:U.publishedAt||U.createdAt,blog_id:U.blog_id||U._id}})},X)}):f.jsx(Nt,{message:"No Blogs Published"})})]}),f.jsxs("div",{className:"w-full mt-12",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsx("h1",{className:"font-medium text-2xl",children:"New Posts"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:K,disabled:g===1||O,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),f.jsx("button",{onClick:Ed,disabled:O,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:O?f.jsx("div",{className:"col-span-full flex justify-center py-8",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 border-yellow-400 rounded-full animate-spin"}),f.jsx("span",{className:"text-gray-600",children:"Loading blogs..."})]})}):N.length===0?f.jsx(Be,{}):N.length?N.slice(0,6).map((U,X)=>{var ne,de,we,Ee,Ie,re,$e;return f.jsx(ee,{to:`/blog/${U.blog_id||U._id}`,className:"block",children:f.jsxs("div",{className:"flex flex-col sm:flex-row bg-white rounded-xl shadow p-4 gap-4 items-center hover:shadow-lg transition-shadow duration-300 cursor-pointer",children:[f.jsx("img",{src:U.banner||"/src/imgs/default.jpg",alt:U.title,className:"w-full sm:w-32 h-40 sm:h-32 object-cover rounded-lg"}),f.jsxs("div",{className:"flex-1 flex flex-col justify-between h-full",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"font-semibold text-lg line-clamp-2",children:U.title}),f.jsx("p",{className:"text-gray-500 text-sm mt-1 line-clamp-2",children:U.des||U.description})]}),f.jsxs("div",{className:"flex items-center justify-between mt-4 bg-gray-100 rounded-lg px-3 ",children:[f.jsxs("div",{className:"flex items-center gap-2 rounded-lg px-3 py-2",children:[f.jsx("img",{src:((de=(ne=U.author)==null?void 0:ne.personal_info)==null?void 0:de.profile_img)||"/src/imgs/default.jpg",alt:(Ee=(we=U.author)==null?void 0:we.personal_info)==null?void 0:Ee.fullname,className:"w-8 h-8 rounded-full object-cover"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-sm font-medium",children:(re=(Ie=U.author)==null?void 0:Ie.personal_info)==null?void 0:re.fullname}),f.jsx("span",{className:"text-xs text-gray-500 mt-0.5",children:U.publishedAt?jo(U.publishedAt):""})]})]}),f.jsx("button",{className:"ml-3",onClick:gt=>{gt.preventDefault(),gt.stopPropagation(),be(U.blog_id||U._id)},disabled:d,children:($e=s==null?void 0:s.bookmarked_blogs)!=null&&$e.includes(U.blog_id||U._id)?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M5 5v14l7-7 7 7V5a2 2 0 00-2-2H7a2 2 0 00-2 2z"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 hover:text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5v14l7-7 7 7V5a2 2 0 00-2-2H7a2 2 0 00-2 2z"})})})]})]})]})},X)}):f.jsx(Nt,{message:"No Most Viewed Blogs"})})]}),f.jsxs("div",{className:"w-full mt-12",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsx("h1",{className:"font-medium text-2xl",children:"Trendy Posts"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:mt,disabled:w===1||A,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),f.jsx("button",{onClick:se,disabled:A,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:A?f.jsx("div",{className:"col-span-full flex justify-center py-8",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 border-yellow-400 rounded-full animate-spin"}),f.jsx("span",{className:"text-gray-600",children:"Loading blogs..."})]})}):k.length===0?f.jsx(Be,{}):k.length?k.map((U,X)=>{var ne,de,we,Ee;return f.jsx(Me,{children:f.jsx(Nl,{post:{banner:U.banner,title:U.title,description:U.des||U.description,author:{name:(de=(ne=U.author)==null?void 0:ne.personal_info)==null?void 0:de.fullname,avatar:(Ee=(we=U.author)==null?void 0:we.personal_info)==null?void 0:Ee.profile_img},date:U.publishedAt||U.createdAt,blog_id:U.blog_id||U._id}})},X)}):f.jsx(Nt,{message:"No Trendy Blogs"})})]}),f.jsxs("div",{className:"w-full mt-12",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsx("h1",{className:"font-medium text-2xl",children:"Top Posts"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:Ze,disabled:m===1||B,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),f.jsx("button",{onClick:ve,disabled:B||m>=Ca,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:B?f.jsx("div",{className:"col-span-full flex justify-center py-8",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 border-yellow-400 rounded-full animate-spin"}),f.jsx("span",{className:"text-gray-600",children:"Loading blogs..."})]})}):C.length===0?f.jsx(Be,{}):C.length?C.map((U,X)=>{var ne,de,we,Ee;return f.jsx(Me,{children:f.jsx(Nl,{post:{banner:U.banner,title:U.title,description:U.des||U.description,author:{name:(de=(ne=U.author)==null?void 0:ne.personal_info)==null?void 0:de.fullname,avatar:(Ee=(we=U.author)==null?void 0:we.personal_info)==null?void 0:Ee.profile_img},date:U.publishedAt||U.createdAt,blog_id:U.blog_id||U._id}})},X)}):f.jsx(Nt,{message:"No Top Blogs"})})]})]})]})},DR=({user:t})=>{let{personal_info:{fullname:e,username:n,profile_img:r}}=t;return f.jsxs(ee,{to:`/user/${n}`,className:"flex gap-5 items-center mb-5",children:[f.jsx("img",{src:r||"/src/imgs/user profile.png",className:"w-14 h-14 rounded-full",alt:e}),f.jsxs("div",{children:[f.jsx("h1",{className:"font-medium text-xl line-clamp-2",children:e}),f.jsxs("p",{className:"text-dark-grey",children:["@",n]})]})]})},FR=()=>{let{query:t}=Mo();const{userAuth:e,setUserAuth:n}=_.useContext(ye);let[r,o]=_.useState(null),[i,s]=_.useState(null);const a=({page:h=1,create_new_arr:v=!1})=>{G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/search-blogs",{query:t,page:h}).then(async({data:g})=>{let y=await Po({state:r,data:g.blogs,page:h,countRoute:"/search-blogs-count",data_to_send:{query:t},create_new_arr:v});o(y)}).catch(g=>{console.log(g)})},l=()=>{G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/search-users",{query:t}).then(({data:{users:h}})=>{s(h)}).catch(h=>{console.log(h)})},c=()=>{o(null),s(null)};_.useEffect(()=>{c(),l(),a({page:1,create_new_arr:!0})},[t]);const d=(h,v)=>{n(g=>{if(!g)return g;let y=g.liked_blogs||[];return h?y.includes(v)||(y=[...y,v]):y=y.filter(w=>w!==v),{...g,liked_blogs:y}})},u=()=>f.jsx(f.Fragment,{children:i===null?f.jsx(Be,{}):i.length?i.map((h,v)=>f.jsx(Me,{transition:{duration:1,delay:v*.08},children:f.jsx(DR,{user:h})},v)):f.jsx(Nt,{message:"No user found"})});return f.jsxs("section",{className:"h-cover flex justify-center gap-10",children:[f.jsx("div",{className:"w-full",children:f.jsx(Sc,{routes:[`Search Results from ${t}`,"Accounts Matched"],defaultHidden:["Accounts Matched"],children:[f.jsx(f.Fragment,{children:r===null?f.jsx(Be,{}):f.jsx(f.Fragment,{children:r.results.length?f.jsxs(f.Fragment,{children:[r.results.map((h,v)=>{var g;return f.jsx(Me,{transition:{duration:1,delay:v*.1},children:f.jsx(ai,{content:h,author:h.author.personal_info,liked:(g=e==null?void 0:e.liked_blogs)==null?void 0:g.includes(h.blog_id),onLikeToggle:d})},v)}),f.jsx(Wn,{state:r,fetchDataFun:a})]}):f.jsx(Nt,{message:"No blogs published"})})}),f.jsx(u,{})]})}),f.jsxs("div",{className:"min-w-[40%] lg:min-w-[350px] max-w-min border-1 border-grey pl-8 pt-3 max-md:hidden",children:[f.jsxs("h1",{className:"font-medium text-xl mb-8",children:["User related to search ",f.jsx("i",{className:"fi fi-rr-user mt-1"})]}),f.jsx(u,{})]})]})},wS=()=>f.jsxs("section",{className:"h-cover relative p-10 flex flex-col items-center gap-20 text-center",children:[f.jsx("img",{src:g1,className:"select-none border-2 border-grey w-72 aspect-[2/1] object-cover rounded"}),f.jsx("h1",{className:"text-4xl font-gelasio leading-7",children:"Page not found"}),f.jsxs("p",{className:"text-dark-grey text-xl leading-7 -mt-8",children:["The page you are looking for has been moved or deleted. ",f.jsx("br",{}),"Head back to the ",f.jsx(ee,{to:"/",className:"text-black underline",children:"home page"})]}),f.jsxs("div",{className:"mt-auto",children:[f.jsx(ee,{to:"/",className:"text-2xl font-bold text-[#185d4e] shrink-0",children:"IslamicStories"}),f.jsx("p",{className:"mt-5 text-dark-grey",children:"Read motivating stories about Islam"})]})]}),UR="modulepreload",zR=function(t){return"/"+t},Kv={},$R=function(e,n,r){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=zR(i),i in Kv)return;Kv[i]=!0;const s=i.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let d=o.length-1;d>=0;d--){const u=o[d];if(u.href===i&&(!s||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":UR,s||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),s)return new Promise((d,u)=>{c.addEventListener("load",d),c.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},VR=({className:t="",bio:e="",social_links:n={},joinedAt:r,personal_info:o={}})=>{const{firstname:i,lastname:s,username:a,email:l,fullname:c,profile_img:d}=o;return f.jsxs("div",{className:"w-full max-w-xl mx-auto flex flex-col items-center justify-center bg-white rounded-xl shadow-lg p-8 md:p-12 gap-4 text-center "+t,children:[d&&f.jsx("img",{src:d,alt:"Profile",className:"w-32 h-32 object-cover rounded-full border-4 border-primary mb-4 shadow"}),c&&f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:c}),a&&f.jsxs("p",{className:"text-lg text-primary font-medium mb-1",children:["@",a]}),(i||s)&&f.jsxs("p",{className:"text-lg text-gray-600 mb-1",children:[i," ",s]}),l&&f.jsx("p",{className:"text-base text-gray-500 mb-2",children:l}),e!=null&&e.length?f.jsx("p",{className:"text-lg leading-7 text-gray-700 mb-4",children:e}):null,f.jsx("div",{className:"flex items-center justify-center gap-x-5 gap-y-2 flex-wrap my-4 text-dark-grey",children:Object.keys(n).map(u=>{let h=n[u];return h?f.jsx(ee,{to:h,target:"_blank",children:f.jsx("i",{className:"fi "+(u!=="website"?"fi-brands-"+u:"fi-rr-globe")+" text-2xl hover:text-primary transition-colors"})},u):null})}),r&&f.jsxs("p",{className:"text-base text-gray-400 mt-2",children:["Joined on ",Gk(r)]})]})},wh={personal_info:{fullname:"",username:"",profile_img:"",bio:""},account_info:{total_posts:0,total_blogs:0},social_links:{},joinedAt:""},HR=()=>{console.log("Rendering ProfilePage");let{id:t}=Mo(),[e,n]=_.useState(wh),[r,o]=_.useState(!0),[i,s]=_.useState(null),[a,l]=_.useState("");const[c,d]=_.useState(null),[u,h]=_.useState(null),[v,g]=_.useState(!1);let{personal_info:{fullname:y,username:w,profile_img:b,bio:m},account_info:{total_posts:p,total_reads:x},social_links:E,joinedAt:N}=e;const{userAuth:j,setUserAuth:k}=_.useContext(ye);j!=null&&j.username;const S=(j==null?void 0:j.isAdmin)||(j==null?void 0:j.admin)||(j==null?void 0:j.role)==="admin",C=(j==null?void 0:j.username)&&w&&j.username===w;if(console.log("Profile debug:",{userAuthUsername:j==null?void 0:j.username,profileUsername:w,isOwnProfile:C,bookmarked_blogs:j==null?void 0:j.bookmarked_blogs,bookmarkedBlogsState:u,profile:e,userAuth:j}),!j)return console.log("User not authenticated or userAuth not loaded yet."),f.jsx(Be,{});const T=(B,M)=>{k(R=>{if(!R)return R;let z=R.liked_blogs||[];return B?z.includes(M)||(z=[...z,M]):z=z.filter(V=>V!==M),{...R,liked_blogs:z}})},I=()=>{G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-profile",{username:t}).then(({data:B})=>{B?(n(B),console.log("Fetched profile:",B),l(t),S&&P({user_id:B._id}),C&&$R(()=>Promise.resolve().then(()=>BP),void 0).then(({updateUserAuth:M})=>{M(B,k)})):d("User not found"),o(!1)}).catch(B=>{console.log(B),o(!1)})},P=async({page:B=1,user_id:M})=>{M=M||(i==null?void 0:i.user_id);try{const{data:{blogs:R,total:z}}=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/search-blogs",{author:M,page:B}),V=await Po({state:i,data:R,page:B,countRoute:"/search-blogs-count",data_to_send:{author:M},create_new_arr:B===1});V&&s(V)}catch(R){console.error("Error fetching blogs:",R)}},O=(B,M)=>{P({page:M,user_id:B})},L=async({page:B=1})=>{var M,R;if(console.log("getBookmarkedBlogs called:",{page:B,bookmarked_blogs:j==null?void 0:j.bookmarked_blogs,length:(M=j==null?void 0:j.bookmarked_blogs)==null?void 0:M.length,userAuth:j}),!((R=j==null?void 0:j.bookmarked_blogs)!=null&&R.length)){console.log("No bookmarked blogs found, setting empty state"),h({results:[],page:1,totalDocs:0});return}try{console.log("Making API call to get-blogs-by-ids with:",{blog_ids:j.bookmarked_blogs,page:B,limit:5});const{data:{blogs:z,totalDocs:V}}=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-blogs-by-ids",{blog_ids:j.bookmarked_blogs,page:B,limit:5});console.log("Setting bookmarkedBlogs:",z),console.log("Rendering bookmarkedBlogs.results:",z),z.forEach((te,Y)=>{console.log(`Blog #${Y}:`,te)}),h(u!==null&&B!==1?{...u,results:[...u.results,...z],page:B,totalDocs:V}:{results:z||[],page:1,totalDocs:V})}catch(z){console.error("Error fetching bookmarked blogs:",z),h({results:[],page:1,totalDocs:0})}},A=({page:B})=>{L({page:B})};_.useEffect(()=>{t!==a&&s(null),i===null&&(D(),I())},[t,i]),_.useEffect(()=>{console.log("useEffect for bookmarks triggered:",{bookmarkedBlogs:u,userAuth:!!j,profileId:t,isOwnProfile:C}),u===null&&j&&C&&(console.log("Fetching bookmarked blogs..."),g(!0),L({page:1}).finally(()=>{g(!1)}))},[j,u,t,C]),_.useEffect(()=>{C&&!S&&a===t&&L({page:1})},[C,S,a,t]);const D=()=>{n(wh),o(!0),l(""),h(null)};return f.jsx(Me,{children:r?f.jsx(Be,{}):e.personal_info.username.length?f.jsxs("section",{className:"h-cover md:flex flex-row-reverse items-start gap-5 min-[1100px]:gap-12",children:[f.jsx("div",{className:"flex flex-col items-center justify-center w-full md:w-[50%] md:pl-8 md:border-l border-grey md:sticky md:top-[100px] md:py-10",children:f.jsx(VR,{personal_info:e.personal_info,bio:m,social_links:E,joinedAt:N})}),f.jsx("div",{className:"w-full",children:C?S?f.jsxs(Sc,{routes:["Published Blogs","Bookmarked Blogs"],defaultActiveIndex:0,children:[f.jsx("div",{label:"Published Blogs",children:i==null?f.jsx(Be,{}):i.results.length?f.jsxs(f.Fragment,{children:[i.results.map((B,M)=>{var R;return f.jsx(Me,{transition:{duration:1,delay:M*.1},children:f.jsx(ai,{content:B,author:B.author.personal_info,liked:(R=j==null?void 0:j.liked_blogs)==null?void 0:R.includes(B.blog_id),onLikeToggle:T})},M)}),f.jsx(Wn,{state:i,fetchDataFun:O,additionalParam:i.user_id})]}):f.jsx(Nt,{message:"No Blogs Published"})}),f.jsx("div",{label:"Bookmarked Blogs",children:!u||!Array.isArray(u.results)?f.jsx(Be,{}):u.results.length===0?f.jsx(Nt,{message:"No Bookmarked Blogs"}):f.jsxs(f.Fragment,{children:[u.results.map((B,M)=>{var R;return f.jsx(Me,{transition:{duration:1,delay:M*.1},children:f.jsx(ai,{content:B,author:B.author.personal_info,liked:(R=j==null?void 0:j.liked_blogs)==null?void 0:R.includes(B.blog_id),onLikeToggle:T})},M)}),f.jsx("div",{className:"flex justify-center mt-4",children:f.jsx(Wn,{state:u,fetchDataFun:A})})]})})]}):f.jsx("div",{children:f.jsxs("div",{label:"Bookmarked Blogs",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Bookmarked Blogs"}),!u||!Array.isArray(u.results)?f.jsx(Be,{}):u.results.length===0?f.jsx(Nt,{message:"No Bookmarked Blogs"}):f.jsxs(f.Fragment,{children:[u.results.map((B,M)=>{var R;return f.jsx(Me,{transition:{duration:1,delay:M*.1},children:f.jsx(ai,{content:B,author:B.author.personal_info,liked:(R=j==null?void 0:j.liked_blogs)==null?void 0:R.includes(B.blog_id),onLikeToggle:T})},M)}),f.jsx("div",{className:"flex justify-center mt-4",children:f.jsx(Wn,{state:u,fetchDataFun:A})})]})]})}):f.jsx(Sc,{routes:["Published Blogs","About"],defaultActiveIndex:0,children:S&&f.jsx("div",{label:"Published Blogs",children:i==null?f.jsx(Be,{}):i.results.length?f.jsxs(f.Fragment,{children:[i.results.map((B,M)=>{var R;return f.jsx(Me,{transition:{duration:1,delay:M*.1},children:f.jsx(ai,{content:B,author:B.author.personal_info,liked:(R=j==null?void 0:j.liked_blogs)==null?void 0:R.includes(B.blog_id),onLikeToggle:T})},M)}),f.jsx(Wn,{state:i,fetchDataFun:O,additionalParam:i.user_id})]}):f.jsx(Nt,{message:"No Blogs Published"})})})})]}):f.jsx(wS,{})})},WR=()=>{const[t,e]=_.useState(!1),{blog:n,setBlog:r,isLikedByUser:o,setLikedByUser:i,commentsWrapper:s,setCommentsWrapper:a}=_.useContext(Ui),{userAuth:l,setUserAuth:c}=_.useContext(ye),{_id:d,title:u="",blog_id:h="",activity:{total_likes:v=0,total_comments:g=0}={},author:{personal_info:{username:y=""}={}}={}}=n||{},{userAuth:{username:w="",access_token:b=""}={}}=_.useContext(ye)||{};_.useEffect(()=>{console.log("BlogInteraction mounted"),console.log("Blog data:",n),console.log("Author username:",y),console.log("Current user:",w),console.log("Should show edit button:",w===y)},[n,w,y]);const m=()=>{if(!t)if(b){e(!0);const p=!o,x=p?v+1:v-1;i&&i(p),r&&r(E=>({...E,activity:{...E.activity,total_likes:x}})),G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/like-blog",{blog_id:h},{headers:{Authorization:`Bearer ${b}`}}).then(()=>{c&&c(E=>{if(!E)return E;let N=E.liked_blogs||[];return p?N.includes(h)||(N=[...N,h]):N=N.filter(j=>j!==h),{...E,liked_blogs:N}})}).catch(E=>{i&&i(!p),r&&r(N=>({...N,activity:{...N.activity,total_likes:v}})),H.error("Failed to update like status")}).finally(()=>{e(!1)})}else H.error("Please login to like this blog")};return f.jsxs(f.Fragment,{children:[f.jsx(In,{}),f.jsx("hr",{className:"border-grey my-2"}),f.jsxs("div",{className:"flex gap-6 justify-between",children:[f.jsxs("div",{className:"flex gap-3 items-center",children:[f.jsx("button",{onClick:m,disabled:t,className:`w-10 h-10 rounded-full flex items-center justify-center ${o?"bg-red/20 text-red":"bg-grey/80"} ${t?"cursor-not-allowed":""}`,children:f.jsx("i",{className:`fi ${o?"fi-sr-heart":"fi-rr-heart"}`})}),f.jsx("p",{className:"text-xl text-dark-grey",children:v}),f.jsx("button",{onClick:()=>{a&&a(!0);const p=document.getElementById("comments-section");p&&p.scrollIntoView({behavior:"smooth"})},className:"w-10 h-10 rounded-full flex items-center justify-center bg-grey/80 ",children:f.jsx("i",{className:"fi fi-rr-comment-dots"})}),f.jsx("p",{className:"text-xl text-dark-grey",children:g})]}),f.jsxs("div",{className:"flex gap-6 items-center",children:[w===y&&f.jsx(ee,{to:`/editor/${h}`,className:"underline hover:text-purple-600",children:"Edit"}),f.jsx(ee,{to:`https://twitter.com/intent/tweet?text=Read ${encodeURIComponent(u)}&url=${encodeURIComponent(window.location.href)}`,children:f.jsx("i",{className:"fi fi-brands-twitter text-xl hover:text-twitter"})})]})]}),f.jsx("hr",{className:"border-grey my-2"})]})},GR=({url:t,caption:e})=>!t||t.startsWith("blob:")?(console.warn("Invalid or missing image URL:",t),null):f.jsxs("div",{children:[f.jsx("img",{src:t,alt:e||"blog image"}),(e==null?void 0:e.length)>0&&f.jsx("p",{className:"w-full text-center my-3 md:mb-12 text-base text-dark-grey",children:e})]}),qR=({style:t,items:e})=>f.jsx("ol",{className:`pl-5 ${t==="ordered"?"list-decimal":"list-disc"}`,children:e.map((n,r)=>f.jsx("li",{className:"my-4",dangerouslySetInnerHTML:{__html:n}},r))}),KR=({quote:t,caption:e})=>f.jsxs("div",{className:"bg-purple/10 p-3 pl-5 border-l-4 border-purple",children:[f.jsx("p",{className:"text-xl leading-10 md:text-2xl",children:t}),(e==null?void 0:e.length)>0&&f.jsx("p",{className:"w-full text-purple text-base",children:e})]}),YR=({block:t})=>{const{type:e,data:n}=t;return e==="paragraph"?f.jsx("p",{dangerouslySetInnerHTML:{__html:n.text}}):e==="header"?n.level===3?f.jsx("h3",{className:"text-3xl font-bold",dangerouslySetInnerHTML:{__html:n.text}}):f.jsx("h2",{className:"text-4xl font-bold",dangerouslySetInnerHTML:{__html:n.text}}):e==="image"?f.jsx(GR,{url:n.file.url,caption:n.caption}):e==="quote"?f.jsx(KR,{quote:n.text,caption:n.caption}):e==="list"?f.jsx(qR,{style:n.style,items:n.items}):null},XR=({action:t,type:e="Comment"})=>{var d,u;const[n,r]=_.useState(""),[o,i]=_.useState(!1),{userAuth:s}=_.useContext(ye),{blog:a,setBlog:l}=_.useContext(Ui),c=async h=>{var v,g,y;if(h.preventDefault(),!(!n.trim()||!(a!=null&&a.blog_id))){i(!0);try{const{data:w}=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/add-comment",{blog_id:a.blog_id||a._id,comment:n.trim(),blog_author:(v=a.author)==null?void 0:v._id},{headers:{Authorization:`Bearer ${s==null?void 0:s.access_token}`,"Content-Type":"application/json"}});if(w.success){r("");const b={...a};b.comments||(b.comments={results:[]}),b.activity||(b.activity={total_parent_comments:0}),w.comment&&b.comments.results&&b.comments.results.unshift(w.comment),l(b),H.success("Comment posted successfully!")}}catch(w){console.error("Error submitting comment:",w),(y=(g=w.response)==null?void 0:g.data)!=null&&y.error?H.error("Error posting comment: "+w.response.data.error):H.error("Failed to post comment. Please try again.")}finally{i(!1)}}};return s!=null&&s.access_token?f.jsxs(f.Fragment,{children:[f.jsx(In,{}),f.jsx(Me,{children:f.jsx("form",{onSubmit:c,className:"bg-white p-4 rounded-lg border comment-field",children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("img",{src:((d=s==null?void 0:s.personal_info)==null?void 0:d.profile_img)||(s==null?void 0:s.profile_img)||"/src/imgs/user profile.png",alt:((u=s==null?void 0:s.personal_info)==null?void 0:u.fullname)||(s==null?void 0:s.fullname)||"Profile",className:"w-10 h-10 rounded-full"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("textarea",{value:n,onChange:h=>r(h.target.value),placeholder:"Share your thoughts on this story...",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:border-transparent resize-none",rows:"3",disabled:o,maxLength:500}),f.jsxs("div",{className:"flex justify-between items-center mt-3",children:[f.jsxs("span",{className:"text-sm text-gray-500",children:[n.length,"/500 characters"]}),f.jsx("button",{type:"submit",disabled:!n.trim()||o||n.length>500,className:"px-4 py-2 bg-yellow-300 text-white rounded-lg hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Posting...":`Post ${e}`})]})]})]})})})]}):f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[f.jsx("p",{className:"text-gray-600 mb-2",children:"Please log in to leave a comment"}),f.jsx(ee,{to:"/login",className:"text-yellow-300 hover:text-yellow-400 font-medium",children:"Login to Comment"})]})},JR=({commentData:t,index:e,leftVal:n})=>{var w,b,m,p;if(console.log("CommentCard received commentData:",t),!t||!t._id)return null;const[r,o]=_.useState(!1),{userAuth:i}=_.useContext(ye),{blog:s,setBlog:a,fetchBlog:l}=_.useContext(Ui),{_id:c,comment:d,commented_by:u,commentedAt:h,children:v}=t,g=i&&u&&(i._id===u._id||i.role==="admin"||((w=i.personal_info)==null?void 0:w.role)==="admin"),y=async()=>{var x,E;if(!(!g||!(s!=null&&s.blog_id))&&window.confirm("Are you sure you want to delete this comment?")){o(!0);try{const{data:N}=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/delete-comment",{comment_id:c,blog_id:s.blog_id||s._id},{headers:{Authorization:`Bearer ${i.access_token}`,"Content-Type":"application/json"}});if(N.success)if(typeof l=="function")await l();else{const j={...s};j.comments&&j.comments.results&&(j.comments.results=j.comments.results.filter(k=>k._id!==c)),a(j)}}catch(N){console.error("Error deleting comment:",N),(E=(x=N.response)==null?void 0:x.data)!=null&&E.error?H.error("Error deleting comment: "+N.response.data.error):H.error("Failed to delete comment. Please try again.")}finally{o(!1)}}};return f.jsxs(f.Fragment,{children:[f.jsx(In,{}),f.jsx("div",{className:"bg-white p-4 rounded-lg border hover:shadow-sm transition-shadow",style:{marginLeft:`${n*10}px`},children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("img",{src:((b=u==null?void 0:u.personal_info)==null?void 0:b.profile_img)||(u==null?void 0:u.profile_img)||hc,alt:((m=u==null?void 0:u.personal_info)==null?void 0:m.fullname)||(u==null?void 0:u.fullname)||"User",className:"w-10 h-10 rounded-full flex-shrink-0"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("h4",{className:"font-medium text-gray-800",children:((p=u==null?void 0:u.personal_info)==null?void 0:p.fullname)||(u==null?void 0:u.fullname)||"Unknown User"}),(u==null?void 0:u.role)==="admin"&&f.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-600 text-xs rounded-full",children:"Admin"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("span",{className:"text-xs text-gray-500",children:jo(h)}),g&&f.jsx("button",{onClick:y,disabled:r,className:"text-red-500 hover:text-red-600 text-sm disabled:opacity-50",title:"Delete comment",children:r?"Deleting...":"🗑️"})]})]}),f.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:d})]})]})})]})},QR=async({skip:t=0,blog_id:e,setParentCommentCountFun:n,comment_array:r=null})=>{try{console.log("Fetching comments for blog:",e,"skip:",t);const{data:o}=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-blog-comments",{blog_id:e,skip:t});console.log("Received comments data:",o);const i=o.comments||[];return Array.isArray(i)?(i.forEach(s=>{var a,l,c;s.childrenLevel=0,s.commented_by&&typeof s.commented_by=="object"&&(s.commented_by.fullname=((a=s.commented_by.personal_info)==null?void 0:a.fullname)||"Unknown User",s.commented_by.username=((l=s.commented_by.personal_info)==null?void 0:l.username)||"unknown",s.commented_by.profile_img=((c=s.commented_by.personal_info)==null?void 0:c.profile_img)||"/src/imgs/user profile.png",s.commented_by.role=s.commented_by.role||"user")}),n(s=>s+i.length),r===null?{results:i}:{results:[...r,...i]}):(console.error("Invalid comments data received:",i),{results:[]})}catch(o){return console.error("Error fetching comments:",o),o.response&&(console.error("Error response:",o.response.data),console.error("Error status:",o.response.status)),{results:[]}}},ZR=()=>{var d,u;const t=_.useContext(Ui);if(_.useEffect(()=>{console.log("CommentsContainer mounted with context:",t)},[t]),!t||!t.blog)return console.log("No context or blog data available"),null;const{blog:e,commentsWrapper:n,setCommentsWrapper:r,totalParentCommentsLoaded:o,setTotalParentCommentsLoaded:i}=t,s=((d=e.comments)==null?void 0:d.results)||[],a=Array.isArray(s)?s.filter(h=>h&&h._id):[],l=((u=e.activity)==null?void 0:u.total_comments)||0;console.log("CommentsContainer - blog data:",e),console.log("CommentsContainer - comments array:",s),console.log("CommentsContainer - valid comments array:",a),console.log("CommentsContainer - total parent comments:",l);const c=async()=>{try{const h=await QR({skip:o,blog_id:e.blog_id||e._id,setParentCommentCountFun:i,comment_array:s});t.setBlog({...e,comments:h})}catch(h){console.error("Error loading more comments:",h)}};return f.jsxs("section",{id:"comments-section",className:"w-full mt-12",children:[f.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-700",children:[f.jsx("span",{className:"text-yellow-400 text-base",children:"•"})," Comments"]}),f.jsx(XR,{action:"Comment"}),f.jsx("div",{className:"flex flex-col gap-4",children:a&&a.length?a.map((h,v)=>f.jsx(Me,{children:f.jsx("div",{className:"bg-gray-50 rounded-xl p-5",children:f.jsx(JR,{index:v,leftVal:h.childrenLevel||0,commentData:h})})},v)):f.jsx(Nt,{message:"No Comments"})}),l>o?f.jsx("button",{onClick:c,className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2 mt-6 mx-auto",children:"Load More"}):null]})},e6=({currentBlogId:t,tags:e})=>{const[n,r]=_.useState(null),[o,i]=_.useState(!0),[s,a]=_.useState(4),[l,c]=_.useState(!1),{userAuth:d,setUserAuth:u}=_.useContext(ye);_.useEffect(()=>{(async()=>{if(!e||e.length===0){r([]),i(!1);return}try{const{data:b}=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/search-blogs",{tag:e[0],limit:20,eleminate_blog:t});r(b.blogs)}catch(b){console.error("Error fetching similar blogs:",b),r([])}finally{i(!1)}})()},[t,e]);const h=()=>{c(!0),setTimeout(()=>{a(w=>w+4),c(!1)},500)},v=(w,b)=>{u(m=>{if(!m)return m;let p=m.liked_blogs||[];return w?p.includes(b)||(p=[...p,b]):p=p.filter(x=>x!==b),{...m,liked_blogs:p}})};if(o)return f.jsx(Be,{});if(!n||n.length===0)return null;const g=n.slice(0,s),y=s<n.length;return f.jsxs("div",{className:"mt-14",children:[f.jsx("h1",{className:"text-2xl mb-10 font-medium",children:"Similar Blogs"}),g.map((w,b)=>{var p;let{author:{personal_info:m}}=w;return f.jsx(Me,{transition:{duration:1,delay:b*.1},children:f.jsx(ai,{content:w,author:m,liked:(p=d==null?void 0:d.liked_blogs)==null?void 0:p.includes(w.blog_id),onLikeToggle:v})},b)}),y&&f.jsx("div",{className:"flex justify-center mt-8",children:f.jsx("button",{onClick:h,disabled:l,className:"btn-dark py-3 px-8 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Loading..."]}):"Load More"})})]})},t6=({author:t,tags:e,topPosts:n,blogId:r})=>{var v,g,y;const{setCommentsWrapper:o}=_.useContext(Ui)||{},{userAuth:i,setUserAuth:s}=_.useContext(ye)||{},[a,l]=Q.useState(!1),c=(v=i==null?void 0:i.bookmarked_blogs)==null?void 0:v.includes(r),d=()=>{o&&o(!0);const w=document.getElementById("comments-section");w&&w.scrollIntoView({behavior:"smooth"})},u=async()=>{if(!(!(i!=null&&i.access_token)||a||!r)){l(!0);try{const w=c?"/unbookmark-blog":"/bookmark-blog";await Xn.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api"+w,{blog_id:r},{headers:{Authorization:`Bearer ${i.access_token}`}});const{data:b}=await Xn.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-profile",{username:i.username});Xt({...b,access_token:i.access_token},s)}catch(w){he.error("Failed to update bookmark. Please try again."),console.error("Bookmark error:",w)}finally{setTimeout(()=>l(!1),300)}}},h=async()=>{if(!r)return;const w=window.location.origin+"/blog/"+r;try{await navigator.clipboard.writeText(w),he.success("Blog link copied to clipboard!")}catch{he.error("Failed to copy link.")}};return f.jsxs("aside",{className:"w-full max-w-xs flex flex-col gap-6",children:[f.jsxs("div",{className:"flex gap-3 mb-2",children:[f.jsxs("button",{className:"flex-1 bg-gray-100 hover:bg-gray-200 rounded-lg py-2 flex items-center justify-center gap-2 text-gray-700 font-medium text-sm",onClick:h,disabled:!r,children:[f.jsx("i",{className:"fi fi-rs-paper-plane"})," Share"]}),r&&f.jsxs("button",{className:"flex-1 bg-gray-100 hover:bg-gray-200 rounded-lg py-2 flex items-center justify-center gap-2 text-gray-700 font-medium text-sm",onClick:u,disabled:a,"aria-label":c?"Unbookmark":"Bookmark",children:[c?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M5 5v14l7-7 7 7V5a2 2 0 00-2-2H7a2 2 0 00-2 2z"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 hover:text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5v14l7-7 7 7V5a2 2 0 00-2-2H7a2 2 0 00-2 2z"})}),"Marking"]}),f.jsxs("button",{className:"flex-1 bg-gray-100 hover:bg-gray-200 rounded-lg py-2 flex items-center justify-center gap-2 text-gray-700 font-medium text-sm",onClick:d,children:[f.jsx("i",{className:"fi fi-rs-comment-dots"})," Comment"]})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow p-4 flex items-center gap-4",children:[f.jsx("img",{src:((g=t==null?void 0:t.personal_info)==null?void 0:g.profile_img)||(t==null?void 0:t.profile_img)||"/src/imgs/user profile.png",alt:t==null?void 0:t.fullname,className:"w-16 h-16 rounded-full object-cover"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-semibold text-lg mb-1",children:t==null?void 0:t.fullname}),f.jsxs("div",{className:"text-xs text-gray-400 mb-1",children:["@",((y=t==null?void 0:t.personal_info)==null?void 0:y.username)||(t==null?void 0:t.username)]}),f.jsxs("span",{className:"text-xs text-gray-500",children:[(t==null?void 0:t.total_posts)||0," post",(t==null?void 0:t.total_posts)===1?"":"s"]})]})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow p-4",children:[f.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[f.jsx("span",{className:"text-yellow-400 text-lg",children:"•"})," Tags"]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:e==null?void 0:e.map((w,b)=>f.jsx(ee,{to:`/search/${encodeURIComponent(w)}`,className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-xs cursor-pointer hover:bg-yellow-100 sidebar-tag-link",style:{textDecoration:"none"},children:w},b))})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow p-4",children:[f.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[f.jsx("span",{className:"text-yellow-400 text-lg",children:"•"})," Top Post"]}),f.jsx("div",{className:"flex flex-col gap-3",children:n==null?void 0:n.map((w,b)=>f.jsxs(ee,{to:`/blog/${w.blog_id}`,className:"flex gap-3 items-center hover:bg-gray-50 rounded-lg p-2 transition sidebar-top-post-link",children:[f.jsx("img",{src:w.banner,alt:w.title,className:"w-12 h-12 rounded object-cover"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"font-medium text-sm line-clamp-2",children:w.title}),f.jsx("div",{className:"text-xs text-gray-500 line-clamp-1",children:new Date(w.publishedAt).toLocaleString("default",{month:"short",year:"numeric"})})]})]},w.blog_id))})]})]})};function n6(t){return wd({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function r6(t){return wd({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(t)}function o6(t){return wd({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(t)}const Ui=_.createContext({}),Yv={title:"",des:"",content:[],author:{personal_info:{}},banner:"",publishedAt:"",comments:{results:[]},activity:{total_parent_comments:0}},i6=()=>{var O,L,A,D;const{blog_id:t}=Mo(),[e,n]=_.useState(Yv),[r,o]=_.useState(null),[i,s]=_.useState(!0),[a,l]=_.useState(!1),[c,d]=_.useState(!0),[u,h]=_.useState(0),[v,g]=_.useState([]),[y,w]=_.useState([]),[b,m]=_.useState(null),p=async({blog_id:B,setParentCommentCountFun:M})=>{try{if(console.log("Fetching comments for blog:",B),!B)return console.error("Blog ID is missing"),{results:[]};const{data:R}=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-blog-comments",{blog_id:B});return console.log("Comments response:",R),R.comments?(M(R.comments.length),{results:R.comments}):{results:[]}}catch(R){return console.error("Error fetching comments:",R),R.response&&console.error("Error details:",R.response.data),{results:[]}}},x=async()=>{try{let B=null;try{B=JSON.parse(cd("user")||"{}").access_token,console.log("Retrieved access token:",B?"Token exists":"No token")}catch(V){console.error("Error parsing session data:",V)}const M=B?{Authorization:`Bearer ${B}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"};console.log("Making request with headers:",M);const{data:{blog:R,likedByUser:z}}=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-blog",{blog_id:t},{headers:M});if(console.log("Received blog data:",R),n(R),l(z),R&&R.blog_id){console.log("Fetching comments for blog ID:",R.blog_id);const V=await p({blog_id:R.blog_id,setParentCommentCountFun:h});R.comments=V,n(R)}if(R.tags&&R.tags.length>0){const{data:V}=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/search-blogs",{tag:R.tags[0],limit:6,eleminate_blog:t},{headers:M});o(V.blogs)}}catch(B){console.error("Error fetching blog:",B),B.response&&(console.error("Error details:",B.response.data),console.error("Error status:",B.response.status),console.error("Error headers:",B.response.headers)),n(null)}finally{s(!1)}};if(_.useEffect(()=>{n(Yv),o(null),s(!0),x(),l(!1),d(!1),h(0),G.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/trending-blogs").then(B=>g(B.data.blogs)).catch(console.error),G.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/trending-tags").then(B=>w(B.data.tags.map(M=>M._id))).catch(console.error)},[t]),_.useEffect(()=>{var M,R;const B=(R=(M=e==null?void 0:e.author)==null?void 0:M.personal_info)==null?void 0:R.username;B&&G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-profile",{username:B}).then(z=>m(z.data)).catch(console.error)},[(L=(O=e==null?void 0:e.author)==null?void 0:O.personal_info)==null?void 0:L.username]),i)return f.jsx(Be,{});if(!e)return f.jsx("div",{className:"max-w-[900px] center py-10",children:"Blog not found"});const{title:E="",content:N=[],banner:j="",author:k={personal_info:{}},publishedAt:S=""}=e,{personal_info:{fullname:C="",username:T="",profile_img:I=""}={}}=k,P=N&&N.length>0&&N[0]&&N[0].blocks;return f.jsx(Me,{children:f.jsxs(Ui.Provider,{value:{blog:e,setBlog:n,isLikedByUser:a,setLikedByUser:l,commentsWrapper:c,setCommentsWrapper:d,totalParentCommentsLoaded:u,setTotalParentCommentsLoaded:h,fetchBlog:x},children:[f.jsxs("div",{className:"flex flex-row gap-8 max-w-6xl mx-auto py-10 max-lg:px-[5vw] items-start",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4 leading-tight",children:E}),f.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-gray-500 text-sm mb-6",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("img",{src:I||hc,alt:"Author",className:"w-10 h-10 rounded-full object-cover"}),f.jsx("span",{className:"font-medium text-gray-800",children:C}),f.jsxs("span",{className:"text-gray-400",children:["@",T]})]}),f.jsx("span",{className:"hidden sm:block",children:"•"}),f.jsxs("span",{children:["Published on ",jo(S)]}),f.jsx("span",{className:"hidden sm:block",children:"•"}),f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(n6,{className:"inline-block"})," ",((A=e.activity)==null?void 0:A.total_reads)||0," Views"]}),f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(r6,{className:"inline-block"})," ",((D=e.activity)==null?void 0:D.total_comments)||0," Comments"]}),e.tags&&e.tags.length>0&&f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(o6,{className:"inline-block"})," ",e.tags[0]]})]}),f.jsx("img",{src:j,alt:"Blog Banner",className:"aspect-video rounded-xl w-full object-cover mb-8"}),f.jsx("div",{className:"my-8 font-geliasio blog-page-content text-base md:text-lg leading-relaxed",children:P?N[0].blocks.map((B,M)=>f.jsx("div",{className:"my-4 md:my-8",children:f.jsx(YR,{block:B})},M)):f.jsx("div",{className:"text-gray-500 italic",children:"No content available"})}),f.jsx(e6,{currentBlogId:t,tags:e.tags||[],similarBlogs:r}),f.jsx(WR,{})]}),f.jsx("div",{className:"hidden lg:flex flex-col w-80 flex-shrink-0 gap-6",children:f.jsx(t6,{author:b,tags:e.tags||[],topPosts:v,blogId:e.blog_id})})]}),f.jsx(ZR,{})]})})},Xv=()=>{const{userAuth:t,setUserAuth:e}=_.useContext(ye)||{},n=t==null?void 0:t.access_token,r=t==null?void 0:t.new_notification_available;let o=location.pathname.split("/")[2],[i,s]=_.useState(o.replace("-"," ")),[a,l]=_.useState(!1),c=_.useRef(),d=_.useRef(),u=_.useRef();const h=y=>{let{offsetWidth:w,offsetLeft:b}=y.target;c.current.style.width=w+"px",c.current.style.left=b+"px",y.target===d.current?l(!0):l(!1)},v=()=>{if(r&&n){const y={...t,new_notification_available:!1};Xt(y,e),G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/seen-notifications",{},{headers:{Authorization:`Bearer ${n}`}}).catch(w=>{console.log("Error marking notifications as seen:",w)})}};_.useEffect(()=>{l(!1),u.current.click()},[i]);const g=(t==null?void 0:t.isAdmin)||(t==null?void 0:t.admin)||(t==null?void 0:t.role)==="admin";return n===null?f.jsx(kp,{to:"/signin"}):f.jsxs("section",{className:"relative flex gap-10 py-0 m-0 max-md:flex-col",children:[f.jsxs("div",{className:"z-30",children:[f.jsxs("div",{className:"md:hidden bg-white py-1 border-b border-grey flex flex-nowrap overflow-x-auto",children:[f.jsx("button",{ref:d,className:"p-5 capitalize",onClick:h,children:f.jsx("i",{className:"fi fi-rr-bars-staggered pointer-events-none"})}),f.jsx("button",{ref:u,className:"p-5 capitalize",onClick:h,children:i}),f.jsx("hr",{ref:c,className:"absolute bottom-0 duration-500"})]}),f.jsxs("div",{className:"min-w-[200px] h-[calc(100vh-80px-60px)] md:sticky md:top-24 overflow-y-auto p-6 md:pr-0 md:border-grey md:border-r bg-white max-md:absolute max-md:top-0 max-md:left-0 max-md:w-full max-md:h-screen max-md:z-30 duration-500"+(a?" max-md:translate-x-0 max-md:opacity-100 max-md:pointer-events-auto":" max-md:-translate-x-full max-md:opacity-0 max-md:pointer-events-none"),children:[g&&f.jsxs(f.Fragment,{children:[f.jsx("h1",{className:"text-xl text-dark-grey mb-3",children:"Dashboard"}),f.jsx("hr",{className:"border-grey -ml-6 mb-8 mr-6"}),f.jsxs(Xi,{to:"/dashboard/blogs",onClick:y=>s(y.target.innerText),className:"sidebar-link",children:[f.jsx("i",{className:"fi fi-rr-document"}),"Blogs"]}),f.jsxs(Xi,{to:"/dashboard/notification",onClick:y=>{s(y.target.innerText),v()},className:"sidebar-link",children:[f.jsxs("div",{className:"relative",children:[f.jsx("i",{className:"fi fi-rr-bell"}),r?f.jsx("span",{className:"bg-red w-2 h-2 rounded-full absolute z-10 top-0 right-0"}):""]}),"Notification"]}),f.jsxs(Xi,{to:"/editor",onClick:y=>s(y.target.innerText),className:"sidebar-link",children:[f.jsx("i",{className:"fi fi-rr-file-edit"}),"Write"]})]}),f.jsx("h1",{className:"text-xl text-dark-grey mt-20 mb-3",children:"Settings"}),f.jsx("hr",{className:"border-grey -ml-6 mb-8 mr-6"}),f.jsxs(Xi,{to:"/settings/edit-profile",onClick:y=>s(y.target.innerText),className:"sidebar-link",children:[f.jsx("i",{className:"fi fi-rr-user"}),"Edit Profile"]}),f.jsxs(Xi,{to:"/settings/change-password",onClick:y=>s(y.target.innerText),className:"sidebar-link",children:[f.jsx("i",{className:"fi fi-rr-lock"}),"Change Password"]})]})]}),f.jsx("div",{className:"max-md:mt-0 mt-5 w-full",children:f.jsx(xx,{})})]})},s6=()=>{const[t,e]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[n,r]=_.useState(!1),[o,i]=_.useState(null),[s,a]=_.useState(!1),{userAuth:l}=_.useContext(ye),c=l==null?void 0:l.access_token,d=Nn(),u=v=>{const{name:g,value:y}=v.target;e(w=>({...w,[g]:y}))},h=async v=>{if(v.preventDefault(),r(!0),i(null),a(!1),t.newPassword!==t.confirmPassword){i("New passwords do not match"),r(!1);return}if(t.newPassword.length<6){i("New password must be at least 6 characters long"),r(!1);return}try{const g=await fetch("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/change-password",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({currentPassword:t.currentPassword,newPassword:t.newPassword})}),y=await g.json();g.ok?(a(!0),e({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{d("/profile")},3e3)):i(y.message||"Failed to change password")}catch(g){console.error("Error changing password:",g),i("Failed to change password")}finally{r(!1)}};return f.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:f.jsxs("div",{className:"max-w-md mx-auto px-4",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Change Password"}),f.jsx("p",{className:"text-gray-600",children:"Update your account password"})]}),f.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:f.jsxs("form",{onSubmit:h,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password *"}),f.jsx("input",{type:"password",name:"currentPassword",value:t.currentPassword,onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password *"}),f.jsx("input",{type:"password",name:"newPassword",value:t.newPassword,onChange:u,required:!0,minLength:"6",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:border-transparent"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be at least 6 characters long"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password *"}),f.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:border-transparent"})]}),t.newPassword&&f.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[f.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Password Strength:"}),f.jsx("div",{className:"flex space-x-1",children:[1,2,3,4].map(v=>{const g=t.newPassword.length>=v*2;return f.jsx("div",{className:`flex-1 h-2 rounded ${g?t.newPassword.length>=8?"bg-green-500":"bg-yellow-500":"bg-gray-200"}`},v)})}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.newPassword.length>=8?"Strong password":t.newPassword.length>=6?"Good password":"Weak password"})]}),o&&f.jsx("div",{className:"p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:o}),s&&f.jsx("div",{className:"p-3 bg-green-100 border border-green-400 text-green-700 rounded-lg",children:"Password changed successfully! Redirecting to profile..."}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx("button",{type:"submit",disabled:n,className:"flex-1 px-4 py-2 bg-yellow-400 text-white rounded-lg hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?"Changing...":"Change Password"}),f.jsx("button",{type:"button",onClick:()=>d("/profile"),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})}),f.jsxs("div",{className:"mt-6 bg-yellow-30 p-4 rounded-lg",children:[f.jsx("h3",{className:"font-medium text-yellow-300 mb-2",children:"💡 Security Tips"}),f.jsxs("ul",{className:"text-sm text-yellow-300 space-y-1",children:[f.jsx("li",{children:"• Use a mix of letters, numbers, and symbols"}),f.jsx("li",{children:"• Avoid using personal information"}),f.jsx("li",{children:"• Don't reuse passwords from other accounts"}),f.jsx("li",{children:"• Consider using a password manager"})]})]})]})})},a6=()=>{let{userAuth:t,userAuth:{access_token:e},setUserAuth:n}=_.useContext(ye),r=150,o=_.useRef(),i=_.useRef();const[s,a]=_.useState(wh),[l,c]=_.useState(!0);_.useState(r);const[d,u]=_.useState(null),[h,v]=_.useState(0),[g,y]=_.useState(t.username),[w,b]=_.useState(!1),[m,p]=_.useState(!1);let{personal_info:{fullname:x,username:E,profile_img:N,email:j,bio:k,firstname:S,lastname:C},social_links:T}=s;const I=(M,R)=>{a(z=>({...z,social_links:{...z.social_links,[M]:R}}))},P=M=>{a(R=>({...R,personal_info:{...R.personal_info,username:M.target.value}}))},O=M=>{let R=M.target.files[0];o.current.src=URL.createObjectURL(R),u(R)},L=()=>{document.getElementById("uploadImg").click()},A=M=>{if(M.preventDefault(),m)return;if(!d){L();return}p(!0);let R=H.loading("Uploading...");cM(d,e).then(z=>{z?G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/update-profile-img",{url:z},{headers:{Authorization:`Bearer ${e}`}}).then(({data:V})=>{let te={...t,profile_img:V.profile_img};Xt(te,n),u(null),v(Y=>Y+1),H.dismiss(R),H.success("Uploaded 👍")}).catch(V=>{var Y,pe;H.dismiss(R);let te=((pe=(Y=V==null?void 0:V.response)==null?void 0:Y.data)==null?void 0:pe.error)||V.message||"Upload failed. Please try again.";H.error(te)}):(H.dismiss(R),H.error("Upload failed. Please try again."))}).catch(z=>{var te,Y;H.dismiss(R);let V=((Y=(te=z==null?void 0:z.response)==null?void 0:te.data)==null?void 0:Y.error)||z.message||"Upload failed. Please try again.";H.error(V)}).finally(()=>{p(!1)})},D=M=>{if(M.preventDefault(),w)return;const{firstname:R,lastname:z,username:V,email:te,bio:Y}=s.personal_info,{youtube:pe,facebook:me,twitter:je,github:Et,instagram:rt,website:Le}=T;if(!R||R.length<1)return H.error("First name must be at least 1 letter long");if(!z||z.length<1)return H.error("Last name must be at least 1 letter long");if(!V||V.length<3)return H.error("Username should be at least 3 letters long");if((Y||"").length>r)return H.error(`Bio should not be more than ${r}`);b(!0);let Fe=H.loading("Updating ...");G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/update-profile",{firstname:R,lastname:z,fullname:x,email:te,username:V,bio:Y,social_links:{youtube:pe,facebook:me,twitter:je,github:Et,instagram:rt,website:Le}},{headers:{Authorization:`Bearer ${e}`}}).then(({data:qe})=>{if(t.username!==qe.username){let At={...t,username:qe.username,email:qe.email};Xt(At,n),y(qe.username)}else if(t.email!==qe.email){let At={...t,email:qe.email};Xt(At,n)}v(At=>At+1),H.dismiss(Fe),H.success("Profile Updated")}).catch(qe=>{var sr,Pn;H.dismiss(Fe);let At=((Pn=(sr=qe==null?void 0:qe.response)==null?void 0:sr.data)==null?void 0:Pn.error)||qe.message||"Update failed";H.error(At)}).finally(()=>{b(!1)})},B=M=>{a(R=>({...R,personal_info:{...R.personal_info,email:M.target.value}}))};return _.useEffect(()=>{e&&g&&G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-profile",{username:g}).then(({data:M})=>{a(M),c(!1)}).catch(M=>{console.log(M),c(!1)})},[e,g,h]),_.useEffect(()=>{y(t.username)},[t.username]),f.jsx(Me,{children:l?f.jsx(Be,{}):f.jsxs("form",{ref:i,className:"max-w-6xl mx-auto bg-white rounded-xl shadow-lg p-8 md:p-12 relative",onSubmit:D,children:[f.jsx(In,{}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block mb-1 font-medium",children:"First Name"}),f.jsx(Mn,{name:"firstname",type:"text",value:s.personal_info.firstname||"",placeholder:"First Name",icon:"fi-rr-user",onChange:M=>a(R=>({...R,personal_info:{...R.personal_info,firstname:M.target.value}}))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block mb-1 font-medium",children:"Last Name"}),f.jsx(Mn,{name:"lastname",type:"text",value:s.personal_info.lastname||"",placeholder:"Last Name",icon:"fi-rr-user",onChange:M=>a(R=>({...R,personal_info:{...R.personal_info,lastname:M.target.value}}))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block mb-1 font-medium",children:"User Name"}),f.jsx(Mn,{name:"username",type:"text",value:s.personal_info.username,placeholder:"User Name",icon:"fi-rr-at",onChange:P})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block mb-1 font-medium",children:"Email"}),f.jsx(Mn,{name:"email",type:"email",value:s.personal_info.email||"",placeholder:"Email",icon:"fi-rr-envelope",onChange:B})]})]}),f.jsxs("div",{className:"mb-10",children:[f.jsx("label",{className:"block mb-2 font-medium",children:"Add Profile Image"}),f.jsx("div",{className:"w-full max-w-2xl mx-auto",children:f.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-xl bg-gray-50 flex flex-col items-center justify-center py-16 relative group transition-all duration-200",children:[f.jsx("img",{ref:o,src:N,className:"w-24 h-24 object-cover rounded-full mb-4"}),f.jsx("i",{className:"fi fi-rr-picture text-5xl text-gray-300 mb-2"}),f.jsx("p",{className:"text-gray-400 mb-2",children:"Drop Image Here, Paste Or"}),f.jsx("input",{type:"file",id:"uploadImg",accept:".jpg, .png, .jpeg",hidden:!0,onChange:O}),f.jsx("button",{type:"button",className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md shadow hover:bg-gray-300",onClick:L,disabled:m,children:"+ Select"}),d&&f.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs shadow hover:bg-red-600",onClick:()=>{u(null),o.current.src=N},children:"Reset"}),d&&f.jsx("button",{type:"button",className:"mt-4 bg-yellow-400 hover:bg-yellow-500 text-white font-semibold px-6 py-2 rounded-lg shadow-lg flex items-center gap-2",onClick:A,disabled:m,children:m?"Uploading...":"Upload Image"})]})})]}),f.jsx("label",{className:"block mb-1 font-medium mt-8",children:"Social Links"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 mb-8",children:Object.keys(T).map((M,R)=>{let z=T[M];return f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("i",{className:"fi "+(M!=="website"?"fi-brands-"+M:"fi-rr-globe")+" text-xl text-dark-grey"}),f.jsx(Mn,{name:M,type:"text",value:z||"",placeholder:M.charAt(0).toUpperCase()+M.slice(1),onChange:V=>I(M,V.target.value)})]},R)})}),f.jsxs("button",{className:"fixed bottom-8 right-8 bg-yellow-400 hover:bg-yellow-500 text-white font-semibold px-8 py-3 rounded-lg shadow-lg flex items-center gap-2 z-50",type:"submit",disabled:w,children:[f.jsx("i",{className:"fi fi-rr-disk"})," ",w?"Saving...":"Save"]})]})})},l6=({_id:t,blog_author:e,index:n=void 0,replyingTo:r=void 0,setReplying:o,notification_id:i,notificationData:s})=>{let[a,l]=_.useState(""),{_id:c}=e,{userAuth:{access_token:d}}=_.useContext(ye),{notifications:u,notifications:{results:h},setNotifications:v}=s;const g=()=>{if(!a.length)return H.error("Write something to leave a comment....");G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/add-comment",{blog_id:t,blog_author:c,comment:a,replying_to:r},{headers:{Authorization:`Bearer ${d}`}}).then(({data:y})=>{y.success&&(o(!1),h[n]&&(h[n].reply={comment:a,_id:y.comment._id},v({...u,results:h})),l(""),H.success("Reply posted successfully!"))}).catch(y=>{var w,b;console.error("Error posting reply:",y),(b=(w=y.response)==null?void 0:w.data)!=null&&b.error?H.error("Error posting reply: "+y.response.data.error):H.error("Failed to post reply. Please try again.")})};return f.jsxs(f.Fragment,{children:[f.jsx(In,{}),f.jsx("textarea",{value:a,onChange:y=>l(y.target.value),placeholder:"Leave a reply...",className:"input-box pl-5 placeholder:text-dark-grey resize-none h-[150px] overflow-auto"}),f.jsx("button",{className:"btn-dark mt-5 px-10",onClick:g,children:"Reply"})]})},c6=({data:t,index:e,notificationState:n})=>{var L,A,D,B,M;const[r,o]=_.useState(!1);let{seen:i,type:s,reply:a,createdAt:l,comment:c,replied_on_comment:d,user:u,blog:h,_id:v}=t;const g=((L=u==null?void 0:u.personal_info)==null?void 0:L.fullname)||(u==null?void 0:u.fullname)||"Unknown User",y=((A=u==null?void 0:u.personal_info)==null?void 0:A.username)||(u==null?void 0:u.username)||"unknown",w=((D=u==null?void 0:u.personal_info)==null?void 0:D.profile_img)||(u==null?void 0:u.profile_img),b=(h==null?void 0:h.blog_id)||(h==null?void 0:h._id),m=(h==null?void 0:h.title)||"Unknown Blog",p=(h==null?void 0:h.blog_id)||(h==null?void 0:h._id);let{userAuth:x}=_.useContext(ye),E=((B=x==null?void 0:x.personal_info)==null?void 0:B.username)||(x==null?void 0:x.username),N=((M=x==null?void 0:x.personal_info)==null?void 0:M.profile_img)||(x==null?void 0:x.profile_img),j=x==null?void 0:x.access_token;const k=(x==null?void 0:x.isAdmin)||(x==null?void 0:x.admin)||(x==null?void 0:x.role)==="admin";let{notifications:S,notifications:{results:C,totalDocs:T},setNotifications:I}=n;const P=()=>{o(R=>!R)},O=(R,z)=>{if(!R){H.error("Invalid notification ID. Cannot delete.");return}window.confirm("Are you sure you want to delete this notification?")&&(z.setAttribute("disabled",!0),G.delete(`https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/delete-notification/${R}`,{headers:{Authorization:`Bearer ${j}`}}).then(({data:V})=>{V.success&&(C.splice(e,1),I({...S,results:C,totalDocs:T-1,deletedDocCount:(S.deletedDocCount||0)+1}),H.success("Notification deleted successfully!")),z.removeAttribute("disabled")}).catch(V=>{var te,Y,pe;console.error("Error deleting notification:",V),z.removeAttribute("disabled"),((te=V.response)==null?void 0:te.status)===401?H.error("Authentication failed. Please log in again."):((Y=V.response)==null?void 0:Y.status)===403?H.error("You do not have permission to delete this notification."):((pe=V.response)==null?void 0:pe.status)===404?H.error("Notification not found. It may have already been deleted."):H.error("Failed to delete notification. Please try again.")}))};return!k&&s!=="reply"?null:f.jsxs("div",{className:"p-6 border-b border-grey border-1-black"+(i?"":"border-1-2"),children:[f.jsxs("div",{className:"flex gap-5 mb-3",children:[f.jsx("img",{src:w||"/src/imgs/user profile.png",className:"w-14 h-14 flex-none rounded-full",alt:g}),f.jsxs("div",{className:"w-full",children:[f.jsxs("h1",{className:"font-medium text-xl text-dark-grey",children:[f.jsx("span",{className:"lg:inline-block hidden capitalize",children:g}),f.jsxs(ee,{to:`/user/${y}`,className:"mx-1 text-black underline",children:["@",y]}),f.jsx("span",{className:"font-normal",children:s==="new_user"?f.jsx("span",{className:"text-green-700",children:"has signed up as a new user!"}):k?s==="like"?"liked your blog":s==="comment"?"commented on":"replied on":"replied on"})]}),s==="new_user"?null:!k||s==="reply"?f.jsx("div",{className:"p-4 mt-4 rounded-md bg-grey",children:f.jsx("p",{children:(d==null?void 0:d.comment)||"Original comment not available"})}):f.jsx(ee,{to:`/blog/${p}`,className:"font-medium text-dark-grey hover:underline line-clamp-1",children:m})]})]}),s==="new_user"?f.jsxs("p",{className:"ml-14 pl-5 font-gelasio text-xl my-5 text-green-700",children:["A new user has signed up: ",f.jsx("b",{children:g})," (@",y,")"]}):!k&&s==="reply"&&c?f.jsx("p",{className:"ml-14 pl-5 font-gelasio text-xl my-5",children:c.comment||"Comment content not available"}):!k&&s==="reply"&&!c?f.jsx("p",{className:"ml-14 pl-5 font-gelasio text-xl my-5 text-dark-grey italic",children:"Comment has been deleted"}):k&&s!=="like"&&c?f.jsx("p",{className:"ml-14 pl-5 font-gelasio text-xl my-5",children:c.comment||"Comment content not available"}):k&&s!=="like"&&!c?f.jsx("p",{className:"ml-14 pl-5 font-gelasio text-xl my-5 text-dark-grey italic",children:"Comment has been deleted"}):"",f.jsx("p",{className:"ml-14 pl-5 mt-3",children:jo(l)}),!k&&s==="reply"?f.jsx("div",{className:"ml-14 pl-5 mt-3 flex gap-8",children:a&&a._id?f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"underline hover:text-black px-2 py-1",onClick:P,children:"Edit"}),f.jsx("button",{className:"underline hover:text-black px-2 py-1",onClick:P,children:"Reply"})]}):f.jsx("button",{className:"underline hover:text-black px-2 py-1",onClick:P,children:"Reply"})}):k&&s!=="like"&&s!=="new_user"?f.jsx("div",{className:"ml-14 pl-5 mt-3 flex gap-8",children:a&&a._id?f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"underline hover:text-black px-2 py-1",onClick:P,children:"Edit"}),f.jsx("button",{className:"underline hover:text-black px-2 py-1",onClick:P,children:"Reply"})]}):f.jsx("button",{className:"underline hover:text-black px-2 py-1",onClick:P,children:"Reply"})}):"",f.jsx("div",{className:"ml-14 pl-5 mt-3 flex gap-8",children:v&&((x==null?void 0:x._id)===(u==null?void 0:u._id)||(x==null?void 0:x.isAdmin))&&f.jsx("button",{className:"text-red-500 underline hover:text-red-700 font-medium px-2 py-1",style:{color:"#ef4444"},onClick:R=>O(v,R.target),children:"Delete Notification"})}),r?f.jsx("div",{className:"mt-8",children:f.jsx(l6,{_id:b,blog_author:u,index:e,replyingTo:c==null?void 0:c._id,setReplying:o,notification_id:v,notificationData:n})}):"",a&&a._id?f.jsxs("div",{className:"ml-14 pl-5 mt-4 p-4 bg-grey/30 rounded-md border-l-4 border-blue-500",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("img",{src:N||"/src/imgs/user profile.png",className:"w-6 h-6 rounded-full",alt:E}),f.jsxs("span",{className:"text-sm text-dark-grey",children:[f.jsx(ee,{to:`/user/${E}`,className:"font-medium text-black underline",children:E}),f.jsx("span",{className:"ml-1",children:"replied:"})]})]}),f.jsx("p",{className:"font-gelasio text-lg ml-8",children:a.comment||"Reply content not available"})]}):a===null?f.jsx("div",{className:"ml-14 pl-5 mt-4 p-3 bg-grey/20 rounded-md text-center",children:f.jsx("p",{className:"text-dark-grey italic text-sm",children:"Reply has been deleted"})}):""]})},d6=({children:t})=>{const[e,n]=_.useState("checking"),[r,o]=_.useState(null);return _.useEffect(()=>{(async()=>{var s;try{const a=await G.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/new-notification",{timeout:5e3,headers:{Authorization:"Bearer test"}});n("connected")}catch(a){a.code==="ERR_NETWORK"||a.message.includes("ECONNREFUSED")?(n("disconnected"),o("Server is not running. Please start the server on port 3000.")):((s=a.response)==null?void 0:s.status)===401?n("connected"):(n("error"),o("Server connection error: "+a.message))}})()},[]),e==="checking"?f.jsx("div",{className:"text-center p-4",children:"Checking server connection..."}):e==="disconnected"?f.jsxs("div",{className:"text-center p-8 bg-red-50 border border-red-200 rounded-lg",children:[f.jsx("h2",{className:"text-xl font-bold text-red-800 mb-2",children:"Server Connection Error"}),f.jsx("p",{className:"text-red-600 mb-4",children:r}),f.jsxs("div",{className:"text-sm text-gray-600",children:[f.jsx("p",{children:"To fix this:"}),f.jsxs("ol",{className:"list-decimal list-inside mt-2",children:[f.jsx("li",{children:"Open a terminal"}),f.jsxs("li",{children:["Navigate to the server directory: ",f.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"cd mern-blogging-website/server"})]}),f.jsxs("li",{children:["Start the server: ",f.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"npm start"})]}),f.jsx("li",{children:"Refresh this page"})]})]})]}):e==="error"?f.jsxs("div",{className:"text-center p-8 bg-yellow-50 border border-yellow-200 rounded-lg",children:[f.jsx("h2",{className:"text-xl font-bold text-yellow-800 mb-2",children:"Server Error"}),f.jsx("p",{className:"text-yellow-600",children:r})]}):t},u6=()=>{let{userAuth:t,userAuth:{access_token:e,new_notification_available:n},setUserAuth:r}=_.useContext(ye);const[o,i]=_.useState({results:[],totalDocs:0,page:1}),s=(t==null?void 0:t.isAdmin)||(t==null?void 0:t.admin)||(t==null?void 0:t.role)==="admin",[a,l]=_.useState(s?"all":"reply");let c=s?["all","like","comment","reply"]:["reply"];const d=({page:h,deletedDocCount:v=0})=>{G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/notifications",{page:h,filter:a,deletedDocCount:v},{headers:{Authorization:`Bearer ${e}`}}).then(async({data:{notifications:g}})=>{n&&r({...t,new_notification_available:!1}),G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/seen-notifications",{},{headers:{Authorization:`Bearer ${e}`}});let y=await Po({state:o,data:g,page:h,countRoute:"/all-notifications-count",data_to_send:{filter:a},user:e});i(y)}).catch(g=>{console.error("Error fetching notifications:",g),(g.code==="ERR_NETWORK"||g.message.includes("ECONNREFUSED"))&&console.error("Server connection failed. Make sure the server is running on port 3000.")})};_.useEffect(()=>{e?d({page:1}):console.warn("No access token available. User may not be logged in.")},[e,a]);const u=h=>{let v=h.target;l(v.innerHTML.toLowerCase()),i(null)};return f.jsx(d6,{children:f.jsxs("div",{children:[f.jsx("h1",{className:"max-md:hidden",children:s?"Recent Notifications":"Notifications"}),s&&f.jsx("div",{className:"my-8 flex gap-6",children:c.map((h,v)=>f.jsx("button",{className:`py-2 ${a===h?"btn-dark":"btn-light"}`,onClick:u,children:h},v))}),o===null?f.jsx(Be,{}):f.jsx(f.Fragment,{children:o&&o.results&&o.results.length?Array.from({length:Math.ceil(o.results.length/5)}).map((h,v)=>f.jsxs("div",{children:[o.results.slice(v*5,(v+1)*5).map((g,y)=>f.jsx(Me,{transition:{delay:(v*5+y)*.08},children:f.jsx(c6,{data:g,index:v*5+y,notificationState:{notifications:o,setNotifications:i}})},v*5+y)),v===Math.floor((o.results.length-1)/5)&&f.jsx(Wn,{state:o,fetchDataFun:d,additionalParam:{deletedDocCount:o==null?void 0:o.deletedDocCount}})]},v)):f.jsx(Nt,{message:"Nothing available"})})]})})},f6=({stats:t})=>{const e=(t==null?void 0:t.total_likes)??0,n=(t==null?void 0:t.total_reads)??0,r=(t==null?void 0:t.total_comments)??0;return f.jsxs("div",{className:"flex gap-2 max-lg:mb-6 max-lg:pb-6 border-grey max-lg:border-b",children:[f.jsxs("div",{className:"flex flex-col items-center w-full h-full justify-center p-4 px-6",children:[f.jsx("h1",{className:"text-xl lg:text-2xl mb-2",children:e.toLocaleString()}),f.jsx("p",{className:"max-lg:text-dark-grey capitalize",children:"Likes"})]}),f.jsxs("div",{className:"flex flex-col items-center w-full h-full justify-center p-4 px-6 border-grey border-l",children:[f.jsx("h1",{className:"text-xl lg:text-2xl mb-2",children:n.toLocaleString()}),f.jsx("p",{className:"max-lg:text-dark-grey capitalize",children:"Views"})]}),f.jsxs("div",{className:"flex flex-col items-center w-full h-full justify-center p-4 px-6 border-grey border-l",children:[f.jsx("h1",{className:"text-xl lg:text-2xl mb-2",children:r.toLocaleString()}),f.jsx("p",{className:"max-lg:text-dark-grey capitalize",children:"Comments"})]})]})},h6=({blog:t})=>{let{banner:e,blog_id:n,title:r,publishedAt:o,activity:i}=t,{userAuth:{access_token:s}}=_.useContext(ye),[a,l]=_.useState(!1);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex gap-10 border-b border-grey pb-6 items-center max-md:px-4",children:[f.jsx("img",{src:e,className:"max-md:hidden lg:hidden xl:block w-28 h-28 flex-none bg-grey object-cover"}),f.jsxs("div",{className:"flex flex-col justify-between py-2 w-full min-w-[300px]",children:[f.jsxs("div",{children:[f.jsx(ee,{to:`/blog/${n}`,className:"blog-title mb-4 hover:underline",children:r}),f.jsxs("p",{className:"line-clamp-1",children:["Published on ",jo(o)]})]}),f.jsxs("div",{className:"flex gap-6 mt-3",children:[f.jsx(ee,{to:`/editor/${t.blog_id||t._id}`,className:"pr-4 py-2 underline",children:"Edit"}),f.jsx("button",{className:"pr-4 py-2 underline",onClick:()=>l(c=>!c),children:"Stats"}),f.jsx("button",{className:"pr-4 py-2 underline text-red-500 hover:text-red-700 font-medium",style:{color:"#ef4444"},onClick:c=>kS(t,s,c.target),children:"Delete"})]})]})]}),a?f.jsx("div",{children:f.jsx(f6,{stats:i})}):""]})},p6=({blog:t})=>{let{title:e,des:n,blog_id:r,index:o}=t,{userAuth:{access_token:i}}=_.useContext(ye);return o++,f.jsxs("div",{className:"flex gap-5 lg:gap-10 pb-6 border-b mb-6 border-grey",children:[f.jsx("h1",{className:"blog-index text-center pl-4 md:pl-6 flex-none",children:o<10?"0"+o:o}),f.jsxs("div",{children:[f.jsx("h1",{className:"blog-title mb-3",children:e}),f.jsx("p",{className:"line-clamp-2 font-gelasio",children:n.length?n:"No Description"}),f.jsxs("div",{className:"flex gap-6 mt-3",children:[f.jsx(ee,{to:`/editor/${t.blog_id||t.id||r}`,className:"pr-4 py-2 underline",children:"Edit"}),f.jsx("button",{className:"pr-4 py-2 underline text-red-500 hover:text-red-700 font-medium",style:{color:"#ef4444"},onClick:s=>kS(t,i,s.target),children:"Delete"})]})]})]})},kS=(t,e,n)=>{let{index:r,blogId:o,setStateFunc:i}=t;const s=t.blog_id||t.blogId||t.id||o;n.setAttribute("disabled",!0),G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/delete-blog",{blogId:s},{headers:{Authorization:`Bearer ${e}`}}).then(({data:a})=>{n.removeAttribute("disabled"),i(l=>{let{deletedDocCount:c,totalDocs:d,results:u}=l;return u.splice(r,1),c||(c=0),!u.length&&d-1>=0?null:{...l,totalDocs:d-1,deletedDocCount:c+1}})}).catch(a=>{n.removeAttribute("disabled"),alert("Failed to delete blog. Please try again."),console.log(a)})},m6=()=>{const[t,e]=_.useState(null),[n,r]=_.useState(null),[o,i]=_.useState(""),[s,a]=_.useState({blogs:!1,drafts:!1}),[l,c]=_.useState({blogs:null,drafts:null}),[d]=Sp();let u=d.get("tab");const{userAuth:h}=_.useContext(ye),v=h==null?void 0:h.access_token,g=async({page:w,draft:b,deleteDocCount:m=0})=>{var x,E,N,j;const p=b?"drafts":"blogs";if(!s[p]){a(k=>({...k,[p]:!0})),c(k=>({...k,[p]:null}));try{console.log(`Fetching ${b?"drafts":"published blogs"}...`);const k=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/user-written-blogs",{page:w,draft:b,query:o,deleteDocCount:m},{headers:{Authorization:`Bearer ${v}`},timeout:1e4});console.log(`${b?"Drafts":"Published blogs"} response:`,k.data);let S=await Po({state:b?n:t,data:k.data.blogs,page:w,user:v,countRoute:"/user-written-blogs-count",data_to_send:{draft:b,query:o}});console.log(`Formatted ${b?"drafts":"blogs"} data:`,S),w>1?b?r(C=>({...S,results:[...(C==null?void 0:C.results)||[],...S.results||[]]})):e(C=>({...S,results:[...(C==null?void 0:C.results)||[],...S.results||[]]})):b?r(S):e(S)}catch(k){console.error(`Error fetching ${b?"drafts":"published blogs"}:`,k);let S="Failed to load blogs";((x=k.response)==null?void 0:x.status)===401?S="Authentication required. Please log in again.":((E=k.response)==null?void 0:E.status)===403?S="You don't have permission to view these blogs.":k.code==="ECONNABORTED"?S="Request timed out. Please try again.":(j=(N=k.response)==null?void 0:N.data)!=null&&j.error&&(S=k.response.data.error),c(C=>({...C,[p]:S})),b?r({results:[],page:1,totalDocs:0}):e({results:[],page:1,totalDocs:0})}finally{a(k=>({...k,[p]:!1}))}}};_.useEffect(()=>{console.log("ManageBlogs useEffect triggered"),console.log("access_token:",v?v.substring(0,20)+"...":"null"),console.log("userAuth:",h),v?(console.log("Loading blogs and drafts with token:",v.substring(0,20)+"..."),g({page:1,draft:!1}),g({page:1,draft:!0})):console.log("No access token available, skipping blog loading")},[v]),_.useEffect(()=>{v&&o!==void 0&&(e(null),r(null),c({blogs:null,drafts:null}),g({page:1,draft:!1}),g({page:1,draft:!0}))},[o]);const y=w=>{c(b=>({...b,[w]:null})),g(w==="drafts"?{page:1,draft:!0}:{page:1,draft:!1})};return f.jsxs(f.Fragment,{children:[f.jsx(In,{}),!v&&f.jsxs("div",{className:"text-center py-8",children:[f.jsx("p",{className:"text-red-500 mb-2",children:"Please log in to view your blogs"}),f.jsx(ee,{to:"/login",className:"text-yellow-300 hover:text-yellow-500",children:"Go to Login"})]}),v&&f.jsx(f.Fragment,{children:f.jsxs(Sc,{routes:["Published Blogs","Drafts"],defaultActiveIndex:u!="draft"?0:1,children:[s.blogs?f.jsx(Be,{}):l.blogs?f.jsxs("div",{className:"text-center py-8",children:[f.jsx("p",{className:"text-red-500 mb-2",children:l.blogs}),f.jsx("button",{onClick:()=>y("blogs"),className:"text-yellow-400 hover:text-yellow-500",children:"Try again"})]}):t===null?f.jsx(Be,{}):Array.isArray(t.results)&&t.results.length?f.jsxs(f.Fragment,{children:[t.results.map((w,b)=>(console.log("Published blog:",w),f.jsx(Me,{transition:{delay:b*.04},children:f.jsx(h6,{blog:{...w,index:b,setStateFunc:e},index:b})},b))),f.jsx("div",{className:"flex justify-center mt-4",children:f.jsx(Wn,{state:t,fetchDataFun:({page:w,draft:b})=>g({page:w,draft:b}),additionalParam:{draft:!1}})})]}):f.jsx(Nt,{message:"No published blogs"}),s.drafts?f.jsx(Be,{}):l.drafts?f.jsxs("div",{className:"text-center py-8",children:[f.jsx("p",{className:"text-red-500 mb-2",children:l.drafts}),f.jsx("button",{onClick:()=>y("drafts"),className:"text-yellow-300 hover:text-yellow-400",children:"Try again"})]}):n===null?f.jsx(Be,{}):Array.isArray(n.results)&&n.results.length?f.jsxs(f.Fragment,{children:[n.results.map((w,b)=>f.jsx(Me,{transition:{delay:b*.04},children:f.jsx(p6,{blog:{...w,index:b,setStateFunc:r},index:b})},b)),f.jsx("div",{className:"flex justify-center mt-4",children:f.jsx(Wn,{state:n,fetchDataFun:({page:w,draft:b})=>g({page:w,draft:b}),additionalParam:{draft:!0}})})]}):f.jsx(Nt,{message:"No draft blogs"})]})})]})},Jv={subject:"",name:"",email:"",explanation:""},Qv={subject:"",name:"",email:"",explanation:""},g6=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,v6=()=>{const[t,e]=_.useState(Jv),[n,r]=_.useState(!1),[o,i]=_.useState(null),[s,a]=_.useState(Qv),l=_.useRef(),c=(y,w)=>{let b="";return w||(b="Required"),y==="email"&&w&&!g6.test(w)&&(b="Invalid email"),b},d=y=>{const{name:w,value:b}=y.target;e(m=>({...m,[w]:b})),a(m=>({...m,[w]:c(w,b)}))},u=(y,w="",b="")=>{const m=l.current;if(!m)return;const p=m.selectionStart,x=m.selectionEnd,E=m.value.substring(p,x)||b,N=m.value.substring(0,p)+y+E+w+m.value.substring(x);e(j=>({...j,explanation:N})),setTimeout(()=>{m.focus(),m.selectionStart=m.selectionEnd=p+y.length+E.length+w.length},0)},h=y=>{switch(y){case"image":{const w=prompt("Enter image URL:");w&&u("![Image](",")",w);break}case"color":{const w=prompt("Enter color (e.g., red or #ff0000):");w&&u(`[color=${w}]`,"[/color]");break}case"text":u("**","**","bold");break;case"align":u("[center]","[/center]");break;case"link":{const w=prompt("Enter URL:");w&&u("[Link text](",")",w);break}}},v=()=>{const y={};return Object.keys(t).forEach(w=>{y[w]=c(w,t[w])}),a(y),Object.values(y).every(w=>!w)},g=async y=>{if(y.preventDefault(),!!v()){r(!0),i(null);try{const w=await fetch("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),b=await w.json();w.ok?(i({type:"success",text:b.message}),H.success(b.message||"Message sent successfully!"),e(Jv),a(Qv)):(i({type:"error",text:b.error||"Failed to send message."}),H.error(b.error||"Failed to send message."))}catch{i({type:"error",text:"Failed to send message."}),H.error("Failed to send message.")}finally{r(!1)}}};return f.jsxs("div",{className:"min-h-screen bg-gray-50 px-[5vw] py-6",children:[f.jsx(In,{}),o&&f.jsx("div",{className:`mb-4 p-3 rounded text-sm ${o.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:o.text}),f.jsx("div",{className:"max-w-6xl mx-auto",children:f.jsxs("form",{onSubmit:g,className:"bg-white rounded-xl shadow-lg p-6 flex flex-col gap-6",encType:"multipart/form-data",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Subject"}),f.jsx("input",{name:"subject",value:t.subject,onChange:d,type:"text",className:`w-full rounded-md border ${s.subject?"border-red-400":"border-gray-200"} bg-grey px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-400 placeholder-gray-300`,placeholder:"Subject"}),s.subject&&f.jsx("div",{className:"text-xs text-red-500 mt-1",children:s.subject})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Name"}),f.jsx("input",{name:"name",value:t.name,onChange:d,type:"text",className:`w-full rounded-md border ${s.name?"border-red-400":"border-gray-200"} bg-grey px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-400 placeholder-gray-300`,placeholder:"Name"}),s.name&&f.jsx("div",{className:"text-xs text-red-500 mt-1",children:s.name})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Email"}),f.jsx("input",{name:"email",value:t.email,onChange:d,type:"email",className:`w-full rounded-md border ${s.email?"border-red-400":"border-gray-200"} bg-grey px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-400 placeholder-gray-300`,placeholder:"Email"}),s.email&&f.jsx("div",{className:"text-xs text-red-500 mt-1",children:s.email})]})]}),f.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Explanation"}),f.jsxs("div",{className:"bg-gray-100 rounded-lg p-4",children:[f.jsxs("div",{className:"flex gap-2 mb-3",children:[f.jsxs("button",{type:"button",onClick:()=>h("image"),className:"bg-white border border-gray-200 rounded px-2 py-1 text-xs flex items-center gap-1 hover:bg-gray-50",children:[f.jsx("i",{className:"fi fi-rs-picture"})," Image"]}),f.jsxs("button",{type:"button",onClick:()=>h("color"),className:"bg-white border border-gray-200 rounded px-2 py-1 text-xs flex items-center gap-1 hover:bg-gray-50",children:[f.jsx("i",{className:"fi fi-rc-eye-dropper"})," Color"]}),f.jsxs("button",{type:"button",onClick:()=>h("text"),className:"bg-white border border-gray-200 rounded px-2 py-1 text-xs flex items-center gap-1 hover:bg-gray-50",children:[f.jsx("i",{className:"fi fi-rr-text"})," Text"]}),f.jsxs("button",{type:"button",onClick:()=>h("align"),className:"bg-white border border-gray-200 rounded px-2 py-1 text-xs flex items-center gap-1 hover:bg-gray-50",children:[f.jsx("i",{className:"fi fi-rr-symbol"})," Align"]}),f.jsxs("button",{type:"button",onClick:()=>h("link"),className:"bg-white border border-gray-200 rounded px-2 py-1 text-xs flex items-center gap-1 hover:bg-gray-50",children:[f.jsx("i",{className:"fi fi-rr-link-alt"})," Link"]})]}),f.jsx("textarea",{ref:l,name:"explanation",value:t.explanation,onChange:d,className:`w-full h-32 rounded-md border ${s.explanation?"border-red-400":"border-gray-200"} p-3 bg-gray-50 focus:outline-none resize-none placeholder-gray-300`,placeholder:"Type..."}),s.explanation&&f.jsx("div",{className:"text-xs text-red-500 mt-1",children:s.explanation})]})]})}),f.jsx("div",{className:"flex justify-end",children:f.jsxs("button",{type:"submit",disabled:n,className:"bg-yellow-400 hover:bg-yellow-500 text-white font-semibold px-6 py-2 rounded-lg flex items-center gap-2 shadow-md disabled:opacity-50",children:[f.jsx("i",{className:"fi fi-rs-paper-plane"})," ",n?f.jsxs("span",{className:"flex items-center",children:[f.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Sending..."]}):"Send"]})})]})})]})},y6=()=>f.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[f.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mt-10 flex flex-col md:flex-row gap-6 items-center shadow-sm",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-gray-800 mb-4",children:"We pay attention to your needs and do the best ."}),f.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In Islamic storytelling, every detail matters—whether it's the wisdom of the past or the inspiration for the future. Etiam ac purus vitae magna cursus viverra."}),f.jsx("p",{className:"text-gray-600 text-sm md:text-base mt-2",children:"Suspendisse potenti nullam et molestie ac feugiat sed lectus vestibulum. Ullamcorper morbi tincidunt ornare massa eget. Dictum varius duis at consectetur lorem."})]}),f.jsx("div",{className:"flex-1 flex justify-center min-w-[250px] max-w-md",children:f.jsx("div",{className:"relative w-full h-48 md:h-56 rounded-lg overflow-hidden shadow-md",children:f.jsx("img",{src:Xf,alt:"Blog Banner",className:"w-full h-full object-cover"})})})]}),f.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mt-10 flex flex-col md:flex-row gap-6 items-center shadow-sm",children:[f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx("iframe",{title:"Islamic Stories Location",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3153.019019234263!2d-122.4194154846817!3d37.7749297797597!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8085809c5b0e6b1b%3A0x4a0b0b0b0b0b0b0b!2sMosque!5e0!3m2!1sen!2sus!4v1680000000000!5m2!1sen!2sus",width:"100%",height:"220",style:{border:0,borderRadius:"12px",width:"100%"},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})}),f.jsxs("div",{className:"flex-1 min-w-0 md:pl-8",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Islamic Stories Information"}),f.jsxs("ul",{className:"space-y-3 text-gray-700 text-sm",children:[f.jsxs("li",{children:[f.jsx("span",{className:"font-medium",children:"Email:"})," info@islamicstories.com"]}),f.jsxs("li",{children:[f.jsx("span",{className:"font-medium",children:"Phone Number:"})," +1 (234) 567-8910"]}),f.jsxs("li",{children:[f.jsx("span",{className:"font-medium",children:"Fax:"})," +1 (234) 567-8911"]}),f.jsxs("li",{children:[f.jsx("span",{className:"font-medium",children:"Address:"})," 1234 Faith Ave, City, Country, 12345"]}),f.jsxs("li",{children:[f.jsx("span",{className:"font-medium",children:"Open:"})," 24 Hours a Day, 7 Days a Week"]})]})]})]}),f.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mt-10 shadow-sm",children:[f.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center",children:[f.jsx("span",{className:"text-yellow-500 mr-2 text-xl",children:"•"})," Islamic Stories Team"]}),f.jsxs("div",{className:"flex gap-6 overflow-x-auto pb-2",children:[f.jsxs("div",{className:"bg-white rounded-lg shadow p-4 min-w-[180px] flex flex-col items-center",children:[f.jsx("img",{src:"https://randomuser.me/api/portraits/men/32.jpg",alt:"Designer",className:"w-20 h-20 rounded-full object-cover mb-3"}),f.jsx("div",{className:"text-gray-500 text-sm",children:"Designer"}),f.jsx("div",{className:"font-semibold mt-1",children:"Ahmad Farooq"})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow p-4 min-w-[180px] flex flex-col items-center",children:[f.jsx("img",{src:"https://randomuser.me/api/portraits/women/44.jpg",alt:"Programmer",className:"w-20 h-20 rounded-full object-cover mb-3"}),f.jsx("div",{className:"text-gray-500 text-sm",children:"Programmer"}),f.jsx("div",{className:"font-semibold mt-1",children:"Sara Khan"})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow p-4 min-w-[180px] flex flex-col items-center",children:[f.jsx("img",{src:"https://randomuser.me/api/portraits/men/65.jpg",alt:"Marketing",className:"w-20 h-20 rounded-full object-cover mb-3"}),f.jsx("div",{className:"text-gray-500 text-sm",children:"Marketing"}),f.jsx("div",{className:"font-semibold mt-1",children:"Bilal Hussain"})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow p-4 min-w-[180px] flex flex-col items-center",children:[f.jsx("img",{src:"https://randomuser.me/api/portraits/women/68.jpg",alt:"Administration",className:"w-20 h-20 rounded-full object-cover mb-3"}),f.jsx("div",{className:"text-gray-500 text-sm",children:"Administration"}),f.jsx("div",{className:"font-semibold mt-1",children:"Fatima Zahra"})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow p-4 min-w-[180px] flex flex-col items-center",children:[f.jsx("img",{src:"https://randomuser.me/api/portraits/men/12.jpg",alt:"CEO",className:"w-20 h-20 rounded-full object-cover mb-3"}),f.jsx("div",{className:"text-gray-500 text-sm",children:"CEO"}),f.jsx("div",{className:"font-semibold mt-1",children:"Yusuf Ali"})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow p-4 min-w-[180px] flex flex-col items-center",children:[f.jsx("img",{src:"https://randomuser.me/api/portraits/men/23.jpg",alt:"Financial",className:"w-20 h-20 rounded-full object-cover mb-3"}),f.jsx("div",{className:"text-gray-500 text-sm",children:"Financial"}),f.jsx("div",{className:"font-semibold mt-1",children:"Imran Siddiqui"})]})]})]})]}),b6=()=>{const t=[{title:"About Us",description:"Learn more about Islamic Stories and our mission",link:"/about",icon:"📖"},{title:"Contact Us",description:"Get in touch with our team",link:"/contact",icon:"📧"},{title:"Categories",description:"Explore stories by category",link:"/categories",icon:"📂"}];return f.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Pages"}),f.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map((e,n)=>f.jsxs(ee,{to:e.link,className:"block p-6 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 border border-gray-200",children:[f.jsxs("div",{className:"flex items-center mb-4",children:[f.jsx("span",{className:"text-2xl mr-3",children:e.icon}),f.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:e.title})]}),f.jsx("p",{className:"text-gray-600",children:e.description})]},n))}),f.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"More Coming Soon"}),f.jsx("p",{className:"text-gray-600",children:"We're constantly adding new pages and features to enhance your experience. Stay tuned for more content and functionality!"})]})]})},Zv=()=>{const{categories:t,setCategories:e}=_.useContext(kd),{categoryName:n}=Mo(),[r,o]=_.useState(null),[i,s]=_.useState(!0),a=async(l=1)=>{try{let c;n?c=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/search-blogs",{tag:n,page:l}):c=await G.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/latest-blogs",{page:l});const{data:d}=c;if(d.blogs&&Array.isArray(d.blogs)){const u=await Po({state:r,data:d.blogs,page:l,countRoute:n?"/search-blogs-count":"/all-latest-blogs-count",create_new_arr:l===1,data_to_send:n?{tag:n}:{}});if(u&&o(u),t.length===0&&e&&l===1){const h=["islam","prophets","religion","basics","sahaba","anbiya"],v=d.blogs.flatMap(y=>y.tags||[]),g=Array.from(new Set([...h,...v]));e(g)}}s(!1)}catch(c){console.error("Error fetching blogs:",c),o(d=>d||{results:[],page:1,totalDocs:0}),s(!1)}};return _.useEffect(()=>{o(null),s(!0),a(1)},[n]),i?f.jsx(Be,{}):f.jsxs("div",{className:"max-w-screen-2xl w-full mx-auto px-4 py-8",children:[f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r&&r.results&&r.results.length>0?r.results.map(l=>{var c,d,u,h;return f.jsx(Nl,{post:{banner:l.banner,title:l.title,description:l.des||l.description,author:{avatar:(d=(c=l.author)==null?void 0:c.personal_info)==null?void 0:d.profile_img,name:(h=(u=l.author)==null?void 0:u.personal_info)==null?void 0:h.fullname},date:l.publishedAt||l.date,blog_id:l.blog_id||l._id}},l._id||l.blog_id)}):f.jsxs("div",{className:"col-span-full text-center text-gray-500",children:["No blogs found",n?` for '${n}'`:"","."]})}),r&&f.jsx("div",{className:"flex justify-center mt-8",children:f.jsx(Wn,{state:r,fetchDataFun:a})})]})},x6=()=>{const[t]=Sp(),e=Nn(),{setUserAuth:n}=_.useContext(ye),[r,o]=_.useState("Verifying your email..."),[i,s]=_.useState("");return _.useEffect(()=>{const a=t.get("token");if(!a){o(""),s("Invalid verification link.");return}G.get(`https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/verify-user?token=${a}`).then(async({data:l})=>{o("Email verified! Logging you in..."),H.success("Email verified! Please log in."),setTimeout(()=>{e("/login")},1500)}).catch(l=>{var c,d;o(""),s(((d=(c=l==null?void 0:l.response)==null?void 0:c.data)==null?void 0:d.error)||"Verification failed.")})},[t,e,n]),f.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen",children:f.jsxs("div",{className:"bg-white p-8 rounded shadow-md w-full max-w-md text-center",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Email Verification"}),r&&f.jsx("p",{className:"text-green-700 mb-2",children:r}),i&&f.jsx("p",{className:"text-red-600 mb-2",children:i})]})})},w6=()=>{const[t]=Sp(),e=Nn(),[n,r]=_.useState("Verifying your subscription..."),[o,i]=_.useState("");return _.useEffect(()=>{const s=t.get("token");if(!s){r(""),i("Invalid verification link.");return}G.get(`https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/verify-newsletter?token=${s}`).then(({data:a})=>{r("Subscription verified! Thank you for subscribing."),H.success("Subscription verified!"),setTimeout(()=>{e("/")},2e3)}).catch(a=>{var l,c;r(""),i(((c=(l=a==null?void 0:a.response)==null?void 0:l.data)==null?void 0:c.error)||"Verification failed.")})},[t,e]),f.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen",children:f.jsxs("div",{className:"bg-white p-8 rounded shadow-md w-full max-w-md text-center",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Newsletter Verification"}),n&&f.jsx("p",{className:"text-green-700 mb-2",children:n}),o&&f.jsx("p",{className:"text-red-600 mb-2",children:o})]})})},ye=_.createContext({}),km=_.createContext({}),kd=_.createContext({}),k6=window.matchMedia("(prefers-color-scheme: dark)").matches,S6=()=>{const[t,e]=_.useState({}),[n,r]=_.useState(()=>k6?"dark":"light"),[o,i]=_.useState([]),[s,a]=_.useState([]);return _.useEffect(()=>{let l=cd("theme");d1(e),l?r(()=>(document.body.setAttribute("data-theme",l),l)):document.body.setAttribute("data-theme",n)},[]),_.useEffect(()=>{console.log("App.jsx: userAuth value:",t)},[t]),_.useEffect(()=>{console.log("Server Domain:","https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev")},[]),f.jsx(km.Provider,{value:{theme:n,setTheme:r},children:f.jsx(ye.Provider,{value:{userAuth:t,setUserAuth:e},children:f.jsxs(kd.Provider,{value:{blogImages:o,setBlogImages:i,categories:s,setCategories:a},children:[f.jsx(KM,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),f.jsx(UC,{children:f.jsxs(Ce,{path:"/",element:f.jsx(_3,{}),children:[f.jsx(Ce,{index:!0,element:f.jsx(RR,{})}),f.jsx(Ce,{path:"editor",element:f.jsx(Rv,{})}),f.jsx(Ce,{path:"editor/:blog_id",element:f.jsx(Rv,{})}),f.jsxs(Ce,{path:"dashboard",element:f.jsx(Xv,{}),children:[f.jsx(Ce,{path:"blogs",element:f.jsx(m6,{})}),f.jsx(Ce,{path:"notification",element:f.jsx(u6,{})})]}),f.jsxs(Ce,{path:"settings",element:f.jsx(Xv,{}),children:[f.jsx(Ce,{path:"edit-profile",element:f.jsx(a6,{})}),f.jsx(Ce,{path:"change-password",element:f.jsx(s6,{})})]}),f.jsx(Ce,{path:"login",element:f.jsx(Su,{type:"login"})}),f.jsx(Ce,{path:"signin",element:f.jsx(Su,{type:"login"})}),f.jsx(Ce,{path:"signup",element:f.jsx(Su,{type:"signup"})}),f.jsx(Ce,{path:"search/:query",element:f.jsx(FR,{})}),f.jsx(Ce,{path:"user/:id",element:f.jsx(HR,{})}),f.jsx(Ce,{path:"blog/:blog_id",element:f.jsx(i6,{})}),f.jsx(Ce,{path:"categories/:categoryName",element:f.jsx(Zv,{})}),f.jsx(Ce,{path:"categories",element:f.jsx(Zv,{})}),f.jsx(Ce,{path:"contact",element:f.jsx(v6,{})}),f.jsx(Ce,{path:"about",element:f.jsx(y6,{})}),f.jsx(Ce,{path:"pages",element:f.jsx(b6,{})}),f.jsx(Ce,{path:"verify-user",element:f.jsx(x6,{})}),f.jsx(Ce,{path:"verify-newsletter",element:f.jsx(w6,{})}),f.jsx(Ce,{path:"*",element:f.jsx(wS,{})})]})})]})})})};Au.createRoot(document.getElementById("root")).render(f.jsx(qC,{children:f.jsx(S6,{})}));
